(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var pf={exports:{}},yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function nR(){if(v0)return yo;v0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return yo.Fragment=e,yo.jsx=n,yo.jsxs=n,yo}var _0;function iR(){return _0||(_0=1,pf.exports=nR()),pf.exports}var b=iR(),gf={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function sR(){if(b0)return ue;b0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function D(A,F,ae){this.props=A,this.context=F,this.refs=C,this.updater=ae||S}D.prototype.isReactComponent={},D.prototype.setState=function(A,F){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,F,"setState")},D.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function N(){}N.prototype=D.prototype;function k(A,F,ae){this.props=A,this.context=F,this.refs=C,this.updater=ae||S}var M=k.prototype=new N;M.constructor=k,x(M,D.prototype),M.isPureReactComponent=!0;var H=Array.isArray,U={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function te(A,F,ae,ie,W,_e){return ae=_e.ref,{$$typeof:t,type:A,key:F,ref:ae!==void 0?ae:null,props:_e}}function $(A,F){return te(A.type,F,void 0,void 0,void 0,A.props)}function q(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function ne(A){var F={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ae){return F[ae]})}var He=/\/+/g;function $t(A,F){return typeof A=="object"&&A!==null&&A.key!=null?ne(""+A.key):F.toString(36)}function Wt(){}function Xt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Wt,Wt):(A.status="pending",A.then(function(F){A.status==="pending"&&(A.status="fulfilled",A.value=F)},function(F){A.status==="pending"&&(A.status="rejected",A.reason=F)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Tt(A,F,ae,ie,W){var _e=typeof A;(_e==="undefined"||_e==="boolean")&&(A=null);var he=!1;if(A===null)he=!0;else switch(_e){case"bigint":case"string":case"number":he=!0;break;case"object":switch(A.$$typeof){case t:case e:he=!0;break;case g:return he=A._init,Tt(he(A._payload),F,ae,ie,W)}}if(he)return W=W(A),he=ie===""?"."+$t(A,0):ie,H(W)?(ae="",he!=null&&(ae=he.replace(He,"$&/")+"/"),Tt(W,F,ae,"",function(Je){return Je})):W!=null&&(q(W)&&(W=$(W,ae+(W.key==null||A&&A.key===W.key?"":(""+W.key).replace(He,"$&/")+"/")+he)),F.push(W)),1;he=0;var wt=ie===""?".":ie+":";if(H(A))for(var Ce=0;Ce<A.length;Ce++)ie=A[Ce],_e=wt+$t(ie,Ce),he+=Tt(ie,F,ae,_e,W);else if(Ce=v(A),typeof Ce=="function")for(A=Ce.call(A),Ce=0;!(ie=A.next()).done;)ie=ie.value,_e=wt+$t(ie,Ce++),he+=Tt(ie,F,ae,_e,W);else if(_e==="object"){if(typeof A.then=="function")return Tt(Xt(A),F,ae,ie,W);throw F=String(A),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return he}function K(A,F,ae){if(A==null)return A;var ie=[],W=0;return Tt(A,ie,"","",function(_e){return F.call(ae,_e,W++)}),ie}function Z(A){if(A._status===-1){var F=A._result;F=F(),F.then(function(ae){(A._status===0||A._status===-1)&&(A._status=1,A._result=ae)},function(ae){(A._status===0||A._status===-1)&&(A._status=2,A._result=ae)}),A._status===-1&&(A._status=0,A._result=F)}if(A._status===1)return A._result.default;throw A._result}var J=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function we(){}return ue.Children={map:K,forEach:function(A,F,ae){K(A,function(){F.apply(this,arguments)},ae)},count:function(A){var F=0;return K(A,function(){F++}),F},toArray:function(A){return K(A,function(F){return F})||[]},only:function(A){if(!q(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ue.Component=D,ue.Fragment=n,ue.Profiler=a,ue.PureComponent=k,ue.StrictMode=s,ue.Suspense=f,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,ue.act=function(){throw Error("act(...) is not supported in production builds of React.")},ue.cache=function(A){return function(){return A.apply(null,arguments)}},ue.cloneElement=function(A,F,ae){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ie=x({},A.props),W=A.key,_e=void 0;if(F!=null)for(he in F.ref!==void 0&&(_e=void 0),F.key!==void 0&&(W=""+F.key),F)!G.call(F,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&F.ref===void 0||(ie[he]=F[he]);var he=arguments.length-2;if(he===1)ie.children=ae;else if(1<he){for(var wt=Array(he),Ce=0;Ce<he;Ce++)wt[Ce]=arguments[Ce+2];ie.children=wt}return te(A.type,W,void 0,void 0,_e,ie)},ue.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:l,_context:A},A},ue.createElement=function(A,F,ae){var ie,W={},_e=null;if(F!=null)for(ie in F.key!==void 0&&(_e=""+F.key),F)G.call(F,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(W[ie]=F[ie]);var he=arguments.length-2;if(he===1)W.children=ae;else if(1<he){for(var wt=Array(he),Ce=0;Ce<he;Ce++)wt[Ce]=arguments[Ce+2];W.children=wt}if(A&&A.defaultProps)for(ie in he=A.defaultProps,he)W[ie]===void 0&&(W[ie]=he[ie]);return te(A,_e,void 0,void 0,null,W)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(A){return{$$typeof:d,render:A}},ue.isValidElement=q,ue.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:Z}},ue.memo=function(A,F){return{$$typeof:m,type:A,compare:F===void 0?null:F}},ue.startTransition=function(A){var F=U.T,ae={};U.T=ae;try{var ie=A(),W=U.S;W!==null&&W(ae,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(we,J)}catch(_e){J(_e)}finally{U.T=F}},ue.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},ue.use=function(A){return U.H.use(A)},ue.useActionState=function(A,F,ae){return U.H.useActionState(A,F,ae)},ue.useCallback=function(A,F){return U.H.useCallback(A,F)},ue.useContext=function(A){return U.H.useContext(A)},ue.useDebugValue=function(){},ue.useDeferredValue=function(A,F){return U.H.useDeferredValue(A,F)},ue.useEffect=function(A,F){return U.H.useEffect(A,F)},ue.useId=function(){return U.H.useId()},ue.useImperativeHandle=function(A,F,ae){return U.H.useImperativeHandle(A,F,ae)},ue.useInsertionEffect=function(A,F){return U.H.useInsertionEffect(A,F)},ue.useLayoutEffect=function(A,F){return U.H.useLayoutEffect(A,F)},ue.useMemo=function(A,F){return U.H.useMemo(A,F)},ue.useOptimistic=function(A,F){return U.H.useOptimistic(A,F)},ue.useReducer=function(A,F,ae){return U.H.useReducer(A,F,ae)},ue.useRef=function(A){return U.H.useRef(A)},ue.useState=function(A){return U.H.useState(A)},ue.useSyncExternalStore=function(A,F,ae){return U.H.useSyncExternalStore(A,F,ae)},ue.useTransition=function(){return U.H.useTransition()},ue.version="19.0.0",ue}var E0;function Fm(){return E0||(E0=1,gf.exports=sR()),gf.exports}var w=Fm(),yf={exports:{}},vo={},vf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function rR(){return S0||(S0=1,function(t){function e(K,Z){var J=K.length;K.push(Z);e:for(;0<J;){var we=J-1>>>1,A=K[we];if(0<a(A,Z))K[we]=Z,K[J]=A,J=we;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var Z=K[0],J=K.pop();if(J!==Z){K[0]=J;e:for(var we=0,A=K.length,F=A>>>1;we<F;){var ae=2*(we+1)-1,ie=K[ae],W=ae+1,_e=K[W];if(0>a(ie,J))W<A&&0>a(_e,ie)?(K[we]=_e,K[W]=J,we=W):(K[we]=ie,K[ae]=J,we=ae);else if(W<A&&0>a(_e,J))K[we]=_e,K[W]=J,we=W;else break e}}return Z}function a(K,Z){var J=K.sortIndex-Z.sortIndex;return J!==0?J:K.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],m=[],g=1,y=null,v=3,S=!1,x=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function M(K){for(var Z=n(m);Z!==null;){if(Z.callback===null)s(m);else if(Z.startTime<=K)s(m),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=n(m)}}function H(K){if(C=!1,M(K),!x)if(n(f)!==null)x=!0,Xt();else{var Z=n(m);Z!==null&&Tt(H,Z.startTime-K)}}var U=!1,G=-1,te=5,$=-1;function q(){return!(t.unstable_now()-$<te)}function ne(){if(U){var K=t.unstable_now();$=K;var Z=!0;try{e:{x=!1,C&&(C=!1,N(G),G=-1),S=!0;var J=v;try{t:{for(M(K),y=n(f);y!==null&&!(y.expirationTime>K&&q());){var we=y.callback;if(typeof we=="function"){y.callback=null,v=y.priorityLevel;var A=we(y.expirationTime<=K);if(K=t.unstable_now(),typeof A=="function"){y.callback=A,M(K),Z=!0;break t}y===n(f)&&s(f),M(K)}else s(f);y=n(f)}if(y!==null)Z=!0;else{var F=n(m);F!==null&&Tt(H,F.startTime-K),Z=!1}}break e}finally{y=null,v=J,S=!1}Z=void 0}}finally{Z?He():U=!1}}}var He;if(typeof k=="function")He=function(){k(ne)};else if(typeof MessageChannel<"u"){var $t=new MessageChannel,Wt=$t.port2;$t.port1.onmessage=ne,He=function(){Wt.postMessage(null)}}else He=function(){D(ne,0)};function Xt(){U||(U=!0,He())}function Tt(K,Z){G=D(function(){K(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){x||S||(x=!0,Xt())},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(K){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var J=v;v=Z;try{return K()}finally{v=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var J=v;v=K;try{return Z()}finally{v=J}},t.unstable_scheduleCallback=function(K,Z,J){var we=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?we+J:we):J=we,K){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=J+A,K={id:g++,callback:Z,priorityLevel:K,startTime:J,expirationTime:A,sortIndex:-1},J>we?(K.sortIndex=J,e(m,K),n(f)===null&&K===n(m)&&(C?(N(G),G=-1):C=!0,Tt(H,J-we))):(K.sortIndex=A,e(f,K),x||S||(x=!0,Xt())),K},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(K){var Z=v;return function(){var J=v;v=Z;try{return K.apply(this,arguments)}finally{v=J}}}}(_f)),_f}var x0;function aR(){return x0||(x0=1,vf.exports=rR()),vf.exports}var bf={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function oR(){if(T0)return bt;T0=1;var t=Fm();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bt.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,g)},bt.flushSync=function(f){var m=u.T,g=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=m,s.p=g,s.d.f()}},bt.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(f,m))},bt.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},bt.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:S}):g==="script"&&s.d.X(f,{crossOrigin:y,integrity:v,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},bt.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);s.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(f)},bt.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin);s.d.L(f,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},bt.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=d(m.as,m.crossOrigin);s.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(f)},bt.requestFormReset=function(f){s.d.r(f)},bt.unstable_batchedUpdates=function(f,m){return f(m)},bt.useFormState=function(f,m,g){return u.H.useFormState(f,m,g)},bt.useFormStatus=function(){return u.H.useHostTransitionStatus()},bt.version="19.0.0",bt}var w0;function lR(){if(w0)return bf.exports;w0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bf.exports=oR(),bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function cR(){if(C0)return vo;C0=1;var t=aR(),e=Fm(),n=lR();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),S=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var te=Symbol.for("react.client.reference");function $(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===te?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case d:return"Portal";case g:return"Profiler";case m:return"StrictMode";case C:return"Suspense";case D:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case S:return(i.displayName||"Context")+".Provider";case v:return(i._context.displayName||"Context")+".Consumer";case x:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:$(i.type)||"Memo";case k:r=i._payload,i=i._init;try{return $(i(r))}catch{}}return null}var q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=Object.assign,He,$t;function Wt(i){if(He===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);He=r&&r[1]||"",$t=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+i+$t}var Xt=!1;function Tt(i,r){if(!i||Xt)return"";Xt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(j){var P=j}Reflect.construct(i,[],z)}else{try{z.call()}catch(j){P=j}i.call(z.prototype)}}else{try{throw Error()}catch(j){P=j}(z=i())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(j){if(j&&P&&typeof j.stack=="string")return[j.stack,P.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),_=p[0],E=p[1];if(_&&E){var T=_.split(`
`),O=E.split(`
`);for(h=c=0;c<T.length&&!T[c].includes("DetermineComponentFrameRoot");)c++;for(;h<O.length&&!O[h].includes("DetermineComponentFrameRoot");)h++;if(c===T.length||h===O.length)for(c=T.length-1,h=O.length-1;1<=c&&0<=h&&T[c]!==O[h];)h--;for(;1<=c&&0<=h;c--,h--)if(T[c]!==O[h]){if(c!==1||h!==1)do if(c--,h--,0>h||T[c]!==O[h]){var V=`
`+T[c].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=c&&0<=h);break}}}finally{Xt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Wt(o):""}function K(i){switch(i.tag){case 26:case 27:case 5:return Wt(i.type);case 16:return Wt("Lazy");case 13:return Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return i=Tt(i.type,!1),i;case 11:return i=Tt(i.type.render,!1),i;case 1:return i=Tt(i.type,!0),i;default:return""}}function Z(i){try{var r="";do r+=K(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function J(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,r.flags&4098&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function we(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function A(i){if(J(i)!==i)throw Error(s(188))}function F(i){var r=i.alternate;if(!r){if(r=J(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return A(h),i;if(p===c)return A(h),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=h,c=p;else{for(var _=!1,E=h.child;E;){if(E===o){_=!0,o=h,c=p;break}if(E===c){_=!0,c=h,o=p;break}E=E.sibling}if(!_){for(E=p.child;E;){if(E===o){_=!0,o=p,c=h;break}if(E===c){_=!0,c=p,o=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function ae(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=ae(i),r!==null)return r;i=i.sibling}return null}var ie=Array.isArray,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},he=[],wt=-1;function Ce(i){return{current:i}}function Je(i){0>wt||(i.current=he[wt],he[wt]=null,wt--)}function Ue(i,r){wt++,he[wt]=i.current,i.current=r}var wn=Ce(null),_a=Ce(null),_i=Ce(null),xl=Ce(null);function Tl(i,r){switch(Ue(_i,r),Ue(_a,i),Ue(wn,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?K_(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=K_(i),r=$_(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Je(wn),Ue(wn,r)}function nr(){Je(wn),Je(_a),Je(_i)}function rh(i){i.memoizedState!==null&&Ue(xl,i);var r=wn.current,o=$_(r,i.type);r!==o&&(Ue(_a,i),Ue(wn,o))}function wl(i){_a.current===i&&(Je(wn),Je(_a)),xl.current===i&&(Je(xl),ho._currentValue=_e)}var ah=Object.prototype.hasOwnProperty,oh=t.unstable_scheduleCallback,lh=t.unstable_cancelCallback,M1=t.unstable_shouldYield,L1=t.unstable_requestPaint,Cn=t.unstable_now,P1=t.unstable_getCurrentPriorityLevel,Pg=t.unstable_ImmediatePriority,Ug=t.unstable_UserBlockingPriority,Cl=t.unstable_NormalPriority,U1=t.unstable_LowPriority,jg=t.unstable_IdlePriority,j1=t.log,V1=t.unstable_setDisableYieldValue,ba=null,Bt=null;function B1(i){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(ba,i,void 0,(i.current.flags&128)===128)}catch{}}function bi(i){if(typeof j1=="function"&&V1(i),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(ba,i)}catch{}}var zt=Math.clz32?Math.clz32:F1,z1=Math.log,H1=Math.LN2;function F1(i){return i>>>=0,i===0?32:31-(z1(i)/H1|0)|0}var Al=128,Rl=4194304;function cs(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Nl(i,r){var o=i.pendingLanes;if(o===0)return 0;var c=0,h=i.suspendedLanes,p=i.pingedLanes,_=i.warmLanes;i=i.finishedLanes!==0;var E=o&134217727;return E!==0?(o=E&~h,o!==0?c=cs(o):(p&=E,p!==0?c=cs(p):i||(_=E&~_,_!==0&&(c=cs(_))))):(E=o&~h,E!==0?c=cs(E):p!==0?c=cs(p):i||(_=o&~_,_!==0&&(c=cs(_)))),c===0?0:r!==0&&r!==c&&!(r&h)&&(h=c&-c,_=r&-r,h>=_||h===32&&(_&4194176)!==0)?r:c}function Ea(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function q1(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vg(){var i=Al;return Al<<=1,!(Al&4194176)&&(Al=128),i}function Bg(){var i=Rl;return Rl<<=1,!(Rl&62914560)&&(Rl=4194304),i}function ch(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Sa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function G1(i,r,o,c,h,p){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,T=i.expirationTimes,O=i.hiddenUpdates;for(o=_&~o;0<o;){var V=31-zt(o),z=1<<V;E[V]=0,T[V]=-1;var P=O[V];if(P!==null)for(O[V]=null,V=0;V<P.length;V++){var j=P[V];j!==null&&(j.lane&=-536870913)}o&=~z}c!==0&&zg(i,c,0),p!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=p&~(_&~r))}function zg(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-zt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194218}function Hg(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-zt(o),h=1<<c;h&r|i[c]&r&&(i[c]|=r),o&=~h}}function Fg(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function qg(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:d0(i.type))}function Y1(i,r){var o=W.p;try{return W.p=i,r()}finally{W.p=o}}var Ei=Math.random().toString(36).slice(2),vt="__reactFiber$"+Ei,It="__reactProps$"+Ei,ir="__reactContainer$"+Ei,uh="__reactEvents$"+Ei,K1="__reactListeners$"+Ei,$1="__reactHandles$"+Ei,Gg="__reactResources$"+Ei,xa="__reactMarker$"+Ei;function hh(i){delete i[vt],delete i[It],delete i[uh],delete i[K1],delete i[$1]}function us(i){var r=i[vt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[ir]||o[vt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Q_(i);i!==null;){if(o=i[vt])return o;i=Q_(i)}return r}i=o,o=i.parentNode}return null}function sr(i){if(i=i[vt]||i[ir]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Ta(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function rr(i){var r=i[Gg];return r||(r=i[Gg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function at(i){i[xa]=!0}var Yg=new Set,Kg={};function hs(i,r){ar(i,r),ar(i+"Capture",r)}function ar(i,r){for(Kg[i]=r,i=0;i<r.length;i++)Yg.add(r[i])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$g={},Wg={};function X1(i){return ah.call(Wg,i)?!0:ah.call($g,i)?!1:W1.test(i)?Wg[i]=!0:($g[i]=!0,!1)}function Dl(i,r,o){if(X1(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Ol(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function zn(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Xg(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Q1(i){var r=Xg(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),c=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function kl(i){i._valueTracker||(i._valueTracker=Q1(i))}function Qg(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Xg(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Il(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Z1=/[\n"\\]/g;function Zt(i){return i.replace(Z1,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function dh(i,r,o,c,h,p,_,E){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Qt(r)):i.value!==""+Qt(r)&&(i.value=""+Qt(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?fh(i,_,Qt(r)):o!=null?fh(i,_,Qt(o)):c!=null&&i.removeAttribute("value"),h==null&&p!=null&&(i.defaultChecked=!!p),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+Qt(E):i.removeAttribute("name")}function Zg(i,r,o,c,h,p,_,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+Qt(o):"",r=r!=null?""+Qt(r):o,E||r===i.value||(i.value=r),i.defaultValue=r}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=E?i.checked:!!c,i.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_)}function fh(i,r,o){r==="number"&&Il(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function or(i,r,o,c){if(i=i.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<i.length;o++)h=r.hasOwnProperty("$"+i[o].value),i[o].selected!==h&&(i[o].selected=h),h&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Qt(o),r=null,h=0;h<i.length;h++){if(i[h].value===o){i[h].selected=!0,c&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function Jg(i,r,o){if(r!=null&&(r=""+Qt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Qt(o):""}function ey(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(ie(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Qt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function lr(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var J1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ty(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||J1.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function ny(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var h in r)c=r[h],r.hasOwnProperty(h)&&o[h]!==c&&ty(i,h,c)}else for(var p in r)r.hasOwnProperty(p)&&ty(i,p,r[p])}function mh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ml(i){return tC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ph=null;function gh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var cr=null,ur=null;function iy(i){var r=sr(i);if(r&&(i=r.stateNode)){var o=i[It]||null;e:switch(i=r.stateNode,r.type){case"input":if(dh(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Zt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var h=c[It]||null;if(!h)throw Error(s(90));dh(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Qg(c)}break e;case"textarea":Jg(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&or(i,!!o.multiple,r,!1)}}}var yh=!1;function sy(i,r,o){if(yh)return i(r,o);yh=!0;try{var c=i(r);return c}finally{if(yh=!1,(cr!==null||ur!==null)&&(yc(),cr&&(r=cr,i=ur,ur=cr=null,iy(r),i)))for(r=0;r<i.length;r++)iy(i[r])}}function wa(i,r){var o=i.stateNode;if(o===null)return null;var c=o[It]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var vh=!1;if(Bn)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){vh=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{vh=!1}var Si=null,_h=null,Ll=null;function ry(){if(Ll)return Ll;var i,r=_h,o=r.length,c,h="value"in Si?Si.value:Si.textContent,p=h.length;for(i=0;i<o&&r[i]===h[i];i++);var _=o-i;for(c=1;c<=_&&r[o-c]===h[p-c];c++);return Ll=h.slice(i,1<c?1-c:void 0)}function Pl(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ul(){return!0}function ay(){return!1}function Mt(i){function r(o,c,h,p,_){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ul:ay,this.isPropagationStopped=ay,this}return ne(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),r}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Mt(ds),Aa=ne({},ds,{view:0,detail:0}),nC=Mt(Aa),bh,Eh,Ra,Vl=ne({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ra&&(Ra&&i.type==="mousemove"?(bh=i.screenX-Ra.screenX,Eh=i.screenY-Ra.screenY):Eh=bh=0,Ra=i),bh)},movementY:function(i){return"movementY"in i?i.movementY:Eh}}),oy=Mt(Vl),iC=ne({},Vl,{dataTransfer:0}),sC=Mt(iC),rC=ne({},Aa,{relatedTarget:0}),Sh=Mt(rC),aC=ne({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),oC=Mt(aC),lC=ne({},ds,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),cC=Mt(lC),uC=ne({},ds,{data:0}),ly=Mt(uC),hC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mC(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=fC[i])?!!r[i]:!1}function xh(){return mC}var pC=ne({},Aa,{key:function(i){if(i.key){var r=hC[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Pl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?dC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xh,charCode:function(i){return i.type==="keypress"?Pl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Pl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),gC=Mt(pC),yC=ne({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cy=Mt(yC),vC=ne({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xh}),_C=Mt(vC),bC=ne({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),EC=Mt(bC),SC=ne({},Vl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),xC=Mt(SC),TC=ne({},ds,{newState:0,oldState:0}),wC=Mt(TC),CC=[9,13,27,32],Th=Bn&&"CompositionEvent"in window,Na=null;Bn&&"documentMode"in document&&(Na=document.documentMode);var AC=Bn&&"TextEvent"in window&&!Na,uy=Bn&&(!Th||Na&&8<Na&&11>=Na),hy=" ",dy=!1;function fy(i,r){switch(i){case"keyup":return CC.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function my(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var hr=!1;function RC(i,r){switch(i){case"compositionend":return my(r);case"keypress":return r.which!==32?null:(dy=!0,hy);case"textInput":return i=r.data,i===hy&&dy?null:i;default:return null}}function NC(i,r){if(hr)return i==="compositionend"||!Th&&fy(i,r)?(i=ry(),Ll=_h=Si=null,hr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return uy&&r.locale!=="ko"?null:r.data;default:return null}}var DC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function py(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!DC[i.type]:r==="textarea"}function gy(i,r,o,c){cr?ur?ur.push(c):ur=[c]:cr=c,r=Sc(r,"onChange"),0<r.length&&(o=new jl("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Da=null,Oa=null;function OC(i){H_(i,0)}function Bl(i){var r=Ta(i);if(Qg(r))return i}function yy(i,r){if(i==="change")return r}var vy=!1;if(Bn){var wh;if(Bn){var Ch="oninput"in document;if(!Ch){var _y=document.createElement("div");_y.setAttribute("oninput","return;"),Ch=typeof _y.oninput=="function"}wh=Ch}else wh=!1;vy=wh&&(!document.documentMode||9<document.documentMode)}function by(){Da&&(Da.detachEvent("onpropertychange",Ey),Oa=Da=null)}function Ey(i){if(i.propertyName==="value"&&Bl(Oa)){var r=[];gy(r,Oa,i,gh(i)),sy(OC,r)}}function kC(i,r,o){i==="focusin"?(by(),Da=r,Oa=o,Da.attachEvent("onpropertychange",Ey)):i==="focusout"&&by()}function IC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bl(Oa)}function MC(i,r){if(i==="click")return Bl(r)}function LC(i,r){if(i==="input"||i==="change")return Bl(r)}function PC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ht=typeof Object.is=="function"?Object.is:PC;function ka(i,r){if(Ht(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!ah.call(r,h)||!Ht(i[h],r[h]))return!1}return!0}function Sy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function xy(i,r){var o=Sy(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Sy(o)}}function Ty(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Ty(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function wy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Il(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Il(i.document)}return r}function Ah(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function UC(i,r){var o=wy(r);r=i.focusedElem;var c=i.selectionRange;if(o!==r&&r&&r.ownerDocument&&Ty(r.ownerDocument.documentElement,r)){if(c!==null&&Ah(r)){if(i=c.start,o=c.end,o===void 0&&(o=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(o,r.value.length);else if(o=(i=r.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var h=r.textContent.length,p=Math.min(c.start,h);c=c.end===void 0?p:Math.min(c.end,h),!o.extend&&p>c&&(h=c,c=p,p=h),h=xy(r,p);var _=xy(r,c);h&&_&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==_.node||o.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),o.removeAllRanges(),p>c?(o.addRange(i),o.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),o.addRange(i)))}}for(i=[],o=r;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)o=i[r],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var jC=Bn&&"documentMode"in document&&11>=document.documentMode,dr=null,Rh=null,Ia=null,Nh=!1;function Cy(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nh||dr==null||dr!==Il(c)||(c=dr,"selectionStart"in c&&Ah(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ia&&ka(Ia,c)||(Ia=c,c=Sc(Rh,"onSelect"),0<c.length&&(r=new jl("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=dr)))}function fs(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var fr={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},Dh={},Ay={};Bn&&(Ay=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function ms(i){if(Dh[i])return Dh[i];if(!fr[i])return i;var r=fr[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ay)return Dh[i]=r[o];return i}var Ry=ms("animationend"),Ny=ms("animationiteration"),Dy=ms("animationstart"),VC=ms("transitionrun"),BC=ms("transitionstart"),zC=ms("transitioncancel"),Oy=ms("transitionend"),ky=new Map,Iy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function fn(i,r){ky.set(i,r),hs(r,[i])}var Jt=[],mr=0,Oh=0;function zl(){for(var i=mr,r=Oh=mr=0;r<i;){var o=Jt[r];Jt[r++]=null;var c=Jt[r];Jt[r++]=null;var h=Jt[r];Jt[r++]=null;var p=Jt[r];if(Jt[r++]=null,c!==null&&h!==null){var _=c.pending;_===null?h.next=h:(h.next=_.next,_.next=h),c.pending=h}p!==0&&My(o,h,p)}}function Hl(i,r,o,c){Jt[mr++]=i,Jt[mr++]=r,Jt[mr++]=o,Jt[mr++]=c,Oh|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function kh(i,r,o,c){return Hl(i,r,o,c),Fl(i)}function xi(i,r){return Hl(i,null,null,r),Fl(i)}function My(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var h=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(h=!0)),i=p,p=p.return;h&&r!==null&&i.tag===3&&(p=i.stateNode,h=31-zt(o),p=p.hiddenUpdates,i=p[h],i===null?p[h]=[r]:i.push(r),r.lane=o|536870912)}function Fl(i){if(50<so)throw so=0,jd=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var pr={},Ly=new WeakMap;function en(i,r){if(typeof i=="object"&&i!==null){var o=Ly.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Z(r)},Ly.set(i,r),r)}return{value:i,source:r,stack:Z(r)}}var gr=[],yr=0,ql=null,Gl=0,tn=[],nn=0,ps=null,Hn=1,Fn="";function gs(i,r){gr[yr++]=Gl,gr[yr++]=ql,ql=i,Gl=r}function Py(i,r,o){tn[nn++]=Hn,tn[nn++]=Fn,tn[nn++]=ps,ps=i;var c=Hn;i=Fn;var h=32-zt(c)-1;c&=~(1<<h),o+=1;var p=32-zt(r)+h;if(30<p){var _=h-h%5;p=(c&(1<<_)-1).toString(32),c>>=_,h-=_,Hn=1<<32-zt(r)+h|o<<h|c,Fn=p+i}else Hn=1<<p|o<<h|c,Fn=i}function Ih(i){i.return!==null&&(gs(i,1),Py(i,1,0))}function Mh(i){for(;i===ql;)ql=gr[--yr],gr[yr]=null,Gl=gr[--yr],gr[yr]=null;for(;i===ps;)ps=tn[--nn],tn[nn]=null,Fn=tn[--nn],tn[nn]=null,Hn=tn[--nn],tn[nn]=null}var Ct=null,ft=null,Se=!1,mn=null,An=!1,Lh=Error(s(519));function ys(i){var r=Error(s(418,""));throw Pa(en(r,i)),Lh}function Uy(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[vt]=i,r[It]=c,o){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(o=0;o<ao.length;o++)ve(ao[o],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":ve("invalid",r),Zg(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),kl(r);break;case"select":ve("invalid",r);break;case"textarea":ve("invalid",r),ey(r,c.value,c.defaultValue,c.children),kl(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Y_(r.textContent,o)?(c.popover!=null&&(ve("beforetoggle",r),ve("toggle",r)),c.onScroll!=null&&ve("scroll",r),c.onScrollEnd!=null&&ve("scrollend",r),c.onClick!=null&&(r.onclick=xc),r=!0):r=!1,r||ys(i)}function jy(i){for(Ct=i.return;Ct;)switch(Ct.tag){case 3:case 27:An=!0;return;case 5:case 13:An=!1;return;default:Ct=Ct.return}}function Ma(i){if(i!==Ct)return!1;if(!Se)return jy(i),Se=!0,!1;var r=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||tf(i.type,i.memoizedProps)),o=!o),o&&(r=!0),r&&ft&&ys(i),jy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){ft=gn(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}ft=null}}else ft=Ct?gn(i.stateNode.nextSibling):null;return!0}function La(){ft=Ct=null,Se=!1}function Pa(i){mn===null?mn=[i]:mn.push(i)}var Ua=Error(s(460)),Vy=Error(s(474)),Ph={then:function(){}};function By(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yl(){}function zy(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Yl,Yl),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Ua?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Yl,Yl);else{if(i=ke,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=c}},function(c){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Ua?Error(s(483)):i}throw ja=r,Ua}}var ja=null;function Hy(){if(ja===null)throw Error(s(459));var i=ja;return ja=null,i}var vr=null,Va=0;function Kl(i){var r=Va;return Va+=1,vr===null&&(vr=[]),zy(vr,i,r)}function Ba(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function $l(i,r){throw r.$$typeof===l?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Fy(i){var r=i._init;return r(i._payload)}function qy(i){function r(I,R){if(i){var L=I.deletions;L===null?(I.deletions=[R],I.flags|=16):L.push(R)}}function o(I,R){if(!i)return null;for(;R!==null;)r(I,R),R=R.sibling;return null}function c(I){for(var R=new Map;I!==null;)I.key!==null?R.set(I.key,I):R.set(I.index,I),I=I.sibling;return R}function h(I,R){return I=Li(I,R),I.index=0,I.sibling=null,I}function p(I,R,L){return I.index=L,i?(L=I.alternate,L!==null?(L=L.index,L<R?(I.flags|=33554434,R):L):(I.flags|=33554434,R)):(I.flags|=1048576,R)}function _(I){return i&&I.alternate===null&&(I.flags|=33554434),I}function E(I,R,L,B){return R===null||R.tag!==6?(R=Dd(L,I.mode,B),R.return=I,R):(R=h(R,L),R.return=I,R)}function T(I,R,L,B){var X=L.type;return X===f?V(I,R,L.props.children,B,L.key):R!==null&&(R.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===k&&Fy(X)===R.type)?(R=h(R,L.props),Ba(R,L),R.return=I,R):(R=dc(L.type,L.key,L.props,null,I.mode,B),Ba(R,L),R.return=I,R)}function O(I,R,L,B){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=Od(L,I.mode,B),R.return=I,R):(R=h(R,L.children||[]),R.return=I,R)}function V(I,R,L,B,X){return R===null||R.tag!==7?(R=As(L,I.mode,B,X),R.return=I,R):(R=h(R,L),R.return=I,R)}function z(I,R,L){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Dd(""+R,I.mode,L),R.return=I,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case u:return L=dc(R.type,R.key,R.props,null,I.mode,L),Ba(L,R),L.return=I,L;case d:return R=Od(R,I.mode,L),R.return=I,R;case k:var B=R._init;return R=B(R._payload),z(I,R,L)}if(ie(R)||G(R))return R=As(R,I.mode,L,null),R.return=I,R;if(typeof R.then=="function")return z(I,Kl(R),L);if(R.$$typeof===S)return z(I,cc(I,R),L);$l(I,R)}return null}function P(I,R,L,B){var X=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return X!==null?null:E(I,R,""+L,B);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case u:return L.key===X?T(I,R,L,B):null;case d:return L.key===X?O(I,R,L,B):null;case k:return X=L._init,L=X(L._payload),P(I,R,L,B)}if(ie(L)||G(L))return X!==null?null:V(I,R,L,B,null);if(typeof L.then=="function")return P(I,R,Kl(L),B);if(L.$$typeof===S)return P(I,R,cc(I,L),B);$l(I,L)}return null}function j(I,R,L,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return I=I.get(L)||null,E(R,I,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case u:return I=I.get(B.key===null?L:B.key)||null,T(R,I,B,X);case d:return I=I.get(B.key===null?L:B.key)||null,O(R,I,B,X);case k:var fe=B._init;return B=fe(B._payload),j(I,R,L,B,X)}if(ie(B)||G(B))return I=I.get(L)||null,V(R,I,B,X,null);if(typeof B.then=="function")return j(I,R,L,Kl(B),X);if(B.$$typeof===S)return j(I,R,L,cc(R,B),X);$l(R,B)}return null}function Q(I,R,L,B){for(var X=null,fe=null,ee=R,se=R=0,ct=null;ee!==null&&se<L.length;se++){ee.index>se?(ct=ee,ee=null):ct=ee.sibling;var xe=P(I,ee,L[se],B);if(xe===null){ee===null&&(ee=ct);break}i&&ee&&xe.alternate===null&&r(I,ee),R=p(xe,R,se),fe===null?X=xe:fe.sibling=xe,fe=xe,ee=ct}if(se===L.length)return o(I,ee),Se&&gs(I,se),X;if(ee===null){for(;se<L.length;se++)ee=z(I,L[se],B),ee!==null&&(R=p(ee,R,se),fe===null?X=ee:fe.sibling=ee,fe=ee);return Se&&gs(I,se),X}for(ee=c(ee);se<L.length;se++)ct=j(ee,I,se,L[se],B),ct!==null&&(i&&ct.alternate!==null&&ee.delete(ct.key===null?se:ct.key),R=p(ct,R,se),fe===null?X=ct:fe.sibling=ct,fe=ct);return i&&ee.forEach(function(Hi){return r(I,Hi)}),Se&&gs(I,se),X}function ce(I,R,L,B){if(L==null)throw Error(s(151));for(var X=null,fe=null,ee=R,se=R=0,ct=null,xe=L.next();ee!==null&&!xe.done;se++,xe=L.next()){ee.index>se?(ct=ee,ee=null):ct=ee.sibling;var Hi=P(I,ee,xe.value,B);if(Hi===null){ee===null&&(ee=ct);break}i&&ee&&Hi.alternate===null&&r(I,ee),R=p(Hi,R,se),fe===null?X=Hi:fe.sibling=Hi,fe=Hi,ee=ct}if(xe.done)return o(I,ee),Se&&gs(I,se),X;if(ee===null){for(;!xe.done;se++,xe=L.next())xe=z(I,xe.value,B),xe!==null&&(R=p(xe,R,se),fe===null?X=xe:fe.sibling=xe,fe=xe);return Se&&gs(I,se),X}for(ee=c(ee);!xe.done;se++,xe=L.next())xe=j(ee,I,se,xe.value,B),xe!==null&&(i&&xe.alternate!==null&&ee.delete(xe.key===null?se:xe.key),R=p(xe,R,se),fe===null?X=xe:fe.sibling=xe,fe=xe);return i&&ee.forEach(function(tR){return r(I,tR)}),Se&&gs(I,se),X}function Ge(I,R,L,B){if(typeof L=="object"&&L!==null&&L.type===f&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case u:e:{for(var X=L.key;R!==null;){if(R.key===X){if(X=L.type,X===f){if(R.tag===7){o(I,R.sibling),B=h(R,L.props.children),B.return=I,I=B;break e}}else if(R.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===k&&Fy(X)===R.type){o(I,R.sibling),B=h(R,L.props),Ba(B,L),B.return=I,I=B;break e}o(I,R);break}else r(I,R);R=R.sibling}L.type===f?(B=As(L.props.children,I.mode,B,L.key),B.return=I,I=B):(B=dc(L.type,L.key,L.props,null,I.mode,B),Ba(B,L),B.return=I,I=B)}return _(I);case d:e:{for(X=L.key;R!==null;){if(R.key===X)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){o(I,R.sibling),B=h(R,L.children||[]),B.return=I,I=B;break e}else{o(I,R);break}else r(I,R);R=R.sibling}B=Od(L,I.mode,B),B.return=I,I=B}return _(I);case k:return X=L._init,L=X(L._payload),Ge(I,R,L,B)}if(ie(L))return Q(I,R,L,B);if(G(L)){if(X=G(L),typeof X!="function")throw Error(s(150));return L=X.call(L),ce(I,R,L,B)}if(typeof L.then=="function")return Ge(I,R,Kl(L),B);if(L.$$typeof===S)return Ge(I,R,cc(I,L),B);$l(I,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,R!==null&&R.tag===6?(o(I,R.sibling),B=h(R,L),B.return=I,I=B):(o(I,R),B=Dd(L,I.mode,B),B.return=I,I=B),_(I)):o(I,R)}return function(I,R,L,B){try{Va=0;var X=Ge(I,R,L,B);return vr=null,X}catch(ee){if(ee===Ua)throw ee;var fe=on(29,ee,null,I.mode);return fe.lanes=B,fe.return=I,fe}finally{}}}var vs=qy(!0),Gy=qy(!1),_r=Ce(null),Wl=Ce(0);function Yy(i,r){i=ei,Ue(Wl,i),Ue(_r,r),ei=i|r.baseLanes}function Uh(){Ue(Wl,ei),Ue(_r,_r.current)}function jh(){ei=Wl.current,Je(_r),Je(Wl)}var sn=Ce(null),Rn=null;function Ti(i){var r=i.alternate;Ue(it,it.current&1),Ue(sn,i),Rn===null&&(r===null||_r.current!==null||r.memoizedState!==null)&&(Rn=i)}function Ky(i){if(i.tag===22){if(Ue(it,it.current),Ue(sn,i),Rn===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Rn=i)}}else wi()}function wi(){Ue(it,it.current),Ue(sn,sn.current)}function qn(i){Je(sn),Rn===i&&(Rn=null),Je(it)}var it=Ce(0);function Xl(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var HC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},FC=t.unstable_scheduleCallback,qC=t.unstable_NormalPriority,st={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new HC,data:new Map,refCount:0}}function za(i){i.refCount--,i.refCount===0&&FC(qC,function(){i.controller.abort()})}var Ha=null,Bh=0,br=0,Er=null;function GC(i,r){if(Ha===null){var o=Ha=[];Bh=0,br=Yd(),Er={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Bh++,r.then($y,$y),r}function $y(){if(--Bh===0&&Ha!==null){Er!==null&&(Er.status="fulfilled");var i=Ha;Ha=null,br=0,Er=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function YC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var h=0;h<o.length;h++)(0,o[h])(r)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var Wy=q.S;q.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&GC(i,r),Wy!==null&&Wy(i,r)};var _s=Ce(null);function zh(){var i=_s.current;return i!==null?i:ke.pooledCache}function Ql(i,r){r===null?Ue(_s,_s.current):Ue(_s,r.pool)}function Xy(){var i=zh();return i===null?null:{parent:st._currentValue,pool:i}}var Ci=0,de=null,Ae=null,et=null,Zl=!1,Sr=!1,bs=!1,Jl=0,Fa=0,xr=null,KC=0;function Xe(){throw Error(s(321))}function Hh(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Ht(i[o],r[o]))return!1;return!0}function Fh(i,r,o,c,h,p){return Ci=p,de=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=i===null||i.memoizedState===null?Es:Ai,bs=!1,p=o(c,h),bs=!1,Sr&&(p=Zy(r,o,c,h)),Qy(i),p}function Qy(i){q.H=Nn;var r=Ae!==null&&Ae.next!==null;if(Ci=0,et=Ae=de=null,Zl=!1,Fa=0,xr=null,r)throw Error(s(300));i===null||ot||(i=i.dependencies,i!==null&&lc(i)&&(ot=!0))}function Zy(i,r,o,c){de=i;var h=0;do{if(Sr&&(xr=null),Fa=0,Sr=!1,25<=h)throw Error(s(301));if(h+=1,et=Ae=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}q.H=Ss,p=r(o,c)}while(Sr);return p}function $C(){var i=q.H,r=i.useState()[0];return r=typeof r.then=="function"?qa(r):r,i=i.useState()[0],(Ae!==null?Ae.memoizedState:null)!==i&&(de.flags|=1024),r}function qh(){var i=Jl!==0;return Jl=0,i}function Gh(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Yh(i){if(Zl){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Zl=!1}Ci=0,et=Ae=de=null,Sr=!1,Fa=Jl=0,xr=null}function Lt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?de.memoizedState=et=i:et=et.next=i,et}function tt(){if(Ae===null){var i=de.alternate;i=i!==null?i.memoizedState:null}else i=Ae.next;var r=et===null?de.memoizedState:et.next;if(r!==null)et=r,Ae=i;else{if(i===null)throw de.alternate===null?Error(s(467)):Error(s(310));Ae=i,i={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},et===null?de.memoizedState=et=i:et=et.next=i}return et}var ec;ec=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function qa(i){var r=Fa;return Fa+=1,xr===null&&(xr=[]),i=zy(xr,i,r),r=de,(et===null?r.memoizedState:et.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?Es:Ai),i}function tc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return qa(i);if(i.$$typeof===S)return _t(i)}throw Error(s(438,String(i)))}function Kh(i){var r=null,o=de.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=de.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=ec(),de.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=H;return r.index++,o}function Gn(i,r){return typeof r=="function"?r(i):r}function nc(i){var r=tt();return $h(r,Ae,i)}function $h(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var h=i.baseQueue,p=c.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}r.baseQueue=h=p,c.pending=null}if(p=i.baseState,h===null)i.memoizedState=p;else{r=h.next;var E=_=null,T=null,O=r,V=!1;do{var z=O.lane&-536870913;if(z!==O.lane?(be&z)===z:(Ci&z)===z){var P=O.revertLane;if(P===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),z===br&&(V=!0);else if((Ci&P)===P){O=O.next,P===br&&(V=!0);continue}else z={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(E=T=z,_=p):T=T.next=z,de.lanes|=P,Pi|=P;z=O.action,bs&&o(p,z),p=O.hasEagerState?O.eagerState:o(p,z)}else P={lane:z,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(E=T=P,_=p):T=T.next=P,de.lanes|=z,Pi|=z;O=O.next}while(O!==null&&O!==r);if(T===null?_=p:T.next=E,!Ht(p,i.memoizedState)&&(ot=!0,V&&(o=Er,o!==null)))throw o;i.memoizedState=p,i.baseState=_,i.baseQueue=T,c.lastRenderedState=p}return h===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Wh(i){var r=tt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=i(p,_.action),_=_.next;while(_!==h);Ht(p,r.memoizedState)||(ot=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function Jy(i,r,o){var c=de,h=tt(),p=Se;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!Ht((Ae||h).memoizedState,o);if(_&&(h.memoizedState=o,ot=!0),h=h.queue,Zh(nv.bind(null,c,h,i),[i]),h.getSnapshot!==r||_||et!==null&&et.memoizedState.tag&1){if(c.flags|=2048,Tr(9,tv.bind(null,c,h,o,r),{destroy:void 0},null),ke===null)throw Error(s(349));p||Ci&60||ev(c,r,o)}return o}function ev(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=de.updateQueue,r===null?(r=ec(),de.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function tv(i,r,o,c){r.value=o,r.getSnapshot=c,iv(r)&&sv(i)}function nv(i,r,o){return o(function(){iv(r)&&sv(i)})}function iv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Ht(i,o)}catch{return!0}}function sv(i){var r=xi(i,2);r!==null&&At(r,i,2)}function Xh(i){var r=Lt();if(typeof i=="function"){var o=i;if(i=o(),bs){bi(!0);try{o()}finally{bi(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:i},r}function rv(i,r,o,c){return i.baseState=o,$h(i,Ae,typeof c=="function"?c:Gn)}function WC(i,r,o,c,h){if(rc(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};q.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,av(r,p)):(p.next=o.next,r.pending=o.next=p)}}function av(i,r){var o=r.action,c=r.payload,h=i.state;if(r.isTransition){var p=q.T,_={};q.T=_;try{var E=o(h,c),T=q.S;T!==null&&T(_,E),ov(i,r,E)}catch(O){Qh(i,r,O)}finally{q.T=p}}else try{p=o(h,c),ov(i,r,p)}catch(O){Qh(i,r,O)}}function ov(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){lv(i,r,c)},function(c){return Qh(i,r,c)}):lv(i,r,o)}function lv(i,r,o){r.status="fulfilled",r.value=o,cv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,av(i,o)))}function Qh(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,cv(r),r=r.next;while(r!==c)}i.action=null}function cv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function uv(i,r){return r}function hv(i,r){if(Se){var o=ke.formState;if(o!==null){e:{var c=de;if(Se){if(ft){t:{for(var h=ft,p=An;h.nodeType!==8;){if(!p){h=null;break t}if(h=gn(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){ft=gn(h.nextSibling),c=h.data==="F!";break e}}ys(c)}c=!1}c&&(r=o[0])}}return o=Lt(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uv,lastRenderedState:r},o.queue=c,o=Nv.bind(null,de,c),c.dispatch=o,c=Xh(!1),p=id.bind(null,de,!1,c.queue),c=Lt(),h={state:r,dispatch:null,action:i,pending:null},c.queue=h,o=WC.bind(null,de,h,p,o),h.dispatch=o,c.memoizedState=i,[r,o,!1]}function dv(i){var r=tt();return fv(r,Ae,i)}function fv(i,r,o){r=$h(i,r,uv)[0],i=nc(Gn)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?qa(r):r;var c=tt(),h=c.queue,p=h.dispatch;return o!==c.memoizedState&&(de.flags|=2048,Tr(9,XC.bind(null,h,o),{destroy:void 0},null)),[r,p,i]}function XC(i,r){i.action=r}function mv(i){var r=tt(),o=Ae;if(o!==null)return fv(r,o,i);tt(),r=r.memoizedState,o=tt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Tr(i,r,o,c){return i={tag:i,create:r,inst:o,deps:c,next:null},r=de.updateQueue,r===null&&(r=ec(),de.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function pv(){return tt().memoizedState}function ic(i,r,o,c){var h=Lt();de.flags|=i,h.memoizedState=Tr(1|r,o,{destroy:void 0},c===void 0?null:c)}function sc(i,r,o,c){var h=tt();c=c===void 0?null:c;var p=h.memoizedState.inst;Ae!==null&&c!==null&&Hh(c,Ae.memoizedState.deps)?h.memoizedState=Tr(r,o,p,c):(de.flags|=i,h.memoizedState=Tr(1|r,o,p,c))}function gv(i,r){ic(8390656,8,i,r)}function Zh(i,r){sc(2048,8,i,r)}function yv(i,r){return sc(4,2,i,r)}function vv(i,r){return sc(4,4,i,r)}function _v(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function bv(i,r,o){o=o!=null?o.concat([i]):null,sc(4,4,_v.bind(null,r,i),o)}function Jh(){}function Ev(i,r){var o=tt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Hh(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function Sv(i,r){var o=tt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Hh(r,c[1]))return c[0];if(c=i(),bs){bi(!0);try{i()}finally{bi(!1)}}return o.memoizedState=[c,r],c}function ed(i,r,o){return o===void 0||Ci&1073741824?i.memoizedState=r:(i.memoizedState=o,i=T_(),de.lanes|=i,Pi|=i,o)}function xv(i,r,o,c){return Ht(o,r)?o:_r.current!==null?(i=ed(i,o,c),Ht(i,r)||(ot=!0),i):Ci&42?(i=T_(),de.lanes|=i,Pi|=i,r):(ot=!0,i.memoizedState=o)}function Tv(i,r,o,c,h){var p=W.p;W.p=p!==0&&8>p?p:8;var _=q.T,E={};q.T=E,id(i,!1,r,o);try{var T=h(),O=q.S;if(O!==null&&O(E,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var V=YC(T,c);Ga(i,r,V,Yt(i))}else Ga(i,r,c,Yt(i))}catch(z){Ga(i,r,{then:function(){},status:"rejected",reason:z},Yt())}finally{W.p=p,q.T=_}}function QC(){}function td(i,r,o,c){if(i.tag!==5)throw Error(s(476));var h=wv(i).queue;Tv(i,h,r,_e,o===null?QC:function(){return Cv(i),o(c)})}function wv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:_e},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Cv(i){var r=wv(i).next.queue;Ga(i,r,{},Yt())}function nd(){return _t(ho)}function Av(){return tt().memoizedState}function Rv(){return tt().memoizedState}function ZC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Yt();i=Di(o);var c=Oi(r,i,o);c!==null&&(At(c,r,o),$a(c,r,o)),r={cache:Vh()},i.payload=r;return}r=r.return}}function JC(i,r,o){var c=Yt();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},rc(i)?Dv(r,o):(o=kh(i,r,o,c),o!==null&&(At(o,i,c),Ov(o,r,c)))}function Nv(i,r,o){var c=Yt();Ga(i,r,o,c)}function Ga(i,r,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(rc(i))Dv(r,h);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,E=p(_,o);if(h.hasEagerState=!0,h.eagerState=E,Ht(E,_))return Hl(i,r,h,0),ke===null&&zl(),!1}catch{}finally{}if(o=kh(i,r,h,c),o!==null)return At(o,i,c),Ov(o,r,c),!0}return!1}function id(i,r,o,c){if(c={lane:2,revertLane:Yd(),action:c,hasEagerState:!1,eagerState:null,next:null},rc(i)){if(r)throw Error(s(479))}else r=kh(i,o,c,2),r!==null&&At(r,i,2)}function rc(i){var r=i.alternate;return i===de||r!==null&&r===de}function Dv(i,r){Sr=Zl=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Ov(i,r,o){if(o&4194176){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Hg(i,o)}}var Nn={readContext:_t,use:tc,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe};Nn.useCacheRefresh=Xe,Nn.useMemoCache=Xe,Nn.useHostTransitionStatus=Xe,Nn.useFormState=Xe,Nn.useActionState=Xe,Nn.useOptimistic=Xe;var Es={readContext:_t,use:tc,useCallback:function(i,r){return Lt().memoizedState=[i,r===void 0?null:r],i},useContext:_t,useEffect:gv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,ic(4194308,4,_v.bind(null,r,i),o)},useLayoutEffect:function(i,r){return ic(4194308,4,i,r)},useInsertionEffect:function(i,r){ic(4,2,i,r)},useMemo:function(i,r){var o=Lt();r=r===void 0?null:r;var c=i();if(bs){bi(!0);try{i()}finally{bi(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=Lt();if(o!==void 0){var h=o(r);if(bs){bi(!0);try{o(r)}finally{bi(!1)}}}else h=r;return c.memoizedState=c.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},c.queue=i,i=i.dispatch=JC.bind(null,de,i),[c.memoizedState,i]},useRef:function(i){var r=Lt();return i={current:i},r.memoizedState=i},useState:function(i){i=Xh(i);var r=i.queue,o=Nv.bind(null,de,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Jh,useDeferredValue:function(i,r){var o=Lt();return ed(o,i,r)},useTransition:function(){var i=Xh(!1);return i=Tv.bind(null,de,i.queue,!0,!1),Lt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=de,h=Lt();if(Se){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ke===null)throw Error(s(349));be&60||ev(c,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,gv(nv.bind(null,c,p,i),[i]),c.flags|=2048,Tr(9,tv.bind(null,c,p,o,r),{destroy:void 0},null),o},useId:function(){var i=Lt(),r=ke.identifierPrefix;if(Se){var o=Fn,c=Hn;o=(c&~(1<<32-zt(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Jl++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=KC++,r=":"+r+"r"+o.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return Lt().memoizedState=ZC.bind(null,de)}};Es.useMemoCache=Kh,Es.useHostTransitionStatus=nd,Es.useFormState=hv,Es.useActionState=hv,Es.useOptimistic=function(i){var r=Lt();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=id.bind(null,de,!0,o),o.dispatch=r,[i,r]};var Ai={readContext:_t,use:tc,useCallback:Ev,useContext:_t,useEffect:Zh,useImperativeHandle:bv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Sv,useReducer:nc,useRef:pv,useState:function(){return nc(Gn)},useDebugValue:Jh,useDeferredValue:function(i,r){var o=tt();return xv(o,Ae.memoizedState,i,r)},useTransition:function(){var i=nc(Gn)[0],r=tt().memoizedState;return[typeof i=="boolean"?i:qa(i),r]},useSyncExternalStore:Jy,useId:Av};Ai.useCacheRefresh=Rv,Ai.useMemoCache=Kh,Ai.useHostTransitionStatus=nd,Ai.useFormState=dv,Ai.useActionState=dv,Ai.useOptimistic=function(i,r){var o=tt();return rv(o,Ae,i,r)};var Ss={readContext:_t,use:tc,useCallback:Ev,useContext:_t,useEffect:Zh,useImperativeHandle:bv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Sv,useReducer:Wh,useRef:pv,useState:function(){return Wh(Gn)},useDebugValue:Jh,useDeferredValue:function(i,r){var o=tt();return Ae===null?ed(o,i,r):xv(o,Ae.memoizedState,i,r)},useTransition:function(){var i=Wh(Gn)[0],r=tt().memoizedState;return[typeof i=="boolean"?i:qa(i),r]},useSyncExternalStore:Jy,useId:Av};Ss.useCacheRefresh=Rv,Ss.useMemoCache=Kh,Ss.useHostTransitionStatus=nd,Ss.useFormState=mv,Ss.useActionState=mv,Ss.useOptimistic=function(i,r){var o=tt();return Ae!==null?rv(o,Ae,i,r):(o.baseState=i,[i,o.queue.dispatch])};function sd(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:ne({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var rd={isMounted:function(i){return(i=i._reactInternals)?J(i)===i:!1},enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Yt(),h=Di(c);h.payload=r,o!=null&&(h.callback=o),r=Oi(i,h,c),r!==null&&(At(r,i,c),$a(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Yt(),h=Di(c);h.tag=1,h.payload=r,o!=null&&(h.callback=o),r=Oi(i,h,c),r!==null&&(At(r,i,c),$a(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Yt(),c=Di(o);c.tag=2,r!=null&&(c.callback=r),r=Oi(i,c,o),r!==null&&(At(r,i,o),$a(r,i,o))}};function kv(i,r,o,c,h,p,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,_):r.prototype&&r.prototype.isPureReactComponent?!ka(o,c)||!ka(h,p):!0}function Iv(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&rd.enqueueReplaceState(r,r.state,null)}function xs(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=ne({},o));for(var h in i)o[h]===void 0&&(o[h]=i[h])}return o}var ac=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Mv(i){ac(i)}function Lv(i){console.error(i)}function Pv(i){ac(i)}function oc(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Uv(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(i,r,o){return o=Di(o),o.tag=3,o.payload={element:null},o.callback=function(){oc(i,r)},o}function jv(i){return i=Di(i),i.tag=3,i}function Vv(i,r,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=c.value;i.payload=function(){return h(p)},i.callback=function(){Uv(r,o,c)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Uv(r,o,c),typeof h!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function eA(i,r,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Ka(r,o,h,!0),o=sn.current,o!==null){switch(o.tag){case 13:return Rn===null?zd():o.alternate===null&&qe===0&&(qe=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===Ph?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Fd(i,c,h)),!1;case 22:return o.flags|=65536,c===Ph?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Fd(i,c,h)),!1}throw Error(s(435,o.tag))}return Fd(i,c,h),zd(),!1}if(Se)return r=sn.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=h,c!==Lh&&(i=Error(s(422),{cause:c}),Pa(en(i,o)))):(c!==Lh&&(r=Error(s(423),{cause:c}),Pa(en(r,o))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,c=en(c,o),h=ad(i.stateNode,c,h),Ed(i,h),qe!==4&&(qe=2)),!1;var p=Error(s(520),{cause:c});if(p=en(p,o),no===null?no=[p]:no.push(p),qe!==4&&(qe=2),r===null)return!0;c=en(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=h&-h,o.lanes|=i,i=ad(o.stateNode,c,i),Ed(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ui===null||!Ui.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=jv(h),Vv(h,i,o,c),Ed(o,h),!1}o=o.return}while(o!==null);return!1}var Bv=Error(s(461)),ot=!1;function mt(i,r,o,c){r.child=i===null?Gy(r,null,o,c):vs(r,i.child,o,c)}function zv(i,r,o,c,h){o=o.render;var p=r.ref;if("ref"in c){var _={};for(var E in c)E!=="ref"&&(_[E]=c[E])}else _=c;return ws(r),c=Fh(i,r,o,_,p,h),E=qh(),i!==null&&!ot?(Gh(i,r,h),Yn(i,r,h)):(Se&&E&&Ih(r),r.flags|=1,mt(i,r,c,h),r.child)}function Hv(i,r,o,c,h){if(i===null){var p=o.type;return typeof p=="function"&&!Nd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Fv(i,r,p,c,h)):(i=dc(o.type,null,c,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!pd(i,h)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:ka,o(_,c)&&i.ref===r.ref)return Yn(i,r,h)}return r.flags|=1,i=Li(p,c),i.ref=r.ref,i.return=r,r.child=i}function Fv(i,r,o,c,h){if(i!==null){var p=i.memoizedProps;if(ka(p,c)&&i.ref===r.ref)if(ot=!1,r.pendingProps=c=p,pd(i,h))i.flags&131072&&(ot=!0);else return r.lanes=i.lanes,Yn(i,r,h)}return od(i,r,o,c,h)}function qv(i,r,o){var c=r.pendingProps,h=c.children,p=(r.stateNode._pendingVisibility&2)!==0,_=i!==null?i.memoizedState:null;if(Ya(i,r),c.mode==="hidden"||p){if(r.flags&128){if(c=_!==null?_.baseLanes|o:o,i!==null){for(h=r.child=i.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;r.childLanes=p&~c}else r.childLanes=0,r.child=null;return Gv(i,r,c,o)}if(o&536870912)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ql(r,_!==null?_.cachePool:null),_!==null?Yy(r,_):Uh(),Ky(r);else return r.lanes=r.childLanes=536870912,Gv(i,r,_!==null?_.baseLanes|o:o,o)}else _!==null?(Ql(r,_.cachePool),Yy(r,_),wi(),r.memoizedState=null):(i!==null&&Ql(r,null),Uh(),wi());return mt(i,r,h,o),r.child}function Gv(i,r,o,c){var h=zh();return h=h===null?null:{parent:st._currentValue,pool:h},r.memoizedState={baseLanes:o,cachePool:h},i!==null&&Ql(r,null),Uh(),Ky(r),i!==null&&Ka(i,r,c,!0),null}function Ya(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=2097664)}}function od(i,r,o,c,h){return ws(r),o=Fh(i,r,o,c,void 0,h),c=qh(),i!==null&&!ot?(Gh(i,r,h),Yn(i,r,h)):(Se&&c&&Ih(r),r.flags|=1,mt(i,r,o,h),r.child)}function Yv(i,r,o,c,h,p){return ws(r),r.updateQueue=null,o=Zy(r,c,o,h),Qy(i),c=qh(),i!==null&&!ot?(Gh(i,r,p),Yn(i,r,p)):(Se&&c&&Ih(r),r.flags|=1,mt(i,r,o,p),r.child)}function Kv(i,r,o,c,h){if(ws(r),r.stateNode===null){var p=pr,_=o.contextType;typeof _=="object"&&_!==null&&(p=_t(_)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=rd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},_d(r),_=o.contextType,p.context=typeof _=="object"&&_!==null?_t(_):pr,p.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(sd(r,o,_,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&rd.enqueueReplaceState(p,p.state,null),Xa(r,c,p,h),Wa(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var E=r.memoizedProps,T=xs(o,E);p.props=T;var O=p.context,V=o.contextType;_=pr,typeof V=="object"&&V!==null&&(_=_t(V));var z=o.getDerivedStateFromProps;V=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,V||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||O!==_)&&Iv(r,p,c,_),Ni=!1;var P=r.memoizedState;p.state=P,Xa(r,c,p,h),Wa(),O=r.memoizedState,E||P!==O||Ni?(typeof z=="function"&&(sd(r,o,z,c),O=r.memoizedState),(T=Ni||kv(r,o,T,c,P,O,_))?(V||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=O),p.props=c,p.state=O,p.context=_,c=T):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,bd(i,r),_=r.memoizedProps,V=xs(o,_),p.props=V,z=r.pendingProps,P=p.context,O=o.contextType,T=pr,typeof O=="object"&&O!==null&&(T=_t(O)),E=o.getDerivedStateFromProps,(O=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==z||P!==T)&&Iv(r,p,c,T),Ni=!1,P=r.memoizedState,p.state=P,Xa(r,c,p,h),Wa();var j=r.memoizedState;_!==z||P!==j||Ni||i!==null&&i.dependencies!==null&&lc(i.dependencies)?(typeof E=="function"&&(sd(r,o,E,c),j=r.memoizedState),(V=Ni||kv(r,o,V,c,P,j,T)||i!==null&&i.dependencies!==null&&lc(i.dependencies))?(O||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,j,T),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,j,T)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=j),p.props=c,p.state=j,p.context=T,c=V):(typeof p.componentDidUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,Ya(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=vs(r,i.child,null,h),r.child=vs(r,null,o,h)):mt(i,r,o,h),r.memoizedState=p.state,i=r.child):i=Yn(i,r,h),i}function $v(i,r,o,c){return La(),r.flags|=256,mt(i,r,o,c),r.child}var ld={dehydrated:null,treeContext:null,retryLane:0};function cd(i){return{baseLanes:i,cachePool:Xy()}}function ud(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ln),i}function Wv(i,r,o){var c=r.pendingProps,h=!1,p=(r.flags&128)!==0,_;if((_=p)||(_=i!==null&&i.memoizedState===null?!1:(it.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(Se){if(h?Ti(r):wi(),Se){var E=ft,T;if(T=E){e:{for(T=E,E=An;T.nodeType!==8;){if(!E){E=null;break e}if(T=gn(T.nextSibling),T===null){E=null;break e}}E=T}E!==null?(r.memoizedState={dehydrated:E,treeContext:ps!==null?{id:Hn,overflow:Fn}:null,retryLane:536870912},T=on(18,null,null,0),T.stateNode=E,T.return=r,r.child=T,Ct=r,ft=null,T=!0):T=!1}T||ys(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?r.lanes=16:r.lanes=536870912,null;qn(r)}return E=c.children,c=c.fallback,h?(wi(),h=r.mode,E=dd({mode:"hidden",children:E},h),c=As(c,h,o,null),E.return=r,c.return=r,E.sibling=c,r.child=E,h=r.child,h.memoizedState=cd(o),h.childLanes=ud(i,_,o),r.memoizedState=ld,c):(Ti(r),hd(r,E))}if(T=i.memoizedState,T!==null&&(E=T.dehydrated,E!==null)){if(p)r.flags&256?(Ti(r),r.flags&=-257,r=fd(i,r,o)):r.memoizedState!==null?(wi(),r.child=i.child,r.flags|=128,r=null):(wi(),h=c.fallback,E=r.mode,c=dd({mode:"visible",children:c.children},E),h=As(h,E,o,null),h.flags|=2,c.return=r,h.return=r,c.sibling=h,r.child=c,vs(r,i.child,null,o),c=r.child,c.memoizedState=cd(o),c.childLanes=ud(i,_,o),r.memoizedState=ld,r=h);else if(Ti(r),E.data==="$!"){if(_=E.nextSibling&&E.nextSibling.dataset,_)var O=_.dgst;_=O,c=Error(s(419)),c.stack="",c.digest=_,Pa({value:c,source:null,stack:null}),r=fd(i,r,o)}else if(ot||Ka(i,r,o,!1),_=(o&i.childLanes)!==0,ot||_){if(_=ke,_!==null){if(c=o&-o,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(_.suspendedLanes|o)?0:c,c!==0&&c!==T.retryLane)throw T.retryLane=c,xi(i,c),At(_,i,c),Bv}E.data==="$?"||zd(),r=fd(i,r,o)}else E.data==="$?"?(r.flags|=128,r.child=i.child,r=pA.bind(null,i),E._reactRetry=r,r=null):(i=T.treeContext,ft=gn(E.nextSibling),Ct=r,Se=!0,mn=null,An=!1,i!==null&&(tn[nn++]=Hn,tn[nn++]=Fn,tn[nn++]=ps,Hn=i.id,Fn=i.overflow,ps=r),r=hd(r,c.children),r.flags|=4096);return r}return h?(wi(),h=c.fallback,E=r.mode,T=i.child,O=T.sibling,c=Li(T,{mode:"hidden",children:c.children}),c.subtreeFlags=T.subtreeFlags&31457280,O!==null?h=Li(O,h):(h=As(h,E,o,null),h.flags|=2),h.return=r,c.return=r,c.sibling=h,r.child=c,c=h,h=r.child,E=i.child.memoizedState,E===null?E=cd(o):(T=E.cachePool,T!==null?(O=st._currentValue,T=T.parent!==O?{parent:O,pool:O}:T):T=Xy(),E={baseLanes:E.baseLanes|o,cachePool:T}),h.memoizedState=E,h.childLanes=ud(i,_,o),r.memoizedState=ld,c):(Ti(r),o=i.child,i=o.sibling,o=Li(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function hd(i,r){return r=dd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function dd(i,r){return E_(i,r,0,null)}function fd(i,r,o){return vs(r,i.child,null,o),i=hd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Xv(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),yd(i.return,r,o)}function md(i,r,o,c,h){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=h)}function Qv(i,r,o){var c=r.pendingProps,h=c.revealOrder,p=c.tail;if(mt(i,r,c.children,o),c=it.current,c&2)c=c&1|2,r.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Xv(i,o,r);else if(i.tag===19)Xv(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(Ue(it,c),h){case"forwards":for(o=r.child,h=null;o!==null;)i=o.alternate,i!==null&&Xl(i)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),md(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&Xl(i)===null){r.child=h;break}i=h.sibling,h.sibling=o,o=h,h=i}md(r,!0,o,null,p);break;case"together":md(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yn(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Pi|=r.lanes,!(o&r.childLanes))if(i!==null){if(Ka(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Li(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Li(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function pd(i,r){return i.lanes&r?!0:(i=i.dependencies,!!(i!==null&&lc(i)))}function tA(i,r,o){switch(r.tag){case 3:Tl(r,r.stateNode.containerInfo),Ri(r,st,i.memoizedState.cache),La();break;case 27:case 5:rh(r);break;case 4:Tl(r,r.stateNode.containerInfo);break;case 10:Ri(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Ti(r),r.flags|=128,null):o&r.child.childLanes?Wv(i,r,o):(Ti(r),i=Yn(i,r,o),i!==null?i.sibling:null);Ti(r);break;case 19:var h=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Ka(i,r,o,!1),c=(o&r.childLanes)!==0),h){if(c)return Qv(i,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ue(it,it.current),c)break;return null;case 22:case 23:return r.lanes=0,qv(i,r,o);case 24:Ri(r,st,i.memoizedState.cache)}return Yn(i,r,o)}function Zv(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)ot=!0;else{if(!pd(i,o)&&!(r.flags&128))return ot=!1,tA(i,r,o);ot=!!(i.flags&131072)}else ot=!1,Se&&r.flags&1048576&&Py(r,Gl,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var c=r.elementType,h=c._init;if(c=h(c._payload),r.type=c,typeof c=="function")Nd(c)?(i=xs(c,i),r.tag=1,r=Kv(null,r,c,i,o)):(r.tag=0,r=od(null,r,c,i,o));else{if(c!=null){if(h=c.$$typeof,h===x){r.tag=11,r=zv(null,r,c,i,o);break e}else if(h===N){r.tag=14,r=Hv(null,r,c,i,o);break e}}throw r=$(c)||c,Error(s(306,r,""))}}return r;case 0:return od(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,h=xs(c,r.pendingProps),Kv(i,r,c,h,o);case 3:e:{if(Tl(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var p=r.pendingProps;h=r.memoizedState,c=h.element,bd(i,r),Xa(r,p,null,o);var _=r.memoizedState;if(p=_.cache,Ri(r,st,p),p!==h.cache&&vd(r,[st],o,!0),Wa(),p=_.element,h.isDehydrated)if(h={element:p,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=$v(i,r,p,o);break e}else if(p!==c){c=en(Error(s(424)),r),Pa(c),r=$v(i,r,p,o);break e}else for(ft=gn(r.stateNode.containerInfo.firstChild),Ct=r,Se=!0,mn=null,An=!0,o=Gy(r,null,p,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(La(),p===c){r=Yn(i,r,o);break e}mt(i,r,p,o)}r=r.child}return r;case 26:return Ya(i,r),i===null?(o=t0(r.type,null,r.pendingProps,null))?r.memoizedState=o:Se||(o=r.type,i=r.pendingProps,c=Tc(_i.current).createElement(o),c[vt]=r,c[It]=i,pt(c,o,i),at(c),r.stateNode=c):r.memoizedState=t0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return rh(r),i===null&&Se&&(c=r.stateNode=Z_(r.type,r.pendingProps,_i.current),Ct=r,An=!0,ft=gn(c.firstChild)),c=r.pendingProps.children,i!==null||Se?mt(i,r,c,o):r.child=vs(r,null,c,o),Ya(i,r),r.child;case 5:return i===null&&Se&&((h=c=ft)&&(c=OA(c,r.type,r.pendingProps,An),c!==null?(r.stateNode=c,Ct=r,ft=gn(c.firstChild),An=!1,h=!0):h=!1),h||ys(r)),rh(r),h=r.type,p=r.pendingProps,_=i!==null?i.memoizedProps:null,c=p.children,tf(h,p)?c=null:_!==null&&tf(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Fh(i,r,$C,null,null,o),ho._currentValue=h),Ya(i,r),mt(i,r,c,o),r.child;case 6:return i===null&&Se&&((i=o=ft)&&(o=kA(o,r.pendingProps,An),o!==null?(r.stateNode=o,Ct=r,ft=null,i=!0):i=!1),i||ys(r)),null;case 13:return Wv(i,r,o);case 4:return Tl(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=vs(r,null,c,o):mt(i,r,c,o),r.child;case 11:return zv(i,r,r.type,r.pendingProps,o);case 7:return mt(i,r,r.pendingProps,o),r.child;case 8:return mt(i,r,r.pendingProps.children,o),r.child;case 12:return mt(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Ri(r,r.type,c.value),mt(i,r,c.children,o),r.child;case 9:return h=r.type._context,c=r.pendingProps.children,ws(r),h=_t(h),c=c(h),r.flags|=1,mt(i,r,c,o),r.child;case 14:return Hv(i,r,r.type,r.pendingProps,o);case 15:return Fv(i,r,r.type,r.pendingProps,o);case 19:return Qv(i,r,o);case 22:return qv(i,r,o);case 24:return ws(r),c=_t(st),i===null?(h=zh(),h===null&&(h=ke,p=Vh(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),r.memoizedState={parent:c,cache:h},_d(r),Ri(r,st,h)):(i.lanes&o&&(bd(i,r),Xa(r,null,null,o),Wa()),h=i.memoizedState,p=r.memoizedState,h.parent!==c?(h={parent:c,cache:c},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ri(r,st,c)):(c=p.cache,Ri(r,st,c),c!==h.cache&&vd(r,[st],o,!0))),mt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var gd=Ce(null),Ts=null,Kn=null;function Ri(i,r,o){Ue(gd,r._currentValue),r._currentValue=o}function $n(i){i._currentValue=gd.current,Je(gd)}function yd(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function vd(i,r,o,c){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var p=h.dependencies;if(p!==null){var _=h.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=h;for(var T=0;T<r.length;T++)if(E.context===r[T]){p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),yd(p.return,o,i),c||(_=null);break e}p=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=o,p=_.alternate,p!==null&&(p.lanes|=o),yd(_,o,i),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===i){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ka(i,r,o,c){i=null;for(var h=r,p=!1;h!==null;){if(!p){if(h.flags&524288)p=!0;else if(h.flags&262144)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;Ht(h.pendingProps.value,_.value)||(i!==null?i.push(E):i=[E])}}else if(h===xl.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(ho):i=[ho])}h=h.return}i!==null&&vd(r,i,o,c),r.flags|=262144}function lc(i){for(i=i.firstContext;i!==null;){if(!Ht(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ws(i){Ts=i,Kn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _t(i){return Jv(Ts,i)}function cc(i,r){return Ts===null&&ws(i),Jv(i,r)}function Jv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Kn===null){if(i===null)throw Error(s(308));Kn=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Kn=Kn.next=r;return o}var Ni=!1;function _d(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Di(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Oi(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,Ve&2){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,r=Fl(i),My(i,null,o),r}return Hl(i,c,r,o),Fl(i)}function $a(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194176)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Hg(i,o)}}function Ed(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Sd=!1;function Wa(){if(Sd){var i=Er;if(i!==null)throw i}}function Xa(i,r,o,c){Sd=!1;var h=i.updateQueue;Ni=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var T=E,O=T.next;T.next=null,_===null?p=O:_.next=O,_=T;var V=i.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==_&&(E===null?V.firstBaseUpdate=O:E.next=O,V.lastBaseUpdate=T))}if(p!==null){var z=h.baseState;_=0,V=O=T=null,E=p;do{var P=E.lane&-536870913,j=P!==E.lane;if(j?(be&P)===P:(c&P)===P){P!==0&&P===br&&(Sd=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Q=i,ce=E;P=r;var Ge=o;switch(ce.tag){case 1:if(Q=ce.payload,typeof Q=="function"){z=Q.call(Ge,z,P);break e}z=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=ce.payload,P=typeof Q=="function"?Q.call(Ge,z,P):Q,P==null)break e;z=ne({},z,P);break e;case 2:Ni=!0}}P=E.callback,P!==null&&(i.flags|=64,j&&(i.flags|=8192),j=h.callbacks,j===null?h.callbacks=[P]:j.push(P))}else j={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(O=V=j,T=z):V=V.next=j,_|=P;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);V===null&&(T=z),h.baseState=T,h.firstBaseUpdate=O,h.lastBaseUpdate=V,p===null&&(h.shared.lanes=0),Pi|=_,i.lanes=_,i.memoizedState=z}}function e_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function t_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)e_(o[i],r)}function Qa(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&i)===i){c=void 0;var p=o.create,_=o.inst;c=p(),_.destroy=c}o=o.next}while(o!==h)}}catch(E){De(r,r.return,E)}}function ki(i,r,o){try{var c=r.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var p=h.next;c=p;do{if((c.tag&i)===i){var _=c.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=r;var T=o;try{E()}catch(O){De(h,T,O)}}}c=c.next}while(c!==p)}}catch(O){De(r,r.return,O)}}function n_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{t_(r,o)}catch(c){De(i,i.return,c)}}}function i_(i,r,o){o.props=xs(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){De(i,r,c)}}function Cs(i,r){try{var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var h=c;break;default:h=c}typeof o=="function"?i.refCleanup=o(h):o.current=h}}catch(p){De(i,r,p)}}function Ft(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){De(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){De(i,r,h)}else o.current=null}function s_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){De(i,i.return,h)}}function r_(i,r,o){try{var c=i.stateNode;CA(c,i.type,o,r),c[It]=r}catch(h){De(i,i.return,h)}}function a_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function xd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||a_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Td(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(i,r):o.insertBefore(i,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(i,o)):(r=o,r.appendChild(i)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=xc));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(Td(i,r,o),i=i.sibling;i!==null;)Td(i,r,o),i=i.sibling}function uc(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(uc(i,r,o),i=i.sibling;i!==null;)uc(i,r,o),i=i.sibling}var Wn=!1,Fe=!1,wd=!1,o_=typeof WeakSet=="function"?WeakSet:Set,lt=null,l_=!1;function nA(i,r){if(i=i.containerInfo,Jd=Dc,i=wy(i),Ah(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,E=-1,T=-1,O=0,V=0,z=i,P=null;t:for(;;){for(var j;z!==o||h!==0&&z.nodeType!==3||(E=_+h),z!==p||c!==0&&z.nodeType!==3||(T=_+c),z.nodeType===3&&(_+=z.nodeValue.length),(j=z.firstChild)!==null;)P=z,z=j;for(;;){if(z===i)break t;if(P===o&&++O===h&&(E=_),P===p&&++V===c&&(T=_),(j=z.nextSibling)!==null)break;z=P,P=z.parentNode}z=j}o=E===-1||T===-1?null:{start:E,end:T}}else o=null}o=o||{start:0,end:0}}else o=null;for(ef={focusedElem:i,selectionRange:o},Dc=!1,lt=r;lt!==null;)if(r=lt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,lt=i;else for(;lt!==null;){switch(r=lt,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&p!==null){i=void 0,o=r,h=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var Q=xs(o.type,h,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(Q,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(ce){De(o,o.return,ce)}}break;case 3:if(i&1024){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)rf(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":rf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,lt=i;break}lt=r.return}return Q=l_,l_=!1,Q}function c_(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Qn(i,o),c&4&&Qa(5,o);break;case 1:if(Qn(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){De(o,o.return,E)}else{var h=xs(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){De(o,o.return,E)}}c&64&&n_(o),c&512&&Cs(o,o.return);break;case 3:if(Qn(i,o),c&64&&(c=o.updateQueue,c!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{t_(c,i)}catch(E){De(o,o.return,E)}}break;case 26:Qn(i,o),c&512&&Cs(o,o.return);break;case 27:case 5:Qn(i,o),r===null&&c&4&&s_(o),c&512&&Cs(o,o.return);break;case 12:Qn(i,o);break;case 13:Qn(i,o),c&4&&d_(i,o);break;case 22:if(h=o.memoizedState!==null||Wn,!h){r=r!==null&&r.memoizedState!==null||Fe;var p=Wn,_=Fe;Wn=h,(Fe=r)&&!_?Ii(i,o,(o.subtreeFlags&8772)!==0):Qn(i,o),Wn=p,Fe=_}c&512&&(o.memoizedProps.mode==="manual"?Cs(o,o.return):Ft(o,o.return));break;default:Qn(i,o)}}function u_(i){var r=i.alternate;r!==null&&(i.alternate=null,u_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&hh(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var nt=null,qt=!1;function Xn(i,r,o){for(o=o.child;o!==null;)h_(i,r,o),o=o.sibling}function h_(i,r,o){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(ba,o)}catch{}switch(o.tag){case 26:Fe||Ft(o,r),Xn(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Fe||Ft(o,r);var c=nt,h=qt;for(nt=o.stateNode,Xn(i,r,o),o=o.stateNode,r=o.attributes;r.length;)o.removeAttributeNode(r[0]);hh(o),nt=c,qt=h;break;case 5:Fe||Ft(o,r);case 6:h=nt;var p=qt;if(nt=null,Xn(i,r,o),nt=h,qt=p,nt!==null)if(qt)try{i=nt,c=o.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(_){De(o,r,_)}else try{nt.removeChild(o.stateNode)}catch(_){De(o,r,_)}break;case 18:nt!==null&&(qt?(r=nt,o=o.stateNode,r.nodeType===8?sf(r.parentNode,o):r.nodeType===1&&sf(r,o),go(r)):sf(nt,o.stateNode));break;case 4:c=nt,h=qt,nt=o.stateNode.containerInfo,qt=!0,Xn(i,r,o),nt=c,qt=h;break;case 0:case 11:case 14:case 15:Fe||ki(2,o,r),Fe||ki(4,o,r),Xn(i,r,o);break;case 1:Fe||(Ft(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&i_(o,r,c)),Xn(i,r,o);break;case 21:Xn(i,r,o);break;case 22:Fe||Ft(o,r),Fe=(c=Fe)||o.memoizedState!==null,Xn(i,r,o),Fe=c;break;default:Xn(i,r,o)}}function d_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{go(i)}catch(o){De(r,r.return,o)}}function iA(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new o_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new o_),r;default:throw Error(s(435,i.tag))}}function Cd(i,r){var o=iA(i);r.forEach(function(c){var h=gA.bind(null,i,c);o.has(c)||(o.add(c),c.then(h,h))})}function rn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],p=i,_=r,E=_;e:for(;E!==null;){switch(E.tag){case 27:case 5:nt=E.stateNode,qt=!1;break e;case 3:nt=E.stateNode.containerInfo,qt=!0;break e;case 4:nt=E.stateNode.containerInfo,qt=!0;break e}E=E.return}if(nt===null)throw Error(s(160));h_(p,_,h),nt=null,qt=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)f_(r,i),r=r.sibling}var pn=null;function f_(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:rn(r,i),an(i),c&4&&(ki(3,i,i.return),Qa(3,i),ki(5,i,i.return));break;case 1:rn(r,i),an(i),c&512&&(Fe||o===null||Ft(o,o.return)),c&64&&Wn&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=pn;if(rn(r,i),an(i),c&512&&(Fe||o===null||Ft(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":p=h.getElementsByTagName("title")[0],(!p||p[xa]||p[vt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(c),h.head.insertBefore(p,h.querySelector("head > title"))),pt(p,c,o),p[vt]=i,at(p),c=p;break e;case"link":var _=s0("link","href",h).get(c+(o.href||""));if(_){for(var E=0;E<_.length;E++)if(p=_[E],p.getAttribute("href")===(o.href==null?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(E,1);break t}}p=h.createElement(c),pt(p,c,o),h.head.appendChild(p);break;case"meta":if(_=s0("meta","content",h).get(c+(o.content||""))){for(E=0;E<_.length;E++)if(p=_[E],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(E,1);break t}}p=h.createElement(c),pt(p,c,o),h.head.appendChild(p);break;default:throw Error(s(468,c))}p[vt]=i,at(p),c=p}i.stateNode=c}else r0(h,i.type,i.stateNode);else i.stateNode=i0(h,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?r0(h,i.type,i.stateNode):i0(h,c,i.memoizedProps)):c===null&&i.stateNode!==null&&r_(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){h=i.stateNode,p=i.memoizedProps;try{for(var T=h.firstChild;T;){var O=T.nextSibling,V=T.nodeName;T[xa]||V==="HEAD"||V==="BODY"||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&T.rel.toLowerCase()==="stylesheet"||h.removeChild(T),T=O}for(var z=i.type,P=h.attributes;P.length;)h.removeAttributeNode(P[0]);pt(h,z,p),h[vt]=i,h[It]=p}catch(Q){De(i,i.return,Q)}}case 5:if(rn(r,i),an(i),c&512&&(Fe||o===null||Ft(o,o.return)),i.flags&32){h=i.stateNode;try{lr(h,"")}catch(Q){De(i,i.return,Q)}}c&4&&i.stateNode!=null&&(h=i.memoizedProps,r_(i,h,o!==null?o.memoizedProps:h)),c&1024&&(wd=!0);break;case 6:if(rn(r,i),an(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Q){De(i,i.return,Q)}}break;case 3:if(Ac=null,h=pn,pn=wc(r.containerInfo),rn(r,i),pn=h,an(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{go(r.containerInfo)}catch(Q){De(i,i.return,Q)}wd&&(wd=!1,m_(i));break;case 4:c=pn,pn=wc(i.stateNode.containerInfo),rn(r,i),an(i),pn=c;break;case 12:rn(r,i),an(i);break;case 13:rn(r,i),an(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ld=Cn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Cd(i,c)));break;case 22:if(c&512&&(Fe||o===null||Ft(o,o.return)),T=i.memoizedState!==null,O=o!==null&&o.memoizedState!==null,V=Wn,z=Fe,Wn=V||T,Fe=z||O,rn(r,i),Fe=z,Wn=V,an(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,c&8192&&(r._visibility=T?r._visibility&-2:r._visibility|1,T&&(r=Wn||Fe,o===null||O||r||wr(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(o===null){O=o=r;try{if(h=O.stateNode,T)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{_=O.stateNode,E=O.memoizedProps.style;var j=E!=null&&E.hasOwnProperty("display")?E.display:null;_.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(Q){De(O,O.return,Q)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=T?"":O.memoizedProps}catch(Q){De(O,O.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Cd(i,o))));break;case 19:rn(r,i),an(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Cd(i,c)));break;case 21:break;default:rn(r,i),an(i)}}function an(i){var r=i.flags;if(r&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(a_(o)){var c=o;break e}o=o.return}throw Error(s(160))}switch(c.tag){case 27:var h=c.stateNode,p=xd(i);uc(i,p,h);break;case 5:var _=c.stateNode;c.flags&32&&(lr(_,""),c.flags&=-33);var E=xd(i);uc(i,E,_);break;case 3:case 4:var T=c.stateNode.containerInfo,O=xd(i);Td(i,O,T);break;default:throw Error(s(161))}}}catch(V){De(i,i.return,V)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function m_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;m_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Qn(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)c_(i,r.alternate,r),r=r.sibling}function wr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ki(4,r,r.return),wr(r);break;case 1:Ft(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&i_(r,r.return,o),wr(r);break;case 26:case 27:case 5:Ft(r,r.return),wr(r);break;case 22:Ft(r,r.return),r.memoizedState===null&&wr(r);break;default:wr(r)}i=i.sibling}}function Ii(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,h=i,p=r,_=p.flags;switch(p.tag){case 0:case 11:case 15:Ii(h,p,o),Qa(4,p);break;case 1:if(Ii(h,p,o),c=p,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(O){De(c,c.return,O)}if(c=p,h=c.updateQueue,h!==null){var E=c.stateNode;try{var T=h.shared.hiddenCallbacks;if(T!==null)for(h.shared.hiddenCallbacks=null,h=0;h<T.length;h++)e_(T[h],E)}catch(O){De(c,c.return,O)}}o&&_&64&&n_(p),Cs(p,p.return);break;case 26:case 27:case 5:Ii(h,p,o),o&&c===null&&_&4&&s_(p),Cs(p,p.return);break;case 12:Ii(h,p,o);break;case 13:Ii(h,p,o),o&&_&4&&d_(h,p);break;case 22:p.memoizedState===null&&Ii(h,p,o),Cs(p,p.return);break;default:Ii(h,p,o)}r=r.sibling}}function Ad(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&za(o))}function Rd(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&za(i))}function Mi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)p_(i,r,o,c),r=r.sibling}function p_(i,r,o,c){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Mi(i,r,o,c),h&2048&&Qa(9,r);break;case 3:Mi(i,r,o,c),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&za(i)));break;case 12:if(h&2048){Mi(i,r,o,c),i=r.stateNode;try{var p=r.memoizedProps,_=p.id,E=p.onPostCommit;typeof E=="function"&&E(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(T){De(r,r.return,T)}}else Mi(i,r,o,c);break;case 23:break;case 22:p=r.stateNode,r.memoizedState!==null?p._visibility&4?Mi(i,r,o,c):Za(i,r):p._visibility&4?Mi(i,r,o,c):(p._visibility|=4,Cr(i,r,o,c,(r.subtreeFlags&10256)!==0)),h&2048&&Ad(r.alternate,r);break;case 24:Mi(i,r,o,c),h&2048&&Rd(r.alternate,r);break;default:Mi(i,r,o,c)}}function Cr(i,r,o,c,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,_=r,E=o,T=c,O=_.flags;switch(_.tag){case 0:case 11:case 15:Cr(p,_,E,T,h),Qa(8,_);break;case 23:break;case 22:var V=_.stateNode;_.memoizedState!==null?V._visibility&4?Cr(p,_,E,T,h):Za(p,_):(V._visibility|=4,Cr(p,_,E,T,h)),h&&O&2048&&Ad(_.alternate,_);break;case 24:Cr(p,_,E,T,h),h&&O&2048&&Rd(_.alternate,_);break;default:Cr(p,_,E,T,h)}r=r.sibling}}function Za(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,h=c.flags;switch(c.tag){case 22:Za(o,c),h&2048&&Ad(c.alternate,c);break;case 24:Za(o,c),h&2048&&Rd(c.alternate,c);break;default:Za(o,c)}r=r.sibling}}var Ja=8192;function Ar(i){if(i.subtreeFlags&Ja)for(i=i.child;i!==null;)g_(i),i=i.sibling}function g_(i){switch(i.tag){case 26:Ar(i),i.flags&Ja&&i.memoizedState!==null&&GA(pn,i.memoizedState,i.memoizedProps);break;case 5:Ar(i);break;case 3:case 4:var r=pn;pn=wc(i.stateNode.containerInfo),Ar(i),pn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Ja,Ja=16777216,Ar(i),Ja=r):Ar(i));break;default:Ar(i)}}function y_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function eo(i){var r=i.deletions;if(i.flags&16){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];lt=c,__(c,i)}y_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)v_(i),i=i.sibling}function v_(i){switch(i.tag){case 0:case 11:case 15:eo(i),i.flags&2048&&ki(9,i,i.return);break;case 3:eo(i);break;case 12:eo(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,hc(i)):eo(i);break;default:eo(i)}}function hc(i){var r=i.deletions;if(i.flags&16){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];lt=c,__(c,i)}y_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ki(8,r,r.return),hc(r);break;case 22:o=r.stateNode,o._visibility&4&&(o._visibility&=-5,hc(r));break;default:hc(r)}i=i.sibling}}function __(i,r){for(;lt!==null;){var o=lt;switch(o.tag){case 0:case 11:case 15:ki(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:za(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,lt=c;else e:for(o=i;lt!==null;){c=lt;var h=c.sibling,p=c.return;if(u_(c),c===o){lt=null;break e}if(h!==null){h.return=p,lt=h;break e}lt=p}}}function sA(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(i,r,o,c){return new sA(i,r,o,c)}function Nd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Li(i,r){var o=i.alternate;return o===null?(o=on(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function b_(i,r){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function dc(i,r,o,c,h,p){var _=0;if(c=i,typeof i=="function")Nd(i)&&(_=1);else if(typeof i=="string")_=FA(i,o,wn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case f:return As(o.children,h,p,r);case m:_=8,h|=24;break;case g:return i=on(12,o,r,h|2),i.elementType=g,i.lanes=p,i;case C:return i=on(13,o,r,h),i.elementType=C,i.lanes=p,i;case D:return i=on(19,o,r,h),i.elementType=D,i.lanes=p,i;case M:return E_(o,h,p,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case y:case S:_=10;break e;case v:_=9;break e;case x:_=11;break e;case N:_=14;break e;case k:_=16,c=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=on(_,o,r,h),r.elementType=i,r.type=c,r.lanes=p,r}function As(i,r,o,c){return i=on(7,i,c,r),i.lanes=o,i}function E_(i,r,o,c){i=on(22,i,c,r),i.elementType=M,i.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=h._current;if(p===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var _=xi(p,2);_!==null&&(h._pendingVisibility|=2,At(_,p,2))}},attach:function(){var p=h._current;if(p===null)throw Error(s(456));if(h._pendingVisibility&2){var _=xi(p,2);_!==null&&(h._pendingVisibility&=-3,At(_,p,2))}}};return i.stateNode=h,i}function Dd(i,r,o){return i=on(6,i,null,r),i.lanes=o,i}function Od(i,r,o){return r=on(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function Zn(i){i.flags|=4}function S_(i,r){if(r.type!=="stylesheet"||r.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!a0(r)){if(r=sn.current,r!==null&&((be&4194176)===be?Rn!==null:(be&62914560)!==be&&!(be&536870912)||r!==Rn))throw ja=Ph,Vy;i.flags|=8192}}function fc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Bg():536870912,i.lanes|=r,Nr|=r)}function to(i,r){if(!Se)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function je(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var h=i.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&31457280,c|=h.flags&31457280,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function rA(i,r,o){var c=r.pendingProps;switch(Mh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(r),null;case 1:return je(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),$n(st),nr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ma(r)?Zn(r):i===null||i.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,mn!==null&&(Vd(mn),mn=null))),je(r),null;case 26:return o=r.memoizedState,i===null?(Zn(r),o!==null?(je(r),S_(r,o)):(je(r),r.flags&=-16777217)):o?o!==i.memoizedState?(Zn(r),je(r),S_(r,o)):(je(r),r.flags&=-16777217):(i.memoizedProps!==c&&Zn(r),je(r),r.flags&=-16777217),null;case 27:wl(r),o=_i.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Zn(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return je(r),null}i=wn.current,Ma(r)?Uy(r):(i=Z_(h,c,o),r.stateNode=i,Zn(r))}return je(r),null;case 5:if(wl(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Zn(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return je(r),null}if(i=wn.current,Ma(r))Uy(r);else{switch(h=Tc(_i.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}i[vt]=r,i[It]=c;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;e:switch(pt(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Zn(r)}}return je(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Zn(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=_i.current,Ma(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,h=Ct,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}i[vt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Y_(i.nodeValue,o)),i||ys(r)}else i=Tc(i).createTextNode(c),i[vt]=r,r.stateNode=i}return je(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Ma(r),c!==null&&c.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=r}else La(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;je(r),h=!1}else mn!==null&&(Vd(mn),mn=null),h=!0;if(!h)return r.flags&256?(qn(r),r):(qn(r),null)}if(qn(r),r.flags&128)return r.lanes=o,r;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=r.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),fc(r,r.updateQueue),je(r),null;case 4:return nr(),i===null&&Xd(r.stateNode.containerInfo),je(r),null;case 10:return $n(r.type),je(r),null;case 19:if(Je(it),h=r.memoizedState,h===null)return je(r),null;if(c=(r.flags&128)!==0,p=h.rendering,p===null)if(c)to(h,!1);else{if(qe!==0||i!==null&&i.flags&128)for(i=r.child;i!==null;){if(p=Xl(i),p!==null){for(r.flags|=128,to(h,!1),i=p.updateQueue,r.updateQueue=i,fc(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)b_(o,i),o=o.sibling;return Ue(it,it.current&1|2),r.child}i=i.sibling}h.tail!==null&&Cn()>mc&&(r.flags|=128,c=!0,to(h,!1),r.lanes=4194304)}else{if(!c)if(i=Xl(p),i!==null){if(r.flags|=128,c=!0,i=i.updateQueue,r.updateQueue=i,fc(r,i),to(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Se)return je(r),null}else 2*Cn()-h.renderingStartTime>mc&&o!==536870912&&(r.flags|=128,c=!0,to(h,!1),r.lanes=4194304);h.isBackwards?(p.sibling=r.child,r.child=p):(i=h.last,i!==null?i.sibling=p:r.child=p,h.last=p)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Cn(),r.sibling=null,i=it.current,Ue(it,c?i&1|2:i&1),r):(je(r),null);case 22:case 23:return qn(r),jh(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?o&536870912&&!(r.flags&128)&&(je(r),r.subtreeFlags&6&&(r.flags|=8192)):je(r),o=r.updateQueue,o!==null&&fc(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&Je(_s),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),$n(st),je(r),null;case 25:return null}throw Error(s(156,r.tag))}function aA(i,r){switch(Mh(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return $n(st),nr(),i=r.flags,i&65536&&!(i&128)?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return wl(r),null;case 13:if(qn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));La()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Je(it),null;case 4:return nr(),null;case 10:return $n(r.type),null;case 22:case 23:return qn(r),jh(),i!==null&&Je(_s),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return $n(st),null;case 25:return null;default:return null}}function x_(i,r){switch(Mh(r),r.tag){case 3:$n(st),nr();break;case 26:case 27:case 5:wl(r);break;case 4:nr();break;case 13:qn(r);break;case 19:Je(it);break;case 10:$n(r.type);break;case 22:case 23:qn(r),jh(),i!==null&&Je(_s);break;case 24:$n(st)}}var oA={getCacheForType:function(i){var r=_t(st),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},lA=typeof WeakMap=="function"?WeakMap:Map,Ve=0,ke=null,ge=null,be=0,Ie=0,Gt=null,Jn=!1,Rr=!1,kd=!1,ei=0,qe=0,Pi=0,Rs=0,Id=0,ln=0,Nr=0,no=null,Dn=null,Md=!1,Ld=0,mc=1/0,pc=null,Ui=null,gc=!1,Ns=null,io=0,Pd=0,Ud=null,so=0,jd=null;function Yt(){if(Ve&2&&be!==0)return be&-be;if(q.T!==null){var i=br;return i!==0?i:Yd()}return qg()}function T_(){ln===0&&(ln=!(be&536870912)||Se?Vg():536870912);var i=sn.current;return i!==null&&(i.flags|=32),ln}function At(i,r,o){(i===ke&&Ie===2||i.cancelPendingCommit!==null)&&(Dr(i,0),ti(i,be,ln,!1)),Sa(i,o),(!(Ve&2)||i!==ke)&&(i===ke&&(!(Ve&2)&&(Rs|=o),qe===4&&ti(i,be,ln,!1)),On(i))}function w_(i,r,o){if(Ve&6)throw Error(s(327));var c=!o&&(r&60)===0&&(r&i.expiredLanes)===0||Ea(i,r),h=c?hA(i,r):Hd(i,r,!0),p=c;do{if(h===0){Rr&&!c&&ti(i,r,0,!1);break}else if(h===6)ti(i,r,0,!Jn);else{if(o=i.current.alternate,p&&!cA(o)){h=Hd(i,r,!1),p=!1;continue}if(h===2){if(p=r,i.errorRecoveryDisabledLanes&p)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var E=i;h=no;var T=E.current.memoizedState.isDehydrated;if(T&&(Dr(E,_).flags|=256),_=Hd(E,_,!1),_!==2){if(kd&&!T){E.errorRecoveryDisabledLanes|=p,Rs|=p,h=4;break e}p=Dn,Dn=h,p!==null&&Vd(p)}h=_}if(p=!1,h!==2)continue}}if(h===1){Dr(i,0),ti(i,r,0,!0);break}e:{switch(c=i,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){ti(c,r,ln,!Jn);break e}break;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(c.finishedWork=o,c.finishedLanes=r,(r&62914560)===r&&(p=Ld+300-Cn(),10<p)){if(ti(c,r,ln,!Jn),Nl(c,0)!==0)break e;c.timeoutHandle=W_(C_.bind(null,c,o,Dn,pc,Md,r,ln,Rs,Nr,Jn,2,-0,0),p);break e}C_(c,o,Dn,pc,Md,r,ln,Rs,Nr,Jn,0,-0,0)}}break}while(!0);On(i)}function Vd(i){Dn===null?Dn=i:Dn.push.apply(Dn,i)}function C_(i,r,o,c,h,p,_,E,T,O,V,z,P){var j=r.subtreeFlags;if((j&8192||(j&16785408)===16785408)&&(uo={stylesheets:null,count:0,unsuspend:qA},g_(r),r=YA(),r!==null)){i.cancelPendingCommit=r(I_.bind(null,i,o,c,h,_,E,T,1,z,P)),ti(i,p,_,!O);return}I_(i,o,c,h,_,E,T,V,z,P)}function cA(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],p=h.getSnapshot;h=h.value;try{if(!Ht(p(),h))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ti(i,r,o,c){r&=~Id,r&=~Rs,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var h=r;0<h;){var p=31-zt(h),_=1<<p;c[p]=-1,h&=~_}o!==0&&zg(i,o,r)}function yc(){return Ve&6?!0:(ro(0),!1)}function Bd(){if(ge!==null){if(Ie===0)var i=ge.return;else i=ge,Kn=Ts=null,Yh(i),vr=null,Va=0,i=ge;for(;i!==null;)x_(i.alternate,i),i=i.return;ge=null}}function Dr(i,r){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,RA(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Bd(),ke=i,ge=o=Li(i.current,null),be=r,Ie=0,Gt=null,Jn=!1,Rr=Ea(i,r),kd=!1,Nr=ln=Id=Rs=Pi=qe=0,Dn=no=null,Md=!1,r&8&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var h=31-zt(c),p=1<<h;r|=i[h],c&=~p}return ei=r,zl(),o}function A_(i,r){de=null,q.H=Nn,r===Ua?(r=Hy(),Ie=3):r===Vy?(r=Hy(),Ie=4):Ie=r===Bv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Gt=r,ge===null&&(qe=1,oc(i,en(r,i.current)))}function R_(){var i=q.H;return q.H=Nn,i===null?Nn:i}function N_(){var i=q.A;return q.A=oA,i}function zd(){qe=4,Jn||(be&4194176)!==be&&sn.current!==null||(Rr=!0),!(Pi&134217727)&&!(Rs&134217727)||ke===null||ti(ke,be,ln,!1)}function Hd(i,r,o){var c=Ve;Ve|=2;var h=R_(),p=N_();(ke!==i||be!==r)&&(pc=null,Dr(i,r)),r=!1;var _=qe;e:do try{if(Ie!==0&&ge!==null){var E=ge,T=Gt;switch(Ie){case 8:Bd(),_=6;break e;case 3:case 2:case 6:sn.current===null&&(r=!0);var O=Ie;if(Ie=0,Gt=null,Or(i,E,T,O),o&&Rr){_=0;break e}break;default:O=Ie,Ie=0,Gt=null,Or(i,E,T,O)}}uA(),_=qe;break}catch(V){A_(i,V)}while(!0);return r&&i.shellSuspendCounter++,Kn=Ts=null,Ve=c,q.H=h,q.A=p,ge===null&&(ke=null,be=0,zl()),_}function uA(){for(;ge!==null;)D_(ge)}function hA(i,r){var o=Ve;Ve|=2;var c=R_(),h=N_();ke!==i||be!==r?(pc=null,mc=Cn()+500,Dr(i,r)):Rr=Ea(i,r);e:do try{if(Ie!==0&&ge!==null){r=ge;var p=Gt;t:switch(Ie){case 1:Ie=0,Gt=null,Or(i,r,p,1);break;case 2:if(By(p)){Ie=0,Gt=null,O_(r);break}r=function(){Ie===2&&ke===i&&(Ie=7),On(i)},p.then(r,r);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:By(p)?(Ie=0,Gt=null,O_(r)):(Ie=0,Gt=null,Or(i,r,p,7));break;case 5:var _=null;switch(ge.tag){case 26:_=ge.memoizedState;case 5:case 27:var E=ge;if(!_||a0(_)){Ie=0,Gt=null;var T=E.sibling;if(T!==null)ge=T;else{var O=E.return;O!==null?(ge=O,vc(O)):ge=null}break t}}Ie=0,Gt=null,Or(i,r,p,5);break;case 6:Ie=0,Gt=null,Or(i,r,p,6);break;case 8:Bd(),qe=6;break e;default:throw Error(s(462))}}dA();break}catch(V){A_(i,V)}while(!0);return Kn=Ts=null,q.H=c,q.A=h,Ve=o,ge!==null?0:(ke=null,be=0,zl(),qe)}function dA(){for(;ge!==null&&!M1();)D_(ge)}function D_(i){var r=Zv(i.alternate,i,ei);i.memoizedProps=i.pendingProps,r===null?vc(i):ge=r}function O_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Yv(o,r,r.pendingProps,r.type,void 0,be);break;case 11:r=Yv(o,r,r.pendingProps,r.type.render,r.ref,be);break;case 5:Yh(r);default:x_(o,r),r=ge=b_(r,ei),r=Zv(o,r,ei)}i.memoizedProps=i.pendingProps,r===null?vc(i):ge=r}function Or(i,r,o,c){Kn=Ts=null,Yh(r),vr=null,Va=0;var h=r.return;try{if(eA(i,h,r,o,be)){qe=1,oc(i,en(o,i.current)),ge=null;return}}catch(p){if(h!==null)throw ge=h,p;qe=1,oc(i,en(o,i.current)),ge=null;return}r.flags&32768?(Se||c===1?i=!0:Rr||be&536870912?i=!1:(Jn=i=!0,(c===2||c===3||c===6)&&(c=sn.current,c!==null&&c.tag===13&&(c.flags|=16384))),k_(r,i)):vc(r)}function vc(i){var r=i;do{if(r.flags&32768){k_(r,Jn);return}i=r.return;var o=rA(r.alternate,r,ei);if(o!==null){ge=o;return}if(r=r.sibling,r!==null){ge=r;return}ge=r=i}while(r!==null);qe===0&&(qe=5)}function k_(i,r){do{var o=aA(i.alternate,i);if(o!==null){o.flags&=32767,ge=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){ge=i;return}ge=i=o}while(i!==null);qe=6,ge=null}function I_(i,r,o,c,h,p,_,E,T,O){var V=q.T,z=W.p;try{W.p=2,q.T=null,fA(i,r,o,c,z,h,p,_,E,T,O)}finally{q.T=V,W.p=z}}function fA(i,r,o,c,h,p,_,E){do kr();while(Ns!==null);if(Ve&6)throw Error(s(327));var T=i.finishedWork;if(c=i.finishedLanes,T===null)return null;if(i.finishedWork=null,i.finishedLanes=0,T===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var O=T.lanes|T.childLanes;if(O|=Oh,G1(i,c,O,p,_,E),i===ke&&(ge=ke=null,be=0),!(T.subtreeFlags&10256)&&!(T.flags&10256)||gc||(gc=!0,Pd=O,Ud=o,yA(Cl,function(){return kr(),null})),o=(T.flags&15990)!==0,T.subtreeFlags&15990||o?(o=q.T,q.T=null,p=W.p,W.p=2,_=Ve,Ve|=4,nA(i,T),f_(T,i),UC(ef,i.containerInfo),Dc=!!Jd,ef=Jd=null,i.current=T,c_(i,T.alternate,T),L1(),Ve=_,W.p=p,q.T=o):i.current=T,gc?(gc=!1,Ns=i,io=c):M_(i,O),O=i.pendingLanes,O===0&&(Ui=null),B1(T.stateNode),On(i),r!==null)for(h=i.onRecoverableError,T=0;T<r.length;T++)O=r[T],h(O.value,{componentStack:O.stack});return io&3&&kr(),O=i.pendingLanes,c&4194218&&O&42?i===jd?so++:(so=0,jd=i):so=0,ro(0),null}function M_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,za(r)))}function kr(){if(Ns!==null){var i=Ns,r=Pd;Pd=0;var o=Fg(io),c=q.T,h=W.p;try{if(W.p=32>o?32:o,q.T=null,Ns===null)var p=!1;else{o=Ud,Ud=null;var _=Ns,E=io;if(Ns=null,io=0,Ve&6)throw Error(s(331));var T=Ve;if(Ve|=4,v_(_.current),p_(_,_.current,E,o),Ve=T,ro(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(ba,_)}catch{}p=!0}return p}finally{W.p=h,q.T=c,M_(i,r)}}return!1}function L_(i,r,o){r=en(o,r),r=ad(i.stateNode,r,2),i=Oi(i,r,2),i!==null&&(Sa(i,2),On(i))}function De(i,r,o){if(i.tag===3)L_(i,i,o);else for(;r!==null;){if(r.tag===3){L_(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ui===null||!Ui.has(c))){i=en(o,i),o=jv(2),c=Oi(r,o,2),c!==null&&(Vv(o,c,r,i),Sa(c,2),On(c));break}}r=r.return}}function Fd(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new lA;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(o)||(kd=!0,h.add(o),i=mA.bind(null,i,r,o),r.then(i,i))}function mA(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ke===i&&(be&o)===o&&(qe===4||qe===3&&(be&62914560)===be&&300>Cn()-Ld?!(Ve&2)&&Dr(i,0):Id|=o,Nr===be&&(Nr=0)),On(i)}function P_(i,r){r===0&&(r=Bg()),i=xi(i,r),i!==null&&(Sa(i,r),On(i))}function pA(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),P_(i,o)}function gA(i,r){var o=0;switch(i.tag){case 13:var c=i.stateNode,h=i.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),P_(i,o)}function yA(i,r){return oh(i,r)}var _c=null,Ir=null,qd=!1,bc=!1,Gd=!1,Ds=0;function On(i){i!==Ir&&i.next===null&&(Ir===null?_c=Ir=i:Ir=Ir.next=i),bc=!0,qd||(qd=!0,_A(vA))}function ro(i,r){if(!Gd&&bc){Gd=!0;do for(var o=!1,c=_c;c!==null;){if(i!==0){var h=c.pendingLanes;if(h===0)var p=0;else{var _=c.suspendedLanes,E=c.pingedLanes;p=(1<<31-zt(42|i)+1)-1,p&=h&~(_&~E),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(o=!0,V_(c,p))}else p=be,p=Nl(c,c===ke?p:0),!(p&3)||Ea(c,p)||(o=!0,V_(c,p));c=c.next}while(o);Gd=!1}}function vA(){bc=qd=!1;var i=0;Ds!==0&&(AA()&&(i=Ds),Ds=0);for(var r=Cn(),o=null,c=_c;c!==null;){var h=c.next,p=U_(c,r);p===0?(c.next=null,o===null?_c=h:o.next=h,h===null&&(Ir=o)):(o=c,(i!==0||p&3)&&(bc=!0)),c=h}ro(i)}function U_(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,h=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var _=31-zt(p),E=1<<_,T=h[_];T===-1?(!(E&o)||E&c)&&(h[_]=q1(E,r)):T<=r&&(i.expiredLanes|=E),p&=~E}if(r=ke,o=be,o=Nl(i,i===r?o:0),c=i.callbackNode,o===0||i===r&&Ie===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&lh(c),i.callbackNode=null,i.callbackPriority=0;if(!(o&3)||Ea(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&lh(c),Fg(o)){case 2:case 8:o=Ug;break;case 32:o=Cl;break;case 268435456:o=jg;break;default:o=Cl}return c=j_.bind(null,i),o=oh(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&lh(c),i.callbackPriority=2,i.callbackNode=null,2}function j_(i,r){var o=i.callbackNode;if(kr()&&i.callbackNode!==o)return null;var c=be;return c=Nl(i,i===ke?c:0),c===0?null:(w_(i,c,r),U_(i,Cn()),i.callbackNode!=null&&i.callbackNode===o?j_.bind(null,i):null)}function V_(i,r){if(kr())return null;w_(i,r,!0)}function _A(i){NA(function(){Ve&6?oh(Pg,i):i()})}function Yd(){return Ds===0&&(Ds=Vg()),Ds}function B_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ml(""+i)}function z_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function bA(i,r,o,c,h){if(r==="submit"&&o&&o.stateNode===h){var p=B_((h[It]||null).action),_=c.submitter;_&&(r=(r=_[It]||null)?B_(r.formAction):_.getAttribute("formAction"),r!==null&&(p=r,_=null));var E=new jl("action","action",null,c,h);i.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ds!==0){var T=_?z_(h,_):new FormData(h);td(o,{pending:!0,data:T,method:h.method,action:p},null,T)}}else typeof p=="function"&&(E.preventDefault(),T=_?z_(h,_):new FormData(h),td(o,{pending:!0,data:T,method:h.method,action:p},p,T))},currentTarget:h}]})}}for(var Kd=0;Kd<Iy.length;Kd++){var $d=Iy[Kd],EA=$d.toLowerCase(),SA=$d[0].toUpperCase()+$d.slice(1);fn(EA,"on"+SA)}fn(Ry,"onAnimationEnd"),fn(Ny,"onAnimationIteration"),fn(Dy,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(VC,"onTransitionRun"),fn(BC,"onTransitionStart"),fn(zC,"onTransitionCancel"),fn(Oy,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function H_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],h=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var _=c.length-1;0<=_;_--){var E=c[_],T=E.instance,O=E.currentTarget;if(E=E.listener,T!==p&&h.isPropagationStopped())break e;p=E,h.currentTarget=O;try{p(h)}catch(V){ac(V)}h.currentTarget=null,p=T}else for(_=0;_<c.length;_++){if(E=c[_],T=E.instance,O=E.currentTarget,E=E.listener,T!==p&&h.isPropagationStopped())break e;p=E,h.currentTarget=O;try{p(h)}catch(V){ac(V)}h.currentTarget=null,p=T}}}}function ve(i,r){var o=r[uh];o===void 0&&(o=r[uh]=new Set);var c=i+"__bubble";o.has(c)||(F_(r,i,2,!1),o.add(c))}function Wd(i,r,o){var c=0;r&&(c|=4),F_(o,i,c,r)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Xd(i){if(!i[Ec]){i[Ec]=!0,Yg.forEach(function(o){o!=="selectionchange"&&(xA.has(o)||Wd(o,!1,i),Wd(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ec]||(r[Ec]=!0,Wd("selectionchange",!1,r))}}function F_(i,r,o,c){switch(d0(r)){case 2:var h=WA;break;case 8:h=XA;break;default:h=uf}o=h.bind(null,r,o,i),h=void 0,!vh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?i.addEventListener(r,o,{capture:!0,passive:h}):i.addEventListener(r,o,!0):h!==void 0?i.addEventListener(r,o,{passive:h}):i.addEventListener(r,o,!1)}function Qd(i,r,o,c,h){var p=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var E=c.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(_===4)for(_=c.return;_!==null;){var T=_.tag;if((T===3||T===4)&&(T=_.stateNode.containerInfo,T===h||T.nodeType===8&&T.parentNode===h))return;_=_.return}for(;E!==null;){if(_=us(E),_===null)return;if(T=_.tag,T===5||T===6||T===26||T===27){c=p=_;continue e}E=E.parentNode}}c=c.return}sy(function(){var O=p,V=gh(o),z=[];e:{var P=ky.get(i);if(P!==void 0){var j=jl,Q=i;switch(i){case"keypress":if(Pl(o)===0)break e;case"keydown":case"keyup":j=gC;break;case"focusin":Q="focus",j=Sh;break;case"focusout":Q="blur",j=Sh;break;case"beforeblur":case"afterblur":j=Sh;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=sC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=_C;break;case Ry:case Ny:case Dy:j=oC;break;case Oy:j=EC;break;case"scroll":case"scrollend":j=nC;break;case"wheel":j=xC;break;case"copy":case"cut":case"paste":j=cC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=cy;break;case"toggle":case"beforetoggle":j=wC}var ce=(r&4)!==0,Ge=!ce&&(i==="scroll"||i==="scrollend"),I=ce?P!==null?P+"Capture":null:P;ce=[];for(var R=O,L;R!==null;){var B=R;if(L=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||L===null||I===null||(B=wa(R,I),B!=null&&ce.push(oo(R,B,L))),Ge)break;R=R.return}0<ce.length&&(P=new j(P,Q,null,o,V),z.push({event:P,listeners:ce}))}}if(!(r&7)){e:{if(P=i==="mouseover"||i==="pointerover",j=i==="mouseout"||i==="pointerout",P&&o!==ph&&(Q=o.relatedTarget||o.fromElement)&&(us(Q)||Q[ir]))break e;if((j||P)&&(P=V.window===V?V:(P=V.ownerDocument)?P.defaultView||P.parentWindow:window,j?(Q=o.relatedTarget||o.toElement,j=O,Q=Q?us(Q):null,Q!==null&&(Ge=J(Q),ce=Q.tag,Q!==Ge||ce!==5&&ce!==27&&ce!==6)&&(Q=null)):(j=null,Q=O),j!==Q)){if(ce=oy,B="onMouseLeave",I="onMouseEnter",R="mouse",(i==="pointerout"||i==="pointerover")&&(ce=cy,B="onPointerLeave",I="onPointerEnter",R="pointer"),Ge=j==null?P:Ta(j),L=Q==null?P:Ta(Q),P=new ce(B,R+"leave",j,o,V),P.target=Ge,P.relatedTarget=L,B=null,us(V)===O&&(ce=new ce(I,R+"enter",Q,o,V),ce.target=L,ce.relatedTarget=Ge,B=ce),Ge=B,j&&Q)t:{for(ce=j,I=Q,R=0,L=ce;L;L=Mr(L))R++;for(L=0,B=I;B;B=Mr(B))L++;for(;0<R-L;)ce=Mr(ce),R--;for(;0<L-R;)I=Mr(I),L--;for(;R--;){if(ce===I||I!==null&&ce===I.alternate)break t;ce=Mr(ce),I=Mr(I)}ce=null}else ce=null;j!==null&&q_(z,P,j,ce,!1),Q!==null&&Ge!==null&&q_(z,Ge,Q,ce,!0)}}e:{if(P=O?Ta(O):window,j=P.nodeName&&P.nodeName.toLowerCase(),j==="select"||j==="input"&&P.type==="file")var X=yy;else if(py(P))if(vy)X=LC;else{X=IC;var fe=kC}else j=P.nodeName,!j||j.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?O&&mh(O.elementType)&&(X=yy):X=MC;if(X&&(X=X(i,O))){gy(z,X,o,V);break e}fe&&fe(i,P,O),i==="focusout"&&O&&P.type==="number"&&O.memoizedProps.value!=null&&fh(P,"number",P.value)}switch(fe=O?Ta(O):window,i){case"focusin":(py(fe)||fe.contentEditable==="true")&&(dr=fe,Rh=O,Ia=null);break;case"focusout":Ia=Rh=dr=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Cy(z,o,V);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":Cy(z,o,V)}var ee;if(Th)e:{switch(i){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else hr?fy(i,o)&&(se="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(se="onCompositionStart");se&&(uy&&o.locale!=="ko"&&(hr||se!=="onCompositionStart"?se==="onCompositionEnd"&&hr&&(ee=ry()):(Si=V,_h="value"in Si?Si.value:Si.textContent,hr=!0)),fe=Sc(O,se),0<fe.length&&(se=new ly(se,i,null,o,V),z.push({event:se,listeners:fe}),ee?se.data=ee:(ee=my(o),ee!==null&&(se.data=ee)))),(ee=AC?RC(i,o):NC(i,o))&&(se=Sc(O,"onBeforeInput"),0<se.length&&(fe=new ly("onBeforeInput","beforeinput",null,o,V),z.push({event:fe,listeners:se}),fe.data=ee)),bA(z,i,O,o,V)}H_(z,r)})}function oo(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Sc(i,r){for(var o=r+"Capture",c=[];i!==null;){var h=i,p=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=wa(i,o),h!=null&&c.unshift(oo(i,h,p)),h=wa(i,r),h!=null&&c.push(oo(i,h,p))),i=i.return}return c}function Mr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function q_(i,r,o,c,h){for(var p=r._reactName,_=[];o!==null&&o!==c;){var E=o,T=E.alternate,O=E.stateNode;if(E=E.tag,T!==null&&T===c)break;E!==5&&E!==26&&E!==27||O===null||(T=O,h?(O=wa(o,p),O!=null&&_.unshift(oo(o,O,T))):h||(O=wa(o,p),O!=null&&_.push(oo(o,O,T)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var TA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function G_(i){return(typeof i=="string"?i:""+i).replace(TA,`
`).replace(wA,"")}function Y_(i,r){return r=G_(r),G_(i)===r}function xc(){}function Re(i,r,o,c,h,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||lr(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&lr(i,""+c);break;case"className":Ol(i,"class",c);break;case"tabIndex":Ol(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(i,o,c);break;case"style":ny(i,c,p);break;case"data":if(r!=="object"){Ol(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ml(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Re(i,r,"name",h.name,h,null),Re(i,r,"formEncType",h.formEncType,h,null),Re(i,r,"formMethod",h.formMethod,h,null),Re(i,r,"formTarget",h.formTarget,h,null)):(Re(i,r,"encType",h.encType,h,null),Re(i,r,"method",h.method,h,null),Re(i,r,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ml(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=xc);break;case"onScroll":c!=null&&ve("scroll",i);break;case"onScrollEnd":c!=null&&ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ml(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ve("beforetoggle",i),ve("toggle",i),Dl(i,"popover",c);break;case"xlinkActuate":zn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":zn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":zn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":zn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":zn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":zn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":zn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":zn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":zn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Dl(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=eC.get(o)||o,Dl(i,o,c))}}function Zd(i,r,o,c,h,p){switch(o){case"style":ny(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?lr(i,c):(typeof c=="number"||typeof c=="bigint")&&lr(i,""+c);break;case"onScroll":c!=null&&ve("scroll",i);break;case"onScrollEnd":c!=null&&ve("scrollend",i);break;case"onClick":c!=null&&(i.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kg.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),r=o.slice(2,h?o.length-7:void 0),p=i[It]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,h),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,h);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Dl(i,o,c)}}}function pt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",i),ve("load",i);var c=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var _=o[p];if(_!=null)switch(p){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Re(i,r,p,_,o,null)}}h&&Re(i,r,"srcSet",o.srcSet,o,null),c&&Re(i,r,"src",o.src,o,null);return;case"input":ve("invalid",i);var E=p=_=h=null,T=null,O=null;for(c in o)if(o.hasOwnProperty(c)){var V=o[c];if(V!=null)switch(c){case"name":h=V;break;case"type":_=V;break;case"checked":T=V;break;case"defaultChecked":O=V;break;case"value":p=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,r));break;default:Re(i,r,c,V,o,null)}}Zg(i,p,E,T,O,_,h,!1),kl(i);return;case"select":ve("invalid",i),c=_=p=null;for(h in o)if(o.hasOwnProperty(h)&&(E=o[h],E!=null))switch(h){case"value":p=E;break;case"defaultValue":_=E;break;case"multiple":c=E;default:Re(i,r,h,E,o,null)}r=p,o=_,i.multiple=!!c,r!=null?or(i,!!c,r,!1):o!=null&&or(i,!!c,o,!0);return;case"textarea":ve("invalid",i),p=h=c=null;for(_ in o)if(o.hasOwnProperty(_)&&(E=o[_],E!=null))switch(_){case"value":c=E;break;case"defaultValue":h=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Re(i,r,_,E,o,null)}ey(i,c,h,p),kl(i);return;case"option":for(T in o)if(o.hasOwnProperty(T)&&(c=o[T],c!=null))switch(T){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Re(i,r,T,c,o,null)}return;case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":ve("load",i);break;case"video":case"audio":for(c=0;c<ao.length;c++)ve(ao[c],i);break;case"image":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"embed":case"source":case"link":ve("error",i),ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Re(i,r,O,c,o,null)}return;default:if(mh(r)){for(V in o)o.hasOwnProperty(V)&&(c=o[V],c!==void 0&&Zd(i,r,V,c,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(c=o[E],c!=null&&Re(i,r,E,c,o,null))}function CA(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,_=null,E=null,T=null,O=null,V=null;for(j in o){var z=o[j];if(o.hasOwnProperty(j)&&z!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":T=z;default:c.hasOwnProperty(j)||Re(i,r,j,null,c,z)}}for(var P in c){var j=c[P];if(z=o[P],c.hasOwnProperty(P)&&(j!=null||z!=null))switch(P){case"type":p=j;break;case"name":h=j;break;case"checked":O=j;break;case"defaultChecked":V=j;break;case"value":_=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:j!==z&&Re(i,r,P,j,c,z)}}dh(i,_,E,T,O,V,p,h);return;case"select":j=_=E=P=null;for(p in o)if(T=o[p],o.hasOwnProperty(p)&&T!=null)switch(p){case"value":break;case"multiple":j=T;default:c.hasOwnProperty(p)||Re(i,r,p,null,c,T)}for(h in c)if(p=c[h],T=o[h],c.hasOwnProperty(h)&&(p!=null||T!=null))switch(h){case"value":P=p;break;case"defaultValue":E=p;break;case"multiple":_=p;default:p!==T&&Re(i,r,h,p,c,T)}r=E,o=_,c=j,P!=null?or(i,!!o,P,!1):!!c!=!!o&&(r!=null?or(i,!!o,r,!0):or(i,!!o,o?[]:"",!1));return;case"textarea":j=P=null;for(E in o)if(h=o[E],o.hasOwnProperty(E)&&h!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Re(i,r,E,null,c,h)}for(_ in c)if(h=c[_],p=o[_],c.hasOwnProperty(_)&&(h!=null||p!=null))switch(_){case"value":P=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&Re(i,r,_,h,c,p)}Jg(i,P,j);return;case"option":for(var Q in o)if(P=o[Q],o.hasOwnProperty(Q)&&P!=null&&!c.hasOwnProperty(Q))switch(Q){case"selected":i.selected=!1;break;default:Re(i,r,Q,null,c,P)}for(T in c)if(P=c[T],j=o[T],c.hasOwnProperty(T)&&P!==j&&(P!=null||j!=null))switch(T){case"selected":i.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Re(i,r,T,P,c,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in o)P=o[ce],o.hasOwnProperty(ce)&&P!=null&&!c.hasOwnProperty(ce)&&Re(i,r,ce,null,c,P);for(O in c)if(P=c[O],j=o[O],c.hasOwnProperty(O)&&P!==j&&(P!=null||j!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,r));break;default:Re(i,r,O,P,c,j)}return;default:if(mh(r)){for(var Ge in o)P=o[Ge],o.hasOwnProperty(Ge)&&P!==void 0&&!c.hasOwnProperty(Ge)&&Zd(i,r,Ge,void 0,c,P);for(V in c)P=c[V],j=o[V],!c.hasOwnProperty(V)||P===j||P===void 0&&j===void 0||Zd(i,r,V,P,c,j);return}}for(var I in o)P=o[I],o.hasOwnProperty(I)&&P!=null&&!c.hasOwnProperty(I)&&Re(i,r,I,null,c,P);for(z in c)P=c[z],j=o[z],!c.hasOwnProperty(z)||P===j||P==null&&j==null||Re(i,r,z,P,c,j)}var Jd=null,ef=null;function Tc(i){return i.nodeType===9?i:i.ownerDocument}function K_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function tf(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nf=null;function AA(){var i=window.event;return i&&i.type==="popstate"?i===nf?!1:(nf=i,!0):(nf=null,!1)}var W_=typeof setTimeout=="function"?setTimeout:void 0,RA=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,NA=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(i){return X_.resolve(null).then(i).catch(DA)}:W_;function DA(i){setTimeout(function(){throw i})}function sf(i,r){var o=r,c=0;do{var h=o.nextSibling;if(i.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(c===0){i.removeChild(h),go(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=h}while(o);go(r)}function rf(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rf(o),hh(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function OA(i,r,o,c){for(;i.nodeType===1;){var h=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[xa])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==h.rel||i.getAttribute("href")!==(h.href==null?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=gn(i.nextSibling),i===null)break}return null}function kA(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=gn(i.nextSibling),i===null))return null;return i}function gn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function Q_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function Z_(i,r,o){switch(r=Tc(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var cn=new Map,J_=new Set;function wc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ni=W.d;W.d={f:IA,r:MA,D:LA,C:PA,L:UA,m:jA,X:BA,S:VA,M:zA};function IA(){var i=ni.f(),r=yc();return i||r}function MA(i){var r=sr(i);r!==null&&r.tag===5&&r.type==="form"?Cv(r):ni.r(i)}var Lr=typeof document>"u"?null:document;function e0(i,r,o){var c=Lr;if(c&&typeof r=="string"&&r){var h=Zt(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),J_.has(h)||(J_.add(h),i={rel:i,crossOrigin:o,href:r},c.querySelector(h)===null&&(r=c.createElement("link"),pt(r,"link",i),at(r),c.head.appendChild(r)))}}function LA(i){ni.D(i),e0("dns-prefetch",i,null)}function PA(i,r){ni.C(i,r),e0("preconnect",i,r)}function UA(i,r,o){ni.L(i,r,o);var c=Lr;if(c&&i&&r){var h='link[rel="preload"][as="'+Zt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Zt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Zt(o.imageSizes)+'"]')):h+='[href="'+Zt(i)+'"]';var p=h;switch(r){case"style":p=Pr(i);break;case"script":p=Ur(i)}cn.has(p)||(i=ne({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),cn.set(p,i),c.querySelector(h)!==null||r==="style"&&c.querySelector(lo(p))||r==="script"&&c.querySelector(co(p))||(r=c.createElement("link"),pt(r,"link",i),at(r),c.head.appendChild(r)))}}function jA(i,r){ni.m(i,r);var o=Lr;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Zt(c)+'"][href="'+Zt(i)+'"]',p=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ur(i)}if(!cn.has(p)&&(i=ne({rel:"modulepreload",href:i},r),cn.set(p,i),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(co(p)))return}c=o.createElement("link"),pt(c,"link",i),at(c),o.head.appendChild(c)}}}function VA(i,r,o){ni.S(i,r,o);var c=Lr;if(c&&i){var h=rr(c).hoistableStyles,p=Pr(i);r=r||"default";var _=h.get(p);if(!_){var E={loading:0,preload:null};if(_=c.querySelector(lo(p)))E.loading=5;else{i=ne({rel:"stylesheet",href:i,"data-precedence":r},o),(o=cn.get(p))&&af(i,o);var T=_=c.createElement("link");at(T),pt(T,"link",i),T._p=new Promise(function(O,V){T.onload=O,T.onerror=V}),T.addEventListener("load",function(){E.loading|=1}),T.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cc(_,r,c)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(p,_)}}}function BA(i,r){ni.X(i,r);var o=Lr;if(o&&i){var c=rr(o).hoistableScripts,h=Ur(i),p=c.get(h);p||(p=o.querySelector(co(h)),p||(i=ne({src:i,async:!0},r),(r=cn.get(h))&&of(i,r),p=o.createElement("script"),at(p),pt(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function zA(i,r){ni.M(i,r);var o=Lr;if(o&&i){var c=rr(o).hoistableScripts,h=Ur(i),p=c.get(h);p||(p=o.querySelector(co(h)),p||(i=ne({src:i,async:!0,type:"module"},r),(r=cn.get(h))&&of(i,r),p=o.createElement("script"),at(p),pt(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function t0(i,r,o,c){var h=(h=_i.current)?wc(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Pr(o.href),o=rr(h).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Pr(o.href);var p=rr(h).hoistableStyles,_=p.get(i);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,_),(p=h.querySelector(lo(i)))&&!p._p&&(_.instance=p,_.state.loading=5),cn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cn.set(i,o),p||HA(h,i,o,_.state))),r&&c===null)throw Error(s(528,""));return _}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ur(o),o=rr(h).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Pr(i){return'href="'+Zt(i)+'"'}function lo(i){return'link[rel="stylesheet"]['+i+"]"}function n0(i){return ne({},i,{"data-precedence":i.precedence,precedence:null})}function HA(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),pt(r,"link",o),at(r),i.head.appendChild(r))}function Ur(i){return'[src="'+Zt(i)+'"]'}function co(i){return"script[async]"+i}function i0(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Zt(o.href)+'"]');if(c)return r.instance=c,at(c),c;var h=ne({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),at(c),pt(c,"style",h),Cc(c,o.precedence,i),r.instance=c;case"stylesheet":h=Pr(o.href);var p=i.querySelector(lo(h));if(p)return r.state.loading|=4,r.instance=p,at(p),p;c=n0(o),(h=cn.get(h))&&af(c,h),p=(i.ownerDocument||i).createElement("link"),at(p);var _=p;return _._p=new Promise(function(E,T){_.onload=E,_.onerror=T}),pt(p,"link",c),r.state.loading|=4,Cc(p,o.precedence,i),r.instance=p;case"script":return p=Ur(o.src),(h=i.querySelector(co(p)))?(r.instance=h,at(h),h):(c=o,(h=cn.get(p))&&(c=ne({},o),of(c,h)),i=i.ownerDocument||i,h=i.createElement("script"),at(h),pt(h,"link",c),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(c=r.instance,r.state.loading|=4,Cc(c,o.precedence,i));return r.instance}function Cc(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,p=h,_=0;_<c.length;_++){var E=c[_];if(E.dataset.precedence===r)p=E;else if(p!==h)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function af(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function of(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Ac=null;function s0(i,r,o){if(Ac===null){var c=new Map,h=Ac=new Map;h.set(o,c)}else h=Ac,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),h=0;h<o.length;h++){var p=o[h];if(!(p[xa]||p[vt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(r)||"";_=i+_;var E=c.get(_);E?E.push(p):c.set(_,[p])}}return c}function r0(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function FA(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function a0(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var uo=null;function qA(){}function GA(i,r,o){if(uo===null)throw Error(s(475));var c=uo;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var h=Pr(o.href),p=i.querySelector(lo(h));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Rc.bind(c),i.then(c,c)),r.state.loading|=4,r.instance=p,at(p);return}p=i.ownerDocument||i,o=n0(o),(h=cn.get(h))&&af(o,h),p=p.createElement("link"),at(p);var _=p;_._p=new Promise(function(E,T){_.onload=E,_.onerror=T}),pt(p,"link",o),r.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,i),(i=r.state.preload)&&!(r.state.loading&3)&&(c.count++,r=Rc.bind(c),i.addEventListener("load",r),i.addEventListener("error",r))}}function YA(){if(uo===null)throw Error(s(475));var i=uo;return i.stylesheets&&i.count===0&&lf(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&lf(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Nc=null;function lf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nc=new Map,r.forEach(KA,i),Nc=null,Rc.call(i))}function KA(i,r){if(!(r.state.loading&4)){var o=Nc.get(i);if(o)var c=o.get(null);else{o=new Map,Nc.set(i,o);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var _=h[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),c=_)}c&&o.set(null,c)}h=r.instance,_=h.getAttribute("data-precedence"),p=o.get(_)||c,p===c&&o.set(null,h),o.set(_,h),this.count++,c=Rc.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),p?p.parentNode.insertBefore(h,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var ho={$$typeof:S,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function $A(i,r,o,c,h,p,_,E){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ch(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ch(0),this.hiddenUpdates=ch(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function o0(i,r,o,c,h,p,_,E,T,O,V,z){return i=new $A(i,r,o,_,E,T,O,z),r=1,p===!0&&(r|=24),p=on(3,null,null,r),i.current=p,p.stateNode=i,r=Vh(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},_d(p),i}function l0(i){return i?(i=pr,i):pr}function c0(i,r,o,c,h,p){h=l0(h),c.context===null?c.context=h:c.pendingContext=h,c=Di(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=Oi(i,c,r),o!==null&&(At(o,i,r),$a(o,i,r))}function u0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function cf(i,r){u0(i,r),(i=i.alternate)&&u0(i,r)}function h0(i){if(i.tag===13){var r=xi(i,67108864);r!==null&&At(r,i,67108864),cf(i,67108864)}}var Dc=!0;function WA(i,r,o,c){var h=q.T;q.T=null;var p=W.p;try{W.p=2,uf(i,r,o,c)}finally{W.p=p,q.T=h}}function XA(i,r,o,c){var h=q.T;q.T=null;var p=W.p;try{W.p=8,uf(i,r,o,c)}finally{W.p=p,q.T=h}}function uf(i,r,o,c){if(Dc){var h=hf(c);if(h===null)Qd(i,r,c,Oc,o),f0(i,c);else if(ZA(h,i,r,o,c))c.stopPropagation();else if(f0(i,c),r&4&&-1<QA.indexOf(i)){for(;h!==null;){var p=sr(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=cs(p.pendingLanes);if(_!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var T=1<<31-zt(_);E.entanglements[1]|=T,_&=~T}On(p),!(Ve&6)&&(mc=Cn()+500,ro(0))}}break;case 13:E=xi(p,2),E!==null&&At(E,p,2),yc(),cf(p,2)}if(p=hf(c),p===null&&Qd(i,r,c,Oc,o),p===h)break;h=p}h!==null&&c.stopPropagation()}else Qd(i,r,c,null,o)}}function hf(i){return i=gh(i),df(i)}var Oc=null;function df(i){if(Oc=null,i=us(i),i!==null){var r=J(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=we(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Oc=i,null}function d0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(P1()){case Pg:return 2;case Ug:return 8;case Cl:case U1:return 32;case jg:return 268435456;default:return 32}default:return 32}}var ff=!1,ji=null,Vi=null,Bi=null,fo=new Map,mo=new Map,zi=[],QA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f0(i,r){switch(i){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":fo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(r.pointerId)}}function po(i,r,o,c,h,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},r!==null&&(r=sr(r),r!==null&&h0(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function ZA(i,r,o,c,h){switch(r){case"focusin":return ji=po(ji,i,r,o,c,h),!0;case"dragenter":return Vi=po(Vi,i,r,o,c,h),!0;case"mouseover":return Bi=po(Bi,i,r,o,c,h),!0;case"pointerover":var p=h.pointerId;return fo.set(p,po(fo.get(p)||null,i,r,o,c,h)),!0;case"gotpointercapture":return p=h.pointerId,mo.set(p,po(mo.get(p)||null,i,r,o,c,h)),!0}return!1}function m0(i){var r=us(i.target);if(r!==null){var o=J(r);if(o!==null){if(r=o.tag,r===13){if(r=we(o),r!==null){i.blockedOn=r,Y1(i.priority,function(){if(o.tag===13){var c=Yt(),h=xi(o,c);h!==null&&At(h,o,c),cf(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kc(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=hf(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);ph=c,o.target.dispatchEvent(c),ph=null}else return r=sr(o),r!==null&&h0(r),i.blockedOn=o,!1;r.shift()}return!0}function p0(i,r,o){kc(i)&&o.delete(r)}function JA(){ff=!1,ji!==null&&kc(ji)&&(ji=null),Vi!==null&&kc(Vi)&&(Vi=null),Bi!==null&&kc(Bi)&&(Bi=null),fo.forEach(p0),mo.forEach(p0)}function Ic(i,r){i.blockedOn===r&&(i.blockedOn=null,ff||(ff=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,JA)))}var Mc=null;function g0(i){Mc!==i&&(Mc=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mc===i&&(Mc=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],h=i[r+2];if(typeof c!="function"){if(df(c||o)===null)continue;break}var p=sr(o);p!==null&&(i.splice(r,3),r-=3,td(p,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function go(i){function r(T){return Ic(T,i)}ji!==null&&Ic(ji,i),Vi!==null&&Ic(Vi,i),Bi!==null&&Ic(Bi,i),fo.forEach(r),mo.forEach(r);for(var o=0;o<zi.length;o++){var c=zi[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<zi.length&&(o=zi[0],o.blockedOn===null);)m0(o),o.blockedOn===null&&zi.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],p=o[c+1],_=h[It]||null;if(typeof p=="function")_||g0(o);else if(_){var E=null;if(p&&p.hasAttribute("formAction")){if(h=p,_=p[It]||null)E=_.formAction;else if(df(h)!==null)continue}else E=_.action;typeof E=="function"?o[c+1]=E:(o.splice(c,3),c-=3),g0(o)}}}function mf(i){this._internalRoot=i}Lc.prototype.render=mf.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Yt();c0(o,c,i,r,null,null)},Lc.prototype.unmount=mf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&kr(),c0(i.current,2,null,i,null,null),yc(),r[ir]=null}};function Lc(i){this._internalRoot=i}Lc.prototype.unstable_scheduleHydration=function(i){if(i){var r=qg();i={blockedOn:null,target:i,priority:r};for(var o=0;o<zi.length&&r!==0&&r<zi[o].priority;o++);zi.splice(o,0,i),o===0&&m0(i)}};var y0=e.version;if(y0!=="19.0.0")throw Error(s(527,y0,"19.0.0"));W.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=F(r),i=i!==null?ae(i):null,i=i===null?null:i.stateNode,i};var eR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:q,findFiberByHostInstance:us,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{ba=Pc.inject(eR),Bt=Pc}catch{}}return vo.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",h=Mv,p=Lv,_=Pv,E=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=o0(i,1,!1,null,null,o,c,h,p,_,E,null),i[ir]=r.current,Xd(i.nodeType===8?i.parentNode:i),new mf(r)},vo.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,h="",p=Mv,_=Lv,E=Pv,T=null,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(T=o.unstable_transitionCallbacks),o.formState!==void 0&&(O=o.formState)),r=o0(i,1,!0,r,o??null,c,h,p,_,E,T,O),r.context=l0(null),o=r.current,c=Yt(),h=Di(c),h.callback=null,Oi(o,h,c),r.current.lanes=c,Sa(r,c),On(r),i[ir]=r.current,Xd(i),new Lc(r)},vo.version="19.0.0",vo}var A0;function uR(){if(A0)return yf.exports;A0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yf.exports=cR(),yf.exports}var hR=uR(),_o={},R0;function dR(){if(R0)return _o;R0=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.parse=u,_o.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,S){const x=new l,C=v.length;if(C<2)return x;const D=(S==null?void 0:S.decode)||g;let N=0;do{const k=v.indexOf("=",N);if(k===-1)break;const M=v.indexOf(";",N),H=M===-1?C:M;if(k>H){N=v.lastIndexOf(";",k-1)+1;continue}const U=d(v,N,k),G=f(v,k,U),te=v.slice(U,G);if(x[te]===void 0){let $=d(v,k+1,H),q=f(v,H,$);const ne=D(v.slice($,q));x[te]=ne}N=H+1}while(N<C);return x}function d(v,S,x){do{const C=v.charCodeAt(S);if(C!==32&&C!==9)return S}while(++S<x);return x}function f(v,S,x){for(;S>x;){const C=v.charCodeAt(--S);if(C!==32&&C!==9)return S+1}return x}function m(v,S,x){const C=(x==null?void 0:x.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const D=C(S);if(!e.test(D))throw new TypeError(`argument val is invalid: ${S}`);let N=v+"="+D;if(!x)return N;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);N+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);N+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);N+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);N+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(N+="; HttpOnly"),x.secure&&(N+="; Secure"),x.partitioned&&(N+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return N}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return a.call(v)==="[object Date]"}return _o}dR();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N0="popstate";function fR(t={}){function e(a,l){let{pathname:u="/",search:d="",hash:f=""}=Xs(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Qf("",{pathname:u,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let f=a.location.href,m=f.indexOf("#");d=m===-1?f:f.slice(0,m)}return d+"#"+(typeof l=="string"?l:Ho(l))}function s(a,l){xn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return pR(e,n,s,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mR(){return Math.random().toString(36).substring(2,10)}function D0(t,e){return{usr:t.state,key:t.key,idx:e}}function Qf(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:n,key:e&&e.key||s||mR()}}function Ho({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function pR(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,d="POP",f=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function y(){d="POP";let D=g(),N=D==null?null:D-m;m=D,f&&f({action:d,location:C.location,delta:N})}function v(D,N){d="PUSH";let k=Qf(C.location,D,N);n&&n(k,D),m=g()+1;let M=D0(k,m),H=C.createHref(k);try{u.pushState(M,"",H)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;a.location.assign(H)}l&&f&&f({action:d,location:C.location,delta:1})}function S(D,N){d="REPLACE";let k=Qf(C.location,D,N);n&&n(k,D),m=g();let M=D0(k,m),H=C.createHref(k);u.replaceState(M,"",H),l&&f&&f({action:d,location:C.location,delta:0})}function x(D){let N=a.location.origin!=="null"?a.location.origin:a.location.href,k=typeof D=="string"?D:Ho(D);return k=k.replace(/ $/,"%20"),ze(N,`No window.location.(origin|href) available to create URL for href: ${k}`),new URL(k,N)}let C={get action(){return d},get location(){return t(a,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(N0,y),f=D,()=>{a.removeEventListener(N0,y),f=null}},createHref(D){return e(a,D)},createURL:x,encodeLocation(D){let N=x(D);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:S,go(D){return u.go(D)}};return C}function pS(t,e,n="/"){return gR(t,e,n,!1)}function gR(t,e,n,s){let a=typeof e=="string"?Xs(e):e,l=es(a.pathname||"/",n);if(l==null)return null;let u=gS(t);yR(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=RR(l);d=CR(u[f],m,s)}return d}function gS(t,e=[],n=[],s=""){let a=(l,u,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(ze(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let m=ai([s,f.relativePath]),g=n.concat(f);l.children&&l.children.length>0&&(ze(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),gS(l.children,e,g,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:TR(m,l.index),routesMeta:g})};return t.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,u);else for(let f of yS(l.path))a(l,u,f)}),e}function yS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=yS(s.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function yR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vR=/^:[\w-]+$/,_R=3,bR=2,ER=1,SR=10,xR=-2,O0=t=>t==="*";function TR(t,e){let n=t.split("/"),s=n.length;return n.some(O0)&&(s+=xR),e&&(s+=bR),n.filter(a=>!O0(a)).reduce((a,l)=>a+(vR.test(l)?_R:l===""?ER:SR),s)}function wR(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function CR(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let d=0;d<s.length;++d){let f=s[d],m=d===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=iu({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),v=f.route;if(!y&&m&&n&&!s[s.length-1].route.index&&(y=iu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:ai([l,y.pathname]),pathnameBase:kR(ai([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=ai([l,y.pathnameBase]))}return u}function iu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=AR(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:y},v)=>{if(g==="*"){let x=d[v]||"";u=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const S=d[v];return y&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function AR(t,e=!1,n=!0){xn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function RR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function es(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function NR(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Xs(t):t;return{pathname:n?n.startsWith("/")?n:DR(n,e):e,search:IR(s),hash:MR(a)}}function DR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ef(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vS(t){let e=OR(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function _S(t,e,n,s=!1){let a;typeof t=="string"?a=Xs(t):(a={...t},ze(!a.pathname||!a.pathname.includes("?"),Ef("?","pathname","search",a)),ze(!a.pathname||!a.pathname.includes("#"),Ef("#","pathname","hash",a)),ze(!a.search||!a.search.includes("#"),Ef("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let y=e.length-1;if(!s&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),y-=1;a.pathname=v.join("/")}d=y>=0?e[y]:"/"}let f=NR(a,d),m=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var ai=t=>t.join("/").replace(/\/\/+/g,"/"),kR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function LR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var bS=["POST","PUT","PATCH","DELETE"];new Set(bS);var PR=["GET",...bS];new Set(PR);var ua=w.createContext(null);ua.displayName="DataRouter";var Pu=w.createContext(null);Pu.displayName="DataRouterState";var ES=w.createContext({isTransitioning:!1});ES.displayName="ViewTransition";var UR=w.createContext(new Map);UR.displayName="Fetchers";var jR=w.createContext(null);jR.displayName="Await";var jn=w.createContext(null);jn.displayName="Navigation";var al=w.createContext(null);al.displayName="Location";var pi=w.createContext({outlet:null,matches:[],isDataRoute:!1});pi.displayName="Route";var qm=w.createContext(null);qm.displayName="RouteError";function VR(t,{relative:e}={}){ze(ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=w.useContext(jn),{hash:a,pathname:l,search:u}=ll(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ai([n,l])),s.createHref({pathname:d,search:u,hash:a})}function ol(){return w.useContext(al)!=null}function Vn(){return ze(ol(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(al).location}var SS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xS(t){w.useContext(jn).static||w.useLayoutEffect(t)}function Gm(){let{isDataRoute:t}=w.useContext(pi);return t?ZR():BR()}function BR(){ze(ol(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(ua),{basename:e,navigator:n}=w.useContext(jn),{matches:s}=w.useContext(pi),{pathname:a}=Vn(),l=JSON.stringify(vS(s)),u=w.useRef(!1);return xS(()=>{u.current=!0}),w.useCallback((f,m={})=>{if(xn(u.current,SS),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=_S(f,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ai([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}w.createContext(null);function ll(t,{relative:e}={}){let{matches:n}=w.useContext(pi),{pathname:s}=Vn(),a=JSON.stringify(vS(n));return w.useMemo(()=>_S(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function zR(t,e){return TS(t,e)}function TS(t,e,n,s){var k;ze(ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=w.useContext(jn),{matches:u}=w.useContext(pi),d=u[u.length-1],f=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let M=y&&y.path||"";wS(m,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=Vn(),S;if(e){let M=typeof e=="string"?Xs(e):e;ze(g==="/"||((k=M.pathname)==null?void 0:k.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),S=M}else S=v;let x=S.pathname||"/",C=x;if(g!=="/"){let M=g.replace(/^\//,"").split("/");C="/"+x.replace(/^\//,"").split("/").slice(M.length).join("/")}let D=!l&&n&&n.matches&&n.matches.length>0?n.matches:pS(t,{pathname:C});xn(y||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),xn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=YR(D&&D.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:ai([g,a.encodeLocation?a.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:ai([g,a.encodeLocation?a.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),u,n,s);return e&&N?w.createElement(al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},N):N}function HR(){let t=QR(),e=LR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,u)}var FR=w.createElement(HR,null),qR=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(pi.Provider,{value:this.props.routeContext},w.createElement(qm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GR({routeContext:t,match:e,children:n}){let s=w.useContext(ua);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(pi.Provider,{value:t},n)}function YR(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let f=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);ze(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:g,errors:y}=n,v=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||v){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,m,g)=>{let y,v=!1,S=null,x=null;n&&(y=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||FR,u&&(d<0&&g===0?(wS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):d===g&&(v=!0,x=m.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,g+1)),D=()=>{let N;return y?N=S:v?N=x:m.route.Component?N=w.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=f,w.createElement(GR,{match:m,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?w.createElement(qR,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:D(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):D()},null)}function Ym(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KR(t){let e=w.useContext(ua);return ze(e,Ym(t)),e}function $R(t){let e=w.useContext(Pu);return ze(e,Ym(t)),e}function WR(t){let e=w.useContext(pi);return ze(e,Ym(t)),e}function Km(t){let e=WR(t),n=e.matches[e.matches.length-1];return ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function XR(){return Km("useRouteId")}function QR(){var s;let t=w.useContext(qm),e=$R("useRouteError"),n=Km("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function ZR(){let{router:t}=KR("useNavigate"),e=Km("useNavigate"),n=w.useRef(!1);return xS(()=>{n.current=!0}),w.useCallback(async(a,l={})=>{xn(n.current,SS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var k0={};function wS(t,e,n){!e&&!k0[t]&&(k0[t]=!0,xn(!1,n))}w.memo(JR);function JR({routes:t,future:e,state:n}){return TS(t,void 0,n,e)}function Vr(t){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){ze(!ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Xs(n));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:v="default"}=n,S=w.useMemo(()=>{let x=es(f,u);return x==null?null:{location:{pathname:x,search:m,hash:g,state:y,key:v},navigationType:s}},[u,f,m,g,y,v,s]);return xn(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(jn.Provider,{value:d},w.createElement(al.Provider,{children:e,value:S}))}function tN({children:t,location:e}){return zR(Zf(t),e)}function Zf(t,e=[]){let n=[];return w.Children.forEach(t,(s,a)=>{if(!w.isValidElement(s))return;let l=[...e,a];if(s.type===w.Fragment){n.push.apply(n,Zf(s.props.children,l));return}ze(s.type===Vr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Zf(s.props.children,l)),n.push(u)}),n}var Kc="get",$c="application/x-www-form-urlencoded";function Uu(t){return t!=null&&typeof t.tagName=="string"}function nN(t){return Uu(t)&&t.tagName.toLowerCase()==="button"}function iN(t){return Uu(t)&&t.tagName.toLowerCase()==="form"}function sN(t){return Uu(t)&&t.tagName.toLowerCase()==="input"}function rN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aN(t,e){return t.button===0&&(!e||e==="_self")&&!rN(t)}var Uc=null;function oN(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var lN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sf(t){return t!=null&&!lN.has(t)?(xn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):t}function cN(t,e){let n,s,a,l,u;if(iN(t)){let d=t.getAttribute("action");s=d?es(d,e):null,n=t.getAttribute("method")||Kc,a=Sf(t.getAttribute("enctype"))||$c,l=new FormData(t)}else if(nN(t)||sN(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(s=f?es(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Kc,a=Sf(t.getAttribute("formenctype"))||Sf(d.getAttribute("enctype"))||$c,l=new FormData(d,t),!oN()){let{name:m,type:g,value:y}=t;if(g==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,y)}}else{if(Uu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,s=null,a=$c,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}function $m(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function uN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function dN(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await uN(l,n);return u.links?u.links():[]}return[]}));return gN(s.flat(1).filter(hN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function I0(t,e,n,s,a,l){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>{var g;return n[m].pathname!==f.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,m)=>u(f,m)||d(f,m)):l==="data"?e.filter((f,m)=>{var y;let g=s.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function fN(t,e,{includeHydrateFallback:n}={}){return mN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function mN(t){return[...new Set(t)]}function pN(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function gN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(pN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function yN(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function vN(){let t=w.useContext(ua);return $m(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _N(){let t=w.useContext(Pu);return $m(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wm=w.createContext(void 0);Wm.displayName="FrameworkContext";function CS(){let t=w.useContext(Wm);return $m(t,"You must render this element inside a <HydratedRouter> element"),t}function bN(t,e){let n=w.useContext(Wm),[s,a]=w.useState(!1),[l,u]=w.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=e,v=w.useRef(null);w.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let C=N=>{N.forEach(k=>{u(k.isIntersecting)})},D=new IntersectionObserver(C,{threshold:.5});return v.current&&D.observe(v.current),()=>{D.disconnect()}}},[t]),w.useEffect(()=>{if(s){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[s]);let S=()=>{a(!0)},x=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:bo(d,S),onBlur:bo(f,x),onMouseEnter:bo(m,S),onMouseLeave:bo(g,x),onTouchStart:bo(y,S)}]:[!1,v,{}]}function bo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function EN({page:t,...e}){let{router:n}=vN(),s=w.useMemo(()=>pS(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?w.createElement(xN,{page:t,matches:s,...e}):null}function SN(t){let{manifest:e,routeModules:n}=CS(),[s,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return dN(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function xN({page:t,matches:e,...n}){let s=Vn(),{manifest:a,routeModules:l}=CS(),{loaderData:u,matches:d}=_N(),f=w.useMemo(()=>I0(t,e,d,a,s,"data"),[t,e,d,a,s]),m=w.useMemo(()=>I0(t,e,d,a,s,"assets"),[t,e,d,a,s]),g=w.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let S=new Set,x=!1;if(e.forEach(D=>{var k;let N=a.routes[D.route.id];!N||!N.hasLoader||(!f.some(M=>M.route.id===D.route.id)&&D.route.id in u&&((k=l[D.route.id])!=null&&k.shouldRevalidate)||N.hasClientLoader?x=!0:S.add(D.route.id))}),S.size===0)return[];let C=yN(t);return x&&S.size>0&&C.searchParams.set("_routes",e.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[C.pathname+C.search]},[u,s,a,f,e,t,l]),y=w.useMemo(()=>fN(m,a),[m,a]),v=SN(m);return w.createElement(w.Fragment,null,g.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),y.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),v.map(({key:S,link:x})=>w.createElement("link",{key:S,...x})))}function TN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AS&&(window.__reactRouterVersion="7.2.0")}catch{}function wN({basename:t,children:e,window:n}){let s=w.useRef();s.current==null&&(s.current=fR({window:n,v5Compat:!0}));let a=s.current,[l,u]=w.useState({action:a.action,location:a.location}),d=w.useCallback(f=>{w.startTransition(()=>u(f))},[u]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.createElement(eN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var RS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NS=w.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:d,target:f,to:m,preventScrollReset:g,viewTransition:y,...v},S){let{basename:x}=w.useContext(jn),C=typeof m=="string"&&RS.test(m),D,N=!1;if(typeof m=="string"&&C&&(D=m,AS))try{let q=new URL(window.location.href),ne=m.startsWith("//")?new URL(q.protocol+m):new URL(m),He=es(ne.pathname,x);ne.origin===q.origin&&He!=null?m=He+ne.search+ne.hash:N=!0}catch{xn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=VR(m,{relative:a}),[M,H,U]=bN(s,v),G=RN(m,{replace:u,state:d,target:f,preventScrollReset:g,relative:a,viewTransition:y});function te(q){e&&e(q),q.defaultPrevented||G(q)}let $=w.createElement("a",{...v,...U,href:D||k,onClick:N||l?e:te,ref:TN(S,H),target:f,"data-discover":!C&&n==="render"?"true":void 0});return M&&!C?w.createElement(w.Fragment,null,$,w.createElement(EN,{page:k})):$});NS.displayName="Link";var DS=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:f,...m},g){let y=ll(u,{relative:m.relative}),v=Vn(),S=w.useContext(Pu),{navigator:x,basename:C}=w.useContext(jn),D=S!=null&&IN(y)&&d===!0,N=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,k=v.pathname,M=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(k=k.toLowerCase(),M=M?M.toLowerCase():null,N=N.toLowerCase()),M&&C&&(M=es(M,C)||M);const H=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let U=k===N||!a&&k.startsWith(N)&&k.charAt(H)==="/",G=M!=null&&(M===N||!a&&M.startsWith(N)&&M.charAt(N.length)==="/"),te={isActive:U,isPending:G,isTransitioning:D},$=U?e:void 0,q;typeof s=="function"?q=s(te):q=[s,U?"active":null,G?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let ne=typeof l=="function"?l(te):l;return w.createElement(NS,{...m,"aria-current":$,className:q,ref:g,style:ne,to:u,viewTransition:d},typeof f=="function"?f(te):f)});DS.displayName="NavLink";var CN=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Kc,action:d,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:y,...v},S)=>{let x=ON(),C=kN(d,{relative:m}),D=u.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&RS.test(d),k=M=>{if(f&&f(M),M.defaultPrevented)return;M.preventDefault();let H=M.nativeEvent.submitter,U=(H==null?void 0:H.getAttribute("formmethod"))||u;x(H||M.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:y})};return w.createElement("form",{ref:S,method:D,action:C,onSubmit:s?f:k,...v,"data-discover":!N&&t==="render"?"true":void 0})});CN.displayName="Form";function AN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OS(t){let e=w.useContext(ua);return ze(e,AN(t)),e}function RN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let d=Gm(),f=Vn(),m=ll(t,{relative:l});return w.useCallback(g=>{if(aN(g,e)){g.preventDefault();let y=n!==void 0?n:Ho(f)===Ho(m);d(t,{replace:y,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[f,d,m,n,s,e,t,a,l,u])}var NN=0,DN=()=>`__${String(++NN)}__`;function ON(){let{router:t}=OS("useSubmit"),{basename:e}=w.useContext(jn),n=XR();return w.useCallback(async(s,a={})=>{let{action:l,method:u,encType:d,formData:f,body:m}=cN(s,e);if(a.navigate===!1){let g=a.fetcherKey||DN();await t.fetch(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function kN(t,{relative:e}={}){let{basename:n}=w.useContext(jn),s=w.useContext(pi);ze(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...ll(t||".",{relative:e})},u=Vn();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ai([n,l.pathname])),Ho(l)}function IN(t,e={}){let n=w.useContext(ES);ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=OS("useViewTransitionState"),a=ll(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=es(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=es(n.nextLocation.pathname,s)||n.nextLocation.pathname;return iu(a.pathname,u)!=null||iu(a.pathname,l)!=null}new TextEncoder;const kS=w.createContext({});function MN(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const Xm=w.createContext(null),IS=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function LN(t=!0){const e=w.useContext(Xm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=w.useId();w.useEffect(()=>{if(t)return a(l)},[t]);const u=w.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Qm=typeof window<"u",PN=Qm?w.useLayoutEffect:w.useEffect,Kt=t=>t;let MS=Kt;function Zm(t){let e;return()=>(e===void 0&&(e=t()),e)}const ta=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},oi=t=>t*1e3,li=t=>t/1e3,UN={useManualTiming:!1},jc=["read","resolveKeyframes","update","preRender","render","postRender"],M0={value:null};function jN(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},f=0;function m(y){u.has(y)&&(g.schedule(y),t()),f++,y(d)}const g={schedule:(y,v=!1,S=!1)=>{const C=S&&a?n:s;return v&&u.add(y),C.has(y)||C.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),e&&M0.value&&M0.value.frameloop[e].push(f),f=0,n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const VN=40;function LS(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=jc.reduce((N,k)=>(N[k]=jN(l,e?k:void 0),N),{}),{read:d,resolveKeyframes:f,update:m,preRender:g,render:y,postRender:v}=u,S=()=>{const N=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(N-a.timestamp,VN),1),a.timestamp=N,a.isProcessing=!0,d.process(a),f.process(a),m.process(a),g.process(a),y.process(a),v.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(S))},x=()=>{n=!0,s=!0,a.isProcessing||t(S)};return{schedule:jc.reduce((N,k)=>{const M=u[k];return N[k]=(H,U=!1,G=!1)=>(n||x(),M.schedule(H,U,G)),N},{}),cancel:N=>{for(let k=0;k<jc.length;k++)u[jc[k]].cancel(N)},state:a,steps:u}}const{schedule:Le,cancel:ts,state:gt,steps:xf}=LS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kt,!0),PS=w.createContext({strict:!1}),L0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},na={};for(const t in L0)na[t]={isEnabled:e=>L0[t].some(n=>!!e[n])};function BN(t){for(const e in t)na[e]={...na[e],...t[e]}}const zN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function su(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||zN.has(t)}let US=t=>!su(t);function HN(t){t&&(US=e=>e.startsWith("on")?!su(e):t(e))}try{HN(require("@emotion/is-prop-valid").default)}catch{}function FN(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(US(a)||n===!0&&su(a)||!e&&!su(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function qN(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const ju=w.createContext({});function Vu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Fo(t){return typeof t=="string"||Array.isArray(t)}const Jm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ep=["initial",...Jm];function Bu(t){return Vu(t.animate)||ep.some(e=>Fo(t[e]))}function jS(t){return!!(Bu(t)||t.variants)}function GN(t,e){if(Bu(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Fo(n)?n:void 0,animate:Fo(s)?s:void 0}}return t.inherit!==!1?e:{}}function YN(t){const{initial:e,animate:n}=GN(t,w.useContext(ju));return w.useMemo(()=>({initial:e,animate:n}),[P0(e),P0(n)])}function P0(t){return Array.isArray(t)?t.join(" "):t}const KN=Symbol.for("motionComponentSymbol");function zr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $N(t,e,n){return w.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):zr(n)&&(n.current=s))},[e])}const tp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WN="framerAppearId",VS="data-"+tp(WN),{schedule:np}=LS(queueMicrotask,!1),BS=w.createContext({});function XN(t,e,n,s,a){var l,u;const{visualElement:d}=w.useContext(ju),f=w.useContext(PS),m=w.useContext(Xm),g=w.useContext(IS).reducedMotion,y=w.useRef(null);s=s||f.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:d,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const v=y.current,S=w.useContext(BS);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&QN(y.current,n,a,S);const x=w.useRef(!1);w.useInsertionEffect(()=>{v&&x.current&&v.update(n,m)});const C=n[VS],D=w.useRef(!!C&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,C))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,C)));return PN(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),np.render(v.render),D.current&&v.animationState&&v.animationState.animateChanges())}),w.useEffect(()=>{v&&(!D.current&&v.animationState&&v.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,C)}),D.current=!1))}),v}function QN(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&zr(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}function zS(t){if(t)return t.options.allowProjection!==!1?t.projection:zS(t.parent)}function ZN({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){var l,u;t&&BN(t);function d(m,g){let y;const v={...w.useContext(IS),...m,layoutId:JN(m)},{isStatic:S}=v,x=YN(m),C=s(m,S);if(!S&&Qm){eD();const D=tD(v);y=D.MeasureLayout,x.visualElement=XN(a,C,v,e,D.ProjectionNode)}return b.jsxs(ju.Provider,{value:x,children:[y&&x.visualElement?b.jsx(y,{visualElement:x.visualElement,...v}):null,n(a,m,$N(C,x.visualElement,g),C,S,x.visualElement)]})}d.displayName=`motion.${typeof a=="string"?a:`create(${(u=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&u!==void 0?u:""})`}`;const f=w.forwardRef(d);return f[KN]=a,f}function JN({layoutId:t}){const e=w.useContext(kS).id;return e&&t!==void 0?e+"-"+t:t}function eD(t,e){w.useContext(PS).strict}function tD(t){const{drag:e,layout:n}=na;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const HS=t=>e=>typeof e=="string"&&e.startsWith(t),ip=HS("--"),nD=HS("var(--"),sp=t=>nD(t)?iD.test(t.split("/*")[0].trim()):!1,iD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qo={};function sD(t){for(const e in t)qo[e]=t[e],ip(e)&&(qo[e].isCSSVariable=!0)}const ha=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qs=new Set(ha);function FS(t,{layout:e,layoutId:n}){return Qs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qo[t]||t==="opacity")}const xt=t=>!!(t&&t.getVelocity),qS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ui=(t,e,n)=>n>e?e:n<t?t:n,da={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Go={...da,transform:t=>ui(0,1,t)},Vc={...da,default:1},cl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qi=cl("deg"),In=cl("%"),re=cl("px"),rD=cl("vh"),aD=cl("vw"),U0={...In,parse:t=>In.parse(t)/100,transform:t=>In.transform(t*100)},oD={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,backgroundPositionX:re,backgroundPositionY:re},lD={rotate:qi,rotateX:qi,rotateY:qi,rotateZ:qi,scale:Vc,scaleX:Vc,scaleY:Vc,scaleZ:Vc,skew:qi,skewX:qi,skewY:qi,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:Go,originX:U0,originY:U0,originZ:re},j0={...da,transform:Math.round},rp={...oD,...lD,zIndex:j0,size:re,fillOpacity:Go,strokeOpacity:Go,numOctaves:j0},cD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uD=ha.length;function hD(t,e,n){let s="",a=!0;for(let l=0;l<uD;l++){const u=ha[l],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=qS(d,rp[u]);if(!f){a=!1;const g=cD[u]||u;s+=`${g}(${m}) `}n&&(e[u]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function ap(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const f in e){const m=e[f];if(Qs.has(f)){u=!0;continue}else if(ip(f)){a[f]=m;continue}else{const g=qS(m,rp[f]);f.startsWith("origin")?(d=!0,l[f]=g):s[f]=g}}if(e.transform||(u||n?s.transform=hD(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:g=0}=l;s.transformOrigin=`${f} ${m} ${g}`}}const op=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GS(t,e,n){for(const s in e)!xt(e[s])&&!FS(s,n)&&(t[s]=e[s])}function dD({transformTemplate:t},e){return w.useMemo(()=>{const n=op();return ap(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fD(t,e){const n=t.style||{},s={};return GS(s,n,t),Object.assign(s,dD(t,e)),s}function mD(t,e){const n={},s=fD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const pD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lp(t){return typeof t!="string"||t.includes("-")?!1:!!(pD.indexOf(t)>-1||/[A-Z]/u.test(t))}const gD={offset:"stroke-dashoffset",array:"stroke-dasharray"},yD={offset:"strokeDashoffset",array:"strokeDasharray"};function vD(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?gD:yD;t[l.offset]=re.transform(-s);const u=re.transform(e),d=re.transform(n);t[l.array]=`${u} ${d}`}function V0(t,e,n){return typeof t=="string"?t:re.transform(e+n*t)}function _D(t,e,n){const s=V0(e,t.x,t.width),a=V0(n,t.y,t.height);return`${s} ${a}`}function cp(t,{attrX:e,attrY:n,attrScale:s,originX:a,originY:l,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...m},g,y){if(ap(t,m,y),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:S,dimensions:x}=t;v.transform&&(x&&(S.transform=v.transform),delete v.transform),x&&(a!==void 0||l!==void 0||S.transform)&&(S.transformOrigin=_D(x,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),u!==void 0&&vD(v,u,d,f,!1)}const YS=()=>({...op(),attrs:{}}),up=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bD(t,e,n,s){const a=w.useMemo(()=>{const l=YS();return cp(l,e,up(s),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};GS(l,t.style,t),a.style={...l,...a.style}}return a}function ED(t=!1){return(n,s,a,{latestValues:l},u)=>{const f=(lp(n)?bD:mD)(s,l,u,n),m=FN(s,typeof n=="string",t),g=n!==w.Fragment?{...m,...f,ref:a}:{},{children:y}=s,v=w.useMemo(()=>xt(y)?y.get():y,[y]);return w.createElement(n,{...g,children:v})}}function B0(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function hp(t,e,n,s){if(typeof e=="function"){const[a,l]=B0(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=B0(s);e=e(n!==void 0?n:t.custom,a,l)}return e}const Jf=t=>Array.isArray(t),SD=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),xD=t=>Jf(t)?t[t.length-1]||0:t;function Wc(t){const e=xt(t)?t.get():t;return SD(e)?e.toValue():e}function TD({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,a,l){const u={latestValues:wD(s,a,l,t),renderState:e()};return n&&(u.onMount=d=>n({props:s,current:d,...u}),u.onUpdate=d=>n(d)),u}const KS=t=>(e,n)=>{const s=w.useContext(ju),a=w.useContext(Xm),l=()=>TD(t,e,s,a);return n?l():MN(l)};function wD(t,e,n,s){const a={},l=s(t,{});for(const v in l)a[v]=Wc(l[v]);let{initial:u,animate:d}=t;const f=Bu(t),m=jS(t);e&&m&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const y=g?d:u;if(y&&typeof y!="boolean"&&!Vu(y)){const v=Array.isArray(y)?y:[y];for(let S=0;S<v.length;S++){const x=hp(t,v[S]);if(x){const{transitionEnd:C,transition:D,...N}=x;for(const k in N){let M=N[k];if(Array.isArray(M)){const H=g?M.length-1:0;M=M[H]}M!==null&&(a[k]=M)}for(const k in C)a[k]=C[k]}}}return a}function dp(t,e,n){var s;const{style:a}=t,l={};for(const u in a)(xt(a[u])||e.style&&xt(e.style[u])||FS(u,t)||((s=n==null?void 0:n.getValue(u))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(l[u]=a[u]);return l}const CD={useVisualState:KS({scrapeMotionValuesFromProps:dp,createRenderState:op})};function $S(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function WS(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const l in n)t.style.setProperty(l,n[l])}const XS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QS(t,e,n,s){WS(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(XS.has(a)?a:tp(a),e.attrs[a])}function ZS(t,e,n){const s=dp(t,e,n);for(const a in t)if(xt(t[a])||xt(e[a])){const l=ha.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const z0=["x","y","width","height","cx","cy","r"],AD={useVisualState:KS({scrapeMotionValuesFromProps:ZS,createRenderState:YS,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:a})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in a)if(Qs.has(d)){l=!0;break}}if(!l)return;let u=!e;if(e)for(let d=0;d<z0.length;d++){const f=z0[d];t[f]!==e[f]&&(u=!0)}u&&Le.read(()=>{$S(n,s),Le.render(()=>{cp(s,a,up(n.tagName),t.transformTemplate),QS(n,s)})})}})};function RD(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...lp(s)?AD:CD,preloadedFeatures:t,useRender:ED(a),createVisualElement:e,Component:s};return ZN(u)}}function Yo(t,e,n){const s=t.getProps();return hp(s,e,n!==void 0?n:s.custom,t)}const ND=Zm(()=>window.ScrollTimeline!==void 0);class DD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(a=>{if(ND()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{s.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class OD extends DD{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function fp(t,e){return t?t[e]||t.default||t:void 0}const em=2e4;function JS(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<em;)e+=n,s=t.next(e);return e>=em?1/0:e}function mp(t){return typeof t=="function"}function H0(t,e){t.timeline=e,t.onfinish=null}const pp=t=>Array.isArray(t)&&typeof t[0]=="number",kD={linearEasing:void 0};function ID(t,e){const n=Zm(t);return()=>{var s;return(s=kD[e])!==null&&s!==void 0?s:n()}}const ru=ID(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ex=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=t(ta(0,a-1,l))+", ";return`linear(${s.substring(0,s.length-2)})`};function tx(t){return!!(typeof t=="function"&&ru()||!t||typeof t=="string"&&(t in tm||ru())||pp(t)||Array.isArray(t)&&t.every(tx))}const Ao=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,tm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ao([0,.65,.55,1]),circOut:Ao([.55,0,1,.45]),backIn:Ao([.31,.01,.66,-.59]),backOut:Ao([.33,1.53,.69,.99])};function nx(t,e){if(t)return typeof t=="function"&&ru()?ex(t,e):pp(t)?Ao(t):Array.isArray(t)?t.map(n=>nx(n,e)||tm.easeOut):tm[t]}const yn={x:!1,y:!1};function ix(){return yn.x||yn.y}function MD(t,e,n){var s;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const l=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function sx(t,e){const n=MD(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function F0(t){return!(t.pointerType==="touch"||ix())}function LD(t,e,n={}){const[s,a,l]=sx(t,n),u=d=>{if(!F0(d))return;const{target:f}=d,m=e(f,d);if(typeof m!="function"||!f)return;const g=y=>{F0(y)&&(m(y),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return s.forEach(d=>{d.addEventListener("pointerenter",u,a)}),l}function au(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const rx=(t,e)=>e?t===e?!0:rx(t,e.parentElement):!1,gp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,PD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UD(t){return PD.has(t.tagName)||t.tabIndex!==-1}const Ro=new WeakSet;function q0(t){return e=>{e.key==="Enter"&&t(e)}}function Tf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jD=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=q0(()=>{if(Ro.has(n))return;Tf(n,"down");const a=q0(()=>{Tf(n,"up")}),l=()=>Tf(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function G0(t){return gp(t)&&!ix()}function VD(t,e,n={}){const[s,a,l]=sx(t,n),u=d=>{const f=d.currentTarget;if(!f||!G0(d)||Ro.has(f))return;Ro.add(f),au(d,"set");const m=e(f,d),g=(S,x)=>{f.removeEventListener("pointerup",y),f.removeEventListener("pointercancel",v),au(S,"release"),!(!G0(S)||!Ro.has(f))&&(Ro.delete(f),typeof m=="function"&&m(S,{success:x}))},y=S=>{(S.isTrusted?BD(S,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(S,!1):g(S,!(f instanceof Element)||rx(f,S.target))},v=S=>{g(S,!1)};f.addEventListener("pointerup",y,a),f.addEventListener("pointercancel",v,a),f.addEventListener("lostpointercapture",v,a)};return s.forEach(d=>{d=n.useGlobalTarget?window:d;let f=!1;d instanceof HTMLElement&&(f=!0,!UD(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0)),d.addEventListener("pointerdown",u,a),f&&d.addEventListener("focus",m=>jD(m,a),a)}),l}function BD(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function zD(t){return t==="x"||t==="y"?yn[t]?null:(yn[t]=!0,()=>{yn[t]=!1}):yn.x||yn.y?null:(yn.x=yn.y=!0,()=>{yn.x=yn.y=!1})}const ax=new Set(["width","height","top","left","right","bottom",...ha]);let Xc;function HD(){Xc=void 0}const Mn={now:()=>(Xc===void 0&&Mn.set(gt.isProcessing||UN.useManualTiming?gt.timestamp:performance.now()),Xc),set:t=>{Xc=t,queueMicrotask(HD)}};function yp(t,e){t.indexOf(e)===-1&&t.push(e)}function vp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class _p{constructor(){this.subscriptions=[]}add(e){return yp(this.subscriptions,e),()=>vp(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ox(t,e){return e?t*(1e3/e):0}const Y0=30,FD=t=>!isNaN(parseFloat(t));class qD{constructor(e,n={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const l=Mn.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=FD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _p);const s=this.events[e].add(n);return e==="change"?()=>{s(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Y0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Y0);return ox(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ko(t,e){return new qD(t,e)}function GD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ko(n))}function YD(t,e){const n=Yo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const d=xD(l[u]);GD(t,u,d)}}function KD(t){return!!(xt(t)&&t.add)}function nm(t,e){const n=t.getValue("willChange");if(KD(n))return n.add(e)}function lx(t){return t.props[VS]}const cx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$D=1e-7,WD=12;function XD(t,e,n,s,a){let l,u,d=0;do u=e+(n-e)/2,l=cx(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>$D&&++d<WD);return u}function ul(t,e,n,s){if(t===e&&n===s)return Kt;const a=l=>XD(l,0,1,t,n);return l=>l===0||l===1?l:cx(a(l),e,s)}const ux=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hx=t=>e=>1-t(1-e),dx=ul(.33,1.53,.69,.99),bp=hx(dx),fx=ux(bp),mx=t=>(t*=2)<1?.5*bp(t):.5*(2-Math.pow(2,-10*(t-1))),Ep=t=>1-Math.sin(Math.acos(t)),px=hx(Ep),gx=ux(Ep),yx=t=>/^0[^.\s]+$/u.test(t);function QD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||yx(t):!0}const Oo=t=>Math.round(t*1e5)/1e5,Sp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZD(t){return t==null}const JD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xp=(t,e)=>n=>!!(typeof n=="string"&&JD.test(n)&&n.startsWith(t)||e&&!ZD(n)&&Object.prototype.hasOwnProperty.call(n,e)),vx=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(Sp);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},eO=t=>ui(0,255,t),wf={...da,transform:t=>Math.round(eO(t))},Us={test:xp("rgb","red"),parse:vx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+wf.transform(t)+", "+wf.transform(e)+", "+wf.transform(n)+", "+Oo(Go.transform(s))+")"};function tO(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const im={test:xp("#"),parse:tO,transform:Us.transform},Hr={test:xp("hsl","hue"),parse:vx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+In.transform(Oo(e))+", "+In.transform(Oo(n))+", "+Oo(Go.transform(s))+")"},Et={test:t=>Us.test(t)||im.test(t)||Hr.test(t),parse:t=>Us.test(t)?Us.parse(t):Hr.test(t)?Hr.parse(t):im.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Us.transform(t):Hr.transform(t)},nO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iO(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Sp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(nO))===null||n===void 0?void 0:n.length)||0)>0}const _x="number",bx="color",sO="var",rO="var(",K0="${}",aO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $o(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(aO,f=>(Et.test(f)?(s.color.push(l),a.push(bx),n.push(Et.parse(f))):f.startsWith(rO)?(s.var.push(l),a.push(sO),n.push(f)):(s.number.push(l),a.push(_x),n.push(parseFloat(f))),++l,K0)).split(K0);return{values:n,split:d,indexes:s,types:a}}function Ex(t){return $o(t).values}function Sx(t){const{split:e,types:n}=$o(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===_x?l+=Oo(a[u]):d===bx?l+=Et.transform(a[u]):l+=a[u]}return l}}const oO=t=>typeof t=="number"?0:t;function lO(t){const e=Ex(t);return Sx(t)(e.map(oO))}const ns={test:iO,parse:Ex,createTransformer:Sx,getAnimatableNone:lO},cO=new Set(["brightness","contrast","saturate","opacity"]);function uO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Sp)||[];if(!s)return t;const a=n.replace(s,"");let l=cO.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const hO=/\b([a-z-]*)\(.*?\)/gu,sm={...ns,getAnimatableNone:t=>{const e=t.match(hO);return e?e.map(uO).join(" "):t}},dO={...rp,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:sm,WebkitFilter:sm},Tp=t=>dO[t];function xx(t,e){let n=Tp(t);return n!==sm&&(n=ns),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const fO=new Set(["auto","none","0"]);function mO(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!fO.has(l)&&$o(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=xx(n,a)}const $0=t=>t===da||t===re,W0=(t,e)=>parseFloat(t.split(", ")[e]),X0=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return W0(a[1],e);{const l=s.match(/^matrix\((.+)\)$/u);return l?W0(l[1],t):0}},pO=new Set(["x","y","z"]),gO=ha.filter(t=>!pO.has(t));function yO(t){const e=[];return gO.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ia={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:X0(4,13),y:X0(5,14)};ia.translateX=ia.x;ia.translateY=ia.y;const Bs=new Set;let rm=!1,am=!1;function Tx(){if(am){const t=Array.from(Bs).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=yO(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{var d;(d=s.getValue(l))===null||d===void 0||d.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}am=!1,rm=!1,Bs.forEach(t=>t.complete()),Bs.clear()}function wx(){Bs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(am=!0)})}function vO(){wx(),Tx()}class wp{constructor(e,n,s,a,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bs.add(this),rm||(rm=!0,Le.read(wx),Le.resolveKeyframes(Tx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const u=a==null?void 0:a.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(s&&n){const f=s.readValue(n,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),a&&u===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Cx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),_O=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bO(t){const e=_O.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function Ax(t,e,n=1){const[s,a]=bO(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return Cx(u)?parseFloat(u):u}return sp(a)?Ax(a,e,n+1):a}const Rx=t=>e=>e.test(t),EO={test:t=>t==="auto",parse:t=>t},Nx=[da,re,In,qi,aD,rD,EO],Q0=t=>Nx.find(Rx(t));class Dx extends wp{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),sp(m))){const g=Ax(m,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!ax.has(s)||e.length!==2)return;const[a,l]=e,u=Q0(a),d=Q0(l);if(u!==d)if($0(u)&&$0(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)QD(e[a])&&s.push(a);s.length&&mO(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ia[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const l=n.getValue(s);l&&l.jump(this.measuredOrigin,!1);const u=a.length-1,d=a[u];a[u]=ia[s](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{n.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const Z0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ns.test(t)||t==="0")&&!t.startsWith("url("));function SO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function xO(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Z0(a,e),d=Z0(l,e);return!u||!d?!1:SO(t)||(n==="spring"||mp(n))&&s}const TO=t=>t!==null;function zu(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(TO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const wO=40;class Ox{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mn.now(),this.options={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>wO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&vO(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Mn.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:l,delay:u,onComplete:d,onUpdate:f,isGenerator:m}=this.options;if(!m&&!xO(e,s,a,l))if(u)this.options.duration=0;else{f&&f(zu(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Be=(t,e,n)=>t+(e-t)*n;function Cf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function CO({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;a=Cf(f,d,t+1/3),l=Cf(f,d,t),u=Cf(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function ou(t,e){return n=>n>0?e:t}const Af=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},AO=[im,Us,Hr],RO=t=>AO.find(e=>e.test(t));function J0(t){const e=RO(t);if(!e)return!1;let n=e.parse(t);return e===Hr&&(n=CO(n)),n}const eb=(t,e)=>{const n=J0(t),s=J0(e);if(!n||!s)return ou(t,e);const a={...n};return l=>(a.red=Af(n.red,s.red,l),a.green=Af(n.green,s.green,l),a.blue=Af(n.blue,s.blue,l),a.alpha=Be(n.alpha,s.alpha,l),Us.transform(a))},NO=(t,e)=>n=>e(t(n)),hl=(...t)=>t.reduce(NO),om=new Set(["none","hidden"]);function DO(t,e){return om.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function OO(t,e){return n=>Be(t,e,n)}function Cp(t){return typeof t=="number"?OO:typeof t=="string"?sp(t)?ou:Et.test(t)?eb:MO:Array.isArray(t)?kx:typeof t=="object"?Et.test(t)?eb:kO:ou}function kx(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>Cp(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function kO(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Cp(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function IO(t,e){var n;const s=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],d=t.indexes[u][a[u]],f=(n=t.values[d])!==null&&n!==void 0?n:0;s[l]=f,a[u]++}return s}const MO=(t,e)=>{const n=ns.createTransformer(e),s=$o(t),a=$o(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?om.has(t)&&!a.values.length||om.has(e)&&!s.values.length?DO(t,e):hl(kx(IO(s,a),a.values),n):ou(t,e)};function Ix(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Be(t,e,n):Cp(t)(t,e)}const LO=5;function Mx(t,e,n){const s=Math.max(e-LO,0);return ox(n-t(s),e-s)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tb=.001;function PO({duration:t=Ye.duration,bounce:e=Ye.bounce,velocity:n=Ye.velocity,mass:s=Ye.mass}){let a,l,u=1-e;u=ui(Ye.minDamping,Ye.maxDamping,u),t=ui(Ye.minDuration,Ye.maxDuration,li(t)),u<1?(a=m=>{const g=m*u,y=g*t,v=g-n,S=lm(m,u),x=Math.exp(-y);return tb-v/S*x},l=m=>{const y=m*u*t,v=y*n+n,S=Math.pow(u,2)*Math.pow(m,2)*t,x=Math.exp(-y),C=lm(Math.pow(m,2),u);return(-a(m)+tb>0?-1:1)*((v-S)*x)/C}):(a=m=>{const g=Math.exp(-m*t),y=(m-n)*t+1;return-.001+g*y},l=m=>{const g=Math.exp(-m*t),y=(n-m)*(t*t);return g*y});const d=5/t,f=jO(a,l,d);if(t=oi(t),isNaN(f))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:t};{const m=Math.pow(f,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:t}}}const UO=12;function jO(t,e,n){let s=n;for(let a=1;a<UO;a++)s=s-t(s)/e(s);return s}function lm(t,e){return t*Math.sqrt(1-e*e)}const VO=["duration","bounce"],BO=["stiffness","damping","mass"];function nb(t,e){return e.some(n=>t[n]!==void 0)}function zO(t){let e={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...t};if(!nb(t,BO)&&nb(t,VO))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*ui(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ye.mass,stiffness:a,damping:l}}else{const n=PO(t);e={...e,...n,mass:Ye.mass},e.isResolvedFromDuration=!0}return e}function Lx(t=Ye.visualDuration,e=Ye.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:m,mass:g,duration:y,velocity:v,isResolvedFromDuration:S}=zO({...n,velocity:-li(n.velocity||0)}),x=v||0,C=m/(2*Math.sqrt(f*g)),D=u-l,N=li(Math.sqrt(f/g)),k=Math.abs(D)<5;s||(s=k?Ye.restSpeed.granular:Ye.restSpeed.default),a||(a=k?Ye.restDelta.granular:Ye.restDelta.default);let M;if(C<1){const U=lm(N,C);M=G=>{const te=Math.exp(-C*N*G);return u-te*((x+C*N*D)/U*Math.sin(U*G)+D*Math.cos(U*G))}}else if(C===1)M=U=>u-Math.exp(-N*U)*(D+(x+N*D)*U);else{const U=N*Math.sqrt(C*C-1);M=G=>{const te=Math.exp(-C*N*G),$=Math.min(U*G,300);return u-te*((x+C*N*D)*Math.sinh($)+U*D*Math.cosh($))/U}}const H={calculatedDuration:S&&y||null,next:U=>{const G=M(U);if(S)d.done=U>=y;else{let te=0;C<1&&(te=U===0?oi(x):Mx(M,U,G));const $=Math.abs(te)<=s,q=Math.abs(u-G)<=a;d.done=$&&q}return d.value=d.done?u:G,d},toString:()=>{const U=Math.min(JS(H),em),G=ex(te=>H.next(U*te).value,U,30);return U+"ms "+G}};return H}function ib({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},S=$=>d!==void 0&&$<d||f!==void 0&&$>f,x=$=>d===void 0?f:f===void 0||Math.abs(d-$)<Math.abs(f-$)?d:f;let C=n*e;const D=y+C,N=u===void 0?D:u(D);N!==D&&(C=N-y);const k=$=>-C*Math.exp(-$/s),M=$=>N+k($),H=$=>{const q=k($),ne=M($);v.done=Math.abs(q)<=m,v.value=v.done?N:ne};let U,G;const te=$=>{S(v.value)&&(U=$,G=Lx({keyframes:[v.value,x(v.value)],velocity:Mx(M,$,v.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return te(0),{calculatedDuration:null,next:$=>{let q=!1;return!G&&U===void 0&&(q=!0,H($),te($)),U!==void 0&&$>=U?G.next($-U):(!q&&H($),v)}}}const HO=ul(.42,0,1,1),FO=ul(0,0,.58,1),Px=ul(.42,0,.58,1),qO=t=>Array.isArray(t)&&typeof t[0]!="number",GO={linear:Kt,easeIn:HO,easeInOut:Px,easeOut:FO,circIn:Ep,circInOut:gx,circOut:px,backIn:bp,backInOut:fx,backOut:dx,anticipate:mx},sb=t=>{if(pp(t)){MS(t.length===4);const[e,n,s,a]=t;return ul(e,n,s,a)}else if(typeof t=="string")return GO[t];return t};function YO(t,e,n){const s=[],a=n||Ix,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Kt:e;d=hl(f,d)}s.push(d)}return s}function KO(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(MS(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=YO(e,s,a),f=d.length,m=g=>{if(u&&g<t[0])return e[0];let y=0;if(f>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=ta(t[y],t[y+1],g);return d[y](v)};return n?g=>m(ui(t[0],t[l-1],g)):m}function $O(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=ta(0,e,s);t.push(Be(n,1,a))}}function WO(t){const e=[0];return $O(e,t.length-1),e}function XO(t,e){return t.map(n=>n*e)}function QO(t,e){return t.map(()=>e||Px).splice(0,t.length-1)}function lu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=qO(s)?s.map(sb):sb(s),l={done:!1,value:e[0]},u=XO(n&&n.length===e.length?n:WO(e),t),d=KO(u,e,{ease:Array.isArray(a)?a:QO(e,a)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const ZO=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Le.update(e,!0),stop:()=>ts(e),now:()=>gt.isProcessing?gt.timestamp:Mn.now()}},JO={decay:ib,inertia:ib,tween:lu,keyframes:lu,spring:Lx},ek=t=>t/100;class Ap extends Ox{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:s,element:a,keyframes:l}=this.options,u=(a==null?void 0:a.KeyframeResolver)||wp,d=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new u(l,d,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=this.options,d=mp(n)?n:JO[n]||lu;let f,m;d!==lu&&typeof e[0]!="number"&&(f=hl(ek,Ix(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});l==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=JS(g));const{calculatedDuration:y}=g,v=y+a,S=v*(s+1)-a;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:y,resolvedDuration:v,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:$}=this.options;return{done:!0,value:$[$.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:m,totalDuration:g,resolvedDuration:y}=s;if(this.startTime===null)return l.next(0);const{delay:v,repeat:S,repeatType:x,repeatDelay:C,onUpdate:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-v*(this.speed>=0?1:-1),k=this.speed>=0?N<0:N>g;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let M=this.currentTime,H=l;if(S){const $=Math.min(this.currentTime,g)/y;let q=Math.floor($),ne=$%1;!ne&&$>=1&&(ne=1),ne===1&&q--,q=Math.min(q,S+1),!!(q%2)&&(x==="reverse"?(ne=1-ne,C&&(ne-=C/y)):x==="mirror"&&(H=u)),M=ui(0,1,ne)*y}const U=k?{done:!1,value:f[0]}:H.next(M);d&&(U.value=d(U.value));let{done:G}=U;!k&&m!==null&&(G=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const te=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return te&&a!==void 0&&(U.value=zu(f,this.options,a)),D&&D(U.value),te&&this.finish(),U}get duration(){const{resolved:e}=this;return e?li(e.calculatedDuration):0}get time(){return li(this.currentTime)}set time(e){e=oi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=li(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ZO,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const tk=new Set(["opacity","clipPath","filter","transform"]);function nk(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const m={[e]:n};f&&(m.offset=f);const g=nx(d,a);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:s,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}const ik=Zm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cu=10,sk=2e4;function rk(t){return mp(t.type)||t.type==="spring"||!tx(t.ease)}function ak(t,e){const n=new Ap({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const a=[];let l=0;for(;!s.done&&l<sk;)s=n.sample(l),a.push(s.value),l+=cu;return{times:void 0,keyframes:a,duration:l-cu,ease:"linear"}}const Ux={anticipate:mx,backInOut:fx,circInOut:gx};function ok(t){return t in Ux}class rb extends Ox{constructor(e){super(e);const{name:n,motionValue:s,element:a,keyframes:l}=this.options;this.resolver=new Dx(l,(u,d)=>this.onKeyframesResolved(u,d),n,s,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:a,ease:l,type:u,motionValue:d,name:f,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&ru()&&ok(l)&&(l=Ux[l]),rk(this.options)){const{onComplete:y,onUpdate:v,motionValue:S,element:x,...C}=this.options,D=ak(e,C);e=D.keyframes,e.length===1&&(e[1]=e[0]),s=D.duration,a=D.times,l=D.ease,u="keyframes"}const g=nk(d.owner.current,f,e,{...this.options,duration:s,times:a,ease:l});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(H0(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;d.set(zu(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:s,times:a,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return li(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return li(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=oi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Kt;const{animation:s}=n;H0(s,e)}return Kt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:a,type:l,ease:u,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:y,element:v,...S}=this.options,x=new Ap({...S,keyframes:s,duration:a,type:l,ease:u,times:d,isGenerator:!0}),C=oi(this.time);m.setWithVelocity(x.sample(C-cu).value,x.sample(C).value,cu)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:a,repeatType:l,damping:u,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=n.owner.getProps();return ik()&&s&&tk.has(s)&&!f&&!m&&!a&&l!=="mirror"&&u!==0&&d!=="inertia"}}const lk={type:"spring",stiffness:500,damping:25,restSpeed:10},ck=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),uk={type:"keyframes",duration:.8},hk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dk=(t,{keyframes:e})=>e.length>2?uk:Qs.has(t)?t.startsWith("scale")?ck(e[1]):lk:hk;function fk({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const Rp=(t,e,n,s={},a,l)=>u=>{const d=fp(s,t)||{},f=d.delay||s.delay||0;let{elapsed:m=0}=s;m=m-oi(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:v=>{e.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};fk(d)||(g={...g,...dk(t,g)}),g.duration&&(g.duration=oi(g.duration)),g.repeatDelay&&(g.repeatDelay=oi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!l&&e.get()!==void 0){const v=zu(g.keyframes,d);if(v!==void 0)return Le.update(()=>{g.onUpdate(v),g.onComplete()}),new OD([])}return!l&&rb.supports(g)?new rb(g):new Ap(g)};function mk({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function jx(t,e,{delay:n=0,transitionOverride:s,type:a}={}){var l;let{transition:u=t.getDefaultTransition(),transitionEnd:d,...f}=e;s&&(u=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const v=t.getValue(y,(l=t.latestValues[y])!==null&&l!==void 0?l:null),S=f[y];if(S===void 0||g&&mk(g,y))continue;const x={delay:n,...fp(u||{},y)};let C=!1;if(window.MotionHandoffAnimation){const N=lx(t);if(N){const k=window.MotionHandoffAnimation(N,y,Le);k!==null&&(x.startTime=k,C=!0)}}nm(t,y),v.start(Rp(y,v,S,t.shouldReduceMotion&&ax.has(y)?{type:!1}:x,t,C));const D=v.animation;D&&m.push(D)}return d&&Promise.all(m).then(()=>{Le.update(()=>{d&&YD(t,d)})}),m}function cm(t,e,n={}){var s;const a=Yo(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(l=n.transitionOverride);const u=a?()=>Promise.all(jx(t,a,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=l;return pk(t,e,g+m,y,v,n)}:()=>Promise.resolve(),{when:f}=l;if(f){const[m,g]=f==="beforeChildren"?[u,d]:[d,u];return m().then(()=>g())}else return Promise.all([u(),d(n.delay)])}function pk(t,e,n=0,s=0,a=1,l){const u=[],d=(t.variantChildren.size-1)*s,f=a===1?(m=0)=>m*s:(m=0)=>d-m*s;return Array.from(t.variantChildren).sort(gk).forEach((m,g)=>{m.notify("AnimationStart",e),u.push(cm(m,e,{...l,delay:n+f(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function gk(t,e){return t.sortNodePosition(e)}function yk(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>cm(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=cm(t,e,n);else{const a=typeof e=="function"?Yo(t,e,n.custom):e;s=Promise.all(jx(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Vx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const vk=ep.length;function Bx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Bx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<vk;n++){const s=ep[n],a=t.props[s];(Fo(a)||a===!1)&&(e[s]=a)}return e}const _k=[...Jm].reverse(),bk=Jm.length;function Ek(t){return e=>Promise.all(e.map(({animation:n,options:s})=>yk(t,n,s)))}function Sk(t){let e=Ek(t),n=ab(),s=!0;const a=f=>(m,g)=>{var y;const v=Yo(t,g,f==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(v){const{transition:S,transitionEnd:x,...C}=v;m={...m,...C,...x}}return m};function l(f){e=f(t)}function u(f){const{props:m}=t,g=Bx(t.parent)||{},y=[],v=new Set;let S={},x=1/0;for(let D=0;D<bk;D++){const N=_k[D],k=n[N],M=m[N]!==void 0?m[N]:g[N],H=Fo(M),U=N===f?k.isActive:null;U===!1&&(x=D);let G=M===g[N]&&M!==m[N]&&H;if(G&&s&&t.manuallyAnimateOnMount&&(G=!1),k.protectedKeys={...S},!k.isActive&&U===null||!M&&!k.prevProp||Vu(M)||typeof M=="boolean")continue;const te=xk(k.prevProp,M);let $=te||N===f&&k.isActive&&!G&&H||D>x&&H,q=!1;const ne=Array.isArray(M)?M:[M];let He=ne.reduce(a(N),{});U===!1&&(He={});const{prevResolvedValues:$t={}}=k,Wt={...$t,...He},Xt=Z=>{$=!0,v.has(Z)&&(q=!0,v.delete(Z)),k.needsAnimating[Z]=!0;const J=t.getValue(Z);J&&(J.liveStyle=!1)};for(const Z in Wt){const J=He[Z],we=$t[Z];if(S.hasOwnProperty(Z))continue;let A=!1;Jf(J)&&Jf(we)?A=!Vx(J,we):A=J!==we,A?J!=null?Xt(Z):v.add(Z):J!==void 0&&v.has(Z)?Xt(Z):k.protectedKeys[Z]=!0}k.prevProp=M,k.prevResolvedValues=He,k.isActive&&(S={...S,...He}),s&&t.blockInitialAnimation&&($=!1),$&&(!(G&&te)||q)&&y.push(...ne.map(Z=>({animation:Z,options:{type:N}})))}if(v.size){const D={};if(typeof m.initial!="boolean"){const N=Yo(t,Array.isArray(m.initial)?m.initial[0]:m.initial);N&&N.transition&&(D.transition=N.transition)}v.forEach(N=>{const k=t.getBaseTarget(N),M=t.getValue(N);M&&(M.liveStyle=!0),D[N]=k??null}),y.push({animation:D})}let C=!!y.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(C=!1),s=!1,C?e(y):Promise.resolve()}function d(f,m){var g;if(n[f].isActive===m)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(v=>{var S;return(S=v.animationState)===null||S===void 0?void 0:S.setActive(f,m)}),n[f].isActive=m;const y=u(f);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ab(),s=!0}}}function xk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Vx(e,t):!1}function Os(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ab(){return{animate:Os(!0),whileInView:Os(),whileHover:Os(),whileTap:Os(),whileDrag:Os(),whileFocus:Os(),exit:Os()}}class as{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Tk extends as{constructor(e){super(e),e.animationState||(e.animationState=Sk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let wk=0;class Ck extends as{constructor(){super(...arguments),this.id=wk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Ak={animation:{Feature:Tk},exit:{Feature:Ck}};function Wo(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function dl(t){return{point:{x:t.pageX,y:t.pageY}}}const Rk=t=>e=>gp(e)&&t(e,dl(e));function Fr(t,e,n,s){return Wo(t,e,Rk(n),s)}function zx({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Nk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Dk(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const Hx=1e-4,Ok=1-Hx,kk=1+Hx,Fx=.01,Ik=0-Fx,Mk=0+Fx;function Nt(t){return t.max-t.min}function Lk(t,e,n){return Math.abs(t-e)<=n}function ob(t,e,n,s=.5){t.origin=s,t.originPoint=Be(e.min,e.max,t.origin),t.scale=Nt(n)/Nt(e),t.translate=Be(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Ok&&t.scale<=kk||isNaN(t.scale))&&(t.scale=1),(t.translate>=Ik&&t.translate<=Mk||isNaN(t.translate))&&(t.translate=0)}function ko(t,e,n,s){ob(t.x,e.x,n.x,s?s.originX:void 0),ob(t.y,e.y,n.y,s?s.originY:void 0)}function lb(t,e,n){t.min=n.min+e.min,t.max=t.min+Nt(e)}function Pk(t,e,n){lb(t.x,e.x,n.x),lb(t.y,e.y,n.y)}function cb(t,e,n){t.min=e.min-n.min,t.max=t.min+Nt(e)}function Io(t,e,n){cb(t.x,e.x,n.x),cb(t.y,e.y,n.y)}const ub=()=>({translate:0,scale:1,origin:0,originPoint:0}),qr=()=>({x:ub(),y:ub()}),hb=()=>({min:0,max:0}),Qe=()=>({x:hb(),y:hb()});function hn(t){return[t("x"),t("y")]}function Rf(t){return t===void 0||t===1}function um({scale:t,scaleX:e,scaleY:n}){return!Rf(t)||!Rf(e)||!Rf(n)}function Is(t){return um(t)||qx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function qx(t){return db(t.x)||db(t.y)}function db(t){return t&&t!=="0%"}function uu(t,e,n){const s=t-n,a=e*s;return n+a}function fb(t,e,n,s,a){return a!==void 0&&(t=uu(t,a,s)),uu(t,n,s)+e}function hm(t,e=0,n=1,s,a){t.min=fb(t.min,e,n,s,a),t.max=fb(t.max,e,n,s,a)}function Gx(t,{x:e,y:n}){hm(t.x,e.translate,e.scale,e.originPoint),hm(t.y,n.translate,n.scale,n.originPoint)}const mb=.999999999999,pb=1.0000000000001;function Uk(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Yr(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Gx(t,u)),s&&Is(l.latestValues)&&Yr(t,l.latestValues))}e.x<pb&&e.x>mb&&(e.x=1),e.y<pb&&e.y>mb&&(e.y=1)}function Gr(t,e){t.min=t.min+e,t.max=t.max+e}function gb(t,e,n,s,a=.5){const l=Be(t.min,t.max,a);hm(t,e,n,l,s)}function Yr(t,e){gb(t.x,e.x,e.scaleX,e.scale,e.originX),gb(t.y,e.y,e.scaleY,e.scale,e.originY)}function Yx(t,e){return zx(Dk(t.getBoundingClientRect(),e))}function jk(t,e,n){const s=Yx(t,n),{scroll:a}=e;return a&&(Gr(s.x,a.offset.x),Gr(s.y,a.offset.y)),s}const yb=(t,e)=>Math.abs(t-e);function Vk(t,e){const n=yb(t.x,e.x),s=yb(t.y,e.y);return Math.sqrt(n**2+s**2)}class Kx{constructor(e,n,{transformPagePoint:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Df(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=Vk(g.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:S}=g,{timestamp:x}=gt;this.history.push({...S,timestamp:x});const{onStart:C,onMove:D}=this.handlers;y||(C&&C(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{if(g.target instanceof Element&&g.target.hasPointerCapture&&g.pointerId!==void 0)try{if(!g.target.hasPointerCapture(g.pointerId))return}catch{}this.lastMoveEvent=g,this.lastMoveEventInfo=Nf(y,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{au(g,"release"),this.end();const{onEnd:v,onSessionEnd:S,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Df(g.type==="pointercancel"||g.type==="lostpointercapture"?this.lastMoveEventInfo:Nf(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,C),S&&S(g,C)},!gp(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s;const l=dl(e),u=Nf(l,this.transformPagePoint),{point:d}=u,{timestamp:f}=gt;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,Df(u,this.history)),au(e,"set"),this.removeListeners=hl(Fr(e.currentTarget,"pointermove",this.handlePointerMove),Fr(e.currentTarget,"pointerup",this.handlePointerUp),Fr(e.currentTarget,"pointercancel",this.handlePointerUp),Fr(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ts(this.updatePoint)}}function Nf(t,e){return e?{point:e(t.point)}:t}function vb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Df({point:t},e){return{point:t,delta:vb(t,$x(e)),offset:vb(t,Bk(e)),velocity:zk(e,.1)}}function Bk(t){return t[0]}function $x(t){return t[t.length-1]}function zk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=$x(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>oi(e)));)n--;if(!s)return{x:0,y:0};const l=li(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Hk(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Be(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Be(n,t,s.max):Math.min(t,n)),t}function _b(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Fk(t,{top:e,left:n,bottom:s,right:a}){return{x:_b(t.x,n,a),y:_b(t.y,e,s)}}function bb(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function qk(t,e){return{x:bb(t.x,e.x),y:bb(t.y,e.y)}}function Gk(t,e){let n=.5;const s=Nt(t),a=Nt(e);return a>s?n=ta(e.min,e.max-s,t.min):s>a&&(n=ta(t.min,t.max-a,e.min)),ui(0,1,n)}function Yk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dm=.35;function Kk(t=dm){return t===!1?t=0:t===!0&&(t=dm),{x:Eb(t,"left","right"),y:Eb(t,"top","bottom")}}function Eb(t,e,n){return{min:Sb(t,e),max:Sb(t,n)}}function Sb(t,e){return typeof t=="number"?t:t[e]||0}const $k=new WeakMap;class Wk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dl(g).point)},l=(g,y)=>{const{drag:v,dragPropagation:S,onDragStart:x}=this.getProps();if(v&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zD(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(D=>{let N=this.getAxisMotionValue(D).get()||0;if(In.test(N)){const{projection:k}=this.visualElement;if(k&&k.layout){const M=k.layout.layoutBox[D];M&&(N=Nt(M)*(parseFloat(N)/100))}}this.originPoint[D]=N}),x&&Le.postRender(()=>x(g,y)),nm(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},u=(g,y)=>{const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:x,onDrag:C}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:D}=y;if(S&&this.currentDirection===null){this.currentDirection=Xk(D),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",y.point,D),this.updateAxis("y",y.point,D),this.visualElement.render(),C&&C(g,y)},d=(g,y)=>this.stop(g,y),f=()=>hn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Kx(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Le.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Bc(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=Hk(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&zr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Fk(a.layoutBox,n):this.constraints=!1,this.elastic=Kk(s),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&hn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=Yk(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zr(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=jk(s,a.root,this.visualElement.getTransformPagePoint());let u=qk(a.layout.layoutBox,l);if(n){const d=n(Nk(u));this.hasMutatedConstraints=!!d,d&&(u=zx(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=hn(g=>{if(!Bc(g,n,this.currentDirection))return;let y=f&&f[g]||{};u&&(y={min:0,max:0});const v=a?200:1e6,S=a?40:1e7,x={type:"inertia",velocity:s?e[g]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,x)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return nm(this.visualElement,e),s.start(Rp(e,s,0,n,this.visualElement,!1))}stopAnimation(){hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){hn(n=>{const{drag:s}=this.getProps();if(!Bc(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n];l.set(e[n]-Be(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!zr(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};hn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();a[u]=Gk({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),hn(u=>{if(!Bc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set(Be(f,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;$k.set(this.visualElement,this);const e=this.visualElement.current,n=Fr(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();zr(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Le.read(s);const u=Wo(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(hn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=f[g].translate,y.set(y.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=dm,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Bc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Xk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Qk extends as{constructor(e){super(e),this.removeGroupControls=Kt,this.removeListeners=Kt,this.controls=new Wk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const xb=t=>(e,n)=>{t&&Le.postRender(()=>t(e,n))};class Zk extends as{constructor(){super(...arguments),this.removePointerDownListener=Kt}onPointerDown(e){this.session=new Kx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:xb(e),onStart:xb(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&Le.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Fr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Eo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=Tb(t,e.target.x),s=Tb(t,e.target.y);return`${n}% ${s}%`}},Jk={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ns.parse(t);if(a.length>5)return s;const l=ns.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=f;const m=Be(d,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),l(a)}};class e2 extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;sD(t2),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Qc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,u=s.projection;return u&&(u.isPresent=l,a||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Le.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),np.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Wx(t){const[e,n]=LN(),s=w.useContext(kS);return b.jsx(e2,{...t,layoutGroup:s,switchLayoutGroup:w.useContext(BS),isPresent:e,safeToRemove:n})}const t2={borderRadius:{...Eo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Eo,borderTopRightRadius:Eo,borderBottomLeftRadius:Eo,borderBottomRightRadius:Eo,boxShadow:Jk};function n2(t,e,n){const s=xt(t)?t:Ko(t);return s.start(Rp("",s,e,n)),s.animation}function i2(t){return t instanceof SVGElement&&t.tagName!=="svg"}const s2=(t,e)=>t.depth-e.depth;class r2{constructor(){this.children=[],this.isDirty=!1}add(e){yp(this.children,e),this.isDirty=!0}remove(e){vp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(s2),this.isDirty=!1,this.children.forEach(e)}}function a2(t,e){const n=Mn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(ts(s),t(l-e))};return Le.read(s,!0),()=>ts(s)}const Xx=["TopLeft","TopRight","BottomLeft","BottomRight"],o2=Xx.length,wb=t=>typeof t=="string"?parseFloat(t):t,Cb=t=>typeof t=="number"||re.test(t);function l2(t,e,n,s,a,l){a?(t.opacity=Be(0,n.opacity!==void 0?n.opacity:1,c2(s)),t.opacityExit=Be(e.opacity!==void 0?e.opacity:1,0,u2(s))):l&&(t.opacity=Be(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let u=0;u<o2;u++){const d=`border${Xx[u]}Radius`;let f=Ab(e,d),m=Ab(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||Cb(f)===Cb(m)?(t[d]=Math.max(Be(wb(f),wb(m),s),0),(In.test(m)||In.test(f))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=Be(e.rotate||0,n.rotate||0,s))}function Ab(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const c2=Qx(0,.5,px),u2=Qx(.5,.95,Kt);function Qx(t,e,n){return s=>s<t?0:s>e?1:n(ta(t,e,s))}function Rb(t,e){t.min=e.min,t.max=e.max}function un(t,e){Rb(t.x,e.x),Rb(t.y,e.y)}function Nb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Db(t,e,n,s,a){return t-=e,t=uu(t,1/n,s),a!==void 0&&(t=uu(t,1/a,s)),t}function h2(t,e=0,n=1,s=.5,a,l=t,u=t){if(In.test(e)&&(e=parseFloat(e),e=Be(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Be(l.min,l.max,s);t===l&&(d-=e),t.min=Db(t.min,e,n,d,a),t.max=Db(t.max,e,n,d,a)}function Ob(t,e,[n,s,a],l,u){h2(t,e[n],e[s],e[a],e.scale,l,u)}const d2=["x","scaleX","originX"],f2=["y","scaleY","originY"];function kb(t,e,n,s){Ob(t.x,e,d2,n?n.x:void 0,s?s.x:void 0),Ob(t.y,e,f2,n?n.y:void 0,s?s.y:void 0)}function Ib(t){return t.translate===0&&t.scale===1}function Zx(t){return Ib(t.x)&&Ib(t.y)}function Mb(t,e){return t.min===e.min&&t.max===e.max}function m2(t,e){return Mb(t.x,e.x)&&Mb(t.y,e.y)}function Lb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Jx(t,e){return Lb(t.x,e.x)&&Lb(t.y,e.y)}function Pb(t){return Nt(t.x)/Nt(t.y)}function Ub(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class p2{constructor(){this.members=[]}add(e){yp(this.members,e),e.scheduleRender()}remove(e){if(vp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function g2(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:v,skewX:S,skewY:x}=n;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),y&&(s+=`rotateX(${y}deg) `),v&&(s+=`rotateY(${v}deg) `),S&&(s+=`skewX(${S}deg) `),x&&(s+=`skewY(${x}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(s+=`scale(${d}, ${f})`),s||"none"}const Of=["","X","Y","Z"],y2={visibility:"hidden"},jb=1e3;let v2=0;function kf(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function eT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Le,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&eT(s)}function tT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e==null?void 0:e()){this.id=v2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(E2),this.nodes.forEach(C2),this.nodes.forEach(A2),this.nodes.forEach(S2)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new r2)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new _p),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=i2(u),this.instance=u;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),t){let y;const v=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=a2(v,250),Qc.hasAnimatedSinceResize&&(Qc.hasAnimatedSinceResize=!1,this.nodes.forEach(Bb))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:S,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||k2,{onLayoutAnimationStart:D,onLayoutAnimationComplete:N}=g.getProps(),k=!this.targetLayout||!Jx(this.targetLayout,x),M=!v&&S;if(this.options.layoutRoot||this.resumeFrom||M||v&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,M);const H={...fp(C,"layout"),onPlay:D,onComplete:N};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else v||Bb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(R2),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vb);return}this.isUpdating||this.nodes.forEach(T2),this.isUpdating=!1,this.nodes.forEach(w2),this.nodes.forEach(_2),this.nodes.forEach(b2),this.clearAllSnapshots();const d=Mn.now();gt.delta=ui(0,1e3/60,d-gt.timestamp),gt.timestamp=d,gt.isProcessing=!0,xf.update.process(gt),xf.preRender.process(gt),xf.render.process(gt),gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,np.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(x2),this.sharedNodes.forEach(N2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nt(this.snapshot.measuredBox.x)&&!Nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Zx(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&(d||Is(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),I2(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return Qe();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(M2))){const{scroll:g}=this.root;g&&(Gr(f.x,g.offset.x),Gr(f.y,g.offset.y))}return f}removeElementScroll(u){var d;const f=Qe();if(un(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&un(f,u),Gr(f.x,y.offset.x),Gr(f.y,y.offset.y))}return f}applyTransform(u,d=!1){const f=Qe();un(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Yr(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Is(g.latestValues)&&Yr(f,g.latestValues)}return Is(this.latestValues)&&Yr(f,this.latestValues),f}removeTransform(u){const d=Qe();un(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Is(m.latestValues))continue;um(m.latestValues)&&m.updateSnapshot();const g=Qe(),y=m.measurePageBox();un(g,y),kb(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Is(this.latestValues)&&kb(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=gt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Io(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Pk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):un(this.target,this.layout.layoutBox),Gx(this.target,this.targetDelta)):un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Io(this.relativeTargetOrigin,this.target,S.target),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||um(this.parent.latestValues)||qx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===gt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;un(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,S=this.treeScale.y;Uk(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Qe());const{target:x}=d;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nb(this.prevProjectionDelta.x,this.projectionDelta.x),Nb(this.prevProjectionDelta.y,this.projectionDelta.y)),ko(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==S||!Ub(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ub(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qr(),this.projectionDelta=qr(),this.projectionDeltaWithTransform=qr()}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},y=qr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=Qe(),S=f?f.source:void 0,x=this.layout?this.layout.source:void 0,C=S!==x,D=this.getStack(),N=!D||D.members.length<=1,k=!!(C&&!N&&this.options.crossfade===!0&&!this.path.some(O2));this.animationProgress=0;let M;this.mixTargetDelta=H=>{const U=H/1e3;zb(y.x,u.x,U),zb(y.y,u.y,U),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Io(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D2(this.relativeTarget,this.relativeTargetOrigin,v,U),M&&m2(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Qe()),un(M,this.relativeTarget)),C&&(this.animationValues=g,l2(g,m,this.latestValues,U,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{Qc.hasAnimatedSinceResize=!0,this.currentAnimation=n2(0,jb,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:g}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&nT(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Qe();const y=Nt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+y;const v=Nt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+v}un(d,f),Yr(d,g),ko(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new p2),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&kf("z",u,m,this.animationValues);for(let g=0;g<Of.length;g++)kf(`rotate${Of[g]}`,u,m,this.animationValues),kf(`skew${Of[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return y2;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Wc(u==null?void 0:u.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Wc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Is(this.latestValues)&&(C.transform=g?g({},""):"none",this.hasProjected=!1),C}const v=y.animationValues||y.latestValues;this.applyTransformsToTarget(),m.transform=g2(this.projectionDeltaWithTransform,this.treeScale,v),g&&(m.transform=g(v,m.transform));const{x:S,y:x}=this.projectionDelta;m.transformOrigin=`${S.origin*100}% ${x.origin*100}% 0`,y.animationValues?m.opacity=y===this?(f=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:m.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const C in qo){if(v[C]===void 0)continue;const{correct:D,applyTo:N,isCSSVariable:k}=qo[C],M=m.transform==="none"?v[C]:D(v[C],y);if(N){const H=N.length;for(let U=0;U<H;U++)m[N[U]]=M}else k?this.options.visualElement.renderState.vars[C]=M:m[C]=M}return this.options.layoutId&&(m.pointerEvents=y===this?Wc(u==null?void 0:u.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Vb),this.root.sharedNodes.clear()}}}function _2(t){t.updateLayout()}function b2(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,u=n.source!==t.layout.source;l==="size"?hn(y=>{const v=u?n.measuredBox[y]:n.layoutBox[y],S=Nt(v);v.min=s[y].min,v.max=v.min+S}):nT(l,n.layoutBox,s)&&hn(y=>{const v=u?n.measuredBox[y]:n.layoutBox[y],S=Nt(s[y]);v.max=v.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+S)});const d=qr();ko(d,s,n.layoutBox);const f=qr();u?ko(f,t.applyTransform(a,!0),n.measuredBox):ko(f,s,n.layoutBox);const m=!Zx(d);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:S}=y;if(v&&S){const x=Qe();Io(x,n.layoutBox,v.layoutBox);const C=Qe();Io(C,s,S.layoutBox),Jx(x,C)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=x,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function E2(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function S2(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function x2(t){t.clearSnapshot()}function Vb(t){t.clearMeasurements()}function T2(t){t.isLayoutDirty=!1}function w2(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Bb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function C2(t){t.resolveTargetDelta()}function A2(t){t.calcProjection()}function R2(t){t.resetSkewAndRotation()}function N2(t){t.removeLeadSnapshot()}function zb(t,e,n){t.translate=Be(e.translate,0,n),t.scale=Be(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Hb(t,e,n,s){t.min=Be(e.min,n.min,s),t.max=Be(e.max,n.max,s)}function D2(t,e,n,s){Hb(t.x,e.x,n.x,s),Hb(t.y,e.y,n.y,s)}function O2(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const k2={duration:.45,ease:[.4,0,.1,1]},Fb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qb=Fb("applewebkit/")&&!Fb("chrome/")?Math.round:Kt;function Gb(t){t.min=qb(t.min),t.max=qb(t.max)}function I2(t){Gb(t.x),Gb(t.y)}function nT(t,e,n){return t==="position"||t==="preserve-aspect"&&!Lk(Pb(e),Pb(n),.2)}function M2(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const L2=tT({attachResizeListener:(t,e)=>Wo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),If={current:void 0},iT=tT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!If.current){const t=new L2({});t.mount(window),t.setOptions({layoutScroll:!0}),If.current=t}return If.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),P2={pan:{Feature:Zk},drag:{Feature:Qk,ProjectionNode:iT,MeasureLayout:Wx}};function Yb(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Le.postRender(()=>l(e,dl(e)))}class U2 extends as{mount(){const{current:e}=this.node;e&&(this.unmount=LD(e,(n,s)=>(Yb(this.node,s,"Start"),a=>Yb(this.node,a,"End"))))}unmount(){}}class j2 extends as{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hl(Wo(this.node.current,"focus",()=>this.onFocus()),Wo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kb(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Le.postRender(()=>l(e,dl(e)))}class V2 extends as{mount(){const{current:e}=this.node;e&&(this.unmount=VD(e,(n,s)=>(Kb(this.node,s,"Start"),(a,{success:l})=>Kb(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fm=new WeakMap,Mf=new WeakMap,B2=t=>{const e=fm.get(t.target);e&&e(t)},z2=t=>{t.forEach(B2)};function H2({root:t,...e}){const n=t||document;Mf.has(n)||Mf.set(n,{});const s=Mf.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(z2,{root:t,...e})),s[a]}function F2(t,e,n){const s=H2(e);return fm.set(t,n),s.observe(t),()=>{fm.delete(t),s.unobserve(t)}}const q2={some:0,all:1};class G2 extends as{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:q2[a]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=m?g:y;v&&v(f)};return F2(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Y2(e,n))&&this.startObserver()}unmount(){}}function Y2({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const K2={inView:{Feature:G2},tap:{Feature:V2},focus:{Feature:j2},hover:{Feature:U2}},$2={layout:{ProjectionNode:iT,MeasureLayout:Wx}},mm={current:null},sT={current:!1};function W2(){if(sT.current=!0,!!Qm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mm.current=t.matches;t.addListener(e),e()}else mm.current=!1}const X2=[...Nx,Et,ns],Q2=t=>X2.find(Rx(t)),Z2=new WeakMap;function J2(t,e,n){for(const s in e){const a=e[s],l=n[s];if(xt(a))t.addValue(s,a);else if(xt(l))t.addValue(s,Ko(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Ko(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const $b=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class eI{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Mn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Le.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:g}=u;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Bu(n),this.isVariantNode=jS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in v){const x=v[S];f[S]!==void 0&&xt(x)&&x.set(f[S],!1)}}mount(e){this.current=e,Z2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),sT.current||W2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ts(this.notifyUpdate),ts(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Qs.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Le.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in na){const n=na[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<$b.length;s++){const a=$b[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=J2(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ko(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(Cx(a)||yx(a))?a=parseFloat(a):!Q2(a)&&ns.test(n)&&(a=xx(e,n)),this.setBaseTarget(e,xt(a)?a.get():a)),xt(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const u=hp(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(a=u[e])}if(s&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!xt(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _p),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class rT extends eI{constructor(){super(...arguments),this.KeyframeResolver=Dx}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function tI(t){return window.getComputedStyle(t)}class nI extends rT{constructor(){super(...arguments),this.type="html",this.renderInstance=WS}readValueFromInstance(e,n){if(Qs.has(n)){const s=Tp(n);return s&&s.default||0}else{const s=tI(e),a=(ip(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Yx(e,n)}build(e,n,s){ap(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return dp(e,n,s)}}class iI extends rT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&$S(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Qs.has(n)){const s=Tp(n);return s&&s.default||0}return n=XS.has(n)?n:tp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return ZS(e,n,s)}onBindTransform(){this.current&&!this.renderState.dimensions&&Le.postRender(this.updateDimensions)}build(e,n,s){cp(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,a){QS(e,n,s,a)}mount(e){this.isSVGTag=up(e.tagName),super.mount(e)}}const sI=(t,e)=>lp(t)?new iI(e):new nI(e,{allowProjection:t!==w.Fragment}),rI=RD({...Ak,...K2,...P2,...$2},sI),Ee=qN(rI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aT=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},f)=>w.createElement("svg",{ref:f,...oI,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:aT("lucide",a),...d},[...u.map(([m,g])=>w.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(t,e)=>{const n=w.forwardRef(({className:s,...a},l)=>w.createElement(lI,{ref:l,iconNode:e,className:aT(`lucide-${aI(t)}`,s),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],uI=kt("ArrowLeft",cI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],oT=kt("ArrowRight",hI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fI=kt("ChevronLeft",dI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ms=kt("ChevronRight",mI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gI=kt("Eye",pI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],vI=kt("Instagram",yI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],sa=kt("Loader",_I);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],EI=kt("Mail",bI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xI=kt("MapPin",SI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],wI=kt("Phone",TI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],AI=kt("Plus",CI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],NI=kt("Star",RI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],OI=kt("Trash2",DI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],II=kt("Upload",kI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Np=kt("X",MI);function hu(t,e=800){const n=document.getElementById(t);if(!n)return;const s=window.scrollY,l=n.getBoundingClientRect().top+s-s;let u=null,d=null,f=!1;function m(){f=!0,d&&cancelAnimationFrame(d),window.removeEventListener("wheel",g,{passive:!0}),window.removeEventListener("touchstart",g,{passive:!0}),window.removeEventListener("keydown",g,{passive:!0})}function g(v){v.type==="keydown"&&!["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"," "].includes(v.key)||m()}window.addEventListener("wheel",g,{passive:!0}),window.addEventListener("touchstart",g,{passive:!0}),window.addEventListener("keydown",g,{passive:!0});function y(v){if(f)return;u||(u=v);const S=v-u,x=Math.min(S/e,1),C=1-Math.pow(1-x,5);window.scrollTo(0,s+l*C),S<e?d=requestAnimationFrame(y):m()}d=requestAnimationFrame(y)}const LI=()=>{const[t,e]=w.useState({name:"",email:"",message:""}),[n,s]=w.useState(!1),[a,l]=w.useState(""),u=f=>{e({...t,[f.target.name]:f.target.value})},d=async()=>{if(!t.name||!t.email||!t.message){l("Please fill in all fields");return}s(!0),l("");try{if((await fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:"service_et71par",template_id:"template_9jjgnog",user_id:"mFxKhq0zMQ6F6Ivj5",template_params:{name:t.name,from_name:t.name,from_email:t.email,email:t.email,message:t.message}})})).ok)l("Message sent successfully!"),e({name:"",email:"",message:""});else throw new Error("Failed to send message")}catch(f){l("To enable email sending, please set up EmailJS or a backend service. For now, use WhatsApp below."),console.error("Error:",f)}finally{s(!1)}};return b.jsx("section",{id:"contact",className:"py-24 bg-gray-50 text-gray-900",children:b.jsx("div",{className:"max-w-7xl mx-auto px-6",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-4xl md:text-4xl font-extralight mb-12 mt-10 text-gray-900 font-bodoni-moda",children:["LET'S CREATE",b.jsx("span",{className:"block text-[#CFB53B]",children:"SOMETHING BEAUTIFUL"})]}),b.jsx("p",{className:"text-gray-600 font-light mb-12 text-md leading-relaxed font-sans text-lg",children:"Ready to elevate your style? Book a consultation and let's bring your nail vision to life."}),b.jsx("div",{className:"space-y-6 mb-12 mt-10",children:[{icon:b.jsx(wI,{className:"w-5 h-5"}),label:"Phone",value:"+27 66 104 3677",href:"tel:+27661043677"},{icon:b.jsx(EI,{className:"w-5 h-5"}),label:"Email",value:"danielaalves3677@gmail.com",href:"mailto:danielaalves3677@gmail.com"},{icon:b.jsx(xI,{className:"w-5 h-5"}),label:"Location",value:"Vanderbijlpark, SE3, South Africa",href:"https://www.google.com/maps/search/?api=1&query=Vanderbijlpark+SE3+%2C+South+Africa"},{icon:b.jsx(vI,{className:"w-5 h-5"}),label:"Instagram",value:"@nails_by_danielaalves",href:"https://instagram.com/nails_by_danielaalves"}].map((f,m)=>b.jsx("a",{href:f.href,target:f.href.startsWith("http")?"_blank":void 0,rel:f.href.startsWith("http")?"noopener noreferrer":void 0,className:"flex items-center space-x-4 hover:underline text-gray-700 hover:text-gray-900",children:b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider font-sans",children:f.label}),b.jsx("div",{className:"text-gray-800 font-sans",children:f.value})]})},m))})]}),b.jsxs("div",{id:"book-form",className:"bg-white border border-gray-200 shadow-sm p-8",children:[b.jsx("h3",{className:"text-2xl font-light mb-8 text-gray-900",children:"BOOK CONSULTATION"}),a&&b.jsx("div",{className:`p-4 mb-6 text-center rounded ${a.includes("successfully")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:a}),b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{children:b.jsx("input",{type:"text",name:"name",value:t.name,onChange:u,placeholder:"Your Name",className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors"})}),b.jsx("div",{children:b.jsx("input",{type:"email",name:"email",value:t.email,onChange:u,placeholder:"Email Address",className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors"})}),b.jsx("div",{children:b.jsx("textarea",{name:"message",value:t.message,onChange:u,placeholder:"Tell me about your vision...",rows:4,className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors resize-none"})}),b.jsx("button",{onClick:d,disabled:n,className:"w-full bg-black text-white p-4 font-light hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Sending...":"Send Email"})]}),b.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:b.jsx("a",{href:"https://wa.me/27661043677",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-gray-100 text-gray-900 p-4 font-light hover:bg-gray-200 transition-colors text-center border border-gray-300",children:"Or Send via WhatsApp"})})]})]})})})},lT=[{question:"How long do gel nails last?",answer:"Gel nails typically last 2-4 weeks with proper care. The longevity depends on your lifestyle, nail growth rate, and aftercare routine. Most clients book touch-ups every 3 weeks to maintain that fresh, salon-perfect look."},{question:"What's the difference between gel and regular polish?",answer:"Gel polish is cured under UV/LED light, making it chip-resistant and long-lasting for weeks. Regular polish air-dries and typically lasts 3-7 days. Gel provides a glossy, durable finish that maintains its shine throughout wear."},{question:"How should I prepare for my nail appointment?",answer:"Remove any existing polish, keep your cuticles moisturized, and avoid cutting your nails too short beforehand. If you have design inspiration, bring photos! Also, let me know about any allergies or sensitivities during booking."},{question:"Can you work on damaged or weak nails?",answer:"Absolutely! I specialize in nail rehabilitation and strengthening treatments. We can build up weak spots, repair breaks, and use strengthening base coats to improve your natural nail health while creating beautiful manicures."},{question:"How do I make my manicure last longer?",answer:"Wear gloves when cleaning, use cuticle oil daily, avoid using nails as tools, and book regular touch-ups. I'll provide specific aftercare instructions and recommend products to extend your manicure's lifespan."}],ks={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.22,1,.36,1]}}},zc={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.05}}},PI={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.4,ease:[.22,1,.36,1]}}};function UI(){const[t,e]=w.useState(null),n=Gm(),s=a=>{e(l=>l===a?null:a)};return b.jsxs("div",{className:"w-full bg-white",children:[b.jsxs("section",{className:"relative h-screen w-full flex items-center justify-center bg-white overflow-hidden",children:[b.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.22,1,.36,1]},className:"relative z-10 text-center px-6 sm:px-6 max-w-5xl w-full md:mt-0",children:[b.jsx(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"inline-flex items-center mb-4 md:mb-6 px-3 py-1.5 md:px-4 md:py-2 bg-white bg-opacity-80 rounded-full md:rounded-none",children:b.jsx("p",{className:"text-xs text-gray-600 font-medium uppercase tracking-widest",children:"Certified Nail Technician"})}),b.jsxs(Ee.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.3},className:"font-bodoni-moda text-5xl md:text-6xl lg:text-8xl font-light text-gray-900 mb-4 md:mb-8 tracking-tight leading-tight md:leading-none",children:[b.jsx("span",{className:"block",children:"PRECISION"}),b.jsxs(Ee.span,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},className:"block mt-1 md:mt-3",children:["& ",b.jsx("span",{style:{color:"#CFB53B"},children:"ELEGANCE"})]})]}),b.jsx(Ee.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"font-sans text-base md:text-lg text-gray-600 mb-8 md:mb-12 max-w-lg md:max-w-2xl mx-auto leading-relaxed font-light px-2 md:px-0",children:"Transforming your nails into works of art with meticulous attention to detail."}),b.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"flex flex-col md:flex-row gap-3 md:gap-6 mt-6 md:mt-14 justify-center items-center px-4 md:px-0",children:[b.jsxs(Ee.button,{whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:17},onClick:()=>hu("contact",1500),className:"bg-black text-white px-10 md:px-14 py-3.5 md:py-4 text-sm font-medium uppercase tracking-wider hover:bg-gray-800 transition-colors duration-200 flex items-center justify-center w-full md:w-auto rounded-sm md:rounded-none",children:[b.jsx("span",{className:"relative z-10",children:"Book Now"}),b.jsx(oT,{className:"ml-3 w-4 h-4"})]}),b.jsx(Ee.button,{whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:17},onClick:()=>n("/designs"),className:"text-gray-700 hover:text-gray-900 transition-colors duration-200 text-sm font-medium uppercase tracking-wider px-10 md:px-14 py-3.5 md:py-4 border border-gray-200 hover:border-gray-400 flex items-center justify-center bg-white w-full md:w-auto rounded-sm md:rounded-none",children:b.jsx("span",{className:"relative z-10",children:"View Gallery"})})]}),b.jsx(Ee.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.9},className:"block md:hidden mt-8 w-12 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent mx-auto"})]}),b.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.8},className:"hidden md:block absolute bottom-8 left-1/2 transform -translate-x-1/2",children:b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("span",{className:"text-xs text-gray-500 mb-3 uppercase tracking-widest",children:"Scroll Down"}),b.jsx(Ee.div,{animate:{y:[0,8,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"w-px h-12 bg-gradient-to-b from-gray-400 to-transparent"})]})}),b.jsx(Ee.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.9},className:"hidden lg:block absolute top-24 left-8 w-8 h-8 border-l border-t border-gray-200"}),b.jsx(Ee.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.95},className:"hidden lg:block absolute top-24 right-8 w-8 h-8 border-r border-t border-gray-200"}),b.jsx(Ee.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.3,delay:1},className:"hidden lg:block absolute bottom-8 left-8 w-8 h-8 border-l border-b border-gray-200"}),b.jsx(Ee.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.3,delay:1.05},className:"hidden lg:block absolute bottom-8 right-8 w-8 h-8 border-r border-b border-gray-200"})]}),b.jsx("section",{className:"py-24 sm:py-32 bg-white w-full",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:ks,className:"text-center mb-20 sm:mb-24",children:[b.jsx("h2",{className:"text-4xl sm:text-5xl lg:text-6xl font-light text-black mb-8 tracking-tight",children:"Professional Services"}),b.jsx("p",{className:"text-gray-600 font-light max-w-2xl mx-auto text-base sm:text-lg leading-relaxed",children:"Expert nail care and artistry with premium products and meticulous attention to detail."})]}),b.jsx(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:zc,className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[{title:"Gel & Acrylic Overlays",description:"Professional overlays on your natural nails for strength and lasting beauty.",price:"FROM R160",discount:"20% OFF",categoryIndex:0},{title:"Extensions & Sculptures",description:"Expert extension services to create perfect length and elegant shape.",price:"FROM R210",discount:"25% OFF",popular:!0,categoryIndex:1},{title:"Nail Art & Services",description:"Custom nail art, professional fills, repairs and maintenance services.",price:"FROM R5",discount:"67% OFF",categoryIndex:3}].map((a,l)=>{const u=()=>{n(`/services?category=${a.categoryIndex}`)};return b.jsxs(Ee.div,{variants:PI,transition:{duration:.2,ease:"easeOut"},onClick:u,className:"group bg-white p-8 sm:p-12 cursor-pointer transition-all duration-300 relative border border-gray-100 hover:border-gray-50000",children:[a.popular&&b.jsxs("div",{className:"absolute -top-4 left-0 right-0 z-10 flex justify-center",children:[b.jsx("div",{className:"bg-black text-white px-4 sm:px-6 py-2 text-xs uppercase tracking-widest font-medium whitespace-nowrap",children:"Most Popular"}),b.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 sm:border-l-6 sm:border-r-6 sm:border-t-6 border-l-transparent border-r-transparent border-t-black"})]}),b.jsxs("div",{className:"h-full flex flex-col",children:[b.jsx("div",{className:"mb-2",children:b.jsx("span",{className:"text-sm sm:text-base text-gray-400 uppercase tracking-widest",children:String(l+1).padStart(2,"0")})}),b.jsx("h3",{className:"text-lg sm:text-xl font-light text-black mb-4 sm:mb-6 leading-tight",children:a.title}),b.jsx("p",{className:"text-gray-500 leading-relaxed mb-auto text-sm sm:text-base",children:a.description}),b.jsx("div",{className:"mt-8 sm:mt-12 pt-6 sm:pt-8 border-t border-gray-100",children:b.jsxs("div",{className:"flex items-end justify-between",children:[b.jsx("div",{className:"text-lg sm:text-xl font-light text-black",children:a.price}),b.jsx("div",{className:"text-xs sm:text-sm font-medium text-black",children:a.discount})]})})]})]},l)})}),b.jsx(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:ks,className:"text-center mt-16 sm:mt-20",children:b.jsx(Ee.button,{whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:17},onClick:()=>n("/services"),className:"text-black border border-black px-12 sm:px-16 py-4 font-light text-sm uppercase tracking-widest hover:bg-black hover:text-white transition-colors duration-200 bg-white",children:"View All Services"})})]})}),b.jsx("section",{className:"py-20 sm:py-24 bg-gradient-to-br from-gray-50 to-white w-full",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsx(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:ks,className:"text-center mb-16 sm:mb-20",children:b.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-light text-gray-900 mb-6",children:"Client Stories"})}),b.jsx(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:zc,className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[{name:"Ruben",text:"Daniela's artistry in nail design is truly inspiring. Every detail reflects her passion and innovative approach, leaving me feeling confident and uniquely styled."},{name:"Sophia",text:"I was amazed by the intricate designs and attention to detail. Daniela transformed my nails into a work of art that I proudly showcase every day."},{name:"James",text:"From start to finish, my experience was top-notch. Daniela's creativity and professionalism made me feel like a star."}].map((a,l)=>b.jsxs(Ee.div,{variants:zc,transition:{duration:.2,ease:"easeOut"},className:"bg-white p-6 sm:p-8 border border-gray-100",children:[b.jsx(Ee.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.3},className:"flex mb-4",children:[...Array(5)].map((u,d)=>b.jsx(NI,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},d))}),b.jsxs("p",{className:"text-gray-600 font-light text-sm leading-relaxed italic mb-6",children:['"',a.text,'"']}),b.jsxs("div",{className:"text-gray-900 font-light text-sm",children:[" ",a.name]})]},l))})]})}),b.jsx("section",{className:"py-20 sm:py-24 bg-white w-full",children:b.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsx(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:ks,className:"text-center mb-16 sm:mb-20",children:b.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-light text-gray-900 mb-6",children:"Frequently Asked"})}),b.jsx(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:zc,className:"space-y-2",children:lT.map((a,l)=>{const u=t===l;return b.jsxs(Ee.div,{variants:ks,className:"bg-white border border-gray-100 overflow-hidden",children:[b.jsxs(Ee.button,{whileHover:{backgroundColor:"rgba(249, 250, 251, 1)"},transition:{duration:.15},onClick:()=>s(l),className:"w-full flex justify-between items-center p-6 sm:p-8 text-left transition-colors duration-200",children:[b.jsx("span",{className:"text-gray-900 font-light text-base sm:text-lg pr-4",children:a.question}),b.jsxs(Ee.div,{animate:{rotate:u?45:0},transition:{duration:.15,ease:[.22,1,.36,1]},className:"w-6 h-6 flex items-center justify-center flex-shrink-0",children:[b.jsx("div",{className:"w-4 h-px bg-gray-400"}),b.jsx("div",{className:"w-px h-4 bg-gray-400 absolute"})]})]}),b.jsx(Ee.div,{initial:!1,animate:{height:u?"auto":0,opacity:u?1:0},transition:{duration:.2,ease:[.22,1,.36,1]},className:"overflow-hidden",children:b.jsx("div",{className:"px-6 sm:px-8 pb-6 sm:pb-8",children:b.jsx("p",{className:"text-gray-600 font-light leading-relaxed text-sm sm:text-base",children:a.answer})})})]},l)})})]})}),b.jsx(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:ks,id:"contact",children:b.jsx(LI,{})}),b.jsx(Ee.footer,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:ks,className:"py-12 bg-black text-gray-400 w-full",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[b.jsx(Ee.div,{transition:{type:"spring",stiffness:400,damping:17},className:"text-xl sm:text-2xl text-white font-light cursor-pointer font-dancing-script",onClick:()=>hu("hero",1500),children:"Daniela Alves"}),b.jsxs("div",{className:"text-xs sm:text-sm font-light text-center",children:[" ",new Date().getFullYear()," Daniela Alves. All rights reserved."]})]})})})]})}function jI(){const t=Gm(),e=Vn(),[n,s]=w.useState(!1),[a,l]=w.useState(!0),[u,d]=w.useState(0);w.useEffect(()=>{const v=document.createElement("style");return v.textContent=`
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
    `,document.head.appendChild(v),()=>document.head.removeChild(v)},[]),w.useEffect(()=>{const v=()=>{const S=window.scrollY;S<10?l(!0):S>u&&S>0?l(!1):S<u&&l(!0),d(S)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[u]),w.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]);const f=()=>{s(!n)},m=v=>{typeof v=="function"&&v(),s(!1)},g=(v,S=2500)=>{e.pathname==="/"?hu(v,S):(t("/"),setTimeout(()=>{hu(v,S)},300))},y=()=>{t("/designs")};return b.jsxs(b.Fragment,{children:[b.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-lg border-b border-stone-200 transition-transform duration-300 ease-in-out ${a?"translate-y-0":"-translate-y-full"}`,children:b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[b.jsx(DS,{to:"/",className:"text-2xl font-dancing-script text-gray-900 font-bold mt-2",children:"Daniela Alves"}),b.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[b.jsx("a",{href:"#",className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Home"}),b.jsx("button",{onClick:()=>g("services"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Services"}),b.jsx("button",{onClick:y,className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Gallery"}),b.jsx("button",{onClick:()=>g("testimonials"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Client Stories"}),b.jsx("button",{onClick:()=>g("faq"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"FAQ"}),b.jsx("button",{onClick:()=>g("book-form"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Contact"}),b.jsx("a",{href:"https://wa.me/27661043677?text=Hi%20Daniela!%20I'd%20like%20to%20book%20an%20appointment.%20My%20name%20is%20____%20and%20I'm%20interested%20in%20____.",target:"_blank",rel:"noopener noreferrer",className:"bg-stone-900 text-white px-6 py-2 text-sm font-light hover:bg-stone-800 transition-colors uppercase",children:"Book Now"})]}),b.jsxs("button",{className:"md:hidden relative w-6 h-6 flex flex-col justify-center items-center z-50",onClick:f,"aria-label":"Toggle menu",children:[b.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out absolute ${n?"rotate-45":"translate-y-[-4px]"}`}),b.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out ${n?"opacity-0":"opacity-100"}`}),b.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out absolute ${n?"-rotate-45":"translate-y-[4px]"}`})]})]})}),b.jsxs("div",{className:`fixed inset-0 z-40 md:hidden transition-all duration-300 ease-in-out top-[73px] ${n?"opacity-100 visible":"opacity-0 invisible"}`,children:[b.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:()=>s(!1)}),b.jsx("div",{className:`absolute top-0 right-0 h-full w-80 max-w-[85vw] bg-white shadow-2xl transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"translate-x-full"}`,children:b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsx("div",{className:"flex-1 py-6",children:b.jsxs("nav",{className:"space-y-1",children:[b.jsxs("a",{href:"/",onClick:()=>m(),className:"flex items-center px-6 py-3 text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Home"}),b.jsx(Ms,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(()=>g("services")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Services"}),b.jsx(Ms,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(y),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Gallery"}),b.jsx(Ms,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(()=>g("testimonials")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Client Stories"}),b.jsx(Ms,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(()=>g("faq")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"FAQ"}),b.jsx(Ms,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(()=>g("book-form")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Contact"}),b.jsx(Ms,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]})]})}),b.jsx("div",{className:"p-6 border-t border-stone-100",children:b.jsx("a",{href:"https://wa.me/27661043677?text=Hi%20Daniela!%20I'd%20like%20to%20book%20an%20appointment.%20My%20name%20is%20____%20and%20I'm%20interested%20in%20____.",onClick:()=>s(!1),target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-stone-900 text-white px-6 py-3 text-center font-medium hover:bg-stone-800 transition-colors uppercase",children:"Book Now"})})]})})]})]})}const VI=()=>{};var Wb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(t,e){if(!t)throw fa(e)},fa=function(t){return new Error("Firebase Database ("+cT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},BI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],f=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Dp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,f=a+2<t.length,m=f?t[a+2]:0,g=l>>2,y=(l&3)<<4|d>>4;let v=(d&15)<<2|m>>6,S=m&63;f||(S=64,u||(v=64)),s.push(n[g],n[y],n[v],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||m==null||y==null)throw new zI;const v=l<<2|d>>4;if(s.push(v),m!==64){const S=d<<4&240|m>>2;if(s.push(S),y!==64){const x=m<<6&192|y;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hT=function(t){const e=uT(t);return Dp.encodeByteArray(e,!0)},du=function(t){return hT(t).replace(/\./g,"")},fu=function(t){try{return Dp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){return dT(void 0,t)}function dT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!FI(n)||(t[n]=dT(t[n],e[n]));return t}function FI(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=()=>qI().__FIREBASE_DEFAULTS__,YI=()=>{if(typeof process>"u"||typeof Wb>"u")return;const t=Wb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fu(t[1]);return e&&JSON.parse(e)},Op=()=>{try{return VI()||GI()||YI()||KI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fT=t=>{var e,n;return(n=(e=Op())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mT=t=>{const e=fT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},pT=()=>{var t;return(t=Op())===null||t===void 0?void 0:t.config},gT=t=>{var e;return(e=Op())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){return t.endsWith(".cloudworkstations.dev")}async function kp(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[du(JSON.stringify(n)),du(JSON.stringify(u)),""].join(".")}const Mo={};function $I(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mo))Mo[e]?t.emulator.push(e):t.prod.push(e);return t}function WI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xb=!1;function Ip(t,e){if(typeof window>"u"||typeof document>"u"||!Zs(window.location.host)||Mo[t]===e||Mo[t]||Xb)return;Mo[t]=e;function n(v){return`__firebase__banner__${v}`}const s="__firebase__banner",l=$I().prod.length>0;function u(){const v=document.getElementById(s);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,S){v.setAttribute("width","24"),v.setAttribute("id",S),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Xb=!0,u()},v}function g(v,S){v.setAttribute("id",S),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=WI(s),S=n("text"),x=document.getElementById(S)||document.createElement("span"),C=n("learnmore"),D=document.getElementById(C)||document.createElement("a"),N=n("preprendIcon"),k=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const M=v.element;d(M),g(D,C);const H=m();f(k,N),M.append(k,x,D,H),document.body.appendChild(M)}l?(x.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function XI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZI(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JI(){return cT.NODE_ADMIN===!0}function eM(){try{return typeof indexedDB=="object"}catch{return!1}}function tM(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="FirebaseError";class gi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=nM,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fl.prototype.create)}}class fl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?iM(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new gi(a,d,s)}}function iM(t,e){return t.replace(sM,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const sM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){return JSON.parse(t)}function dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=function(t){let e={},n={},s={},a="";try{const l=t.split(".");e=Xo(fu(l[0])||""),n=Xo(fu(l[1])||""),a=l[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:a}},rM=function(t){const e=_T(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},aM=function(t){const e=_T(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ra(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function pm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mu(t,e,n){const s={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=e.call(n,t[a],a,t));return s}function Hs(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Qb(l)&&Qb(u)){if(!Hs(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Qb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function No(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Do(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)s[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const v=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(v<<1|v>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],d=this.chain_[3],f=this.chain_[4],m,g;for(let y=0;y<80;y++){y<40?y<20?(m=d^l&(u^d),g=1518500249):(m=l^u^d,g=1859775393):y<60?(m=l&u|d&(l|u),g=2400959708):(m=l^u^d,g=3395469782);const v=(a<<5|a>>>27)+m+f+g+s[y]&4294967295;f=d,d=u,u=(l<<30|l>>>2)&4294967295,l=a,a=v}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let a=0;const l=this.buf_;let u=this.inbuf_;for(;a<n;){if(u===0)for(;a<=s;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<n;)if(l[u]=e.charCodeAt(a),++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}else for(;a<n;)if(l[u]=e[a],++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)e[s]=this.chain_[a]>>l&255,++s;return e}}function lM(t,e){const n=new cM(t,e);return n.subscribe.bind(n)}class cM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");uM(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Lf),a.error===void 0&&(a.error=Lf),a.complete===void 0&&(a.complete=Lf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lf(){}function Lp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);if(a>=55296&&a<=56319){const l=a-55296;s++,Y(s<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(s)-56320;a=65536+(l<<10)+u}a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):a<65536?(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Fu=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class is{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Hu;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mM(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fM(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fM(t){return t===Ls?void 0:t}function mM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const gM={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},yM=Ne.INFO,vM={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},_M=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=vM[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pp{constructor(e){this.name=e,this._logLevel=yM,this._logHandler=_M,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const bM=(t,e)=>e.some(n=>t instanceof n);let Zb,Jb;function EM(){return Zb||(Zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SM(){return Jb||(Jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bT=new WeakMap,gm=new WeakMap,ET=new WeakMap,Pf=new WeakMap,Up=new WeakMap;function xM(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Xi(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&bT.set(n,t)}).catch(()=>{}),Up.set(e,t),e}function TM(t){if(gm.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});gm.set(t,e)}let ym={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ET.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wM(t){ym=t(ym)}function CM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Uf(this),e,...n);return ET.set(s,e.sort?e.sort():[e]),Xi(s)}:SM().includes(t)?function(...e){return t.apply(Uf(this),e),Xi(bT.get(this))}:function(...e){return Xi(t.apply(Uf(this),e))}}function AM(t){return typeof t=="function"?CM(t):(t instanceof IDBTransaction&&TM(t),bM(t,EM())?new Proxy(t,ym):t)}function Xi(t){if(t instanceof IDBRequest)return xM(t);if(Pf.has(t))return Pf.get(t);const e=AM(t);return e!==t&&(Pf.set(t,e),Up.set(e,t)),e}const Uf=t=>Up.get(t);function RM(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=Xi(u);return s&&u.addEventListener("upgradeneeded",f=>{s(Xi(u.result),f.oldVersion,f.newVersion,Xi(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const NM=["get","getKey","getAll","getAllKeys","count"],DM=["put","add","delete","clear"],jf=new Map;function eE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jf.get(e))return jf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=DM.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||NM.includes(n)))return;const l=async function(u,...d){const f=this.transaction(u,a?"readwrite":"readonly");let m=f.store;return s&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),a&&f.done]))[0]};return jf.set(e,l),l}wM(t=>({...t,get:(e,n,s)=>eE(e,n)||t.get(e,n,s),has:(e,n)=>!!eE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kM(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vm="@firebase/app",tE="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Pp("@firebase/app"),IM="@firebase/app-compat",MM="@firebase/analytics-compat",LM="@firebase/analytics",PM="@firebase/app-check-compat",UM="@firebase/app-check",jM="@firebase/auth",VM="@firebase/auth-compat",BM="@firebase/database",zM="@firebase/data-connect",HM="@firebase/database-compat",FM="@firebase/functions",qM="@firebase/functions-compat",GM="@firebase/installations",YM="@firebase/installations-compat",KM="@firebase/messaging",$M="@firebase/messaging-compat",WM="@firebase/performance",XM="@firebase/performance-compat",QM="@firebase/remote-config",ZM="@firebase/remote-config-compat",JM="@firebase/storage",eL="@firebase/storage-compat",tL="@firebase/firestore",nL="@firebase/ai",iL="@firebase/firestore-compat",sL="firebase",rL="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",aL={[vm]:"fire-core",[IM]:"fire-core-compat",[LM]:"fire-analytics",[MM]:"fire-analytics-compat",[UM]:"fire-app-check",[PM]:"fire-app-check-compat",[jM]:"fire-auth",[VM]:"fire-auth-compat",[BM]:"fire-rtdb",[zM]:"fire-data-connect",[HM]:"fire-rtdb-compat",[FM]:"fire-fn",[qM]:"fire-fn-compat",[GM]:"fire-iid",[YM]:"fire-iid-compat",[KM]:"fire-fcm",[$M]:"fire-fcm-compat",[WM]:"fire-perf",[XM]:"fire-perf-compat",[QM]:"fire-rc",[ZM]:"fire-rc-compat",[JM]:"fire-gcs",[eL]:"fire-gcs-compat",[tL]:"fire-fst",[iL]:"fire-fst-compat",[nL]:"fire-vertex","fire-js":"fire-js",[sL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new Map,oL=new Map,bm=new Map;function nE(t,e){try{t.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fs(t){const e=t.name;if(bm.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,t);for(const n of pu.values())nE(n,t);for(const n of oL.values())nE(n,t);return!0}function qu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new fl("app","Firebase",lL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=rL;function jp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_m,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw Qi.create("bad-app-name",{appName:String(a)});if(n||(n=pT()),!n)throw Qi.create("no-options");const l=pu.get(a);if(l){if(Hs(n,l.options)&&Hs(s,l.config))return l;throw Qi.create("duplicate-app",{appName:a})}const u=new pM(a);for(const f of bm.values())u.addComponent(f);const d=new cL(n,s,u);return pu.set(a,d),d}function Vp(t=_m){const e=pu.get(t);if(!e&&t===_m&&pT())return jp();if(!e)throw Qi.create("no-app",{appName:t});return e}function Ln(t,e,n){var s;let a=(s=aL[t])!==null&&s!==void 0?s:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(d.join(" "));return}Fs(new is(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="firebase-heartbeat-database",hL=1,Qo="firebase-heartbeat-store";let Vf=null;function ST(){return Vf||(Vf=RM(uL,hL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),Vf}async function dL(t){try{const n=(await ST()).transaction(Qo),s=await n.objectStore(Qo).get(xT(t));return await n.done,s}catch(e){if(e instanceof gi)hi.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(n.message)}}}async function iE(t,e){try{const s=(await ST()).transaction(Qo,"readwrite");await s.objectStore(Qo).put(e,xT(t)),await s.done}catch(n){if(n instanceof gi)hi.warn(n.message);else{const s=Qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(s.message)}}}function xT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=1024,mL=30;class pL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yL(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=sE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>mL){const u=vL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){hi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sE(),{heartbeatsToSend:s,unsentEntries:a}=gL(this._heartbeatsCache.heartbeats),l=du(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return hi.warn(n),""}}}function sE(){return new Date().toISOString().substring(0,10)}function gL(t,e=fL){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),rE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),rE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eM()?tM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return iE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return iE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function rE(t){return du(JSON.stringify({version:2,heartbeats:t})).length}function vL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){Fs(new is("platform-logger",e=>new OM(e),"PRIVATE")),Fs(new is("heartbeat",e=>new pL(e),"PRIVATE")),Ln(vm,tE,t),Ln(vm,tE,"esm2017"),Ln("fire-js","")}_L("");var bL="firebase",EL="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(bL,EL,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="firebasestorage.googleapis.com",wT="storageBucket",SL=2*60*1e3,xL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends gi{constructor(e,n,s=0){super(Bf(e),`Firebase Storage: ${n} (${Bf(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,We.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $e;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($e||($e={}));function Bf(t){return"storage/"+t}function Bp(){const t="An unknown error occurred, please check the error payload for server response.";return new We($e.UNKNOWN,t)}function TL(t){return new We($e.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function wL(t){return new We($e.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new We($e.UNAUTHENTICATED,t)}function AL(){return new We($e.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RL(t){return new We($e.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function NL(){return new We($e.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DL(){return new We($e.CANCELED,"User canceled the upload/download.")}function OL(t){return new We($e.INVALID_URL,"Invalid URL '"+t+"'.")}function kL(t){return new We($e.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function IL(){return new We($e.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wT+"' property when initializing the app?")}function ML(){return new We($e.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function LL(){return new We($e.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function PL(t){return new We($e.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Em(t){return new We($e.INVALID_ARGUMENT,t)}function CT(){return new We($e.APP_DELETED,"The Firebase app was deleted.")}function UL(t){return new We($e.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lo(t,e){return new We($e.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function So(t){throw new We($e.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Dt.makeFromUrl(e,n)}catch{return new Dt(e,"")}if(s.path==="")return s;throw kL(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+a+u,"i"),f={bucket:1,path:3};function m(H){H.path_=decodeURIComponent(H.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",S=new RegExp(`^https?://${y}/${g}/b/${a}/o${v}`,"i"),x={bucket:1,path:3},C=n===TT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",N=new RegExp(`^https?://${C}/${a}/${D}`,"i"),M=[{regex:d,indices:f,postModify:l},{regex:S,indices:x,postModify:m},{regex:N,indices:{bucket:1,path:2},postModify:m}];for(let H=0;H<M.length;H++){const U=M[H],G=U.regex.exec(e);if(G){const te=G[U.indices.bucket];let $=G[U.indices.path];$||($=""),s=new Dt(te,$),U.postModify(s);break}}if(s==null)throw OL(e);return s}}class jL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t,e,n){let s=1,a=null,l=null,u=!1,d=0;function f(){return d===2}let m=!1;function g(...D){m||(m=!0,e.apply(null,D))}function y(D){a=setTimeout(()=>{a=null,t(S,f())},D)}function v(){l&&clearTimeout(l)}function S(D,...N){if(m){v();return}if(D){v(),g.call(null,D,...N);return}if(f()||u){v(),g.call(null,D,...N);return}s<64&&(s*=2);let M;d===1?(d=2,M=0):M=(s+Math.random())*1e3,y(M)}let x=!1;function C(D){x||(x=!0,v(),!m&&(a!==null?(D||(d=2),clearTimeout(a),y(0)):D||(d=1)))}return y(0),l=setTimeout(()=>{u=!0,C(!0)},n),C}function BL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){return t!==void 0}function HL(t){return typeof t=="object"&&!Array.isArray(t)}function zp(t){return typeof t=="string"||t instanceof String}function aE(t){return Hp()&&t instanceof Blob}function Hp(){return typeof Blob<"u"}function Sm(t,e,n,s){if(s<e)throw Em(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Em(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function AT(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var zs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zs||(zs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n,s,a,l,u,d,f,m,g,y,v=!0,S=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=y,this.retry=v,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,C)=>{this.resolve_=x,this.reject_=C,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Hc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const d=l.getErrorCode()===zs.NO_ERROR,f=l.getStatus();if(!d||FL(f,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===zs.ABORT;s(!1,new Hc(!1,null,g));return}const m=this.successCodes_.indexOf(f)!==-1;s(!0,new Hc(m,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());zL(f)?l(f):l()}catch(f){u(f)}else if(d!==null){const f=Bp();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(a.canceled){const f=this.appDelete_?CT():DL();u(f)}else{const f=NL();u(f)}};this.canceled_?n(!1,new Hc(!1,null,!0)):this.backoffId_=VL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function GL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function YL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $L(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function WL(t,e,n,s,a,l,u=!0,d=!1){const f=AT(t.urlParams),m=t.url+f,g=Object.assign({},t.headers);return KL(g,e),GL(g,n),YL(g,l),$L(g,s),new qL(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function QL(...t){const e=XL();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(Hp())return new Blob(t);throw new We($e.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ZL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){if(typeof atob>"u")throw PL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zf{constructor(e,n){this.data=e,this.contentType=n||null}}function eP(t,e){switch(t){case kn.RAW:return new zf(RT(e));case kn.BASE64:case kn.BASE64URL:return new zf(NT(t,e));case kn.DATA_URL:return new zf(nP(e),iP(e))}throw Bp()}function RT(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=t.charCodeAt(++n);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function tP(t){let e;try{e=decodeURIComponent(t)}catch{throw Lo(kn.DATA_URL,"Malformed data URL.")}return RT(e)}function NT(t,e){switch(t){case kn.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Lo(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case kn.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Lo(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=JL(e)}catch(a){throw a.message.includes("polyfill")?a:Lo(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class DT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Lo(kn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=sP(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function nP(t){const e=new DT(t);return e.base64?NT(kn.BASE64,e.rest):tP(e.rest)}function iP(t){return new DT(t).contentType}function sP(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){let s=0,a="";aE(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(aE(this.data_)){const s=this.data_,a=ZL(s,e,n);return a===null?null:new Gi(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Gi(s,!0)}}static getBlob(...e){if(Hp()){const n=e.map(s=>s instanceof Gi?s.data_:s);return new Gi(QL.apply(null,n))}else{const n=e.map(u=>zp(u)?eP(kn.RAW,u).data:u.data_);let s=0;n.forEach(u=>{s+=u.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(u=>{for(let d=0;d<u.length;d++)a[l++]=u[d]}),new Gi(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t){let e;try{e=JSON.parse(t)}catch{return null}return HL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function aP(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function OT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t,e){return e}class Rt{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||oP}}let Fc=null;function lP(t){return!zp(t)||t.length<2?t:OT(t)}function kT(){if(Fc)return Fc;const t=[];t.push(new Rt("bucket")),t.push(new Rt("generation")),t.push(new Rt("metageneration")),t.push(new Rt("name","fullPath",!0));function e(l,u){return lP(u)}const n=new Rt("name");n.xform=e,t.push(n);function s(l,u){return u!==void 0?Number(u):u}const a=new Rt("size");return a.xform=s,t.push(a),t.push(new Rt("timeCreated")),t.push(new Rt("updated")),t.push(new Rt("md5Hash",null,!0)),t.push(new Rt("cacheControl",null,!0)),t.push(new Rt("contentDisposition",null,!0)),t.push(new Rt("contentEncoding",null,!0)),t.push(new Rt("contentLanguage",null,!0)),t.push(new Rt("contentType",null,!0)),t.push(new Rt("metadata","customMetadata",!0)),Fc=t,Fc}function cP(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new Dt(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function uP(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const u=n[l];s[u.local]=u.xform(s,e[u.server])}return cP(s,t),s}function IT(t,e,n){const s=Fp(e);return s===null?null:uP(t,s,n)}function hP(t,e,n,s){const a=Fp(e);if(a===null||!zp(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(m=>{const g=t.bucket,y=t.fullPath,v="/b/"+u(g)+"/o/"+u(y),S=ml(v,n,s),x=AT({alt:"media",token:m});return S+x})[0]}function dP(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="prefixes",lE="items";function fP(t,e,n){const s={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[oE])for(const a of n[oE]){const l=a.replace(/\/$/,""),u=t._makeStorageReference(new Dt(e,l));s.prefixes.push(u)}if(n[lE])for(const a of n[lE]){const l=t._makeStorageReference(new Dt(e,a.name));s.items.push(l)}return s}function mP(t,e,n){const s=Fp(n);return s===null?null:fP(t,e,s)}class Gu{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){if(!t)throw Bp()}function pP(t,e){function n(s,a){const l=IT(t,a,e);return qp(l!==null),l}return n}function gP(t,e){function n(s,a){const l=mP(t,e,a);return qp(l!==null),l}return n}function yP(t,e){function n(s,a){const l=IT(t,a,e);return qp(l!==null),hP(l,a,t.host,t._protocol)}return n}function Gp(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=AL():a=CL():n.getStatus()===402?a=wL(t.bucket):n.getStatus()===403?a=RL(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function MT(t){const e=Gp(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=TL(t.path)),l.serverResponse=a.serverResponse,l}return n}function vP(t,e,n,s,a){const l={};e.isRoot?l.prefix="":l.prefix=e.path+"/",n.length>0&&(l.delimiter=n),s&&(l.pageToken=s),a&&(l.maxResults=a);const u=e.bucketOnlyServerUrl(),d=ml(u,t.host,t._protocol),f="GET",m=t.maxOperationRetryTime,g=new Gu(d,f,gP(t,e.bucket),m);return g.urlParams=l,g.errorHandler=Gp(e),g}function _P(t,e,n){const s=e.fullServerUrl(),a=ml(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,d=new Gu(a,l,yP(t,n),u);return d.errorHandler=MT(e),d}function bP(t,e){const n=e.fullServerUrl(),s=ml(n,t.host,t._protocol),a="DELETE",l=t.maxOperationRetryTime;function u(f,m){}const d=new Gu(s,a,u,l);return d.successCodes=[200,204],d.errorHandler=MT(e),d}function EP(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function SP(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=EP(null,e)),s}function xP(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let M="";for(let H=0;H<2;H++)M=M+Math.random().toString().slice(2);return M}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const m=SP(e,s,a),g=dP(m,n),y="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,v=`\r
--`+f+"--",S=Gi.getBlob(y,s,v);if(S===null)throw ML();const x={name:m.fullPath},C=ml(l,t.host,t._protocol),D="POST",N=t.maxUploadRetryTime,k=new Gu(C,D,pP(t,n),N);return k.urlParams=x,k.headers=u,k.body=S.uploadData(),k.errorHandler=Gp(e),k}class TP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw So("cannot .send() more than once");if(Zs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw So("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw So("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw So("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw So("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wP extends TP{initXhr(){this.xhr_.responseType="text"}}function Yu(){return new wP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){this._service=e,n instanceof Dt?this._location=n:this._location=Dt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qs(e,n)}get root(){const e=new Dt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OT(this._location.path)}get storage(){return this._service}get parent(){const e=rP(this._location.path);if(e===null)return null;const n=new Dt(this._location.bucket,e);return new qs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw UL(e)}}function CP(t,e,n){t._throwIfRoot("uploadBytes");const s=xP(t.storage,t._location,kT(),new Gi(e,!0),n);return t.storage.makeRequestWithTokens(s,Yu).then(a=>({metadata:a,ref:t}))}function AP(t){const e={prefixes:[],items:[]};return LT(t,e).then(()=>e)}async function LT(t,e,n){const a=await RP(t,{pageToken:n});e.prefixes.push(...a.prefixes),e.items.push(...a.items),a.nextPageToken!=null&&await LT(t,e,a.nextPageToken)}function RP(t,e){e!=null&&typeof e.maxResults=="number"&&Sm("options.maxResults",1,1e3,e.maxResults);const n=e||{},s=vP(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(s,Yu)}function NP(t){t._throwIfRoot("getDownloadURL");const e=_P(t.storage,t._location,kT());return t.storage.makeRequestWithTokens(e,Yu).then(n=>{if(n===null)throw LL();return n})}function DP(t){t._throwIfRoot("deleteObject");const e=bP(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Yu)}function OP(t,e){const n=aP(t._location.path,e),s=new Dt(t._location.bucket,n);return new qs(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t){return/^[A-Za-z]+:\/\//.test(t)}function IP(t,e){return new qs(t,e)}function PT(t,e){if(t instanceof Yp){const n=t;if(n._bucket==null)throw IL();const s=new qs(n,n._bucket);return e!=null?PT(s,e):s}else return e!==void 0?OP(t,e):t}function MP(t,e){if(e&&kP(e)){if(t instanceof Yp)return IP(t,e);throw Em("To use ref(service, url), the first argument must be a Storage instance.")}else return PT(t,e)}function cE(t,e){const n=e==null?void 0:e[wT];return n==null?null:Dt.makeFromBucketSpec(n,t)}function LP(t,e,n,s={}){t.host=`${e}:${n}`;const a=Zs(e);a&&(kp(`https://${t.host}`),Ip("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:yT(l,t.app.options.projectId))}class Yp{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=TT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SL,this._maxUploadRetryTime=xL,this._requests=new Set,a!=null?this._bucket=Dt.makeFromBucketSpec(a,this._host):this._bucket=cE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dt.makeFromBucketSpec(this._url,e):this._bucket=cE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qs(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new jL(CT());{const u=WL(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const uE="@firebase/storage",hE="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="storage";function PP(t,e,n){return t=Ze(t),CP(t,e,n)}function jT(t){return t=Ze(t),AP(t)}function VT(t){return t=Ze(t),NP(t)}function UP(t){return t=Ze(t),DP(t)}function gu(t,e){return t=Ze(t),MP(t,e)}function BT(t=Vp(),e){t=Ze(t);const s=qu(t,UT).getImmediate({identifier:e}),a=mT("storage");return a&&jP(s,...a),s}function jP(t,e,n,s={}){LP(t,e,n,s)}function VP(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Yp(n,s,a,e,Js)}function BP(){Fs(new is(UT,VP,"PUBLIC").setMultipleInstances(!0)),Ln(uE,hE,""),Ln(uE,hE,"esm2017")}BP();const zP={apiKey:"AIzaSyAafDSvuHq7bb9F3-SdVpwM2NTNNtymT_o",authDomain:"nailsbydani-6082b.firebaseapp.com",databaseURL:"https://nailsbydani-6082b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nailsbydani-6082b",storageBucket:"nailsbydani-6082b.firebasestorage.app",messagingSenderId:"438345951991",appId:"1:438345951991:web:335b18a1bca6fa1a75c1f2",measurementId:"G-6R161TJXN6"};let dE,xm;try{dE=jp(zP),xm=BT(dE)}catch(t){console.error("Firebase initialization error:",t)}const HP=({design:t,index:e,imageURL:n,openLightbox:s,inView:a})=>{const[l,u]=w.useState(!1),[d,f]=w.useState(!1),m=()=>u(!0),g=()=>{f(!0),u(!0)};return b.jsx("div",{className:"group cursor-pointer relative overflow-hidden bg-white border border-gray-100 transition-all duration-300 break-inside-avoid mb-6","data-index":e,style:{animationName:a?"slideInUp":"none",animationDuration:"0.8s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",animationFillMode:"forwards",animationDelay:`${e*50}ms`,opacity:a?1:0,transform:a?"translateY(0)":"translateY(30px)"},children:b.jsxs("div",{className:"relative overflow-hidden h-full",children:[!l&&b.jsx("div",{className:"w-full h-72 bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:b.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-black rounded-full animate-spin"})}),n?b.jsx("img",{src:n,alt:t.title,className:`w-full h-full object-cover transition-all duration-500 group-hover:scale-110 ${l?"opacity-100":"opacity-0 absolute inset-0"}`,loading:"lazy",onLoad:m,onError:g,onClick:()=>s(t)}):b.jsx("div",{className:"w-full h-72 bg-gray-50 flex items-center justify-center",children:b.jsx("span",{className:"text-gray-400 text-sm",children:"Loading..."})}),d&&b.jsx("div",{className:"w-full h-72 bg-gray-50 flex items-center justify-center",children:b.jsxs("div",{className:"text-gray-400 text-center",children:[b.jsx("div",{className:"text-lg mb-1",children:""}),b.jsxs("div",{className:"text-xs",children:["Design #",t.id]})]})})]})})};function FP(){const[t,e]=w.useState(null),[n,s]=w.useState(20),[a,l]=w.useState({}),[u,d]=w.useState(!0),[f,m]=w.useState([]),[g,y]=w.useState(new Set),v=f.slice(0,n);w.useEffect(()=>{const N=new IntersectionObserver(M=>{M.forEach(H=>{if(H.isIntersecting){const U=parseInt(H.target.dataset.index);y(G=>new Set([...G,U]))}})},{threshold:.1,rootMargin:"50px"});return document.querySelectorAll("[data-index]").forEach(M=>N.observe(M)),()=>N.disconnect()},[v]),w.useEffect(()=>{(async()=>{if(!xm){d(!1);return}try{const k=gu(xm,"Designs/"),H=(await jT(k)).items.map((G,te)=>{const $=G.name,q=parseInt($.split(".")[0])||te+1;return{id:q,title:`Design ${q}`,storageRef:G}});H.sort((G,te)=>G.id-te.id),m(H);const U=H.map(async G=>{try{const te=await VT(G.storageRef);l($=>({...$,[G.id]:te}))}catch{console.warn(`Failed to get URL for design ${G.id}`)}});await Promise.all(U),d(!1)}catch(k){console.error("Error discovering images:",k),d(!1)}})()},[]);const S=(N,k)=>{k&&k.stopPropagation(),e(N)},x=()=>e(null),C=N=>{const k=f.findIndex(H=>H.id===t.id);let M;N==="next"?M=(k+1)%f.length:M=k-1<0?f.length-1:k-1,e(f[M])},D=()=>s(N=>N+20);return b.jsxs("div",{className:"min-h-screen bg-white pt-[60px]",children:[b.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-b from-gray-50 to-white",children:[b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-100 via-white to-white"}),b.jsx("div",{className:"relative text-center mt-20",children:b.jsx("div",{className:"max-w-4xl mx-auto px-6",children:u?b.jsx(b.Fragment,{children:b.jsx("h2",{className:"text-4xl md:text-5xl font-extralight text-stone-900 mb-3",children:"Portfolio Designs"})}):b.jsx(b.Fragment,{children:b.jsx("h2",{className:"text-4xl md:text-5xl font-extralight text-stone-900 mb-3",children:"Portfolio Designs"})})})})]}),b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[u?b.jsx("div",{className:"columns-2 sm:columns-3 lg:columns-4 xl:columns-5 gap-6",children:Array.from({length:20}).map((N,k)=>b.jsx("div",{className:"break-inside-avoid mb-6",children:b.jsx("div",{className:"bg-white border border-gray-100 overflow-hidden",children:b.jsx("div",{className:"w-full h-72 bg-gradient-to-br from-gray-100 to-gray-200 animate-pulse"})})},k))}):b.jsx("div",{className:"columns-2 sm:columns-3 lg:columns-4 xl:columns-5 gap-6",children:v.map((N,k)=>b.jsx(HP,{design:N,index:k,imageURL:a[N.id],openLightbox:S,inView:g.has(k)},N.id))}),!u&&n<f.length&&b.jsx("div",{className:"text-center mt-16",children:b.jsxs("button",{onClick:D,className:"group relative px-12 py-4 border-2 border-black text-black hover:text-white transition-all duration-500 text-sm uppercase tracking-widest font-medium overflow-hidden",children:[b.jsx("span",{className:"absolute inset-0 bg-black transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500"}),b.jsxs("span",{className:"relative z-10",children:["Load More (",f.length-n," remaining)"]})]})})]}),t&&b.jsxs("div",{onClick:x,className:"fixed inset-0 bg-white/70 backdrop-blur-sm z-50 flex items-center justify-center",children:[b.jsx("button",{onClick:x,className:"absolute top-8 right-8 w-12 h-12 rounded-full bg-gray-100 hover:bg-black hover:text-white transition-all duration-300 flex items-center justify-center z-20",children:b.jsx(Np,{size:20})}),b.jsx("button",{onClick:()=>C("prev"),className:"absolute left-8 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-gray-100/25 hover:bg-black/25 hover:text-white transition-all duration-300 flex items-center justify-center z-20",children:b.jsx(fI,{size:20})}),b.jsx("button",{onClick:()=>C("next"),className:"absolute right-8 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-gray-100/25 hover:bg-black/25 hover:text-white transition-all duration-300 flex items-center justify-center z-20",children:b.jsx(Ms,{size:20})}),b.jsxs("div",{className:" mx-auto px-20 text-center",children:[b.jsx("img",{src:a[t.id],alt:t.title,className:"w-full h-auto max-h-[50vh] object-contain mb-8 shadow-2xl"}),b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{className:"text-xs uppercase tracking-widest text-black",children:["Design Collection  ",new Date().getFullYear()]})})]})]}),b.jsx("style",{jsx:!0,children:`
        @keyframes slideInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes shimmer {
          0% {
            background-position: -200% 0;
          }
          100% {
            background-position: 200% 0;
          }
        }
        
        .animate-shimmer {
          animation: shimmer 2s infinite;
        }
        
        .columns-2 > div,
        .columns-3 > div,
        .columns-4 > div,
        .columns-5 > div {
          break-inside: avoid;
        }
      `})]})}function qP(){const[t,e]=w.useState(null),n=s=>{e(a=>a===s?null:s)};return b.jsx("div",{children:b.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-16","data-aos":"fade-up",children:[b.jsx("h2",{className:"text-3xl font-bodoni-moda text-center text-gray-900 mb-12",children:"Frequently Asked Questions"}),b.jsx("div",{className:"space-y-4",children:lT.map((s,a)=>{const l=t===a;return b.jsxs("div",{className:"w-full bg-white border border-gray-200 overflow-hidden transition-all duration-200 ease-in-out",children:[b.jsxs("button",{onClick:()=>n(a),className:"w-full flex justify-between items-center p-8 transition-colors duration-200",children:[b.jsx("span",{className:"font-bodoni-moda text-xl text-gray-900 text-left",children:s.question}),b.jsx(AI,{size:24,className:`text-black transition-transform duration-200 ease-in-out flex-shrink-0 ml-4 ${l?"rotate-45":""}`})]}),b.jsx("div",{className:`transition-all duration-300 ease-in-out ${l?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"}`,style:{maxHeight:l?"fit-content":"0px",overflow:l?"visible":"hidden"},children:b.jsx("div",{className:"px-8 pb-8",children:b.jsx("p",{className:"text-gray-600/70 font-montserrat leading-relaxed text-sm",children:s.answer})})})]},a)})})]})})}function Kp(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function zT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GP=zT,HT=new fl("auth","Firebase",zT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Pp("@firebase/auth");function YP(t,...e){yu.logLevel<=Ne.WARN&&yu.warn(`Auth (${Js}): ${t}`,...e)}function Zc(t,...e){yu.logLevel<=Ne.ERROR&&yu.error(`Auth (${Js}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw $p(t,...e)}function Pn(t,...e){return $p(t,...e)}function FT(t,e,n){const s=Object.assign(Object.assign({},GP()),{[e]:n});return new fl("auth","Firebase",s).create(e,{appName:t.name})}function Zi(t){return FT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $p(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return HT.create(t,...e)}function oe(t,e,...n){if(!t)throw $p(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zc(e),new Error(e)}function di(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KP(){return fE()==="http:"||fE()==="https:"}function fE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KP()||QI()||"connection"in navigator)?navigator.onLine:!0}function WP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.shortDelay=e,this.longDelay=n,di(n>e,"Short delay should be less than long delay!"),this.isMobile=Mp()||vT()}get(){return $P()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t,e){di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZP=new pl(3e4,6e4);function os(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vi(t,e,n,s,a={}){return GT(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const d=ma(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},l);return XI()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Zs(t.emulatorConfig.host)&&(m.credentials="include"),qT.fetch()(await YT(t,t.config.apiHost,n,d),m)})}async function GT(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},XP),e);try{const a=new e6(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw qc(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw qc(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw qc(t,"user-disabled",u);const g=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw FT(t,g,m);Tn(t,g)}}catch(a){if(a instanceof gi)throw a;Tn(t,"network-request-failed",{message:String(a)})}}async function Ku(t,e,n,s,a={}){const l=await vi(t,e,n,s,a);return"mfaPendingCredential"in l&&Tn(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function YT(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?Wp(t.config,a):`${t.config.apiScheme}://${a}`;return QP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function JP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pn(this.auth,"network-request-failed")),ZP.get())})}}function qc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Pn(t,e,s);return a.customData._tokenResponse=n,a}function mE(t){return t!==void 0&&t.enterprise!==void 0}class t6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n6(t,e){return vi(t,"GET","/v2/recaptchaConfig",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(t,e){return vi(t,"POST","/v1/accounts:delete",e)}async function vu(t,e){return vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s6(t,e=!1){const n=Ze(t),s=await n.getIdToken(e),a=Xp(s);oe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Po(Hf(a.auth_time)),issuedAtTime:Po(Hf(a.iat)),expirationTime:Po(Hf(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Hf(t){return Number(t)*1e3}function Xp(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const a=fu(n);return a?JSON.parse(a):(Zc("Failed to decode base64 JWT payload"),null)}catch(a){return Zc("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function pE(t){const e=Xp(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gi&&r6(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function r6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t){var e;const n=t.auth,s=await t.getIdToken(),a=await Zo(t,vu(n,{idToken:s}));oe(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?KT(l.providerUserInfo):[],d=l6(t.providerData,u),f=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),g=f?m:!1,y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new wm(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function o6(t){const e=Ze(t);await _u(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l6(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function KT(t){return t.map(e=>{var{providerId:n}=e,s=Kp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t,e){const n=await GT(t,{},async()=>{const s=ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await YT(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",qT.fetch()(u,{method:"POST",headers:d,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u6(t,e){return vi(t,"POST","/v2/accounts:revokeToken",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=pE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await c6(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Wr;return s&&(oe(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(oe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(oe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wr,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _n{constructor(e){var{uid:n,auth:s,stsTokenManager:a}=e,l=Kp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new wm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Zo(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s6(this,e)}reload(){return o6(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await _u(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await Zo(this,i6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,a,l,u,d,f,m,g;const y=(s=n.displayName)!==null&&s!==void 0?s:void 0,v=(a=n.email)!==null&&a!==void 0?a:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,x=(u=n.photoURL)!==null&&u!==void 0?u:void 0,C=(d=n.tenantId)!==null&&d!==void 0?d:void 0,D=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,N=(m=n.createdAt)!==null&&m!==void 0?m:void 0,k=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:M,emailVerified:H,isAnonymous:U,providerData:G,stsTokenManager:te}=n;oe(M&&te,e,"internal-error");const $=Wr.fromJSON(this.name,te);oe(typeof M=="string",e,"internal-error"),Fi(y,e.name),Fi(v,e.name),oe(typeof H=="boolean",e,"internal-error"),oe(typeof U=="boolean",e,"internal-error"),Fi(S,e.name),Fi(x,e.name),Fi(C,e.name),Fi(D,e.name),Fi(N,e.name),Fi(k,e.name);const q=new _n({uid:M,auth:e,email:v,emailVerified:H,displayName:y,isAnonymous:U,photoURL:x,phoneNumber:S,tenantId:C,stsTokenManager:$,createdAt:N,lastLoginAt:k});return G&&Array.isArray(G)&&(q.providerData=G.map(ne=>Object.assign({},ne))),D&&(q._redirectEventId=D),q}static async _fromIdTokenResponse(e,n,s=!1){const a=new Wr;a.updateFromServerResponse(n);const l=new _n({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await _u(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];oe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?KT(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Wr;d.updateFromIdToken(s);const f=new _n({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new wm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;function si(t){di(t instanceof Function,"Expected a class definition");let e=gE.get(t);return e?(di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$T.type="NONE";const Cm=$T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t,e,n){return`firebase:${t}:${e}:${n}`}class Xr{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Jc(this.userKey,a.apiKey,l),this.fullPersistenceKey=Jc("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vu(this.auth,{idToken:e}).catch(()=>{});return n?_n._fromGetAccountInfoResponse(this.auth,n,e):null}return _n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Xr(si(Cm),e,s);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||si(Cm);const u=Jc(s,e.config.apiKey,e.name);let d=null;for(const m of n)try{const g=await m._get(u);if(g){let y;if(typeof g=="string"){const v=await vu(e,{idToken:g}).catch(()=>{});if(!v)break;y=await _n._fromGetAccountInfoResponse(e,v,g)}else y=_n._fromJSON(e,g);m!==l&&(d=y),l=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Xr(l,e,s):(l=f[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new Xr(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ew(e))return"Blackberry";if(tw(e))return"Webos";if(XT(e))return"Safari";if((e.includes("chrome/")||QT(e))&&!e.includes("edge/"))return"Chrome";if(JT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function WT(t=Ot()){return/firefox\//i.test(t)}function XT(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QT(t=Ot()){return/crios\//i.test(t)}function ZT(t=Ot()){return/iemobile/i.test(t)}function JT(t=Ot()){return/android/i.test(t)}function ew(t=Ot()){return/blackberry/i.test(t)}function tw(t=Ot()){return/webos/i.test(t)}function Qp(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function h6(t=Ot()){var e;return Qp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function d6(){return ZI()&&document.documentMode===10}function nw(t=Ot()){return Qp(t)||JT(t)||tw(t)||ew(t)||/windows phone/i.test(t)||ZT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t,e=[]){let n;switch(t){case"Browser":n=yE(Ot());break;case"Worker":n=`${yE(Ot())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Js}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,d)=>{try{const f=e(l);u(f)}catch(f){d(f)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(t,e={}){return vi(t,"GET","/v2/passwordPolicy",os(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=6;class g6{constructor(e){var n,s,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:p6,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,a,l,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(s=f.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new f6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Xr.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vu(this,{idToken:e}),s=await _n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(dn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(a=f.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _u(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(Zi(this));const n=e?Ze(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m6(this),n=new g6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await u6(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Xr.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,s,a);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&YP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function er(t){return Ze(t)}class vE{constructor(e){this.auth=e,this.observer=null,this.addObserver=lM(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v6(t){$u=t}function sw(t){return $u.loadJS(t)}function _6(){return $u.recaptchaEnterpriseScript}function b6(){return $u.gapiScript}function E6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class S6{constructor(){this.enterprise=new x6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class x6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const T6="recaptcha-enterprise",rw="NO_RECAPTCHA";class w6{constructor(e){this.type=T6,this.auth=er(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{n6(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new t6(f);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function a(l,u,d){const f=window.grecaptcha;mE(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(rw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S6().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(d=>{if(!n&&mE(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=_6();f.length!==0&&(f+=d),sw(f).then(()=>{a(d,l,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function _E(t,e,n,s=!1,a=!1){const l=new w6(t);let u;if(a)u=rw;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Am(t,e,n,s,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await _E(t,e,n,n==="getOobCode");return s(t,u)}else return s(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await _E(t,e,n,n==="getOobCode");return s(t,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t,e){const n=qu(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Hs(l,e??{}))return a;Tn(a,"already-initialized")}return n.initialize({options:e})}function A6(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function R6(t,e,n){const s=er(t);oe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=aw(e),{host:u,port:d}=N6(e),f=d===null?"":`:${d}`,m={url:`${l}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){oe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),oe(Hs(m,s.config.emulator)&&Hs(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,Zs(u)?(kp(`${l}//${u}${f}`),Ip("Auth",!0)):D6()}function aw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N6(t){const e=aw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:bE(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:bE(u)}}}function bE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function O6(t,e){return vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t,e){return Ku(t,"POST","/v1/accounts:signInWithPassword",os(t,e))}async function I6(t,e){return vi(t,"POST","/v1/accounts:sendOobCode",os(t,e))}async function M6(t,e){return I6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(t,e){return Ku(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}async function P6(t,e){return Ku(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Zp{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Jo(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Jo(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,n,"signInWithPassword",k6);case"emailLink":return L6(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,s,"signUpPassword",O6);case"emailLink":return P6(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qr(t,e){return Ku(t,"POST","/v1/accounts:signInWithIdp",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="http://localhost";class Gs extends Zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=n,l=Kp(n,["providerId","signInMethod"]);if(!s||!a)return null;const u=new Gs(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Qr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qr(e,n)}buildRequest(){const e={requestUri:U6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ma(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V6(t){const e=No(Do(t)).link,n=e?No(Do(e)).deep_link_id:null,s=No(Do(t)).deep_link_id;return(s?No(Do(s)).link:null)||s||n||e||t}class Jp{constructor(e){var n,s,a,l,u,d;const f=No(Do(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(s=f.oobCode)!==null&&s!==void 0?s:null,y=j6((a=f.mode)!==null&&a!==void 0?a:null);oe(m&&g&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=g,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=V6(e);try{return new Jp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,n){return Jo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Jp.parseLink(n);return oe(s,"argument-error"),Jo._fromEmailAndCode(e,s.code,s.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends ow{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends gl{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ki.credential(n,s)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends gl{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends gl{constructor(){super("twitter.com")}static credential(e,n){return Gs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wi.credential(n,s)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await _n._fromIdTokenResponse(e,s,a),u=EE(s);return new aa({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=EE(s);return new aa({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function EE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends gi{constructor(e,n,s,a){var l;super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,bu.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new bu(e,n,s,a)}}function lw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?bu._fromErrorAndOperation(t,l,e,s):l})}async function B6(t,e,n=!1){const s=await Zo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return aa._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6(t,e,n=!1){const{auth:s}=t;if(dn(s.app))return Promise.reject(Zi(s));const a="reauthenticate";try{const l=await Zo(t,lw(s,a,e,t),n);oe(l.idToken,s,"internal-error");const u=Xp(l.idToken);oe(u,s,"internal-error");const{sub:d}=u;return oe(t.uid===d,s,"user-mismatch"),aa._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Tn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(t,e,n=!1){if(dn(t.app))return Promise.reject(Zi(t));const s="signIn",a=await lw(t,s,e),l=await aa._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function H6(t,e){return cw(er(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(t){const e=er(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function q6(t,e,n){const s=er(t);await Am(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",M6)}function G6(t,e,n){return dn(t.app)?Promise.reject(Zi(t)):H6(Ze(t),pa.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&F6(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t,e){return Ze(t).setPersistence(e)}function K6(t,e,n,s){return Ze(t).onIdTokenChanged(e,n,s)}function $6(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function W6(t,e,n,s){return Ze(t).onAuthStateChanged(e,n,s)}function SE(t){return Ze(t).signOut()}const Eu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eu,"1"),this.storage.removeItem(Eu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=1e3,Q6=10;class hw extends uw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);d6()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Q6):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},X6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hw.type="LOCAL";const Z6=hw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends uw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dw.type="SESSION";const fw=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Wu(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(u).map(async m=>m(n.origin,l)),f=await J6(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,f)=>{const m=eg("",20);a.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(y){const v=y;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(v.data.response);break;default:clearTimeout(g),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function t3(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function n3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function s3(){return mw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="firebaseLocalStorageDb",r3=1,Su="firebaseLocalStorage",gw="fbase_key";class yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xu(t,e){return t.transaction([Su],e?"readwrite":"readonly").objectStore(Su)}function a3(){const t=indexedDB.deleteDatabase(pw);return new yl(t).toPromise()}function Rm(){const t=indexedDB.open(pw,r3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Su,{keyPath:gw})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Su)?e(s):(s.close(),await a3(),e(await Rm()))})})}async function xE(t,e,n){const s=Xu(t,!0).put({[gw]:e,value:n});return new yl(s).toPromise()}async function o3(t,e){const n=Xu(t,!1).get(e),s=await new yl(n).toPromise();return s===void 0?null:s.value}function TE(t,e){const n=Xu(t,!0).delete(e);return new yl(n).toPromise()}const l3=800,c3=3;class yw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>c3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wu._getInstance(s3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await n3(),!this.activeServiceWorker)return;this.sender=new e3(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||i3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await xE(e,Eu,"1"),await TE(e,Eu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>xE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>o3(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Xu(a,!1).getAll();return new yl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yw.type="LOCAL";const u3=yw;new pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t,e){return e?si(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends Zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function d3(t){return cw(t.auth,new tg(t),t.bypassAuthState)}function f3(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),z6(n,new tg(t),t.bypassAuthState)}async function m3(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),B6(n,new tg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d3;case"linkViaPopup":case"linkViaRedirect":return m3;case"reauthViaPopup":case"reauthViaRedirect":return f3;default:Tn(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=new pl(2e3,1e4);class Kr extends vw{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Kr.currentPopupAction&&Kr.currentPopupAction.cancel(),Kr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,p3.get())};e()}}Kr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="pendingRedirect",eu=new Map;class y3 extends vw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=eu.get(this.auth._key());if(!e){try{const s=await v3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}eu.set(this.auth._key(),e)}return this.bypassAuthState||eu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v3(t,e){const n=E3(e),s=b3(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function _3(t,e){eu.set(t._key(),e)}function b3(t){return si(t._redirectPersistence)}function E3(t){return Jc(g3,t.config.apiKey,t.name)}async function S3(t,e,n=!1){if(dn(t.app))return Promise.reject(Zi(t));const s=er(t),a=h3(s,e),u=await new y3(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=10*60*1e3;class T3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!_w(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x3&&this.cachedEventUids.clear(),this.cachedEventUids.has(wE(e))}saveEventToCache(e){this.cachedEventUids.add(wE(e)),this.lastProcessedEventTime=Date.now()}}function wE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _w({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function w3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _w(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t,e={}){return vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R3=/^https?/;async function N3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await C3(t);for(const n of e)try{if(D3(n))return}catch{}Tn(t,"unauthorized-domain")}function D3(t){const e=Tm(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!R3.test(n))return!1;if(A3.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=new pl(3e4,6e4);function CE(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k3(t){return new Promise((e,n)=>{var s,a,l;function u(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),n(Pn(t,"network-request-failed"))},timeout:O3.get()})}if(!((a=(s=Un().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Un().gapi)===null||l===void 0)&&l.load)u();else{const d=E6("iframefcb");return Un()[d]=()=>{gapi.load?u():n(Pn(t,"network-request-failed"))},sw(`${b6()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw tu=null,e})}let tu=null;function I3(t){return tu=tu||k3(t),tu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new pl(5e3,15e3),L3="__/auth/iframe",P3="emulator/auth/iframe",U3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V3(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wp(e,P3):`https://${t.config.authDomain}/${L3}`,s={apiKey:e.apiKey,appName:t.name,v:Js},a=j3.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${ma(s).slice(1)}`}async function B3(t){const e=await I3(t),n=Un().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:V3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U3,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Pn(t,"network-request-failed"),d=Un().setTimeout(()=>{l(u)},M3.get());function f(){Un().clearTimeout(d),a(s)}s.ping(f).then(f,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H3=500,F3=600,q3="_blank",G3="http://localhost";class AE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y3(t,e,n,s=H3,a=F3){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const f=Object.assign(Object.assign({},z3),{width:s.toString(),height:a.toString(),top:l,left:u}),m=Ot().toLowerCase();n&&(d=QT(m)?q3:n),WT(m)&&(e=e||G3,f.scrollbars="yes");const g=Object.entries(f).reduce((v,[S,x])=>`${v}${S}=${x},`,"");if(h6(m)&&d!=="_self")return K3(e||"",d),new AE(null);const y=window.open(e||"",d,g);oe(y,t,"popup-blocked");try{y.focus()}catch{}return new AE(y)}function K3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="__/auth/handler",W3="emulator/auth/handler",X3=encodeURIComponent("fac");async function RE(t,e,n,s,a,l){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Js,eventId:a};if(e instanceof ow){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",pm(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(e instanceof gl){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await t._getAppCheckToken(),m=f?`#${X3}=${encodeURIComponent(f)}`:"";return`${Q3(t)}?${ma(d).slice(1)}${m}`}function Q3({config:t}){return t.emulator?Wp(t,W3):`https://${t.authDomain}/${$3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="webStorageSupport";class Z3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fw,this._completeRedirectFn=S3,this._overrideRedirectResult=_3}async _openPopup(e,n,s,a){var l;di((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await RE(e,n,s,Tm(),a);return Y3(e,u,eg())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await RE(e,n,s,Tm(),a);return t3(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(di(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await B3(e),s=new T3(e);return n.register("authEvent",a=>(oe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ff,{type:Ff},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Ff];u!==void 0&&n(!!u),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nw()||XT()||Qp()}}const J3=Z3;var NE="@firebase/auth",DE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nU(t){Fs(new is("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;oe(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iw(t)},m=new y6(s,a,l,f);return A6(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Fs(new is("auth-internal",e=>{const n=er(e.getProvider("auth").getImmediate());return(s=>new eU(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(NE,DE,tU(t)),Ln(NE,DE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=5*60,sU=gT("authIdTokenMaxAge")||iU;let OE=null;const rU=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>sU)return;const a=n==null?void 0:n.token;OE!==a&&(OE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function aU(t=Vp()){const e=qu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=C6(t,{popupRedirectResolver:J3,persistence:[u3,Z6,fw]}),s=gT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=rU(l.toString());$6(n,u,()=>u(n.currentUser)),K6(n,d=>u(d))}}const a=fT("auth");return a&&R6(n,`http://${a}`),n}function oU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}v6({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Pn("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",oU().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nU("Browser");var kE={};const IE="@firebase/database",ME="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bw="";function lU(t){bw=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Xo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return yi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new cU(e)}}catch{}return new uU},js=Ew("localStorage"),hU=Ew("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new Pp("@firebase/database"),dU=function(){let t=1;return function(){return t++}}(),Sw=function(t){const e=hM(t),n=new oM;n.update(e);const s=n.digest();return Dp.encodeByteArray(s)},vl=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=vl.apply(null,s):typeof s=="object"?e+=dt(s):e+=s,e+=" "}return e};let Uo=null,LE=!0;const fU=function(t,e){Y(!0,"Can't turn on custom loggers persistently."),Zr.logLevel=Ne.VERBOSE,Uo=Zr.log.bind(Zr)},St=function(...t){if(LE===!0&&(LE=!1,Uo===null&&hU.get("logging_enabled")===!0&&fU()),Uo){const e=vl.apply(null,t);Uo(e)}},_l=function(t){return function(...e){St(t,...e)}},Nm=function(...t){const e="FIREBASE INTERNAL ERROR: "+vl(...t);Zr.error(e)},fi=function(...t){const e=`FIREBASE FATAL ERROR: ${vl(...t)}`;throw Zr.error(e),new Error(e)},jt=function(...t){const e="FIREBASE WARNING: "+vl(...t);Zr.warn(e)},mU=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},pU=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},oa="[MIN_NAME]",Ys="[MAX_NAME]",ga=function(t,e){if(t===e)return 0;if(t===oa||e===Ys)return-1;if(e===oa||t===Ys)return 1;{const n=PE(t),s=PE(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},gU=function(t,e){return t===e?0:t<e?-1:1},xo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+dt(e))},ng=function(t){if(typeof t!="object"||t===null)return dt(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=dt(e[s]),n+=":",n+=ng(t[e[s]]);return n+="}",n},Tw=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let a=0;a<n;a+=e)a+e>n?s.push(t.substring(a,n)):s.push(t.substring(a,a+e));return s};function Vt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ww=function(t){Y(!xw(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let a,l,u,d,f;t===0?(l=0,u=0,a=1/t===-1/0?1:0):(a=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(d=Math.min(Math.floor(Math.log(t)/Math.LN2),s),l=d+s,u=Math.round(t*Math.pow(2,n-d)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-s-n))));const m=[];for(f=n;f;f-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(f=e;f;f-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(a?1:0),m.reverse();const g=m.join("");let y="";for(f=0;f<64;f+=8){let v=parseInt(g.substr(f,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},yU=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vU=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _U(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const bU=new RegExp("^-?(0*)\\d{1,10}$"),EU=-2147483648,SU=2147483647,PE=function(t){if(bU.test(t)){const e=Number(t);if(e>=EU&&e<=SU)return e}return null},ya=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw jt("Exception was thrown by user callback.",n),e},Math.floor(0))}},xU=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},jo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,dn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){jt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(St("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jt(e)}}class nu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}nu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="5",Cw="v",Aw="s",Rw="r",Nw="f",Dw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ow="ls",kw="p",Dm="ac",Iw="websocket",Mw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,s,a,l=!1,u="",d=!1,f=!1,m=null){this.secure=n,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=f,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=js.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&js.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function CU(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Pw(t,e,n){Y(typeof e=="string","typeof type must == string"),Y(typeof n=="object","typeof params must == object");let s;if(e===Iw)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Mw)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);CU(t)&&(n.ns=t.namespace);const a=[];return Vt(n,(l,u)=>{a.push(l+"="+u)}),s+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this.counters_={}}incrementCounter(e,n=1){yi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return HI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf={},Gf={};function sg(t){const e=t.toString();return qf[e]||(qf[e]=new AU),qf[e]}function RU(t,e){const n=t.toString();return Gf[n]||(Gf[n]=e()),Gf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&ya(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="start",DU="close",OU="pLPCommand",kU="pRTLPCB",Uw="id",jw="pw",Vw="ser",IU="cb",MU="seg",LU="ts",PU="d",UU="dframe",Bw=1870,zw=30,jU=Bw-zw,VU=25e3,BU=3e4;class $r{constructor(e,n,s,a,l,u,d){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=a,this.authToken=l,this.transportSessionId=u,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_l(e),this.stats_=sg(n),this.urlFn=f=>(this.appCheckToken&&(f[Dm]=this.appCheckToken),Pw(n,Mw,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new NU(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(BU)),pU(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rg((...l)=>{const[u,d,f,m,g]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===UE)this.id=d,this.password=f;else if(u===DU)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,d]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,d)},()=>{this.onClosed_()},this.urlFn);const s={};s[UE]="t",s[Vw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[IU]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Cw]=ig,this.transportSessionId&&(s[Aw]=this.transportSessionId),this.lastSessionId&&(s[Ow]=this.lastSessionId),this.applicationId&&(s[kw]=this.applicationId),this.appCheckToken&&(s[Dm]=this.appCheckToken),typeof location<"u"&&location.hostname&&Dw.test(location.hostname)&&(s[Rw]=Nw);const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$r.forceAllow_=!0}static forceDisallow(){$r.forceDisallow_=!0}static isAvailable(){return $r.forceAllow_?!0:!$r.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yU()&&!vU()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=hT(n),a=Tw(s,jU);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[UU]="t",s[Uw]=e,s[jw]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class rg{constructor(e,n,s,a){this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=dU(),window[OU+this.uniqueCallbackIdentifier]=e,window[kU+this.uniqueCallbackIdentifier]=n,this.myIFrame=rg.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(d){St("frame writing exception"),d.stack&&St(d.stack),St(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||St("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Uw]=this.myID,e[jw]=this.myPW,e[Vw]=this.currentSerial;let n=this.urlFn(e),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zw+s.length<=Bw;){const u=this.pendingSegs.shift();s=s+"&"+MU+a+"="+u.seg+"&"+LU+a+"="+u.ts+"&"+PU+a+"="+u.d,a++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(s,Math.floor(VU)),l=()=>{clearTimeout(a),s()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||a==="loaded"||a==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{St("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=16384,HU=45e3;let xu=null;typeof MozWebSocket<"u"?xu=MozWebSocket:typeof WebSocket<"u"&&(xu=WebSocket);class vn{constructor(e,n,s,a,l,u,d){this.connId=e,this.applicationId=s,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_l(this.connId),this.stats_=sg(n),this.connURL=vn.connectionURL_(n,u,d,a,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,a,l){const u={};return u[Cw]=ig,typeof location<"u"&&location.hostname&&Dw.test(location.hostname)&&(u[Rw]=Nw),n&&(u[Aw]=n),s&&(u[Ow]=s),a&&(u[Dm]=a),l&&(u[kw]=l),Pw(e,Iw,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,js.set("previous_websocket_failure",!0);try{let s;JI(),this.mySock=new xu(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){vn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&xu!==null&&!vn.forceDisallow_}static previouslyFailed(){return js.isInMemoryStorage||js.get("previous_websocket_failure")===!0}markConnectionHealthy(){js.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Xo(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Tw(n,zU);s.length>1&&this.sendString_(String(s.length));for(let a=0;a<s.length;a++)this.sendString_(s[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(HU))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}vn.responsesRequiredToBeHealthy=2;vn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static get ALL_TRANSPORTS(){return[$r,vn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=vn&&vn.isAvailable();let s=n&&!vn.previouslyFailed();if(e.webSocketOnly&&(n||jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[vn];else{const a=this.transports_=[];for(const l of el.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);el.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}el.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=6e4,qU=5e3,GU=10*1024,YU=100*1024,Yf="t",jE="d",KU="s",VE="r",$U="e",BE="o",zE="a",HE="n",FE="p",WU="h";class XU{constructor(e,n,s,a,l,u,d,f,m,g){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=u,this.onReady_=d,this.onDisconnect_=f,this.onKill_=m,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_l("c:"+this.id+":"),this.transportManager_=new el(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=jo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>YU?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>GU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Yf in e){const n=e[Yf];n===zE?this.upgradeIfSecondaryHealthy_():n===VE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===BE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=xo("t",e),s=xo("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:FE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:HE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=xo("t",e),s=xo("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=xo(Yf,e);if(jE in e){const s=e[jE];if(n===WU){const a=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===HE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===KU?this.onConnectionShutdown_(s):n===VE?this.onReset_(s):n===$U?Nm("Server Error: "+s):n===BE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ig!==s&&jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),jo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(FU))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qU))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:FE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(js.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{put(e,n,s,a){}merge(e,n,s,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const a=this.getInitialEvent(e);a&&n.apply(s,a)}off(e,n,s){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===n&&(!s||s===a[l].context)){a.splice(l,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Fw{static getInstance(){return new Tu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Mp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=32,GE=768;class Oe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Te(){return new Oe("")}function me(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ss(t){return t.pieces_.length-t.pieceNum_}function Me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Oe(t.pieces_,e)}function qw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function QU(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Gw(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Yw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Oe(e,0)}function rt(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Oe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&n.push(s[a])}return new Oe(n,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function Pt(t,e){const n=me(t),s=me(e);if(n===null)return e;if(n===s)return Pt(Me(t),Me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ag(t,e){if(ss(t)!==ss(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function bn(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(ss(t)>ss(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class ZU{constructor(e,n){this.errorPrefix_=n,this.parts_=Gw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Fu(this.parts_[s]);Kw(this)}}function JU(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Fu(e),Kw(t)}function e4(t){const e=t.parts_.pop();t.byteLength_-=Fu(e),t.parts_.length>0&&(t.byteLength_-=1)}function Kw(t){if(t.byteLength_>GE)throw new Error(t.errorPrefix_+"has a key path longer than "+GE+" bytes ("+t.byteLength_+").");if(t.parts_.length>qE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qE+") or object contains a cycle "+Ps(t))}function Ps(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends Fw{static getInstance(){return new og}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=1e3,t4=60*5*1e3,YE=30*1e3,n4=1.3,i4=3e4,s4="server_kill",KE=3;class ci extends Hw{constructor(e,n,s,a,l,u,d,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=d,this.authOverride_=f,this.id=ci.nextPersistentConnectionId_++,this.log_=_l("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=To,this.maxReconnectDelay_=t4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");og.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Tu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const a=++this.requestNumber_,l={r:a,a:e,b:n};this.log_(dt(l)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),s&&(this.requestCBHash_[a]=s)}get(e){this.initConnection_();const n=new Hu,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const d=u.d;u.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,s,a){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const d={onComplete:a,hashFn:n,query:e,tag:s};this.listens.get(u).set(l,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+s+" for "+a);const l={p:s},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,d=>{const f=d.d,m=d.s;ci.warnOnListenWarnings_(f,n),(this.listens.get(s)&&this.listens.get(s).get(a))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(s,a),e.onComplete&&e.onComplete(m,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&yi(e,"w")){const s=ra(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||aM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=YE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=rM(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,a=>{const l=a.s,u=a.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+a),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,a)&&this.connected_&&this.sendUnlisten_(s,a,e._queryObject,n)}sendUnlisten_(e,n,s,a){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";a&&(l.q=s,l.t=a),this.sendRequest(u,l)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,a){const l={p:n,d:s};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{a&&setTimeout(()=>{a(u.s,u.d)},Math.floor(0))})}put(e,n,s,a){this.putInternal("p",e,n,s,a)}merge(e,n,s,a){this.putInternal("m",e,n,s,a)}putInternal(e,n,s,a,l){this.initConnection_();const u={p:n,d:s};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:a}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const l=s.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+dt(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Nm("Unrecognized action received from server: "+dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=To,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=To,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>i4&&(this.reconnectDelay_=To),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*n4)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+ci.nextConnectionId_++,l=this.lastSessionId;let u=!1,d=null;const f=function(){d?d.close():(u=!0,s())},m=function(y){Y(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(y)};this.realtime_={close:f,sendRequest:m};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?St("getToken() completed but was canceled"):(St("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,d=new XU(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,S=>{jt(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(s4)},l))}catch(y){this.log_("Failed to get token: "+y),u||(this.repoInfo_.nodeAdmin&&jt(y),f())}}}interrupt(e){St("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){St("Resuming connection for reason: "+e),delete this.interruptReasons_[e],pm(this.interruptReasons_)&&(this.reconnectDelay_=To,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(l=>ng(l)).join("$"):s="default";const a=this.removeListen_(e,s);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,n){const s=new Oe(e).toString();let a;if(this.listens.has(s)){const l=this.listens.get(s);a=l.get(n),l.delete(n),l.size===0&&this.listens.delete(s)}else a=void 0;return a}onAuthRevoked_(e,n){St("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=KE&&(this.reconnectDelay_=YE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){St("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=KE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+bw.replace(/\./g,"-")]=1,Mp()?e["framework.cordova"]=1:vT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Tu.getInstance().currentlyOnline();return pm(this.interruptReasons_)&&e}}ci.nextPersistentConnectionId_=0;ci.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new pe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new pe(oa,e),a=new pe(oa,n);return this.compare(s,a)!==0}minPost(){return pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc;class $w extends Qu{static get __EMPTY_NODE(){return Gc}static set __EMPTY_NODE(e){Gc=e}compare(e,n){return ga(e.name,n.name)}isDefinedOn(e){throw fa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return pe.MIN}maxPost(){return new pe(Ys,Gc)}makePost(e,n){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new pe(e,Gc)}toString(){return".key"}}const Jr=new $w;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,s,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?s(e.key,n):1,a&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ht{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??ht.RED,this.left=a??Ut.EMPTY_NODE,this.right=l??Ut.EMPTY_NODE}copy(e,n,s,a,l){return new ht(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ut.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,a;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY_NODE;a=s.right.min_(),s=s.copy(a.key,a.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ht.RED=!0;ht.BLACK=!1;class r4{copy(e,n,s,a,l){return this}insert(e,n,s){return new ht(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ut{constructor(e,n=Ut.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ut(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ht.BLACK,null,null))}remove(e){return new Ut(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ht.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,a=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(a=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Yc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Yc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Yc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Yc(this.root_,null,this.comparator_,!0,e)}}Ut.EMPTY_NODE=new r4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t,e){return ga(t.name,e.name)}function lg(t,e){return ga(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Om;function o4(t){Om=t}const Ww=function(t){return typeof t=="number"?"number:"+ww(t):"string:"+t},Xw=function(t){if(t.isLeafNode()){const e=t.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&yi(e,".sv"),"Priority must be a string or number.")}else Y(t===Om||t.isEmpty(),"priority of unexpected type.");Y(t===Om||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $E;class ut{static set __childrenNodeConstructor(e){$E=e}static get __childrenNodeConstructor(){return $E}constructor(e,n=ut.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Xw(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ut(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:me(e)===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ut.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=me(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(Y(s!==".priority"||ss(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,ut.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ww(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ww(this.value_):e+=this.value_,this.lazyHash_=Sw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ut.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ut.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,a=ut.VALUE_TYPE_ORDER.indexOf(n),l=ut.VALUE_TYPE_ORDER.indexOf(s);return Y(a>=0,"Unknown leaf type: "+n),Y(l>=0,"Unknown leaf type: "+s),a===l?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qw,Zw;function l4(t){Qw=t}function c4(t){Zw=t}class u4 extends Qu{compare(e,n){const s=e.node.getPriority(),a=n.node.getPriority(),l=s.compareTo(a);return l===0?ga(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return pe.MIN}maxPost(){return new pe(Ys,new ut("[PRIORITY-POST]",Zw))}makePost(e,n){const s=Qw(e);return new pe(n,new ut("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ke=new u4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=Math.log(2);class d4{constructor(e){const n=l=>parseInt(Math.log(l)/h4,10),s=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const a=s(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wu=function(t,e,n,s){t.sort(e);const a=function(f,m){const g=m-f;let y,v;if(g===0)return null;if(g===1)return y=t[f],v=n?n(y):y,new ht(v,y.node,ht.BLACK,null,null);{const S=parseInt(g/2,10)+f,x=a(f,S),C=a(S+1,m);return y=t[S],v=n?n(y):y,new ht(v,y.node,ht.BLACK,x,C)}},l=function(f){let m=null,g=null,y=t.length;const v=function(x,C){const D=y-x,N=y;y-=x;const k=a(D+1,N),M=t[D],H=n?n(M):M;S(new ht(H,M.node,C,null,k))},S=function(x){m?(m.left=x,m=x):(g=x,m=x)};for(let x=0;x<f.count;++x){const C=f.nextBitIsOne(),D=Math.pow(2,f.count-(x+1));C?v(D,ht.BLACK):(v(D,ht.BLACK),v(D,ht.RED))}return g},u=new d4(t.length),d=l(u);return new Ut(s||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kf;const jr={};class ri{static get Default(){return Y(jr&&Ke,"ChildrenNode.ts has not been loaded"),Kf=Kf||new ri({".priority":jr},{".priority":Ke}),Kf}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ra(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ut?n:null}hasIndex(e){return yi(this.indexSet_,e.toString())}addIndex(e,n){Y(e!==Jr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const l=n.getIterator(pe.Wrap);let u=l.getNext();for(;u;)a=a||e.isDefinedOn(u.node),s.push(u),u=l.getNext();let d;a?d=wu(s,e.getCompare()):d=jr;const f=e.toString(),m=Object.assign({},this.indexSet_);m[f]=e;const g=Object.assign({},this.indexes_);return g[f]=d,new ri(g,m)}addToIndexes(e,n){const s=mu(this.indexes_,(a,l)=>{const u=ra(this.indexSet_,l);if(Y(u,"Missing index implementation for "+l),a===jr)if(u.isDefinedOn(e.node)){const d=[],f=n.getIterator(pe.Wrap);let m=f.getNext();for(;m;)m.name!==e.name&&d.push(m),m=f.getNext();return d.push(e),wu(d,u.getCompare())}else return jr;else{const d=n.get(e.name);let f=a;return d&&(f=f.remove(new pe(e.name,d))),f.insert(e,e.node)}});return new ri(s,this.indexSet_)}removeFromIndexes(e,n){const s=mu(this.indexes_,a=>{if(a===jr)return a;{const l=n.get(e.name);return l?a.remove(new pe(e.name,l)):a}});return new ri(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo;class le{static get EMPTY_NODE(){return wo||(wo=new le(new Ut(lg),null,ri.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Xw(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wo}updatePriority(e){return this.children_.isEmpty()?this:new le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?wo:n}}getChild(e){const n=me(e);return n===null?this:this.getImmediateChild(n).getChild(Me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Y(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new pe(e,n);let a,l;n.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(s,this.children_)):(a=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(s,this.children_));const u=a.isEmpty()?wo:this.priorityNode_;return new le(a,u,l)}}updateChild(e,n){const s=me(e);if(s===null)return n;{Y(me(e)!==".priority"||ss(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(s).updateChild(Me(e),n);return this.updateImmediateChild(s,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,a=0,l=!0;if(this.forEachChild(Ke,(u,d)=>{n[u]=d.val(e),s++,l&&le.INTEGER_REGEXP_.test(u)?a=Math.max(a,Number(u)):l=!1}),!e&&l&&a<2*s){const u=[];for(const d in n)u[d]=n[d];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ww(this.getPriority().val())+":"),this.forEachChild(Ke,(n,s)=>{const a=s.hash();a!==""&&(e+=":"+n+":"+a)}),this.lazyHash_=e===""?"":Sw(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const a=this.resolveIndex_(s);if(a){const l=a.getPredecessorKey(new pe(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new pe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new pe(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,pe.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,pe.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bl?-1:0}withIndex(e){if(e===Jr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Jr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Ke),a=n.getIterator(Ke);let l=s.getNext(),u=a.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=s.getNext(),u=a.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===Jr?null:this.indexMap_.get(e.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class f4 extends le{constructor(){super(new Ut(lg),le.EMPTY_NODE,ri.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const bl=new f4;Object.defineProperties(pe,{MIN:{value:new pe(oa,le.EMPTY_NODE)},MAX:{value:new pe(Ys,bl)}});$w.__EMPTY_NODE=le.EMPTY_NODE;ut.__childrenNodeConstructor=le;o4(bl);c4(bl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=!0;function yt(t,e=null){if(t===null)return le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ut(n,yt(e))}if(!(t instanceof Array)&&m4){const n=[];let s=!1;if(Vt(t,(u,d)=>{if(u.substring(0,1)!=="."){const f=yt(d);f.isEmpty()||(s=s||!f.getPriority().isEmpty(),n.push(new pe(u,f)))}}),n.length===0)return le.EMPTY_NODE;const l=wu(n,a4,u=>u.name,lg);if(s){const u=wu(n,Ke.getCompare());return new le(l,yt(e),new ri({".priority":u},{".priority":Ke}))}else return new le(l,yt(e),ri.Default)}else{let n=le.EMPTY_NODE;return Vt(t,(s,a)=>{if(yi(t,s)&&s.substring(0,1)!=="."){const l=yt(a);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(s,l))}}),n.updatePriority(yt(e))}}l4(yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4 extends Qu{constructor(e){super(),this.indexPath_=e,Y(!ye(e)&&me(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),a=this.extractChild(n.node),l=s.compareTo(a);return l===0?ga(e.name,n.name):l}makePost(e,n){const s=yt(e),a=le.EMPTY_NODE.updateChild(this.indexPath_,s);return new pe(n,a)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,bl);return new pe(Ys,e)}toString(){return Gw(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4 extends Qu{compare(e,n){const s=e.node.compareTo(n.node);return s===0?ga(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return pe.MIN}maxPost(){return pe.MAX}makePost(e,n){const s=yt(e);return new pe(n,s)}toString(){return".value"}}const y4=new g4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t){return{type:"value",snapshotNode:t}}function la(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function tl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function nl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function v4(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.index_=e}updateChild(e,n,s,a,l,u){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(a).equals(s.getChild(a))&&d.isEmpty()===s.isEmpty()||(u!=null&&(s.isEmpty()?e.hasChild(n)?u.trackChildChange(tl(n,d)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?u.trackChildChange(la(n,s)):u.trackChildChange(nl(n,s,d))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ke,(a,l)=>{n.hasChild(a)||s.trackChildChange(tl(a,l))}),n.isLeafNode()||n.forEachChild(Ke,(a,l)=>{if(e.hasChild(a)){const u=e.getImmediateChild(a);u.equals(l)||s.trackChildChange(nl(a,l,u))}else s.trackChildChange(la(a,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?le.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.indexedFilter_=new cg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=il.getStartPost_(e),this.endPost_=il.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,a,l,u){return this.matches(new pe(n,s))||(s=le.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,a,l,u)}updateFullNode(e,n,s){n.isLeafNode()&&(n=le.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(le.EMPTY_NODE);const l=this;return n.forEachChild(Ke,(u,d)=>{l.matches(new pe(u,d))||(a=a.updateImmediateChild(u,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new il(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,a,l,u){return this.rangedFilter_.matches(new pe(n,s))||(s=le.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,a,l,u):this.fullLimitUpdateChild_(e,n,s,l,u)}updateFullNode(e,n,s){let a;if(n.isLeafNode()||n.isEmpty())a=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=le.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const d=l.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))a=a.updateImmediateChild(d.name,d.node),u++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(le.EMPTY_NODE);let l;this.reverse_?l=a.getReverseIterator(this.index_):l=a.getIterator(this.index_);let u=0;for(;l.hasNext();){const d=l.getNext();u<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?u++:a=a.updateImmediateChild(d.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,a,l){let u;if(this.reverse_){const y=this.index_.getCompare();u=(v,S)=>y(S,v)}else u=this.index_.getCompare();const d=e;Y(d.numChildren()===this.limit_,"");const f=new pe(n,s),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),g=this.rangedFilter_.matches(f);if(d.hasChild(n)){const y=d.getImmediateChild(n);let v=a.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===n||d.hasChild(v.name));)v=a.getChildAfterChild(this.index_,v,this.reverse_);const S=v==null?1:u(v,f);if(g&&!s.isEmpty()&&S>=0)return l!=null&&l.trackChildChange(nl(n,s,y)),d.updateImmediateChild(n,s);{l!=null&&l.trackChildChange(tl(n,y));const C=d.updateImmediateChild(n,le.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(l!=null&&l.trackChildChange(la(v.name,v.node)),C.updateImmediateChild(v.name,v.node)):C}}else return s.isEmpty()?e:g&&u(m,f)>=0?(l!=null&&(l.trackChildChange(tl(m.name,m.node)),l.trackChildChange(la(n,s))),d.updateImmediateChild(n,s).updateImmediateChild(m.name,le.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oa}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ys}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ke}copy(){const e=new ug;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function b4(t){return t.loadsAllData()?new cg(t.getIndex()):t.hasLimit()?new _4(t):new il(t)}function WE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ke?n="$priority":t.index_===y4?n="$value":t.index_===Jr?n="$key":(Y(t.index_ instanceof p4,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=dt(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=dt(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+dt(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=dt(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function XE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ke&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Hw{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,a){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=_l("p:rest:"),this.listens_={}}listen(e,n,s,a){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=Cu.getListenId_(e,s),d={};this.listens_[u]=d;const f=WE(e._queryParams);this.restRequest_(l+".json",f,(m,g)=>{let y=g;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(l,y,!1,s),ra(this.listens_,u)===d){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",a(v,null)}})}unlisten(e,n){const s=Cu.getListenId_(e,n);delete this.listens_[s]}get(e){const n=WE(e._queryParams),s=e._path.toString(),a=new Hu;return this.restRequest_(s+".json",n,(l,u)=>{let d=u;l===404&&(d=null,l=null),l===null?(this.onDataUpdate_(s,d,!1,null),a.resolve(d)):a.reject(new Error(d))}),a.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(n.auth=a.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ma(n);this.log_("Sending REST request for "+u);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(s&&d.readyState===4){this.log_("REST Response for "+u+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=Xo(d.responseText)}catch{jt("Failed to parse JSON response for "+u+": "+d.responseText)}s(null,f)}else d.status!==401&&d.status!==404&&jt("Got unsuccessful REST response for "+u+" Status: "+d.status),s(d.status);s=null}},d.open("GET",u,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(){return{value:null,children:new Map}}function e1(t,e,n){if(ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=me(e);t.children.has(s)||t.children.set(s,Au());const a=t.children.get(s);e=Me(e),e1(a,e,n)}}function km(t,e,n){t.value!==null?n(e,t.value):S4(t,(s,a)=>{const l=new Oe(e.toString()+"/"+s);km(a,l,n)})}function S4(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Vt(this.last_,(s,a)=>{n[s]=n[s]-a}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=10*1e3,T4=30*1e3,w4=5*60*1e3;class C4{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new x4(e);const s=QE+(T4-QE)*Math.random();jo(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Vt(e,(a,l)=>{l>0&&yi(this.statsToReport_,a)&&(n[a]=l,s=!0)}),s&&this.server_.reportStats(n),jo(this.reportStats_.bind(this),Math.floor(Math.random()*2*w4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(En||(En={}));function t1(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function hg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function dg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=En.ACK_USER_WRITE,this.source=t1()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Oe(e));return new Ru(Te(),n,this.revert)}}else return Y(me(this.path)===e,"operationForChild called for unrelated child."),new Ru(Me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.source=e,this.path=n,this.type=En.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new sl(this.source,Te()):new sl(this.source,Me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=En.OVERWRITE}operationForChild(e){return ye(this.path)?new Ks(this.source,Te(),this.snap.getImmediateChild(e)):new Ks(this.source,Me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=En.MERGE}operationForChild(e){if(ye(this.path)){const n=this.children.subtree(new Oe(e));return n.isEmpty()?null:n.value?new Ks(this.source,Te(),n.value):new rl(this.source,Te(),n)}else return Y(me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rl(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=me(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function R4(t,e,n,s){const a=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(v4(u.childName,u.snapshotNode))}),Co(t,a,"child_removed",e,s,n),Co(t,a,"child_added",e,s,n),Co(t,a,"child_moved",l,s,n),Co(t,a,"child_changed",e,s,n),Co(t,a,"value",e,s,n),a}function Co(t,e,n,s,a,l){const u=s.filter(d=>d.type===n);u.sort((d,f)=>D4(t,d,f)),u.forEach(d=>{const f=N4(t,d,l);a.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(f,t.query_))})})}function N4(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function D4(t,e,n){if(e.childName==null||n.childName==null)throw fa("Should only compare child_ events.");const s=new pe(e.childName,e.snapshotNode),a=new pe(n.childName,n.snapshotNode);return t.index_.compare(s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t,e){return{eventCache:t,serverCache:e}}function Vo(t,e,n,s){return Zu(new $s(e,n,s),t.serverCache)}function n1(t,e,n,s){return Zu(t.eventCache,new $s(e,n,s))}function Im(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ws(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f;const O4=()=>($f||($f=new Ut(gU)),$f);class Pe{static fromObject(e){let n=new Pe(null);return Vt(e,(s,a)=>{n=n.set(new Oe(s),a)}),n}constructor(e,n=O4()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Te(),value:this.value};if(ye(e))return null;{const s=me(e),a=this.children.get(s);if(a!==null){const l=a.findRootMostMatchingPathAndValue(Me(e),n);return l!=null?{path:rt(new Oe(s),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const n=me(e),s=this.children.get(n);return s!==null?s.subtree(Me(e)):new Pe(null)}}set(e,n){if(ye(e))return new Pe(n,this.children);{const s=me(e),l=(this.children.get(s)||new Pe(null)).set(Me(e),n),u=this.children.insert(s,l);return new Pe(this.value,u)}}remove(e){if(ye(e))return this.children.isEmpty()?new Pe(null):new Pe(null,this.children);{const n=me(e),s=this.children.get(n);if(s){const a=s.remove(Me(e));let l;return a.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,a),this.value===null&&l.isEmpty()?new Pe(null):new Pe(this.value,l)}else return this}}get(e){if(ye(e))return this.value;{const n=me(e),s=this.children.get(n);return s?s.get(Me(e)):null}}setTree(e,n){if(ye(e))return n;{const s=me(e),l=(this.children.get(s)||new Pe(null)).setTree(Me(e),n);let u;return l.isEmpty()?u=this.children.remove(s):u=this.children.insert(s,l),new Pe(this.value,u)}}fold(e){return this.fold_(Te(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((a,l)=>{s[a]=l.fold_(rt(e,a),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Te(),n)}findOnPath_(e,n,s){const a=this.value?s(n,this.value):!1;if(a)return a;if(ye(e))return null;{const l=me(e),u=this.children.get(l);return u?u.findOnPath_(Me(e),rt(n,l),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Te(),n)}foreachOnPath_(e,n,s){if(ye(e))return this;{this.value&&s(n,this.value);const a=me(e),l=this.children.get(a);return l?l.foreachOnPath_(Me(e),rt(n,a),s):new Pe(null)}}foreach(e){this.foreach_(Te(),e)}foreach_(e,n){this.children.inorderTraversal((s,a)=>{a.foreach_(rt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.writeTree_=e}static empty(){return new Sn(new Pe(null))}}function Bo(t,e,n){if(ye(e))return new Sn(new Pe(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const a=s.path;let l=s.value;const u=Pt(a,e);return l=l.updateChild(u,n),new Sn(t.writeTree_.set(a,l))}else{const a=new Pe(n),l=t.writeTree_.setTree(e,a);return new Sn(l)}}}function ZE(t,e,n){let s=t;return Vt(n,(a,l)=>{s=Bo(s,rt(e,a),l)}),s}function JE(t,e){if(ye(e))return Sn.empty();{const n=t.writeTree_.setTree(e,new Pe(null));return new Sn(n)}}function Mm(t,e){return tr(t,e)!=null}function tr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Pt(n.path,e)):null}function eS(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ke,(s,a)=>{e.push(new pe(s,a))}):t.writeTree_.children.inorderTraversal((s,a)=>{a.value!=null&&e.push(new pe(s,a.value))}),e}function Ji(t,e){if(ye(e))return t;{const n=tr(t,e);return n!=null?new Sn(new Pe(n)):new Sn(t.writeTree_.subtree(e))}}function Lm(t){return t.writeTree_.isEmpty()}function ca(t,e){return i1(Te(),t.writeTree_,e)}function i1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((a,l)=>{a===".priority"?(Y(l.value!==null,"Priority writes must always be leaf nodes"),s=l.value):n=i1(rt(t,a),l,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(rt(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e){return o1(e,t)}function k4(t,e,n,s,a){Y(s>t.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:a}),a&&(t.visibleWrites=Bo(t.visibleWrites,e,n)),t.lastWriteId=s}function I4(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function M4(t,e){const n=t.allWrites.findIndex(d=>d.writeId===e);Y(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let a=s.visible,l=!1,u=t.allWrites.length-1;for(;a&&u>=0;){const d=t.allWrites[u];d.visible&&(u>=n&&L4(d,s.path)?a=!1:bn(s.path,d.path)&&(l=!0)),u--}if(a){if(l)return P4(t),!0;if(s.snap)t.visibleWrites=JE(t.visibleWrites,s.path);else{const d=s.children;Vt(d,f=>{t.visibleWrites=JE(t.visibleWrites,rt(s.path,f))})}return!0}else return!1}function L4(t,e){if(t.snap)return bn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&bn(rt(t.path,n),e))return!0;return!1}function P4(t){t.visibleWrites=s1(t.allWrites,U4,Te()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function U4(t){return t.visible}function s1(t,e,n){let s=Sn.empty();for(let a=0;a<t.length;++a){const l=t[a];if(e(l)){const u=l.path;let d;if(l.snap)bn(n,u)?(d=Pt(n,u),s=Bo(s,d,l.snap)):bn(u,n)&&(d=Pt(u,n),s=Bo(s,Te(),l.snap.getChild(d)));else if(l.children){if(bn(n,u))d=Pt(n,u),s=ZE(s,d,l.children);else if(bn(u,n))if(d=Pt(u,n),ye(d))s=ZE(s,Te(),l.children);else{const f=ra(l.children,me(d));if(f){const m=f.getChild(Me(d));s=Bo(s,Te(),m)}}}else throw fa("WriteRecord should have .snap or .children")}}return s}function r1(t,e,n,s,a){if(!s&&!a){const l=tr(t.visibleWrites,e);if(l!=null)return l;{const u=Ji(t.visibleWrites,e);if(Lm(u))return n;if(n==null&&!Mm(u,Te()))return null;{const d=n||le.EMPTY_NODE;return ca(u,d)}}}else{const l=Ji(t.visibleWrites,e);if(!a&&Lm(l))return n;if(!a&&n==null&&!Mm(l,Te()))return null;{const u=function(m){return(m.visible||a)&&(!s||!~s.indexOf(m.writeId))&&(bn(m.path,e)||bn(e,m.path))},d=s1(t.allWrites,u,e),f=n||le.EMPTY_NODE;return ca(d,f)}}}function j4(t,e,n){let s=le.EMPTY_NODE;const a=tr(t.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(Ke,(l,u)=>{s=s.updateImmediateChild(l,u)}),s;if(n){const l=Ji(t.visibleWrites,e);return n.forEachChild(Ke,(u,d)=>{const f=ca(Ji(l,new Oe(u)),d);s=s.updateImmediateChild(u,f)}),eS(l).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}else{const l=Ji(t.visibleWrites,e);return eS(l).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}}function V4(t,e,n,s,a){Y(s||a,"Either existingEventSnap or existingServerSnap must exist");const l=rt(e,n);if(Mm(t.visibleWrites,l))return null;{const u=Ji(t.visibleWrites,l);return Lm(u)?a.getChild(n):ca(u,a.getChild(n))}}function B4(t,e,n,s){const a=rt(e,n),l=tr(t.visibleWrites,a);if(l!=null)return l;if(s.isCompleteForChild(n)){const u=Ji(t.visibleWrites,a);return ca(u,s.getNode().getImmediateChild(n))}else return null}function z4(t,e){return tr(t.visibleWrites,e)}function H4(t,e,n,s,a,l,u){let d;const f=Ji(t.visibleWrites,e),m=tr(f,Te());if(m!=null)d=m;else if(n!=null)d=ca(f,n);else return[];if(d=d.withIndex(u),!d.isEmpty()&&!d.isLeafNode()){const g=[],y=u.getCompare(),v=l?d.getReverseIteratorFrom(s,u):d.getIteratorFrom(s,u);let S=v.getNext();for(;S&&g.length<a;)y(S,s)!==0&&g.push(S),S=v.getNext();return g}else return[]}function F4(){return{visibleWrites:Sn.empty(),allWrites:[],lastWriteId:-1}}function Nu(t,e,n,s){return r1(t.writeTree,t.treePath,e,n,s)}function mg(t,e){return j4(t.writeTree,t.treePath,e)}function tS(t,e,n,s){return V4(t.writeTree,t.treePath,e,n,s)}function Du(t,e){return z4(t.writeTree,rt(t.treePath,e))}function q4(t,e,n,s,a,l){return H4(t.writeTree,t.treePath,e,n,s,a,l)}function pg(t,e,n){return B4(t.writeTree,t.treePath,e,n)}function a1(t,e){return o1(rt(t.treePath,e),t.writeTree)}function o1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;Y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Y(s!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const l=a.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(s,nl(s,e.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(s,tl(s,a.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(s,la(s,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(s,nl(s,e.snapshotNode,a.oldSnap));else throw fa("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const l1=new Y4;class gg{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new $s(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pg(this.writes_,e,s)}}getChildAfterChild(e,n,s){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ws(this.viewCache_),l=q4(this.writes_,a,n,1,s,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){return{filter:t}}function $4(t,e){Y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function W4(t,e,n,s,a){const l=new G4;let u,d;if(n.type===En.OVERWRITE){const m=n;m.source.fromUser?u=Pm(t,e,m.path,m.snap,s,a,l):(Y(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!ye(m.path),u=Ou(t,e,m.path,m.snap,s,a,d,l))}else if(n.type===En.MERGE){const m=n;m.source.fromUser?u=Q4(t,e,m.path,m.children,s,a,l):(Y(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),u=Um(t,e,m.path,m.children,s,a,d,l))}else if(n.type===En.ACK_USER_WRITE){const m=n;m.revert?u=ej(t,e,m.path,s,a,l):u=Z4(t,e,m.path,m.affectedTree,s,a,l)}else if(n.type===En.LISTEN_COMPLETE)u=J4(t,e,n.path,s,l);else throw fa("Unknown operation type: "+n.type);const f=l.getChanges();return X4(e,u,f),{viewCache:u,changes:f}}function X4(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),l=Im(t);(n.length>0||!t.eventCache.isFullyInitialized()||a&&!s.getNode().equals(l)||!s.getNode().getPriority().equals(l.getPriority()))&&n.push(Jw(Im(e)))}}function c1(t,e,n,s,a,l){const u=e.eventCache;if(Du(s,n)!=null)return e;{let d,f;if(ye(n))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Ws(e),g=m instanceof le?m:le.EMPTY_NODE,y=mg(s,g);d=t.filter.updateFullNode(e.eventCache.getNode(),y,l)}else{const m=Nu(s,Ws(e));d=t.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=me(n);if(m===".priority"){Y(ss(n)===1,"Can't have a priority with additional path components");const g=u.getNode();f=e.serverCache.getNode();const y=tS(s,n,g,f);y!=null?d=t.filter.updatePriority(g,y):d=u.getNode()}else{const g=Me(n);let y;if(u.isCompleteForChild(m)){f=e.serverCache.getNode();const v=tS(s,n,u.getNode(),f);v!=null?y=u.getNode().getImmediateChild(m).updateChild(g,v):y=u.getNode().getImmediateChild(m)}else y=pg(s,m,e.serverCache);y!=null?d=t.filter.updateChild(u.getNode(),m,y,g,a,l):d=u.getNode()}}return Vo(e,d,u.isFullyInitialized()||ye(n),t.filter.filtersNodes())}}function Ou(t,e,n,s,a,l,u,d){const f=e.serverCache;let m;const g=u?t.filter:t.filter.getIndexedFilter();if(ye(n))m=g.updateFullNode(f.getNode(),s,null);else if(g.filtersNodes()&&!f.isFiltered()){const S=f.getNode().updateChild(n,s);m=g.updateFullNode(f.getNode(),S,null)}else{const S=me(n);if(!f.isCompleteForPath(n)&&ss(n)>1)return e;const x=Me(n),D=f.getNode().getImmediateChild(S).updateChild(x,s);S===".priority"?m=g.updatePriority(f.getNode(),D):m=g.updateChild(f.getNode(),S,D,x,l1,null)}const y=n1(e,m,f.isFullyInitialized()||ye(n),g.filtersNodes()),v=new gg(a,y,l);return c1(t,y,n,a,v,d)}function Pm(t,e,n,s,a,l,u){const d=e.eventCache;let f,m;const g=new gg(a,e,l);if(ye(n))m=t.filter.updateFullNode(e.eventCache.getNode(),s,u),f=Vo(e,m,!0,t.filter.filtersNodes());else{const y=me(n);if(y===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),s),f=Vo(e,m,d.isFullyInitialized(),d.isFiltered());else{const v=Me(n),S=d.getNode().getImmediateChild(y);let x;if(ye(v))x=s;else{const C=g.getCompleteChild(y);C!=null?qw(v)===".priority"&&C.getChild(Yw(v)).isEmpty()?x=C:x=C.updateChild(v,s):x=le.EMPTY_NODE}if(S.equals(x))f=e;else{const C=t.filter.updateChild(d.getNode(),y,x,v,g,u);f=Vo(e,C,d.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function nS(t,e){return t.eventCache.isCompleteForChild(e)}function Q4(t,e,n,s,a,l,u){let d=e;return s.foreach((f,m)=>{const g=rt(n,f);nS(e,me(g))&&(d=Pm(t,d,g,m,a,l,u))}),s.foreach((f,m)=>{const g=rt(n,f);nS(e,me(g))||(d=Pm(t,d,g,m,a,l,u))}),d}function iS(t,e,n){return n.foreach((s,a)=>{e=e.updateChild(s,a)}),e}function Um(t,e,n,s,a,l,u,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,m;ye(n)?m=s:m=new Pe(null).setTree(n,s);const g=e.serverCache.getNode();return m.children.inorderTraversal((y,v)=>{if(g.hasChild(y)){const S=e.serverCache.getNode().getImmediateChild(y),x=iS(t,S,v);f=Ou(t,f,new Oe(y),x,a,l,u,d)}}),m.children.inorderTraversal((y,v)=>{const S=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!g.hasChild(y)&&!S){const x=e.serverCache.getNode().getImmediateChild(y),C=iS(t,x,v);f=Ou(t,f,new Oe(y),C,a,l,u,d)}}),f}function Z4(t,e,n,s,a,l,u){if(Du(a,n)!=null)return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(s.value!=null){if(ye(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return Ou(t,e,n,f.getNode().getChild(n),a,l,d,u);if(ye(n)){let m=new Pe(null);return f.getNode().forEachChild(Jr,(g,y)=>{m=m.set(new Oe(g),y)}),Um(t,e,n,m,a,l,d,u)}else return e}else{let m=new Pe(null);return s.foreach((g,y)=>{const v=rt(n,g);f.isCompleteForPath(v)&&(m=m.set(g,f.getNode().getChild(v)))}),Um(t,e,n,m,a,l,d,u)}}function J4(t,e,n,s,a){const l=e.serverCache,u=n1(e,l.getNode(),l.isFullyInitialized()||ye(n),l.isFiltered());return c1(t,u,n,s,l1,a)}function ej(t,e,n,s,a,l){let u;if(Du(s,n)!=null)return e;{const d=new gg(s,e,a),f=e.eventCache.getNode();let m;if(ye(n)||me(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Nu(s,Ws(e));else{const y=e.serverCache.getNode();Y(y instanceof le,"serverChildren would be complete if leaf node"),g=mg(s,y)}g=g,m=t.filter.updateFullNode(f,g,l)}else{const g=me(n);let y=pg(s,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=f.getImmediateChild(g)),y!=null?m=t.filter.updateChild(f,g,y,Me(n),d,l):e.eventCache.getNode().hasChild(g)?m=t.filter.updateChild(f,g,le.EMPTY_NODE,Me(n),d,l):m=f,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Nu(s,Ws(e)),u.isLeafNode()&&(m=t.filter.updateFullNode(m,u,l)))}return u=e.serverCache.isFullyInitialized()||Du(s,Te())!=null,Vo(e,m,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new cg(s.getIndex()),l=b4(s);this.processor_=K4(l);const u=n.serverCache,d=n.eventCache,f=a.updateFullNode(le.EMPTY_NODE,u.getNode(),null),m=l.updateFullNode(le.EMPTY_NODE,d.getNode(),null),g=new $s(f,u.isFullyInitialized(),a.filtersNodes()),y=new $s(m,d.isFullyInitialized(),l.filtersNodes());this.viewCache_=Zu(y,g),this.eventGenerator_=new A4(this.query_)}get query(){return this.query_}}function nj(t){return t.viewCache_.serverCache.getNode()}function ij(t,e){const n=Ws(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ye(e)&&!n.getImmediateChild(me(e)).isEmpty())?n.getChild(e):null}function sS(t){return t.eventRegistrations_.length===0}function sj(t,e){t.eventRegistrations_.push(e)}function rS(t,e,n){const s=[];if(n){Y(e==null,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,a);u&&s.push(u)})}if(e){let a=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))a.push(u);else if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=a}else t.eventRegistrations_=[];return s}function aS(t,e,n,s){e.type===En.MERGE&&e.source.queryId!==null&&(Y(Ws(t.viewCache_),"We should always have a full cache before handling merges"),Y(Im(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,l=W4(t.processor_,a,e,n,s);return $4(t.processor_,l.viewCache),Y(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,u1(t,l.changes,l.viewCache.eventCache.getNode(),null)}function rj(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ke,(l,u)=>{s.push(la(l,u))}),n.isFullyInitialized()&&s.push(Jw(n.getNode())),u1(t,s,n.getNode(),e)}function u1(t,e,n,s){const a=s?[s]:t.eventRegistrations_;return R4(t.eventGenerator_,e,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku;class aj{constructor(){this.views=new Map}}function oj(t){Y(!ku,"__referenceConstructor has already been defined"),ku=t}function lj(){return Y(ku,"Reference.ts has not been loaded"),ku}function cj(t){return t.views.size===0}function yg(t,e,n,s){const a=e.source.queryId;if(a!==null){const l=t.views.get(a);return Y(l!=null,"SyncTree gave us an op for an invalid query."),aS(l,e,n,s)}else{let l=[];for(const u of t.views.values())l=l.concat(aS(u,e,n,s));return l}}function uj(t,e,n,s,a){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let d=Nu(n,a?s:null),f=!1;d?f=!0:s instanceof le?(d=mg(n,s),f=!1):(d=le.EMPTY_NODE,f=!1);const m=Zu(new $s(d,f,!1),new $s(s,a,!1));return new tj(e,m)}return u}function hj(t,e,n,s,a,l){const u=uj(t,e,s,a,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),sj(u,n),rj(u,n)}function dj(t,e,n,s){const a=e._queryIdentifier,l=[];let u=[];const d=rs(t);if(a==="default")for(const[f,m]of t.views.entries())u=u.concat(rS(m,n,s)),sS(m)&&(t.views.delete(f),m.query._queryParams.loadsAllData()||l.push(m.query));else{const f=t.views.get(a);f&&(u=u.concat(rS(f,n,s)),sS(f)&&(t.views.delete(a),f.query._queryParams.loadsAllData()||l.push(f.query)))}return d&&!rs(t)&&l.push(new(lj())(e._repo,e._path)),{removed:l,events:u}}function h1(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ea(t,e){let n=null;for(const s of t.views.values())n=n||ij(s,e);return n}function d1(t,e){if(e._queryParams.loadsAllData())return Ju(t);{const s=e._queryIdentifier;return t.views.get(s)}}function f1(t,e){return d1(t,e)!=null}function rs(t){return Ju(t)!=null}function Ju(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu;function fj(t){Y(!Iu,"__referenceConstructor has already been defined"),Iu=t}function mj(){return Y(Iu,"Reference.ts has not been loaded"),Iu}let pj=1;class oS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pe(null),this.pendingWriteTree_=F4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function m1(t,e,n,s,a){return k4(t.pendingWriteTree_,e,n,s,a),a?El(t,new Ks(t1(),e,n)):[]}function Vs(t,e,n=!1){const s=I4(t.pendingWriteTree_,e);if(M4(t.pendingWriteTree_,e)){let l=new Pe(null);return s.snap!=null?l=l.set(Te(),!0):Vt(s.children,u=>{l=l.set(new Oe(u),!0)}),El(t,new Ru(s.path,l,n))}else return[]}function eh(t,e,n){return El(t,new Ks(hg(),e,n))}function gj(t,e,n){const s=Pe.fromObject(n);return El(t,new rl(hg(),e,s))}function yj(t,e){return El(t,new sl(hg(),e))}function vj(t,e,n){const s=_g(t,n);if(s){const a=bg(s),l=a.path,u=a.queryId,d=Pt(l,e),f=new sl(dg(u),d);return Eg(t,l,f)}else return[]}function jm(t,e,n,s,a=!1){const l=e._path,u=t.syncPointTree_.get(l);let d=[];if(u&&(e._queryIdentifier==="default"||f1(u,e))){const f=dj(u,e,n,s);cj(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const m=f.removed;if(d=f.events,!a){const g=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(l,(v,S)=>rs(S));if(g&&!y){const v=t.syncPointTree_.subtree(l);if(!v.isEmpty()){const S=Ej(v);for(let x=0;x<S.length;++x){const C=S[x],D=C.query,N=y1(t,C);t.listenProvider_.startListening(zo(D),Mu(t,D),N.hashFn,N.onComplete)}}}!y&&m.length>0&&!s&&(g?t.listenProvider_.stopListening(zo(e),null):m.forEach(v=>{const S=t.queryToTagMap.get(th(v));t.listenProvider_.stopListening(zo(v),S)}))}Sj(t,m)}return d}function _j(t,e,n,s){const a=_g(t,s);if(a!=null){const l=bg(a),u=l.path,d=l.queryId,f=Pt(u,e),m=new Ks(dg(d),f,n);return Eg(t,u,m)}else return[]}function bj(t,e,n,s){const a=_g(t,s);if(a){const l=bg(a),u=l.path,d=l.queryId,f=Pt(u,e),m=Pe.fromObject(n),g=new rl(dg(d),f,m);return Eg(t,u,g)}else return[]}function lS(t,e,n,s=!1){const a=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(a,(v,S)=>{const x=Pt(v,a);l=l||ea(S,x),u=u||rs(S)});let d=t.syncPointTree_.get(a);d?(u=u||rs(d),l=l||ea(d,Te())):(d=new aj,t.syncPointTree_=t.syncPointTree_.set(a,d));let f;l!=null?f=!0:(f=!1,l=le.EMPTY_NODE,t.syncPointTree_.subtree(a).foreachChild((S,x)=>{const C=ea(x,Te());C&&(l=l.updateImmediateChild(S,C))}));const m=f1(d,e);if(!m&&!e._queryParams.loadsAllData()){const v=th(e);Y(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const S=xj();t.queryToTagMap.set(v,S),t.tagToQueryMap.set(S,v)}const g=fg(t.pendingWriteTree_,a);let y=hj(d,e,n,g,l,f);if(!m&&!u&&!s){const v=d1(d,e);y=y.concat(Tj(t,e,v))}return y}function vg(t,e,n){const a=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,d)=>{const f=Pt(u,e),m=ea(d,f);if(m)return m});return r1(a,e,l,n,!0)}function El(t,e){return p1(e,t.syncPointTree_,null,fg(t.pendingWriteTree_,Te()))}function p1(t,e,n,s){if(ye(t.path))return g1(t,e,n,s);{const a=e.get(Te());n==null&&a!=null&&(n=ea(a,Te()));let l=[];const u=me(t.path),d=t.operationForChild(u),f=e.children.get(u);if(f&&d){const m=n?n.getImmediateChild(u):null,g=a1(s,u);l=l.concat(p1(d,f,m,g))}return a&&(l=l.concat(yg(a,t,s,n))),l}}function g1(t,e,n,s){const a=e.get(Te());n==null&&a!=null&&(n=ea(a,Te()));let l=[];return e.children.inorderTraversal((u,d)=>{const f=n?n.getImmediateChild(u):null,m=a1(s,u),g=t.operationForChild(u);g&&(l=l.concat(g1(g,d,f,m)))}),a&&(l=l.concat(yg(a,t,s,n))),l}function y1(t,e){const n=e.query,s=Mu(t,n);return{hashFn:()=>(nj(e)||le.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return s?vj(t,n._path,s):yj(t,n._path);{const l=_U(a,n);return jm(t,n,null,l)}}}}function Mu(t,e){const n=th(e);return t.queryToTagMap.get(n)}function th(t){return t._path.toString()+"$"+t._queryIdentifier}function _g(t,e){return t.tagToQueryMap.get(e)}function bg(t){const e=t.indexOf("$");return Y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Oe(t.substr(0,e))}}function Eg(t,e,n){const s=t.syncPointTree_.get(e);Y(s,"Missing sync point for query tag that we're tracking");const a=fg(t.pendingWriteTree_,e);return yg(s,n,a,null)}function Ej(t){return t.fold((e,n,s)=>{if(n&&rs(n))return[Ju(n)];{let a=[];return n&&(a=h1(n)),Vt(s,(l,u)=>{a=a.concat(u)}),a}})}function zo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(mj())(t._repo,t._path):t}function Sj(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const a=th(s),l=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(l)}}}function xj(){return pj++}function Tj(t,e,n){const s=e._path,a=Mu(t,e),l=y1(t,n),u=t.listenProvider_.startListening(zo(e),a,l.hashFn,l.onComplete),d=t.syncPointTree_.subtree(s);if(a)Y(!rs(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((m,g,y)=>{if(!ye(m)&&g&&rs(g))return[Ju(g).query];{let v=[];return g&&(v=v.concat(h1(g).map(S=>S.query))),Vt(y,(S,x)=>{v=v.concat(x)}),v}});for(let m=0;m<f.length;++m){const g=f[m];t.listenProvider_.stopListening(zo(g),Mu(t,g))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Sg(n)}node(){return this.node_}}class xg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=rt(this.path_,e);return new xg(this.syncTree_,n)}node(){return vg(this.syncTree_,this.path_)}}const wj=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},cS=function(t,e,n){if(!t||typeof t!="object")return t;if(Y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Cj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Aj(t[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Cj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Y(!1,"Unexpected server value: "+t)}},Aj=function(t,e,n){t.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&Y(!1,"Unexpected increment value: "+s);const a=e.node();if(Y(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const u=a.getValue();return typeof u!="number"?s:u+s},Rj=function(t,e,n,s){return Tg(e,new xg(n,t),s)},v1=function(t,e,n){return Tg(t,new Sg(e),n)};function Tg(t,e,n){const s=t.getPriority().val(),a=cS(s,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,d=cS(u.getValue(),e,n);return d!==u.getValue()||a!==u.getPriority().val()?new ut(d,yt(a)):t}else{const u=t;return l=u,a!==u.getPriority().val()&&(l=l.updatePriority(new ut(a))),u.forEachChild(Ke,(d,f)=>{const m=Tg(f,e.getImmediateChild(d),n);m!==f&&(l=l.updateImmediateChild(d,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Cg(t,e){let n=e instanceof Oe?e:new Oe(e),s=t,a=me(n);for(;a!==null;){const l=ra(s.node.children,a)||{children:{},childCount:0};s=new wg(a,s,l),n=Me(n),a=me(n)}return s}function va(t){return t.node.value}function _1(t,e){t.node.value=e,Vm(t)}function b1(t){return t.node.childCount>0}function Nj(t){return va(t)===void 0&&!b1(t)}function nh(t,e){Vt(t.node.children,(n,s)=>{e(new wg(n,t,s))})}function E1(t,e,n,s){n&&e(t),nh(t,a=>{E1(a,e,!0)})}function Dj(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Sl(t){return new Oe(t.parent===null?t.name:Sl(t.parent)+"/"+t.name)}function Vm(t){t.parent!==null&&Oj(t.parent,t.name,t)}function Oj(t,e,n){const s=Nj(n),a=yi(t.node.children,e);s&&a?(delete t.node.children[e],t.node.childCount--,Vm(t)):!s&&!a&&(t.node.children[e]=n.node,t.node.childCount++,Vm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=/[\[\].#$\/\u0000-\u001F\u007F]/,Ij=/[\[\].#$\u0000-\u001F\u007F]/,Wf=10*1024*1024,S1=function(t){return typeof t=="string"&&t.length!==0&&!kj.test(t)},x1=function(t){return typeof t=="string"&&t.length!==0&&!Ij.test(t)},Mj=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),x1(t)},Lj=function(t,e,n,s){Ag(Lp(t,"value"),e,n)},Ag=function(t,e,n){const s=n instanceof Oe?new ZU(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ps(s));if(typeof e=="function")throw new Error(t+"contains a function "+Ps(s)+" with contents = "+e.toString());if(xw(e))throw new Error(t+"contains "+e.toString()+" "+Ps(s));if(typeof e=="string"&&e.length>Wf/3&&Fu(e)>Wf)throw new Error(t+"contains a string greater than "+Wf+" utf8 bytes "+Ps(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,l=!1;if(Vt(e,(u,d)=>{if(u===".value")a=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!S1(u)))throw new Error(t+" contains an invalid key ("+u+") "+Ps(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);JU(s,u),Ag(t,d,s),e4(s)}),a&&l)throw new Error(t+' contains ".value" child '+Ps(s)+" in addition to actual children.")}},T1=function(t,e,n,s){if(!x1(n))throw new Error(Lp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Pj=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),T1(t,e,n)},w1=function(t,e){if(me(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Uj=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!S1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Mj(n))throw new Error(Lp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Rg(t,e){let n=null;for(let s=0;s<e.length;s++){const a=e[s],l=a.getPath();n!==null&&!ag(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(a)}n&&t.eventLists_.push(n)}function C1(t,e,n){Rg(t,n),A1(t,s=>ag(s,e))}function mi(t,e,n){Rg(t,n),A1(t,s=>bn(s,e)||bn(e,s))}function A1(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const a=t.eventLists_[s];if(a){const l=a.path;e(l)?(Vj(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Vj(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Uo&&St("event: "+n.toString()),ya(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="repo_interrupt",zj=25;class Hj{constructor(e,n,s,a){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Au(),this.transactionQueueTree_=new wg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Fj(t,e,n){if(t.stats_=sg(t.repoInfo_),t.forceRestClient_||xU())t.server_=new Cu(t.repoInfo_,(s,a,l,u)=>{uS(t,s,a,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>hS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new ci(t.repoInfo_,e,(s,a,l,u)=>{uS(t,s,a,l,u)},s=>{hS(t,s)},s=>{Gj(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=RU(t.repoInfo_,()=>new C4(t.stats_,t.server_)),t.infoData_=new E4,t.infoSyncTree_=new oS({startListening:(s,a,l,u)=>{let d=[];const f=t.infoData_.getNode(s._path);return f.isEmpty()||(d=eh(t.infoSyncTree_,s._path,f),setTimeout(()=>{u("ok")},0)),d},stopListening:()=>{}}),Dg(t,"connected",!1),t.serverSyncTree_=new oS({startListening:(s,a,l,u)=>(t.server_.listen(s,l,a,(d,f)=>{const m=u(d,f);mi(t.eventQueue_,s._path,m)}),[]),stopListening:(s,a)=>{t.server_.unlisten(s,a)}})}function qj(t){const n=t.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ng(t){return wj({timestamp:qj(t)})}function uS(t,e,n,s,a){t.dataUpdateCount++;const l=new Oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(a)if(s){const f=mu(n,m=>yt(m));u=bj(t.serverSyncTree_,l,f,a)}else{const f=yt(n);u=_j(t.serverSyncTree_,l,f,a)}else if(s){const f=mu(n,m=>yt(m));u=gj(t.serverSyncTree_,l,f)}else{const f=yt(n);u=eh(t.serverSyncTree_,l,f)}let d=l;u.length>0&&(d=ih(t,l)),mi(t.eventQueue_,d,u)}function hS(t,e){Dg(t,"connected",e),e===!1&&Kj(t)}function Gj(t,e){Vt(e,(n,s)=>{Dg(t,n,s)})}function Dg(t,e,n){const s=new Oe("/.info/"+e),a=yt(n);t.infoData_.updateSnapshot(s,a);const l=eh(t.infoSyncTree_,s,a);mi(t.eventQueue_,s,l)}function R1(t){return t.nextWriteId_++}function Yj(t,e,n,s,a){Og(t,"set",{path:e.toString(),value:n,priority:s});const l=Ng(t),u=yt(n,s),d=vg(t.serverSyncTree_,e),f=v1(u,d,l),m=R1(t),g=m1(t.serverSyncTree_,e,f,m,!0);Rg(t.eventQueue_,g),t.server_.put(e.toString(),u.val(!0),(v,S)=>{const x=v==="ok";x||jt("set at "+e+" failed: "+v);const C=Vs(t.serverSyncTree_,m,!x);mi(t.eventQueue_,e,C),Qj(t,a,v,S)});const y=I1(t,e);ih(t,y),mi(t.eventQueue_,y,[])}function Kj(t){Og(t,"onDisconnectEvents");const e=Ng(t),n=Au();km(t.onDisconnect_,Te(),(a,l)=>{const u=Rj(a,l,t.serverSyncTree_,e);e1(n,a,u)});let s=[];km(n,Te(),(a,l)=>{s=s.concat(eh(t.serverSyncTree_,a,l));const u=I1(t,a);ih(t,u)}),t.onDisconnect_=Au(),mi(t.eventQueue_,Te(),s)}function $j(t,e,n){let s;me(e._path)===".info"?s=lS(t.infoSyncTree_,e,n):s=lS(t.serverSyncTree_,e,n),C1(t.eventQueue_,e._path,s)}function Wj(t,e,n){let s;me(e._path)===".info"?s=jm(t.infoSyncTree_,e,n):s=jm(t.serverSyncTree_,e,n),C1(t.eventQueue_,e._path,s)}function Xj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Bj)}function Og(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),St(n,...e)}function Qj(t,e,n,s){e&&ya(()=>{if(n==="ok")e(null);else{const a=(n||"error").toUpperCase();let l=a;s&&(l+=": "+s);const u=new Error(l);u.code=a,e(u)}})}function N1(t,e,n){return vg(t.serverSyncTree_,e,n)||le.EMPTY_NODE}function kg(t,e=t.transactionQueueTree_){if(e||sh(t,e),va(e)){const n=O1(t,e);Y(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&Zj(t,Sl(e),n)}else b1(e)&&nh(e,n=>{kg(t,n)})}function Zj(t,e,n){const s=n.map(m=>m.currentWriteId),a=N1(t,e,s);let l=a;const u=a.hash();for(let m=0;m<n.length;m++){const g=n[m];Y(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Pt(e,g.path);l=l.updateChild(y,g.currentOutputSnapshotRaw)}const d=l.val(!0),f=e;t.server_.put(f.toString(),d,m=>{Og(t,"transaction put response",{path:f.toString(),status:m});let g=[];if(m==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(Vs(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();sh(t,Cg(t.transactionQueueTree_,e)),kg(t,t.transactionQueueTree_),mi(t.eventQueue_,e,g);for(let v=0;v<y.length;v++)ya(y[v])}else{if(m==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{jt("transaction at "+f.toString()+" failed: "+m);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=m}ih(t,e)}},u)}function ih(t,e){const n=D1(t,e),s=Sl(n),a=O1(t,n);return Jj(t,a,s),s}function Jj(t,e,n){if(e.length===0)return;const s=[];let a=[];const u=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],m=Pt(n,f.path);let g=!1,y;if(Y(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,y=f.abortReason,a=a.concat(Vs(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=zj)g=!0,y="maxretry",a=a.concat(Vs(t.serverSyncTree_,f.currentWriteId,!0));else{const v=N1(t,f.path,u);f.currentInputSnapshot=v;const S=e[d].update(v.val());if(S!==void 0){Ag("transaction failed: Data returned ",S,f.path);let x=yt(S);typeof S=="object"&&S!=null&&yi(S,".priority")||(x=x.updatePriority(v.getPriority()));const D=f.currentWriteId,N=Ng(t),k=v1(x,v,N);f.currentOutputSnapshotRaw=x,f.currentOutputSnapshotResolved=k,f.currentWriteId=R1(t),u.splice(u.indexOf(D),1),a=a.concat(m1(t.serverSyncTree_,f.path,k,f.currentWriteId,f.applyLocally)),a=a.concat(Vs(t.serverSyncTree_,D,!0))}else g=!0,y="nodata",a=a.concat(Vs(t.serverSyncTree_,f.currentWriteId,!0))}mi(t.eventQueue_,n,a),a=[],g&&(e[d].status=2,function(v){setTimeout(v,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(y==="nodata"?s.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):s.push(()=>e[d].onComplete(new Error(y),!1,null))))}sh(t,t.transactionQueueTree_);for(let d=0;d<s.length;d++)ya(s[d]);kg(t,t.transactionQueueTree_)}function D1(t,e){let n,s=t.transactionQueueTree_;for(n=me(e);n!==null&&va(s)===void 0;)s=Cg(s,n),e=Me(e),n=me(e);return s}function O1(t,e){const n=[];return k1(t,e,n),n.sort((s,a)=>s.order-a.order),n}function k1(t,e,n){const s=va(e);if(s)for(let a=0;a<s.length;a++)n.push(s[a]);nh(e,a=>{k1(t,a,n)})}function sh(t,e){const n=va(e);if(n){let s=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[s]=n[a],s++);n.length=s,_1(e,n.length>0?n:void 0)}nh(e,s=>{sh(t,s)})}function I1(t,e){const n=Sl(D1(t,e)),s=Cg(t.transactionQueueTree_,e);return Dj(s,a=>{Xf(t,a)}),Xf(t,s),E1(s,a=>{Xf(t,a)}),n}function Xf(t,e){const n=va(e);if(n){const s=[];let a=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(Y(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(Y(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),a=a.concat(Vs(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&s.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?_1(e,void 0):n.length=l+1,mi(t.eventQueue_,Sl(e),a);for(let u=0;u<s.length;u++)ya(s[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let a=n[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function t5(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):jt(`Invalid query segment '${n}' in query '${t}'`)}return e}const dS=function(t,e){const n=n5(t),s=n.namespace;n.domain==="firebase.com"&&fi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&fi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mU();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Lw(n.host,n.secure,s,a,e,"",s!==n.subdomain),path:new Oe(n.pathString)}},n5=function(t){let e="",n="",s="",a="",l="",u=!0,d="https",f=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(d=t.substring(0,m-1),t=t.substring(m+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(a=e5(t.substring(g,y)));const v=t5(t.substring(Math.min(t.length,y)));m=e.indexOf(":"),m>=0?(u=d==="https"||d==="wss",f=parseInt(e.substring(m+1),10)):m=e.length;const S=e.slice(0,m);if(S.toLowerCase()==="localhost")n="localhost";else if(S.split(".").length<=2)n=S;else{const x=e.indexOf(".");s=e.substring(0,x).toLowerCase(),n=e.substring(x+1),l=s}"ns"in v&&(l=v.ns)}return{host:e,port:f,domain:n,subdomain:s,secure:u,scheme:d,pathString:a,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n,s,a){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dt(this.snapshot.exportVal())}}class s5{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,s,a){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=a}get key(){return ye(this._path)?null:qw(this._path)}get ref(){return new ls(this._repo,this._path)}get _queryIdentifier(){const e=XE(this._queryParams),n=ng(e);return n==="{}"?"default":n}get _queryObject(){return XE(this._queryParams)}isEqual(e){if(e=Ze(e),!(e instanceof Ig))return!1;const n=this._repo===e._repo,s=ag(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return n&&s&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+QU(this._path)}}class ls extends Ig{constructor(e,n){super(e,n,new ug,!1)}get parent(){const e=Yw(this._path);return e===null?null:new ls(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Lu{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Oe(e),s=Bm(this.ref,e);return new Lu(this._node.getChild(n),s,Ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,a)=>e(new Lu(a,Bm(this.ref,s),Ke)))}hasChild(e){const n=new Oe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function fS(t,e){return t=Ze(t),t._checkNotDeleted("ref"),e!==void 0?Bm(t._root,e):t._root}function Bm(t,e){return t=Ze(t),me(t._path)===null?Pj("child","path",e):T1("child","path",e),new ls(t._repo,rt(t._path,e))}function a5(t){return w1("remove",t._path),o5(t,null)}function o5(t,e){t=Ze(t),w1("set",t._path),Lj("set",e,t._path);const n=new Hu;return Yj(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class Mg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new i5("value",this,new Lu(e.snapshotNode,new ls(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new s5(this,e,n):null}matches(e){return e instanceof Mg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function l5(t,e,n,s,a){const l=new r5(n,void 0),u=new Mg(l);return $j(t._repo,t,u),()=>Wj(t._repo,t,u)}function c5(t,e,n,s){return l5(t,"value",e)}oj(ls);fj(ls);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="FIREBASE_DATABASE_EMULATOR_HOST",zm={};let h5=!1;function d5(t,e,n,s){const a=e.lastIndexOf(":"),l=e.substring(0,a),u=Zs(l);t.repoInfo_=new Lw(e,u,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function f5(t,e,n,s,a){let l=s||t.options.databaseURL;l===void 0&&(t.options.projectId||fi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),St("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=dS(l,a),d=u.repoInfo,f;typeof process<"u"&&kE&&(f=kE[u5]),f?(l=`http://${f}?ns=${d.namespace}`,u=dS(l,a),d=u.repoInfo):u.repoInfo.secure;const m=new wU(t.name,t.options,e);Uj("Invalid Firebase Database URL",u),ye(u.path)||fi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=p5(d,t,m,new TU(t,n));return new g5(g,t)}function m5(t,e){const n=zm[e];(!n||n[t.key]!==t)&&fi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Xj(t),delete n[t.key]}function p5(t,e,n,s){let a=zm[e.name];a||(a={},zm[e.name]=a);let l=a[t.toURLString()];return l&&fi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new Hj(t,h5,n,s),a[t.toURLString()]=l,l}class g5{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Fj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ls(this._repo,Te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(m5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fi("Cannot call "+e+" on a deleted database.")}}function y5(t=Vp(),e){const n=qu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=mT("database");s&&v5(n,...s)}return n}function v5(t,e,n,s={}){t=Ze(t),t._checkNotDeleted("useEmulator");const a=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(a===t._repoInternal.repoInfo_.host&&Hs(s,l.repoInfo_.emulatorOptions))return;fi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&fi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new nu(nu.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:yT(s.mockUserToken,t.app.options.projectId);u=new nu(d)}Zs(e)&&(kp(e),Ip("Database",!0)),d5(l,a,s,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){lU(Js),Fs(new is("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return f5(s,a,l,n)},"PUBLIC").setMultipleInstances(!0)),Ln(IE,ME,t),Ln(IE,ME,"esm2017")}ci.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ci.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};_5();const b5={apiKey:"AIzaSyAafDSvuHq7bb9F3-SdVpwM2NTNNtymT_o",authDomain:"nailsbydani-6082b.firebaseapp.com",databaseURL:"https://nailsbydani-6082b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nailsbydani-6082b",storageBucket:"nailsbydani-6082b.firebasestorage.app",messagingSenderId:"438345951991",appId:"1:438345951991:web:335b18a1bca6fa1a75c1f2",measurementId:"G-6R161TJXN6"},Lg=jp(b5),Br=aU(Lg),mS=y5(Lg),Hm=BT(Lg),E5=({onBack:t})=>{const[e,n]=w.useState(""),[s,a]=w.useState(!1),[l,u]=w.useState(""),[d,f]=w.useState(""),m=async g=>{g.preventDefault(),a(!0),f(""),u("");try{await q6(Br,e),u("Password reset email sent! Check your inbox and spam folder.")}catch(y){switch(console.error("Password reset error:",y),y.code){case"auth/user-not-found":f("No account found with this email address.");break;case"auth/invalid-email":f("Please enter a valid email address.");break;case"auth/too-many-requests":f("Too many reset requests. Please try again later.");break;default:f("Failed to send reset email. Please try again.")}}finally{a(!1)}};return b.jsx("div",{className:"mt-20 bg-white flex items-center justify-center",children:b.jsxs("div",{className:"border border-gray-300 p-6 w-full max-w-sm",children:[b.jsx("button",{onClick:t,className:"mr-2 p-1 hover:bg-gray-100 rounded mb-5",children:b.jsx(uI,{size:16})}),b.jsx("div",{className:"flex items-center mb-4",children:b.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Reset Password"})}),b.jsx("p",{className:"text-md text-gray-600 mb-12 font-sans",children:"Enter your email address and we'll send you a link to reset your password."}),b.jsxs("form",{onSubmit:m,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-md font-medium text-gray-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:e,onChange:g=>n(g.target.value),placeholder:"you@domain.com",className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,disabled:s,autoComplete:"username"})]}),d&&b.jsx("div",{className:"p-2 bg-red-50 border border-red-200 text-red-700 text-sm",children:d}),l&&b.jsx("div",{className:"p-2 bg-green-50 border border-green-200 text-green-700 text-sm",children:l}),b.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 px-3 hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",disabled:s,children:s?b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx(sa,{size:16,className:"animate-spin mr-2"}),"Sending..."]}):"SEND EMAIL"})]}),l&&b.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:b.jsx("button",{onClick:t,className:"text-sm text-gray-600 hover:text-gray-800",children:"Back to sign in"})})]})})},S5=({children:t})=>{const[e,n]=w.useState(""),[s,a]=w.useState(""),[l,u]=w.useState(""),[d,f]=w.useState(!1),[m,g]=w.useState(!0),[y,v]=w.useState(!1);w.useEffect(()=>{SE(Br).catch(U=>{console.error("Error signing out on mount:",U)})},[]);const S=w.useRef(null);w.useEffect(()=>{const U=W6(Br,G=>{f(!!G),g(!1)});return()=>U()},[]),w.useEffect(()=>{if(!d){D(),M();return}return C(),k(),()=>{D(),M()}},[d]);const x=5*60*1e3,C=()=>{D(),S.current=window.setTimeout(()=>{SE(Br).catch(U=>{console.error("Auto-logout error:",U)})},x)},D=()=>{S.current!==null&&(clearTimeout(S.current),S.current=null)},N=["mousemove","mousedown","keydown","touchstart","scroll"],k=()=>{N.forEach(U=>{window.addEventListener(U,C)})},M=()=>{N.forEach(U=>{window.removeEventListener(U,C)})},H=async U=>{U.preventDefault(),u("");try{await Y6(Br,Cm),await G6(Br,e,s)}catch(G){console.error("Firebase signIn error:",G),u("Invalid email or password")}};return m?b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsx(sa,{className:"h-6 w-6 animate-spin"})}):d?b.jsx(b.Fragment,{children:t}):y?b.jsx(E5,{onBack:()=>v(!1)}):b.jsx("div",{className:"mt-20 bg-white flex items-center justify-center",children:b.jsxs("div",{className:"border border-gray-300 p-6 w-full max-w-sm",children:[b.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-12",children:"Admin Sign In"}),b.jsxs("form",{onSubmit:H,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:e,onChange:U=>n(U.target.value),placeholder:"you@domain.com",className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,autoComplete:"username"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),b.jsx("input",{type:"password",value:s,onChange:U=>a(U.target.value),placeholder:"",className:"mb-5 w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,autoComplete:"current-password"})]}),l&&b.jsx("div",{className:"p-2 bg-red-50 border border-red-200 text-red-700 text-sm",children:l}),b.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 px-3 hover:bg-gray-800",children:"SIGN IN"})]}),b.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:b.jsx("button",{onClick:()=>v(!0),className:"text-md text-gray-600 hover:text-gray-800",children:"Forgot your password?"})})]})})},x5=({onUploadSuccess:t,showModal:e,setShowModal:n})=>{const[s,a]=w.useState(!1),[l,u]=w.useState(null),[d,f]=w.useState(""),[m,g]=w.useState(null);w.useEffect(()=>{e||(u(null),f(""),m&&(URL.revokeObjectURL(m),g(null)))},[e,m]);const y=x=>{const C=x.target.files[0];if(C){u(C);const D=URL.createObjectURL(C);g(D)}},v=async x=>{if(x.preventDefault(),!l||!d){alert("Please select a file and enter a design ID");return}a(!0);try{const C=gu(Hm,`Designs/${d}.jpg`);await PP(C,l),u(null),f(""),g(null),n(!1),t(d)}catch(C){console.error("Upload failed:",C),alert("Upload failed. Please try again.")}finally{a(!1)}},S=()=>{u(null),f(""),g(null),n(!1),m&&URL.revokeObjectURL(m)};return b.jsx(b.Fragment,{children:e&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white border border-gray-300 p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload New Design"}),b.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",children:b.jsx(Np,{size:20})})]}),b.jsxs("form",{onSubmit:v,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Design ID"}),b.jsx("input",{type:"number",value:d,onChange:x=>f(x.target.value),placeholder:"Enter design ID (e.g., 15)",className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,disabled:s})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image File"}),b.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:y,className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,disabled:s}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: JPG, JPEG, PNG"})]}),m&&b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview"}),b.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:b.jsx("img",{src:m,alt:"Upload preview",className:"w-full h-48 object-cover"})})]}),b.jsxs("div",{className:"flex space-x-3 pt-4",children:[b.jsx("button",{type:"button",onClick:S,className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 hover:bg-gray-50",disabled:s,children:"Cancel"}),b.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-black text-white hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",disabled:s||!l||!d,children:s?b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx(sa,{size:16,className:"animate-spin mr-2"}),"Uploading..."]}):b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx(II,{size:16,className:"mr-2"}),"Upload"]})})]})]})]})})})},T5=({design:t,imageURL:e,likesCount:n,onDelete:s})=>{const[a,l]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(!1),g=async()=>{d(!0);try{await s(t.id),m(!1)}catch(y){console.error("Delete failed:",y)}finally{d(!1)}};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden group transition-all duration-200",children:[b.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[e?b.jsx("img",{src:e,alt:`Design ${t.id}`,className:"w-full h-full object-cover"}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No image"}),b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200",children:b.jsxs("div",{className:"flex space-x-3",children:[e&&b.jsx("button",{onClick:()=>l(!0),className:"p-3 bg-white text-black hover:bg-gray-100 rounded-full transition-colors duration-150",title:"Preview",children:b.jsx(gI,{size:16,color:"black"})}),e&&b.jsx("button",{onClick:()=>m(!0),className:"p-3 bg-red-600 text-white hover:bg-red-700 rounded-full transition-colors duration-150",title:"Delete",disabled:u,children:u?b.jsx(sa,{size:16,className:"animate-spin"}):b.jsx(OI,{size:16})})]})})]}),b.jsx("div",{className:"p-3 bg-white group-hover:bg-gray-50 transition-colors duration-200",children:b.jsxs("div",{className:"flex justify-between items-center text-sm",children:[b.jsxs("span",{className:"font-medium",children:["Design ",t.id]}),b.jsxs("span",{className:"text-gray-500",children:[(n||0).toLocaleString()," likes"]})]})})]}),a&&e&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[b.jsx("button",{onClick:()=>l(!1),className:"absolute -top-10 right-0 text-white hover:text-gray-300",children:b.jsx(Np,{size:24})}),b.jsx("img",{src:e,alt:`Design ${t.id}`,className:"max-w-full max-h-full object-contain"})]})}),f&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white border border-gray-300 p-6 max-w-md w-full",children:[b.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Delete Design ",t.id,"?"]}),b.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"This will permanently delete the image and all likes data."}),b.jsxs("div",{className:"flex space-x-3",children:[b.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 hover:bg-gray-50",disabled:u,children:"Cancel"}),b.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",disabled:u,children:u?b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx(sa,{size:16,className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})})]})},w5=()=>{const[t,e]=w.useState([]),[n,s]=w.useState({}),[a,l]=w.useState({}),[u,d]=w.useState(!0),[f,m]=w.useState(null),[g,y]=w.useState(!1),[v,S]=w.useState([]),x=async()=>{try{const k=gu(Hm,"Designs/"),M=await jT(k),H={},U=[];return await Promise.all(M.items.map(async G=>{try{const te=G.name,$=parseInt(te.split(".")[0]);if(!isNaN($)){const q=await VT(G);H[$]=q,U.push({id:$,title:"",category:"classic",description:""})}}catch(te){console.log(`Error processing file ${G.name}:`,te)}})),U.sort((G,te)=>G.id-te.id),{urls:H,designs:U}}catch(k){return console.error("Error discovering designs:",k),{urls:{},designs:[]}}};w.useEffect(()=>{(async()=>{try{const M=fS(mS,"likes");c5(M,G=>{const te=G.val()||{};l(te)});const{urls:H,designs:U}=await x();s(H),e(U),S(U),d(!1)}catch(M){console.error("Error fetching data:",M),d(!1)}})()},[]);const C=(k,M="success")=>{m({message:k,type:M}),setTimeout(()=>m(null),3e3)},D=async k=>{try{const{urls:M,designs:H}=await x();s(M),e(H),S(H),C(`Design ${k} uploaded successfully`)}catch(M){console.error("Error refreshing after upload:",M),C("Upload completed but failed to refresh","error")}},N=async k=>{try{const M=gu(Hm,`Designs/${k}.jpg`);await UP(M);const H=fS(mS,`likes/${k}`);await a5(H),s(U=>{const G={...U};return delete G[k],G}),l(U=>{const G={...U};return delete G[k],G}),C(`Design ${k} deleted`)}catch(M){throw console.error("Error deleting design:",M),C(`Failed to delete design ${k}`,"error"),M}};return u?b.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx(sa,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),b.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):b.jsxs("div",{className:"min-h-screen bg-white",children:[b.jsx("div",{className:"border-b border-gray-200",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"Admin Panel"}),b.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Object.keys(n).length," images,"," ",Object.values(a).reduce((k,M)=>k+M,0).toLocaleString()," ","total likes"]})]}),b.jsx("button",{onClick:()=>y(!0),className:"bg-black text-white px-4 py-2 hover:bg-gray-800 transition-colors duration-200 flex items-center space-x-2 text-xs",children:b.jsx("span",{children:"Upload Design"})})]})}),f&&b.jsx("div",{className:"fixed top-4 right-4 z-50",children:b.jsx("div",{className:`p-3 border text-sm ${f.type==="error"?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:f.message})}),b.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:t.map(k=>b.jsx(T5,{design:k,imageURL:n[k.id],likesCount:a[k.id],onDelete:N},k.id))})}),b.jsx(x5,{onUploadSuccess:D,showModal:g,setShowModal:y})]})};function C5(){return b.jsx(S5,{children:b.jsx(w5,{})})}const A5=()=>{const[t,e]=w.useState(new Set),n=Vn(),s=(l,u,d="")=>{const f="27661043677",m=`Hey Daniela!

I'm interested in booking the ${l} service for ${u}${d?` ${d}`:""}

Could we please schedule an appointment? Let me know your available times.

Thank you!`,g=encodeURIComponent(m);return`https://wa.me/${f}?text=${g}`};w.useEffect(()=>{const l=new IntersectionObserver(d=>{d.forEach(f=>{if(f.isIntersecting){const m=f.target.getAttribute("data-item-id");m&&e(g=>new Set([...g,m]))}})},{threshold:.2,rootMargin:"50px"}),u=setTimeout(()=>{document.querySelectorAll("[data-item-id]").forEach(f=>l.observe(f))},100);return()=>{clearTimeout(u),l.disconnect()}},[]),w.useEffect(()=>{const u=new URLSearchParams(n.search).get("category");if(u!==null){const d=parseInt(u),f=()=>{const m=document.getElementById(`category-${d}`);return m?(m.style.opacity="1",m.style.transform="translateX(0)",m.scrollIntoView({behavior:"smooth",block:"center"}),!0):!1};setTimeout(()=>f(),100),setTimeout(()=>f(),300)}},[n]);const a=[{categoryName:"Gel & Acrylic Overlays",services:[{price:"R160",name:"Gel Overlay",description:"Professional gel overlay on your natural nails for strength and durability. Includes base coat, gel application, cuticle care, shaping, and high-gloss top coat finish."},{price:"R180",name:"Acrylic Overlay",description:"Strong acrylic overlay system providing excellent durability and smooth finish. Includes nail preparation, acrylic application, shaping, buffing, and cuticle care."}]},{categoryName:"Extensions & Sculptures",services:[{price:"R210",name:"Gel Extensions - Short",description:"Professional gel extensions for added length and strength. Perfect for everyday wear with a natural look. Includes nail preparation, extension application, shaping, and finishing."},{price:"R230",name:"Gel Extensions - Medium",description:"Medium length extensions providing the perfect balance between practicality and elegance."},{price:"R250",name:"Gel Extensions - Long",description:"Dramatic long extensions for those who want to make a statement with their nails."},{price:"R230",name:"Acrylic Sculptures - Short",description:"Hand-sculpted acrylic nails with superior strength and durability in a short, practical length."},{price:"R250",name:"Acrylic Sculptures - Medium",description:"Medium length acrylic sculptures offering the perfect combination of style and functionality."},{price:"R270",name:"Acrylic Sculptures - Long",description:"Long acrylic sculptures for maximum impact and glamour. Perfect for special occasions or everyday elegance."}]},{categoryName:"Maintenance & Repairs",services:[{price:"R120",name:"Gel Fill",description:"Maintain your gel nails with professional fill service. Keeps your nails looking fresh and extends their lifespan. Includes growth area fill, reshaping, and cuticle care."},{price:"R120",name:"Acrylic Fill",description:"Professional acrylic fill service to maintain the strength and appearance of your acrylic nails."},{price:"R20",name:"Broken Nail Repair",description:"Quick and effective repair for broken or damaged nails. Restore your nail to its original beauty."},{price:"R50",name:"Soak Off Service",description:"Safe and gentle removal of gel or acrylic nails without damage to your natural nails. Includes professional removal process and nail conditioning treatment."}]},{categoryName:"Add-Ons",services:[{price:"R5",priceNote:"per nail",name:"Nail Art",description:"Custom nail art designs to express your personal style. From simple accents to intricate patterns. Can be added to any nail service for personalized flair.",note:"*Our most popular add-on"}]}];return b.jsxs("div",{className:"min-h-screen bg-white",children:[b.jsx("div",{className:"text-center py-32 mt-20 transition-all duration-1000 opacity-100 translate-y-0",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-light text-stone-900 mb-8",children:"Nail Services"}),b.jsx("p",{className:"text-stone-600 font-light leading-relaxed font-sans",children:"Professional nail preparation, cuticle care, shaping, filing, buffing, and application with premium products. Each service includes meticulous attention to detail and personalized care for optimal results."}),b.jsx("p",{className:"text-stone-600 font-light text-sm mt-4 italic",children:"[ Additional services and nail art available upon request. ]"})]})}),b.jsxs("div",{className:"max-w-6xl mx-auto px-6 pb-24",children:[a.map((l,u)=>b.jsx("div",{className:"mb-20",children:b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start",children:[b.jsx("div",{id:`category-${u}`,"data-item-id":`category-${u}`,className:`category-${u} transition-all duration-600 ease-out ${t.has(`category-${u}`)?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}`,children:b.jsx("h2",{className:"text-4xl font-light text-stone-900",children:l.categoryName})}),b.jsx("div",{className:"space-y-8",children:l.services.map((d,f)=>{const m=`service-${u}-${f}`;return b.jsxs("a",{"data-item-id":m,href:s(d.name,d.price,d.priceNote),target:"_blank",rel:"noopener noreferrer",className:`block p-6 border border-transparent hover:border-stone-300 transition-all duration-300 ease-out cursor-pointer ${t.has(m)?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,style:{transitionDelay:t.has(m)?"0ms":`${f*100}ms`},children:[b.jsxs("div",{className:"mb-2",children:[b.jsx("span",{className:"text-sm text-stone-600 font-montserrat",children:d.price}),d.priceNote&&b.jsx("span",{className:"text-sm text-stone-600 ml-2",children:d.priceNote})]}),b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("h3",{className:"text-lg text-stone-900 uppercase tracking-wide",children:d.name}),b.jsx(oT,{size:18,className:"text-stone-400"})]}),b.jsx("p",{className:"text-stone-600 font-light leading-relaxed mb-4 font-montserrat text-sm",children:d.description}),d.note&&b.jsx("p",{className:"text-stone-600 font-light text-sm italic",children:d.note})]},f)})})]})},u)),b.jsx("div",{"data-item-id":"contact-section",className:`border-t border-stone-200 pt-12 transition-all duration-700 ease-out ${t.has("contact-section")?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"text-2xl font-light text-stone-900 mb-4",children:"Have Questions About Our Services?"}),b.jsx("p",{className:"text-stone-600 font-light mb-8",children:"Contact me for consultations, custom requests, or any questions about treatments."}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[b.jsx("a",{href:s("General Consultation","Free",""),target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-stone-900 text-white px-8 py-3 hover:bg-stone-800 transition-colors duration-300 font-light w-full sm:w-auto text-center",children:"Chat on WhatsApp"}),b.jsx("a",{href:"tel:0661043677",className:"inline-block bg-stone-100 text-stone-900 px-8 py-3 hover:bg-stone-200 transition-colors duration-300 font-light w-full sm:w-auto text-center",children:"Call +27 66 104 3677"})]}),b.jsx("p",{className:"text-stone-500 text-sm",children:"Professional nail services  Expert care  Premium products"})]})]})})]})]})};function R5(){const t=Vn();return w.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]),b.jsxs(b.Fragment,{children:[b.jsx(jI,{}),b.jsxs(tN,{children:[b.jsx(Vr,{path:"/",element:b.jsx(UI,{})}),b.jsx(Vr,{path:"/designs",element:b.jsx(FP,{})}),b.jsx(Vr,{path:"/faq",element:b.jsx(qP,{})}),b.jsx(Vr,{path:"/admin",element:b.jsx(C5,{})}),b.jsx(Vr,{path:"/services",element:b.jsx(A5,{})})]})]})}hR.createRoot(document.getElementById("root")).render(b.jsx(w.StrictMode,{children:b.jsx(wN,{children:b.jsx(R5,{})})}));
