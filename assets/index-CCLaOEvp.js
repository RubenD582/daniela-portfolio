(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();var Kd={exports:{}},Aa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function zS(){if(Y_)return Aa;Y_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var h in l)h!=="key"&&(c[h]=l[h])}else c=l;return l=c.ref,{$$typeof:i,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Aa.Fragment=e,Aa.jsx=s,Aa.jsxs=s,Aa}var $_;function HS(){return $_||($_=1,Kd.exports=zS()),Kd.exports}var _=HS(),Qd={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function BS(){if(W_)return ue;W_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function b(w){return w===null||typeof w!="object"?null:(w=E&&w[E]||w["@@iterator"],typeof w=="function"?w:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function M(w,z,W){this.props=w,this.context=z,this.refs=D,this.updater=W||x}M.prototype.isReactComponent={},M.prototype.setState=function(w,z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,z,"setState")},M.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function L(){}L.prototype=M.prototype;function j(w,z,W){this.props=w,this.context=z,this.refs=D,this.updater=W||x}var I=j.prototype=new L;I.constructor=j,C(I,M.prototype),I.isPureReactComponent=!0;var V=Array.isArray,$={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function re(w,z,W,Q,q,ne){return W=ne.ref,{$$typeof:i,type:w,key:z,ref:W!==void 0?W:null,props:ne}}function ve(w,z){return re(w.type,z,void 0,void 0,void 0,w.props)}function G(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function le(w){var z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(W){return z[W]})}var lt=/\/+/g;function Ot(w,z){return typeof w=="object"&&w!==null&&w.key!=null?le(""+w.key):z.toString(36)}function Pt(){}function Zt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Pt,Pt):(w.status="pending",w.then(function(z){w.status==="pending"&&(w.status="fulfilled",w.value=z)},function(z){w.status==="pending"&&(w.status="rejected",w.reason=z)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function ft(w,z,W,Q,q){var ne=typeof w;(ne==="undefined"||ne==="boolean")&&(w=null);var ce=!1;if(w===null)ce=!0;else switch(ne){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(w.$$typeof){case i:case e:ce=!0;break;case y:return ce=w._init,ft(ce(w._payload),z,W,Q,q)}}if(ce)return q=q(w),ce=Q===""?"."+Ot(w,0):Q,V(q)?(W="",ce!=null&&(W=ce.replace(lt,"$&/")+"/"),ft(q,z,W,"",function($e){return $e})):q!=null&&(G(q)&&(q=ve(q,W+(q.key==null||w&&w.key===q.key?"":(""+q.key).replace(lt,"$&/")+"/")+ce)),z.push(q)),1;ce=0;var Ye=Q===""?".":Q+":";if(V(w))for(var be=0;be<w.length;be++)Q=w[be],ne=Ye+Ot(Q,be),ce+=ft(Q,z,W,ne,q);else if(be=b(w),typeof be=="function")for(w=be.call(w),be=0;!(Q=w.next()).done;)Q=Q.value,ne=Ye+Ot(Q,be++),ce+=ft(Q,z,W,ne,q);else if(ne==="object"){if(typeof w.then=="function")return ft(Zt(w),z,W,Q,q);throw z=String(w),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ce}function Y(w,z,W){if(w==null)return w;var Q=[],q=0;return ft(w,Q,"","",function(ne){return z.call(W,ne,q++)}),Q}function ae(w){if(w._status===-1){var z=w._result;z=z(),z.then(function(W){(w._status===0||w._status===-1)&&(w._status=1,w._result=W)},function(W){(w._status===0||w._status===-1)&&(w._status=2,w._result=W)}),w._status===-1&&(w._status=0,w._result=z)}if(w._status===1)return w._result.default;throw w._result}var ee=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function xe(){}return ue.Children={map:Y,forEach:function(w,z,W){Y(w,function(){z.apply(this,arguments)},W)},count:function(w){var z=0;return Y(w,function(){z++}),z},toArray:function(w){return Y(w,function(z){return z})||[]},only:function(w){if(!G(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ue.Component=M,ue.Fragment=s,ue.Profiler=l,ue.PureComponent=j,ue.StrictMode=r,ue.Suspense=m,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ue.act=function(){throw Error("act(...) is not supported in production builds of React.")},ue.cache=function(w){return function(){return w.apply(null,arguments)}},ue.cloneElement=function(w,z,W){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Q=C({},w.props),q=w.key,ne=void 0;if(z!=null)for(ce in z.ref!==void 0&&(ne=void 0),z.key!==void 0&&(q=""+z.key),z)!Z.call(z,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&z.ref===void 0||(Q[ce]=z[ce]);var ce=arguments.length-2;if(ce===1)Q.children=W;else if(1<ce){for(var Ye=Array(ce),be=0;be<ce;be++)Ye[be]=arguments[be+2];Q.children=Ye}return re(w.type,q,void 0,void 0,ne,Q)},ue.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},ue.createElement=function(w,z,W){var Q,q={},ne=null;if(z!=null)for(Q in z.key!==void 0&&(ne=""+z.key),z)Z.call(z,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(q[Q]=z[Q]);var ce=arguments.length-2;if(ce===1)q.children=W;else if(1<ce){for(var Ye=Array(ce),be=0;be<ce;be++)Ye[be]=arguments[be+2];q.children=Ye}if(w&&w.defaultProps)for(Q in ce=w.defaultProps,ce)q[Q]===void 0&&(q[Q]=ce[Q]);return re(w,ne,void 0,void 0,null,q)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(w){return{$$typeof:h,render:w}},ue.isValidElement=G,ue.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:ae}},ue.memo=function(w,z){return{$$typeof:p,type:w,compare:z===void 0?null:z}},ue.startTransition=function(w){var z=$.T,W={};$.T=W;try{var Q=w(),q=$.S;q!==null&&q(W,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(xe,ee)}catch(ne){ee(ne)}finally{$.T=z}},ue.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ue.use=function(w){return $.H.use(w)},ue.useActionState=function(w,z,W){return $.H.useActionState(w,z,W)},ue.useCallback=function(w,z){return $.H.useCallback(w,z)},ue.useContext=function(w){return $.H.useContext(w)},ue.useDebugValue=function(){},ue.useDeferredValue=function(w,z){return $.H.useDeferredValue(w,z)},ue.useEffect=function(w,z){return $.H.useEffect(w,z)},ue.useId=function(){return $.H.useId()},ue.useImperativeHandle=function(w,z,W){return $.H.useImperativeHandle(w,z,W)},ue.useInsertionEffect=function(w,z){return $.H.useInsertionEffect(w,z)},ue.useLayoutEffect=function(w,z){return $.H.useLayoutEffect(w,z)},ue.useMemo=function(w,z){return $.H.useMemo(w,z)},ue.useOptimistic=function(w,z){return $.H.useOptimistic(w,z)},ue.useReducer=function(w,z,W){return $.H.useReducer(w,z,W)},ue.useRef=function(w){return $.H.useRef(w)},ue.useState=function(w){return $.H.useState(w)},ue.useSyncExternalStore=function(w,z,W){return $.H.useSyncExternalStore(w,z,W)},ue.useTransition=function(){return $.H.useTransition()},ue.version="19.0.0",ue}var K_;function Kf(){return K_||(K_=1,Qd.exports=BS()),Qd.exports}var R=Kf(),Xd={exports:{}},Oa={},Zd={exports:{}},Jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function qS(){return Q_||(Q_=1,function(i){function e(Y,ae){var ee=Y.length;Y.push(ae);e:for(;0<ee;){var xe=ee-1>>>1,w=Y[xe];if(0<l(w,ae))Y[xe]=ae,Y[ee]=w,ee=xe;else break e}}function s(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ae=Y[0],ee=Y.pop();if(ee!==ae){Y[0]=ee;e:for(var xe=0,w=Y.length,z=w>>>1;xe<z;){var W=2*(xe+1)-1,Q=Y[W],q=W+1,ne=Y[q];if(0>l(Q,ee))q<w&&0>l(ne,Q)?(Y[xe]=ne,Y[q]=ee,xe=q):(Y[xe]=Q,Y[W]=ee,xe=W);else if(q<w&&0>l(ne,ee))Y[xe]=ne,Y[q]=ee,xe=q;else break e}}return ae}function l(Y,ae){var ee=Y.sortIndex-ae.sortIndex;return ee!==0?ee:Y.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var m=[],p=[],y=1,E=null,b=3,x=!1,C=!1,D=!1,M=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function I(Y){for(var ae=s(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=Y)r(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=s(p)}}function V(Y){if(D=!1,I(Y),!C)if(s(m)!==null)C=!0,Zt();else{var ae=s(p);ae!==null&&ft(V,ae.startTime-Y)}}var $=!1,Z=-1,re=5,ve=-1;function G(){return!(i.unstable_now()-ve<re)}function le(){if($){var Y=i.unstable_now();ve=Y;var ae=!0;try{e:{C=!1,D&&(D=!1,L(Z),Z=-1),x=!0;var ee=b;try{t:{for(I(Y),E=s(m);E!==null&&!(E.expirationTime>Y&&G());){var xe=E.callback;if(typeof xe=="function"){E.callback=null,b=E.priorityLevel;var w=xe(E.expirationTime<=Y);if(Y=i.unstable_now(),typeof w=="function"){E.callback=w,I(Y),ae=!0;break t}E===s(m)&&r(m),I(Y)}else r(m);E=s(m)}if(E!==null)ae=!0;else{var z=s(p);z!==null&&ft(V,z.startTime-Y),ae=!1}}break e}finally{E=null,b=ee,x=!1}ae=void 0}}finally{ae?lt():$=!1}}}var lt;if(typeof j=="function")lt=function(){j(le)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Pt=Ot.port2;Ot.port1.onmessage=le,lt=function(){Pt.postMessage(null)}}else lt=function(){M(le,0)};function Zt(){$||($=!0,lt())}function ft(Y,ae){Z=M(function(){Y(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_continueExecution=function(){C||x||(C=!0,Zt())},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_getFirstCallbackNode=function(){return s(m)},i.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var ee=b;b=ae;try{return Y()}finally{b=ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ee=b;b=Y;try{return ae()}finally{b=ee}},i.unstable_scheduleCallback=function(Y,ae,ee){var xe=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?xe+ee:xe):ee=xe,Y){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ee+w,Y={id:y++,callback:ae,priorityLevel:Y,startTime:ee,expirationTime:w,sortIndex:-1},ee>xe?(Y.sortIndex=ee,e(p,Y),s(m)===null&&Y===s(p)&&(D?(L(Z),Z=-1):D=!0,ft(V,ee-xe))):(Y.sortIndex=w,e(m,Y),C||x||(C=!0,Zt())),Y},i.unstable_shouldYield=G,i.unstable_wrapCallback=function(Y){var ae=b;return function(){var ee=b;b=ae;try{return Y.apply(this,arguments)}finally{b=ee}}}}(Jd)),Jd}var X_;function FS(){return X_||(X_=1,Zd.exports=qS()),Zd.exports}var ef={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function VS(){if(Z_)return pt;Z_=1;var i=Kf();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,p,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:m,containerInfo:p,implementation:y}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pt.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(m,p,null,y)},pt.flushSync=function(m){var p=d.T,y=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=p,r.p=y,r.d.f()}},pt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},pt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},pt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,E=h(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:x}):y==="script"&&r.d.X(m,{crossOrigin:E,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},pt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,E=h(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pt.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},pt.requestFormReset=function(m){r.d.r(m)},pt.unstable_batchedUpdates=function(m,p){return m(p)},pt.useFormState=function(m,p,y){return d.H.useFormState(m,p,y)},pt.useFormStatus=function(){return d.H.useHostTransitionStatus()},pt.version="19.0.0",pt}var J_;function GS(){if(J_)return ef.exports;J_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ef.exports=VS(),ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function YS(){if(ey)return Oa;ey=1;var i=FS(),e=Kf(),s=GS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),x=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),V=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function Z(t){return t===null||typeof t!="object"?null:(t=$&&t[$]||t["@@iterator"],typeof t=="function"?t:null)}var re=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===re?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case m:return"Fragment";case h:return"Portal";case y:return"Profiler";case p:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x:return(t.displayName||"Context")+".Provider";case b:return(t._context.displayName||"Context")+".Consumer";case C:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return n=t.displayName||null,n!==null?n:ve(t.type)||"Memo";case j:n=t._payload,t=t._init;try{return ve(t(n))}catch{}}return null}var G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=Object.assign,lt,Ot;function Pt(t){if(lt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);lt=n&&n[1]||"",Ot=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lt+t+Ot}var Zt=!1;function ft(t,n){if(!t||Zt)return"";Zt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(U){var k=U}Reflect.construct(t,[],B)}else{try{B.call()}catch(U){k=U}t.call(B.prototype)}}else{try{throw Error()}catch(U){k=U}(B=t())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(U){if(U&&k&&typeof U.stack=="string")return[U.stack,k.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],v=f[1];if(g&&v){var S=g.split(`
`),N=v.split(`
`);for(u=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;if(o===S.length||u===N.length)for(o=S.length-1,u=N.length-1;1<=o&&0<=u&&S[o]!==N[u];)u--;for(;1<=o&&0<=u;o--,u--)if(S[o]!==N[u]){if(o!==1||u!==1)do if(o--,u--,0>u||S[o]!==N[u]){var P=`
`+S[o].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=o&&0<=u);break}}}finally{Zt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Pt(a):""}function Y(t){switch(t.tag){case 26:case 27:case 5:return Pt(t.type);case 16:return Pt("Lazy");case 13:return Pt("Suspense");case 19:return Pt("SuspenseList");case 0:case 15:return t=ft(t.type,!1),t;case 11:return t=ft(t.type.render,!1),t;case 1:return t=ft(t.type,!0),t;default:return""}}function ae(t){try{var n="";do n+=Y(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ee(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function xe(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function w(t){if(ee(t)!==t)throw Error(r(188))}function z(t){var n=t.alternate;if(!n){if(n=ee(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){a=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return w(u),t;if(f===o)return w(u),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=u,o=f;else{for(var g=!1,v=u.child;v;){if(v===a){g=!0,a=u,o=f;break}if(v===o){g=!0,o=u,a=f;break}v=v.sibling}if(!g){for(v=f.child;v;){if(v===a){g=!0,a=f,o=u;break}if(v===o){g=!0,o=f,a=u;break}v=v.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function W(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=W(t),n!==null)return n;t=t.sibling}return null}var Q=Array.isArray,q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ce=[],Ye=-1;function be(t){return{current:t}}function $e(t){0>Ye||(t.current=ce[Ye],ce[Ye]=null,Ye--)}function Me(t,n){Ye++,ce[Ye]=t.current,t.current=n}var dn=be(null),Ir=be(null),Jn=be(null),bl=be(null);function El(t,n){switch(Me(Jn,n),Me(Ir,t),Me(dn,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?E_(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=E_(t),n=S_(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$e(dn),Me(dn,n)}function Cs(){$e(dn),$e(Ir),$e(Jn)}function Hc(t){t.memoizedState!==null&&Me(bl,t);var n=dn.current,a=S_(n,t.type);n!==a&&(Me(Ir,t),Me(dn,a))}function Sl(t){Ir.current===t&&($e(dn),$e(Ir)),bl.current===t&&($e(bl),xa._currentValue=ne)}var Bc=Object.prototype.hasOwnProperty,qc=i.unstable_scheduleCallback,Fc=i.unstable_cancelCallback,_E=i.unstable_shouldYield,yE=i.unstable_requestPaint,fn=i.unstable_now,vE=i.unstable_getCurrentPriorityLevel,um=i.unstable_ImmediatePriority,dm=i.unstable_UserBlockingPriority,wl=i.unstable_NormalPriority,bE=i.unstable_LowPriority,fm=i.unstable_IdlePriority,EE=i.log,SE=i.unstable_setDisableYieldValue,Dr=null,kt=null;function wE(t){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Dr,t,void 0,(t.current.flags&128)===128)}catch{}}function ei(t){if(typeof EE=="function"&&SE(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Dr,t)}catch{}}var It=Math.clz32?Math.clz32:CE,xE=Math.log,TE=Math.LN2;function CE(t){return t>>>=0,t===0?32:31-(xE(t)/TE|0)|0}var xl=128,Tl=4194304;function zi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cl(t,n){var a=t.pendingLanes;if(a===0)return 0;var o=0,u=t.suspendedLanes,f=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var v=a&134217727;return v!==0?(a=v&~u,a!==0?o=zi(a):(f&=v,f!==0?o=zi(f):t||(g=v&~g,g!==0&&(o=zi(g))))):(v=a&~u,v!==0?o=zi(v):f!==0?o=zi(f):t||(g=a&~g,g!==0&&(o=zi(g)))),o===0?0:n!==0&&n!==o&&!(n&u)&&(u=o&-o,g=n&-n,u>=g||u===32&&(g&4194176)!==0)?n:o}function Mr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function NE(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hm(){var t=xl;return xl<<=1,!(xl&4194176)&&(xl=128),t}function mm(){var t=Tl;return Tl<<=1,!(Tl&62914560)&&(Tl=4194304),t}function Vc(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Lr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function RE(t,n,a,o,u,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,S=t.expirationTimes,N=t.hiddenUpdates;for(a=g&~a;0<a;){var P=31-It(a),B=1<<P;v[P]=0,S[P]=-1;var k=N[P];if(k!==null)for(N[P]=null,P=0;P<k.length;P++){var U=k[P];U!==null&&(U.lane&=-536870913)}a&=~B}o!==0&&pm(t,o,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function pm(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-It(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194218}function gm(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-It(a),u=1<<o;u&n|t[o]&n&&(t[o]|=n),a&=~u}}function _m(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function ym(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:H_(t.type))}function AE(t,n){var a=q.p;try{return q.p=t,n()}finally{q.p=a}}var ti=Math.random().toString(36).slice(2),ht="__reactFiber$"+ti,St="__reactProps$"+ti,Ns="__reactContainer$"+ti,Gc="__reactEvents$"+ti,OE="__reactListeners$"+ti,kE="__reactHandles$"+ti,vm="__reactResources$"+ti,Ur="__reactMarker$"+ti;function Yc(t){delete t[ht],delete t[St],delete t[Gc],delete t[OE],delete t[kE]}function Hi(t){var n=t[ht];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ns]||a[ht]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=T_(t);t!==null;){if(a=t[ht])return a;t=T_(t)}return n}t=a,a=t.parentNode}return null}function Rs(t){if(t=t[ht]||t[Ns]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function jr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function As(t){var n=t[vm];return n||(n=t[vm]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(t){t[Ur]=!0}var bm=new Set,Em={};function Bi(t,n){Os(t,n),Os(t+"Capture",n)}function Os(t,n){for(Em[t]=n,t=0;t<n.length;t++)bm.add(n[t])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),IE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sm={},wm={};function DE(t){return Bc.call(wm,t)?!0:Bc.call(Sm,t)?!1:IE.test(t)?wm[t]=!0:(Sm[t]=!0,!1)}function Nl(t,n,a){if(DE(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Rl(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function xn(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xm(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ME(t){var n=xm(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){o=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Al(t){t._valueTracker||(t._valueTracker=ME(t))}function Tm(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=xm(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Ol(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var LE=/[\n"\\]/g;function Ht(t){return t.replace(LE,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $c(t,n,a,o,u,f,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+zt(n)):t.value!==""+zt(n)&&(t.value=""+zt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Wc(t,g,zt(n)):a!=null?Wc(t,g,zt(a)):o!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+zt(v):t.removeAttribute("name")}function Cm(t,n,a,o,u,f,g,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+zt(a):"",n=n!=null?""+zt(n):a,v||n===t.value||(t.value=n),t.defaultValue=n}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=v?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function Wc(t,n,a){n==="number"&&Ol(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ks(t,n,a,o){if(t=t.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=n.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&o&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),n=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function Nm(t,n,a){if(n!=null&&(n=""+zt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+zt(a):""}function Rm(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Q(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=zt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Is(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var UE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Am(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||UE.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Om(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in n)o=n[u],n.hasOwnProperty(u)&&a[u]!==o&&Am(t,u,o)}else for(var f in n)n.hasOwnProperty(f)&&Am(t,f,n[f])}function Kc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),PE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kl(t){return PE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Qc=null;function Xc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ds=null,Ms=null;function km(t){var n=Rs(t);if(n&&(t=n.stateNode)){var a=t[St]||null;e:switch(t=n.stateNode,n.type){case"input":if($c(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var u=o[St]||null;if(!u)throw Error(r(90));$c(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Tm(o)}break e;case"textarea":Nm(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ks(t,!!a.multiple,n,!1)}}}var Zc=!1;function Im(t,n,a){if(Zc)return t(n,a);Zc=!0;try{var o=t(n);return o}finally{if(Zc=!1,(Ds!==null||Ms!==null)&&(po(),Ds&&(n=Ds,t=Ms,Ms=Ds=null,km(n),t)))for(n=0;n<t.length;n++)km(t[n])}}function Pr(t,n){var a=t.stateNode;if(a===null)return null;var o=a[St]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Jc=!1;if(wn)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){Jc=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{Jc=!1}var ni=null,eu=null,Il=null;function Dm(){if(Il)return Il;var t,n=eu,a=n.length,o,u="value"in ni?ni.value:ni.textContent,f=u.length;for(t=0;t<a&&n[t]===u[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===u[f-o];o++);return Il=u.slice(t,1<o?1-o:void 0)}function Dl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ml(){return!0}function Mm(){return!1}function wt(t){function n(a,o,u,f,g){this._reactName=a,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ml:Mm,this.isPropagationStopped=Mm,this}return le(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=wt(qi),Hr=le({},qi,{view:0,detail:0}),zE=wt(Hr),tu,nu,Br,Ul=le({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:su,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(tu=t.screenX-Br.screenX,nu=t.screenY-Br.screenY):nu=tu=0,Br=t),tu)},movementY:function(t){return"movementY"in t?t.movementY:nu}}),Lm=wt(Ul),HE=le({},Ul,{dataTransfer:0}),BE=wt(HE),qE=le({},Hr,{relatedTarget:0}),iu=wt(qE),FE=le({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),VE=wt(FE),GE=le({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YE=wt(GE),$E=le({},qi,{data:0}),Um=wt($E),WE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XE(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=QE[t])?!!n[t]:!1}function su(){return XE}var ZE=le({},Hr,{key:function(t){if(t.key){var n=WE[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Dl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:su,charCode:function(t){return t.type==="keypress"?Dl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JE=wt(ZE),e1=le({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jm=wt(e1),t1=le({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:su}),n1=wt(t1),i1=le({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),s1=wt(i1),r1=le({},Ul,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),a1=wt(r1),l1=le({},qi,{newState:0,oldState:0}),o1=wt(l1),c1=[9,13,27,32],ru=wn&&"CompositionEvent"in window,qr=null;wn&&"documentMode"in document&&(qr=document.documentMode);var u1=wn&&"TextEvent"in window&&!qr,Pm=wn&&(!ru||qr&&8<qr&&11>=qr),zm=" ",Hm=!1;function Bm(t,n){switch(t){case"keyup":return c1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ls=!1;function d1(t,n){switch(t){case"compositionend":return qm(n);case"keypress":return n.which!==32?null:(Hm=!0,zm);case"textInput":return t=n.data,t===zm&&Hm?null:t;default:return null}}function f1(t,n){if(Ls)return t==="compositionend"||!ru&&Bm(t,n)?(t=Dm(),Il=eu=ni=null,Ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Pm&&n.locale!=="ko"?null:n.data;default:return null}}var h1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!h1[t.type]:n==="textarea"}function Vm(t,n,a,o){Ds?Ms?Ms.push(o):Ms=[o]:Ds=o,n=bo(n,"onChange"),0<n.length&&(a=new Ll("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Fr=null,Vr=null;function m1(t){g_(t,0)}function jl(t){var n=jr(t);if(Tm(n))return t}function Gm(t,n){if(t==="change")return n}var Ym=!1;if(wn){var au;if(wn){var lu="oninput"in document;if(!lu){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),lu=typeof $m.oninput=="function"}au=lu}else au=!1;Ym=au&&(!document.documentMode||9<document.documentMode)}function Wm(){Fr&&(Fr.detachEvent("onpropertychange",Km),Vr=Fr=null)}function Km(t){if(t.propertyName==="value"&&jl(Vr)){var n=[];Vm(n,Vr,t,Xc(t)),Im(m1,n)}}function p1(t,n,a){t==="focusin"?(Wm(),Fr=n,Vr=a,Fr.attachEvent("onpropertychange",Km)):t==="focusout"&&Wm()}function g1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jl(Vr)}function _1(t,n){if(t==="click")return jl(n)}function y1(t,n){if(t==="input"||t==="change")return jl(n)}function v1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Dt=typeof Object.is=="function"?Object.is:v1;function Gr(t,n){if(Dt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var u=a[o];if(!Bc.call(n,u)||!Dt(t[u],n[u]))return!1}return!0}function Qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xm(t,n){var a=Qm(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qm(a)}}function Zm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Zm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Jm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ol(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ol(t.document)}return n}function ou(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function b1(t,n){var a=Jm(n);n=t.focusedElem;var o=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&Zm(n.ownerDocument.documentElement,n)){if(o!==null&&ou(n)){if(t=o.start,a=o.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var u=n.textContent.length,f=Math.min(o.start,u);o=o.end===void 0?f:Math.min(o.end,u),!a.extend&&f>o&&(u=o,o=f,f=u),u=Xm(n,f);var g=Xm(n,o);u&&g&&(a.rangeCount!==1||a.anchorNode!==u.node||a.anchorOffset!==u.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),a.removeAllRanges(),f>o?(a.addRange(t),a.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var E1=wn&&"documentMode"in document&&11>=document.documentMode,Us=null,cu=null,Yr=null,uu=!1;function ep(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uu||Us==null||Us!==Ol(o)||(o=Us,"selectionStart"in o&&ou(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yr&&Gr(Yr,o)||(Yr=o,o=bo(cu,"onSelect"),0<o.length&&(n=new Ll("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Us)))}function Fi(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var js={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionrun:Fi("Transition","TransitionRun"),transitionstart:Fi("Transition","TransitionStart"),transitioncancel:Fi("Transition","TransitionCancel"),transitionend:Fi("Transition","TransitionEnd")},du={},tp={};wn&&(tp=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Vi(t){if(du[t])return du[t];if(!js[t])return t;var n=js[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in tp)return du[t]=n[a];return t}var np=Vi("animationend"),ip=Vi("animationiteration"),sp=Vi("animationstart"),S1=Vi("transitionrun"),w1=Vi("transitionstart"),x1=Vi("transitioncancel"),rp=Vi("transitionend"),ap=new Map,lp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Jt(t,n){ap.set(t,n),Bi(n,[t])}var Bt=[],Ps=0,fu=0;function Pl(){for(var t=Ps,n=fu=Ps=0;n<t;){var a=Bt[n];Bt[n++]=null;var o=Bt[n];Bt[n++]=null;var u=Bt[n];Bt[n++]=null;var f=Bt[n];if(Bt[n++]=null,o!==null&&u!==null){var g=o.pending;g===null?u.next=u:(u.next=g.next,g.next=u),o.pending=u}f!==0&&op(a,u,f)}}function zl(t,n,a,o){Bt[Ps++]=t,Bt[Ps++]=n,Bt[Ps++]=a,Bt[Ps++]=o,fu|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function hu(t,n,a,o){return zl(t,n,a,o),Hl(t)}function ii(t,n){return zl(t,null,null,n),Hl(t)}function op(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var u=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;u&&n!==null&&t.tag===3&&(f=t.stateNode,u=31-It(a),f=f.hiddenUpdates,t=f[u],t===null?f[u]=[n]:t.push(n),n.lane=a|536870912)}function Hl(t){if(50<_a)throw _a=0,vd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var zs={},cp=new WeakMap;function qt(t,n){if(typeof t=="object"&&t!==null){var a=cp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ae(n)},cp.set(t,n),n)}return{value:t,source:n,stack:ae(n)}}var Hs=[],Bs=0,Bl=null,ql=0,Ft=[],Vt=0,Gi=null,Tn=1,Cn="";function Yi(t,n){Hs[Bs++]=ql,Hs[Bs++]=Bl,Bl=t,ql=n}function up(t,n,a){Ft[Vt++]=Tn,Ft[Vt++]=Cn,Ft[Vt++]=Gi,Gi=t;var o=Tn;t=Cn;var u=32-It(o)-1;o&=~(1<<u),a+=1;var f=32-It(n)+u;if(30<f){var g=u-u%5;f=(o&(1<<g)-1).toString(32),o>>=g,u-=g,Tn=1<<32-It(n)+u|a<<u|o,Cn=f+t}else Tn=1<<f|a<<u|o,Cn=t}function mu(t){t.return!==null&&(Yi(t,1),up(t,1,0))}function pu(t){for(;t===Bl;)Bl=Hs[--Bs],Hs[Bs]=null,ql=Hs[--Bs],Hs[Bs]=null;for(;t===Gi;)Gi=Ft[--Vt],Ft[Vt]=null,Cn=Ft[--Vt],Ft[Vt]=null,Tn=Ft[--Vt],Ft[Vt]=null}var _t=null,ot=null,Ee=!1,en=null,hn=!1,gu=Error(r(519));function $i(t){var n=Error(r(418,""));throw Kr(qt(n,t)),gu}function dp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[ht]=t,n[St]=o,a){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(a=0;a<va.length;a++)_e(va[a],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":_e("invalid",n),Cm(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Al(n);break;case"select":_e("invalid",n);break;case"textarea":_e("invalid",n),Rm(n,o.value,o.defaultValue,o.children),Al(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||b_(n.textContent,a)?(o.popover!=null&&(_e("beforetoggle",n),_e("toggle",n)),o.onScroll!=null&&_e("scroll",n),o.onScrollEnd!=null&&_e("scrollend",n),o.onClick!=null&&(n.onclick=Eo),n=!0):n=!1,n||$i(t)}function fp(t){for(_t=t.return;_t;)switch(_t.tag){case 3:case 27:hn=!0;return;case 5:case 13:hn=!1;return;default:_t=_t.return}}function $r(t){if(t!==_t)return!1;if(!Ee)return fp(t),Ee=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ud(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&ot&&$i(t),fp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){ot=nn(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}ot=null}}else ot=_t?nn(t.stateNode.nextSibling):null;return!0}function Wr(){ot=_t=null,Ee=!1}function Kr(t){en===null?en=[t]:en.push(t)}var Qr=Error(r(460)),hp=Error(r(474)),_u={then:function(){}};function mp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fl(){}function pp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Fl,Fl),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Qr?Error(r(483)):t;default:if(typeof n.status=="string")n.then(Fl,Fl);else{if(t=Oe,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=o}},function(o){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Qr?Error(r(483)):t}throw Xr=n,Qr}}var Xr=null;function gp(){if(Xr===null)throw Error(r(459));var t=Xr;return Xr=null,t}var qs=null,Zr=0;function Vl(t){var n=Zr;return Zr+=1,qs===null&&(qs=[]),pp(qs,t,n)}function Jr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gl(t,n){throw n.$$typeof===c?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function _p(t){var n=t._init;return n(t._payload)}function yp(t){function n(A,T){if(t){var O=A.deletions;O===null?(A.deletions=[T],A.flags|=16):O.push(T)}}function a(A,T){if(!t)return null;for(;T!==null;)n(A,T),T=T.sibling;return null}function o(A){for(var T=new Map;A!==null;)A.key!==null?T.set(A.key,A):T.set(A.index,A),A=A.sibling;return T}function u(A,T){return A=pi(A,T),A.index=0,A.sibling=null,A}function f(A,T,O){return A.index=O,t?(O=A.alternate,O!==null?(O=O.index,O<T?(A.flags|=33554434,T):O):(A.flags|=33554434,T)):(A.flags|=1048576,T)}function g(A){return t&&A.alternate===null&&(A.flags|=33554434),A}function v(A,T,O,H){return T===null||T.tag!==6?(T=dd(O,A.mode,H),T.return=A,T):(T=u(T,O),T.return=A,T)}function S(A,T,O,H){var K=O.type;return K===m?P(A,T,O.props.children,H,O.key):T!==null&&(T.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===j&&_p(K)===T.type)?(T=u(T,O.props),Jr(T,O),T.return=A,T):(T=co(O.type,O.key,O.props,null,A.mode,H),Jr(T,O),T.return=A,T)}function N(A,T,O,H){return T===null||T.tag!==4||T.stateNode.containerInfo!==O.containerInfo||T.stateNode.implementation!==O.implementation?(T=fd(O,A.mode,H),T.return=A,T):(T=u(T,O.children||[]),T.return=A,T)}function P(A,T,O,H,K){return T===null||T.tag!==7?(T=is(O,A.mode,H,K),T.return=A,T):(T=u(T,O),T.return=A,T)}function B(A,T,O){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=dd(""+T,A.mode,O),T.return=A,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case d:return O=co(T.type,T.key,T.props,null,A.mode,O),Jr(O,T),O.return=A,O;case h:return T=fd(T,A.mode,O),T.return=A,T;case j:var H=T._init;return T=H(T._payload),B(A,T,O)}if(Q(T)||Z(T))return T=is(T,A.mode,O,null),T.return=A,T;if(typeof T.then=="function")return B(A,Vl(T),O);if(T.$$typeof===x)return B(A,ao(A,T),O);Gl(A,T)}return null}function k(A,T,O,H){var K=T!==null?T.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return K!==null?null:v(A,T,""+O,H);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case d:return O.key===K?S(A,T,O,H):null;case h:return O.key===K?N(A,T,O,H):null;case j:return K=O._init,O=K(O._payload),k(A,T,O,H)}if(Q(O)||Z(O))return K!==null?null:P(A,T,O,H,null);if(typeof O.then=="function")return k(A,T,Vl(O),H);if(O.$$typeof===x)return k(A,T,ao(A,O),H);Gl(A,O)}return null}function U(A,T,O,H,K){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return A=A.get(O)||null,v(T,A,""+H,K);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case d:return A=A.get(H.key===null?O:H.key)||null,S(T,A,H,K);case h:return A=A.get(H.key===null?O:H.key)||null,N(T,A,H,K);case j:var fe=H._init;return H=fe(H._payload),U(A,T,O,H,K)}if(Q(H)||Z(H))return A=A.get(O)||null,P(T,A,H,K,null);if(typeof H.then=="function")return U(A,T,O,Vl(H),K);if(H.$$typeof===x)return U(A,T,O,ao(T,H),K);Gl(T,H)}return null}function X(A,T,O,H){for(var K=null,fe=null,J=T,te=T=0,it=null;J!==null&&te<O.length;te++){J.index>te?(it=J,J=null):it=J.sibling;var Se=k(A,J,O[te],H);if(Se===null){J===null&&(J=it);break}t&&J&&Se.alternate===null&&n(A,J),T=f(Se,T,te),fe===null?K=Se:fe.sibling=Se,fe=Se,J=it}if(te===O.length)return a(A,J),Ee&&Yi(A,te),K;if(J===null){for(;te<O.length;te++)J=B(A,O[te],H),J!==null&&(T=f(J,T,te),fe===null?K=J:fe.sibling=J,fe=J);return Ee&&Yi(A,te),K}for(J=o(J);te<O.length;te++)it=U(J,A,te,O[te],H),it!==null&&(t&&it.alternate!==null&&J.delete(it.key===null?te:it.key),T=f(it,T,te),fe===null?K=it:fe.sibling=it,fe=it);return t&&J.forEach(function(Si){return n(A,Si)}),Ee&&Yi(A,te),K}function oe(A,T,O,H){if(O==null)throw Error(r(151));for(var K=null,fe=null,J=T,te=T=0,it=null,Se=O.next();J!==null&&!Se.done;te++,Se=O.next()){J.index>te?(it=J,J=null):it=J.sibling;var Si=k(A,J,Se.value,H);if(Si===null){J===null&&(J=it);break}t&&J&&Si.alternate===null&&n(A,J),T=f(Si,T,te),fe===null?K=Si:fe.sibling=Si,fe=Si,J=it}if(Se.done)return a(A,J),Ee&&Yi(A,te),K;if(J===null){for(;!Se.done;te++,Se=O.next())Se=B(A,Se.value,H),Se!==null&&(T=f(Se,T,te),fe===null?K=Se:fe.sibling=Se,fe=Se);return Ee&&Yi(A,te),K}for(J=o(J);!Se.done;te++,Se=O.next())Se=U(J,A,te,Se.value,H),Se!==null&&(t&&Se.alternate!==null&&J.delete(Se.key===null?te:Se.key),T=f(Se,T,te),fe===null?K=Se:fe.sibling=Se,fe=Se);return t&&J.forEach(function(PS){return n(A,PS)}),Ee&&Yi(A,te),K}function He(A,T,O,H){if(typeof O=="object"&&O!==null&&O.type===m&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case d:e:{for(var K=O.key;T!==null;){if(T.key===K){if(K=O.type,K===m){if(T.tag===7){a(A,T.sibling),H=u(T,O.props.children),H.return=A,A=H;break e}}else if(T.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===j&&_p(K)===T.type){a(A,T.sibling),H=u(T,O.props),Jr(H,O),H.return=A,A=H;break e}a(A,T);break}else n(A,T);T=T.sibling}O.type===m?(H=is(O.props.children,A.mode,H,O.key),H.return=A,A=H):(H=co(O.type,O.key,O.props,null,A.mode,H),Jr(H,O),H.return=A,A=H)}return g(A);case h:e:{for(K=O.key;T!==null;){if(T.key===K)if(T.tag===4&&T.stateNode.containerInfo===O.containerInfo&&T.stateNode.implementation===O.implementation){a(A,T.sibling),H=u(T,O.children||[]),H.return=A,A=H;break e}else{a(A,T);break}else n(A,T);T=T.sibling}H=fd(O,A.mode,H),H.return=A,A=H}return g(A);case j:return K=O._init,O=K(O._payload),He(A,T,O,H)}if(Q(O))return X(A,T,O,H);if(Z(O)){if(K=Z(O),typeof K!="function")throw Error(r(150));return O=K.call(O),oe(A,T,O,H)}if(typeof O.then=="function")return He(A,T,Vl(O),H);if(O.$$typeof===x)return He(A,T,ao(A,O),H);Gl(A,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,T!==null&&T.tag===6?(a(A,T.sibling),H=u(T,O),H.return=A,A=H):(a(A,T),H=dd(O,A.mode,H),H.return=A,A=H),g(A)):a(A,T)}return function(A,T,O,H){try{Zr=0;var K=He(A,T,O,H);return qs=null,K}catch(J){if(J===Qr)throw J;var fe=Wt(29,J,null,A.mode);return fe.lanes=H,fe.return=A,fe}finally{}}}var Wi=yp(!0),vp=yp(!1),Fs=be(null),Yl=be(0);function bp(t,n){t=jn,Me(Yl,t),Me(Fs,n),jn=t|n.baseLanes}function yu(){Me(Yl,jn),Me(Fs,Fs.current)}function vu(){jn=Yl.current,$e(Fs),$e(Yl)}var Gt=be(null),mn=null;function si(t){var n=t.alternate;Me(Xe,Xe.current&1),Me(Gt,t),mn===null&&(n===null||Fs.current!==null||n.memoizedState!==null)&&(mn=t)}function Ep(t){if(t.tag===22){if(Me(Xe,Xe.current),Me(Gt,t),mn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(mn=t)}}else ri()}function ri(){Me(Xe,Xe.current),Me(Gt,Gt.current)}function Nn(t){$e(Gt),mn===t&&(mn=null),$e(Xe)}var Xe=be(0);function $l(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var T1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},C1=i.unstable_scheduleCallback,N1=i.unstable_NormalPriority,Ze={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bu(){return{controller:new T1,data:new Map,refCount:0}}function ea(t){t.refCount--,t.refCount===0&&C1(N1,function(){t.controller.abort()})}var ta=null,Eu=0,Vs=0,Gs=null;function R1(t,n){if(ta===null){var a=ta=[];Eu=0,Vs=Nd(),Gs={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Eu++,n.then(Sp,Sp),n}function Sp(){if(--Eu===0&&ta!==null){Gs!==null&&(Gs.status="fulfilled");var t=ta;ta=null,Vs=0,Gs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function A1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var u=0;u<a.length;u++)(0,a[u])(n)},function(u){for(o.status="rejected",o.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),o}var wp=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&R1(t,n),wp!==null&&wp(t,n)};var Ki=be(null);function Su(){var t=Ki.current;return t!==null?t:Oe.pooledCache}function Wl(t,n){n===null?Me(Ki,Ki.current):Me(Ki,n.pool)}function xp(){var t=Su();return t===null?null:{parent:Ze._currentValue,pool:t}}var ai=0,de=null,Te=null,We=null,Kl=!1,Ys=!1,Qi=!1,Ql=0,na=0,$s=null,O1=0;function Ve(){throw Error(r(321))}function wu(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Dt(t[a],n[a]))return!1;return!0}function xu(t,n,a,o,u,f){return ai=f,de=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Xi:li,Qi=!1,f=a(o,u),Qi=!1,Ys&&(f=Cp(n,a,o,u)),Tp(t),f}function Tp(t){G.H=pn;var n=Te!==null&&Te.next!==null;if(ai=0,We=Te=de=null,Kl=!1,na=0,$s=null,n)throw Error(r(300));t===null||tt||(t=t.dependencies,t!==null&&ro(t)&&(tt=!0))}function Cp(t,n,a,o){de=t;var u=0;do{if(Ys&&($s=null),na=0,Ys=!1,25<=u)throw Error(r(301));if(u+=1,We=Te=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Zi,f=n(a,o)}while(Ys);return f}function k1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?ia(n):n,t=t.useState()[0],(Te!==null?Te.memoizedState:null)!==t&&(de.flags|=1024),n}function Tu(){var t=Ql!==0;return Ql=0,t}function Cu(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Nu(t){if(Kl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Kl=!1}ai=0,We=Te=de=null,Ys=!1,na=Ql=0,$s=null}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?de.memoizedState=We=t:We=We.next=t,We}function Ke(){if(Te===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var n=We===null?de.memoizedState:We.next;if(n!==null)We=n,Te=t;else{if(t===null)throw de.alternate===null?Error(r(467)):Error(r(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},We===null?de.memoizedState=We=t:We=We.next=t}return We}var Xl;Xl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ia(t){var n=na;return na+=1,$s===null&&($s=[]),t=pp($s,t,n),n=de,(We===null?n.memoizedState:We.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Xi:li),t}function Zl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ia(t);if(t.$$typeof===x)return mt(t)}throw Error(r(438,String(t)))}function Ru(t){var n=null,a=de.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=de.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Xl(),de.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function Rn(t,n){return typeof n=="function"?n(t):n}function Jl(t){var n=Ke();return Au(n,Te,t)}function Au(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var u=t.baseQueue,f=o.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,o.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var v=g=null,S=null,N=n,P=!1;do{var B=N.lane&-536870913;if(B!==N.lane?(ye&B)===B:(ai&B)===B){var k=N.revertLane;if(k===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),B===Vs&&(P=!0);else if((ai&k)===k){N=N.next,k===Vs&&(P=!0);continue}else B={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(v=S=B,g=f):S=S.next=B,de.lanes|=k,gi|=k;B=N.action,Qi&&a(f,B),f=N.hasEagerState?N.eagerState:a(f,B)}else k={lane:B,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(v=S=k,g=f):S=S.next=k,de.lanes|=B,gi|=B;N=N.next}while(N!==null&&N!==n);if(S===null?g=f:S.next=v,!Dt(f,t.memoizedState)&&(tt=!0,P&&(a=Gs,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=S,o.lastRenderedState=f}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Ou(t){var n=Ke(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,u=a.pending,f=n.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);Dt(f,n.memoizedState)||(tt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Np(t,n,a){var o=de,u=Ke(),f=Ee;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Dt((Te||u).memoizedState,a);if(g&&(u.memoizedState=a,tt=!0),u=u.queue,Du(Op.bind(null,o,u,t),[t]),u.getSnapshot!==n||g||We!==null&&We.memoizedState.tag&1){if(o.flags|=2048,Ws(9,Ap.bind(null,o,u,a,n),{destroy:void 0},null),Oe===null)throw Error(r(349));f||ai&60||Rp(o,n,a)}return a}function Rp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=de.updateQueue,n===null?(n=Xl(),de.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ap(t,n,a,o){n.value=a,n.getSnapshot=o,kp(n)&&Ip(t)}function Op(t,n,a){return a(function(){kp(n)&&Ip(t)})}function kp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Dt(t,a)}catch{return!0}}function Ip(t){var n=ii(t,2);n!==null&&yt(n,t,2)}function ku(t){var n=xt();if(typeof t=="function"){var a=t;if(t=a(),Qi){ei(!0);try{a()}finally{ei(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:t},n}function Dp(t,n,a,o){return t.baseState=a,Au(t,Te,typeof o=="function"?o:Rn)}function I1(t,n,a,o,u){if(no(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Mp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Mp(t,n){var a=n.action,o=n.payload,u=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var v=a(u,o),S=G.S;S!==null&&S(g,v),Lp(t,n,v)}catch(N){Iu(t,n,N)}finally{G.T=f}}else try{f=a(u,o),Lp(t,n,f)}catch(N){Iu(t,n,N)}}function Lp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Up(t,n,o)},function(o){return Iu(t,n,o)}):Up(t,n,a)}function Up(t,n,a){n.status="fulfilled",n.value=a,jp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Mp(t,a)))}function Iu(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,jp(n),n=n.next;while(n!==o)}t.action=null}function jp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Pp(t,n){return n}function zp(t,n){if(Ee){var a=Oe.formState;if(a!==null){e:{var o=de;if(Ee){if(ot){t:{for(var u=ot,f=hn;u.nodeType!==8;){if(!f){u=null;break t}if(u=nn(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){ot=nn(u.nextSibling),o=u.data==="F!";break e}}$i(o)}o=!1}o&&(n=a[0])}}return a=xt(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pp,lastRenderedState:n},a.queue=o,a=ig.bind(null,de,o),o.dispatch=a,o=ku(!1),f=Pu.bind(null,de,!1,o.queue),o=xt(),u={state:n,dispatch:null,action:t,pending:null},o.queue=u,a=I1.bind(null,de,u,f,a),u.dispatch=a,o.memoizedState=t,[n,a,!1]}function Hp(t){var n=Ke();return Bp(n,Te,t)}function Bp(t,n,a){n=Au(t,n,Pp)[0],t=Jl(Rn)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?ia(n):n;var o=Ke(),u=o.queue,f=u.dispatch;return a!==o.memoizedState&&(de.flags|=2048,Ws(9,D1.bind(null,u,a),{destroy:void 0},null)),[n,f,t]}function D1(t,n){t.action=n}function qp(t){var n=Ke(),a=Te;if(a!==null)return Bp(n,a,t);Ke(),n=n.memoizedState,a=Ke();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ws(t,n,a,o){return t={tag:t,create:n,inst:a,deps:o,next:null},n=de.updateQueue,n===null&&(n=Xl(),de.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Fp(){return Ke().memoizedState}function eo(t,n,a,o){var u=xt();de.flags|=t,u.memoizedState=Ws(1|n,a,{destroy:void 0},o===void 0?null:o)}function to(t,n,a,o){var u=Ke();o=o===void 0?null:o;var f=u.memoizedState.inst;Te!==null&&o!==null&&wu(o,Te.memoizedState.deps)?u.memoizedState=Ws(n,a,f,o):(de.flags|=t,u.memoizedState=Ws(1|n,a,f,o))}function Vp(t,n){eo(8390656,8,t,n)}function Du(t,n){to(2048,8,t,n)}function Gp(t,n){return to(4,2,t,n)}function Yp(t,n){return to(4,4,t,n)}function $p(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Wp(t,n,a){a=a!=null?a.concat([t]):null,to(4,4,$p.bind(null,n,t),a)}function Mu(){}function Kp(t,n){var a=Ke();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&wu(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Qp(t,n){var a=Ke();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&wu(n,o[1]))return o[0];if(o=t(),Qi){ei(!0);try{t()}finally{ei(!1)}}return a.memoizedState=[o,n],o}function Lu(t,n,a){return a===void 0||ai&1073741824?t.memoizedState=n:(t.memoizedState=a,t=Zg(),de.lanes|=t,gi|=t,a)}function Xp(t,n,a,o){return Dt(a,n)?a:Fs.current!==null?(t=Lu(t,a,o),Dt(t,n)||(tt=!0),t):ai&42?(t=Zg(),de.lanes|=t,gi|=t,n):(tt=!0,t.memoizedState=a)}function Zp(t,n,a,o,u){var f=q.p;q.p=f!==0&&8>f?f:8;var g=G.T,v={};G.T=v,Pu(t,!1,n,a);try{var S=u(),N=G.S;if(N!==null&&N(v,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=A1(S,o);sa(t,n,P,jt(t))}else sa(t,n,o,jt(t))}catch(B){sa(t,n,{then:function(){},status:"rejected",reason:B},jt())}finally{q.p=f,G.T=g}}function M1(){}function Uu(t,n,a,o){if(t.tag!==5)throw Error(r(476));var u=Jp(t).queue;Zp(t,u,n,ne,a===null?M1:function(){return eg(t),a(o)})}function Jp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:ne},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function eg(t){var n=Jp(t).next.queue;sa(t,n,{},jt())}function ju(){return mt(xa)}function tg(){return Ke().memoizedState}function ng(){return Ke().memoizedState}function L1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=jt();t=ui(a);var o=di(n,t,a);o!==null&&(yt(o,n,a),la(o,n,a)),n={cache:bu()},t.payload=n;return}n=n.return}}function U1(t,n,a){var o=jt();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},no(t)?sg(n,a):(a=hu(t,n,a,o),a!==null&&(yt(a,t,o),rg(a,n,o)))}function ig(t,n,a){var o=jt();sa(t,n,a,o)}function sa(t,n,a,o){var u={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(no(t))sg(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,v=f(g,a);if(u.hasEagerState=!0,u.eagerState=v,Dt(v,g))return zl(t,n,u,0),Oe===null&&Pl(),!1}catch{}finally{}if(a=hu(t,n,u,o),a!==null)return yt(a,t,o),rg(a,n,o),!0}return!1}function Pu(t,n,a,o){if(o={lane:2,revertLane:Nd(),action:o,hasEagerState:!1,eagerState:null,next:null},no(t)){if(n)throw Error(r(479))}else n=hu(t,a,o,2),n!==null&&yt(n,t,2)}function no(t){var n=t.alternate;return t===de||n!==null&&n===de}function sg(t,n){Ys=Kl=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function rg(t,n,a){if(a&4194176){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,gm(t,a)}}var pn={readContext:mt,use:Zl,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve};pn.useCacheRefresh=Ve,pn.useMemoCache=Ve,pn.useHostTransitionStatus=Ve,pn.useFormState=Ve,pn.useActionState=Ve,pn.useOptimistic=Ve;var Xi={readContext:mt,use:Zl,useCallback:function(t,n){return xt().memoizedState=[t,n===void 0?null:n],t},useContext:mt,useEffect:Vp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,eo(4194308,4,$p.bind(null,n,t),a)},useLayoutEffect:function(t,n){return eo(4194308,4,t,n)},useInsertionEffect:function(t,n){eo(4,2,t,n)},useMemo:function(t,n){var a=xt();n=n===void 0?null:n;var o=t();if(Qi){ei(!0);try{t()}finally{ei(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=xt();if(a!==void 0){var u=a(n);if(Qi){ei(!0);try{a(n)}finally{ei(!1)}}}else u=n;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=U1.bind(null,de,t),[o.memoizedState,t]},useRef:function(t){var n=xt();return t={current:t},n.memoizedState=t},useState:function(t){t=ku(t);var n=t.queue,a=ig.bind(null,de,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Mu,useDeferredValue:function(t,n){var a=xt();return Lu(a,t,n)},useTransition:function(){var t=ku(!1);return t=Zp.bind(null,de,t.queue,!0,!1),xt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=de,u=xt();if(Ee){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Oe===null)throw Error(r(349));ye&60||Rp(o,n,a)}u.memoizedState=a;var f={value:a,getSnapshot:n};return u.queue=f,Vp(Op.bind(null,o,f,t),[t]),o.flags|=2048,Ws(9,Ap.bind(null,o,f,a,n),{destroy:void 0},null),a},useId:function(){var t=xt(),n=Oe.identifierPrefix;if(Ee){var a=Cn,o=Tn;a=(o&~(1<<32-It(o)-1)).toString(32)+a,n=":"+n+"R"+a,a=Ql++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=O1++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return xt().memoizedState=L1.bind(null,de)}};Xi.useMemoCache=Ru,Xi.useHostTransitionStatus=ju,Xi.useFormState=zp,Xi.useActionState=zp,Xi.useOptimistic=function(t){var n=xt();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Pu.bind(null,de,!0,a),a.dispatch=n,[t,n]};var li={readContext:mt,use:Zl,useCallback:Kp,useContext:mt,useEffect:Du,useImperativeHandle:Wp,useInsertionEffect:Gp,useLayoutEffect:Yp,useMemo:Qp,useReducer:Jl,useRef:Fp,useState:function(){return Jl(Rn)},useDebugValue:Mu,useDeferredValue:function(t,n){var a=Ke();return Xp(a,Te.memoizedState,t,n)},useTransition:function(){var t=Jl(Rn)[0],n=Ke().memoizedState;return[typeof t=="boolean"?t:ia(t),n]},useSyncExternalStore:Np,useId:tg};li.useCacheRefresh=ng,li.useMemoCache=Ru,li.useHostTransitionStatus=ju,li.useFormState=Hp,li.useActionState=Hp,li.useOptimistic=function(t,n){var a=Ke();return Dp(a,Te,t,n)};var Zi={readContext:mt,use:Zl,useCallback:Kp,useContext:mt,useEffect:Du,useImperativeHandle:Wp,useInsertionEffect:Gp,useLayoutEffect:Yp,useMemo:Qp,useReducer:Ou,useRef:Fp,useState:function(){return Ou(Rn)},useDebugValue:Mu,useDeferredValue:function(t,n){var a=Ke();return Te===null?Lu(a,t,n):Xp(a,Te.memoizedState,t,n)},useTransition:function(){var t=Ou(Rn)[0],n=Ke().memoizedState;return[typeof t=="boolean"?t:ia(t),n]},useSyncExternalStore:Np,useId:tg};Zi.useCacheRefresh=ng,Zi.useMemoCache=Ru,Zi.useHostTransitionStatus=ju,Zi.useFormState=qp,Zi.useActionState=qp,Zi.useOptimistic=function(t,n){var a=Ke();return Te!==null?Dp(a,Te,t,n):(a.baseState=t,[t,a.queue.dispatch])};function zu(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:le({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hu={isMounted:function(t){return(t=t._reactInternals)?ee(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var o=jt(),u=ui(o);u.payload=n,a!=null&&(u.callback=a),n=di(t,u,o),n!==null&&(yt(n,t,o),la(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=jt(),u=ui(o);u.tag=1,u.payload=n,a!=null&&(u.callback=a),n=di(t,u,o),n!==null&&(yt(n,t,o),la(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=jt(),o=ui(a);o.tag=2,n!=null&&(o.callback=n),n=di(t,o,a),n!==null&&(yt(n,t,a),la(n,t,a))}};function ag(t,n,a,o,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Gr(a,o)||!Gr(u,f):!0}function lg(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Hu.enqueueReplaceState(n,n.state,null)}function Ji(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=le({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}var io=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function og(t){io(t)}function cg(t){console.error(t)}function ug(t){io(t)}function so(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function dg(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Bu(t,n,a){return a=ui(a),a.tag=3,a.payload={element:null},a.callback=function(){so(t,n)},a}function fg(t){return t=ui(t),t.tag=3,t}function hg(t,n,a,o){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;t.payload=function(){return u(f)},t.callback=function(){dg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){dg(n,a,o),typeof u!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function j1(t,n,a,o,u){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&aa(n,a,u,!0),a=Gt.current,a!==null){switch(a.tag){case 13:return mn===null?Sd():a.alternate===null&&ze===0&&(ze=3),a.flags&=-257,a.flags|=65536,a.lanes=u,o===_u?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),xd(t,o,u)),!1;case 22:return a.flags|=65536,o===_u?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),xd(t,o,u)),!1}throw Error(r(435,a.tag))}return xd(t,o,u),Sd(),!1}if(Ee)return n=Gt.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=u,o!==gu&&(t=Error(r(422),{cause:o}),Kr(qt(t,a)))):(o!==gu&&(n=Error(r(423),{cause:o}),Kr(qt(n,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=qt(o,a),u=Bu(t.stateNode,o,u),nd(t,u),ze!==4&&(ze=2)),!1;var f=Error(r(520),{cause:o});if(f=qt(f,a),pa===null?pa=[f]:pa.push(f),ze!==4&&(ze=2),n===null)return!0;o=qt(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=Bu(a.stateNode,o,t),nd(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_i===null||!_i.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=fg(u),hg(u,t,a,o),nd(a,u),!1}a=a.return}while(a!==null);return!1}var mg=Error(r(461)),tt=!1;function ct(t,n,a,o){n.child=t===null?vp(n,null,a,o):Wi(n,t.child,a,o)}function pg(t,n,a,o,u){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return ts(n),o=xu(t,n,a,g,f,u),v=Tu(),t!==null&&!tt?(Cu(t,n,u),An(t,n,u)):(Ee&&v&&mu(n),n.flags|=1,ct(t,n,o,u),n.child)}function gg(t,n,a,o,u){if(t===null){var f=a.type;return typeof f=="function"&&!ud(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,_g(t,n,f,o,u)):(t=co(a.type,null,o,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Qu(t,u)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Gr,a(g,o)&&t.ref===n.ref)return An(t,n,u)}return n.flags|=1,t=pi(f,o),t.ref=n.ref,t.return=n,n.child=t}function _g(t,n,a,o,u){if(t!==null){var f=t.memoizedProps;if(Gr(f,o)&&t.ref===n.ref)if(tt=!1,n.pendingProps=o=f,Qu(t,u))t.flags&131072&&(tt=!0);else return n.lanes=t.lanes,An(t,n,u)}return qu(t,n,a,o,u)}function yg(t,n,a){var o=n.pendingProps,u=o.children,f=(n.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(ra(t,n),o.mode==="hidden"||f){if(n.flags&128){if(o=g!==null?g.baseLanes|a:a,t!==null){for(u=n.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return vg(t,n,o,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wl(n,g!==null?g.cachePool:null),g!==null?bp(n,g):yu(),Ep(n);else return n.lanes=n.childLanes=536870912,vg(t,n,g!==null?g.baseLanes|a:a,a)}else g!==null?(Wl(n,g.cachePool),bp(n,g),ri(),n.memoizedState=null):(t!==null&&Wl(n,null),yu(),ri());return ct(t,n,u,a),n.child}function vg(t,n,a,o){var u=Su();return u=u===null?null:{parent:Ze._currentValue,pool:u},n.memoizedState={baseLanes:a,cachePool:u},t!==null&&Wl(n,null),yu(),Ep(n),t!==null&&aa(t,n,o,!0),null}function ra(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function qu(t,n,a,o,u){return ts(n),a=xu(t,n,a,o,void 0,u),o=Tu(),t!==null&&!tt?(Cu(t,n,u),An(t,n,u)):(Ee&&o&&mu(n),n.flags|=1,ct(t,n,a,u),n.child)}function bg(t,n,a,o,u,f){return ts(n),n.updateQueue=null,a=Cp(n,o,a,u),Tp(t),o=Tu(),t!==null&&!tt?(Cu(t,n,f),An(t,n,f)):(Ee&&o&&mu(n),n.flags|=1,ct(t,n,a,f),n.child)}function Eg(t,n,a,o,u){if(ts(n),n.stateNode===null){var f=zs,g=a.contextType;typeof g=="object"&&g!==null&&(f=mt(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hu,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ed(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?mt(g):zs,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(zu(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Hu.enqueueReplaceState(f,f.state,null),ca(n,o,f,u),oa(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var v=n.memoizedProps,S=Ji(a,v);f.props=S;var N=f.context,P=a.contextType;g=zs,typeof P=="object"&&P!==null&&(g=mt(P));var B=a.getDerivedStateFromProps;P=typeof B=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,P||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||N!==g)&&lg(n,f,o,g),ci=!1;var k=n.memoizedState;f.state=k,ca(n,o,f,u),oa(),N=n.memoizedState,v||k!==N||ci?(typeof B=="function"&&(zu(n,a,B,o),N=n.memoizedState),(S=ci||ag(n,a,S,o,k,N,g))?(P||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=N),f.props=o,f.state=N,f.context=g,o=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,td(t,n),g=n.memoizedProps,P=Ji(a,g),f.props=P,B=n.pendingProps,k=f.context,N=a.contextType,S=zs,typeof N=="object"&&N!==null&&(S=mt(N)),v=a.getDerivedStateFromProps,(N=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==B||k!==S)&&lg(n,f,o,S),ci=!1,k=n.memoizedState,f.state=k,ca(n,o,f,u),oa();var U=n.memoizedState;g!==B||k!==U||ci||t!==null&&t.dependencies!==null&&ro(t.dependencies)?(typeof v=="function"&&(zu(n,a,v,o),U=n.memoizedState),(P=ci||ag(n,a,P,o,k,U,S)||t!==null&&t.dependencies!==null&&ro(t.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,U,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,U,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=S,o=P):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ra(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Wi(n,t.child,null,u),n.child=Wi(n,null,a,u)):ct(t,n,a,u),n.memoizedState=f.state,t=n.child):t=An(t,n,u),t}function Sg(t,n,a,o){return Wr(),n.flags|=256,ct(t,n,a,o),n.child}var Fu={dehydrated:null,treeContext:null,retryLane:0};function Vu(t){return{baseLanes:t,cachePool:xp()}}function Gu(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Kt),t}function wg(t,n,a){var o=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Xe.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ee){if(u?si(n):ri(),Ee){var v=ot,S;if(S=v){e:{for(S=v,v=hn;S.nodeType!==8;){if(!v){v=null;break e}if(S=nn(S.nextSibling),S===null){v=null;break e}}v=S}v!==null?(n.memoizedState={dehydrated:v,treeContext:Gi!==null?{id:Tn,overflow:Cn}:null,retryLane:536870912},S=Wt(18,null,null,0),S.stateNode=v,S.return=n,n.child=S,_t=n,ot=null,S=!0):S=!1}S||$i(n)}if(v=n.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return v.data==="$!"?n.lanes=16:n.lanes=536870912,null;Nn(n)}return v=o.children,o=o.fallback,u?(ri(),u=n.mode,v=$u({mode:"hidden",children:v},u),o=is(o,u,a,null),v.return=n,o.return=n,v.sibling=o,n.child=v,u=n.child,u.memoizedState=Vu(a),u.childLanes=Gu(t,g,a),n.memoizedState=Fu,o):(si(n),Yu(n,v))}if(S=t.memoizedState,S!==null&&(v=S.dehydrated,v!==null)){if(f)n.flags&256?(si(n),n.flags&=-257,n=Wu(t,n,a)):n.memoizedState!==null?(ri(),n.child=t.child,n.flags|=128,n=null):(ri(),u=o.fallback,v=n.mode,o=$u({mode:"visible",children:o.children},v),u=is(u,v,a,null),u.flags|=2,o.return=n,u.return=n,o.sibling=u,n.child=o,Wi(n,t.child,null,a),o=n.child,o.memoizedState=Vu(a),o.childLanes=Gu(t,g,a),n.memoizedState=Fu,n=u);else if(si(n),v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var N=g.dgst;g=N,o=Error(r(419)),o.stack="",o.digest=g,Kr({value:o,source:null,stack:null}),n=Wu(t,n,a)}else if(tt||aa(t,n,a,!1),g=(a&t.childLanes)!==0,tt||g){if(g=Oe,g!==null){if(o=a&-a,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(g.suspendedLanes|a)?0:o,o!==0&&o!==S.retryLane)throw S.retryLane=o,ii(t,o),yt(g,t,o),mg}v.data==="$?"||Sd(),n=Wu(t,n,a)}else v.data==="$?"?(n.flags|=128,n.child=t.child,n=Z1.bind(null,t),v._reactRetry=n,n=null):(t=S.treeContext,ot=nn(v.nextSibling),_t=n,Ee=!0,en=null,hn=!1,t!==null&&(Ft[Vt++]=Tn,Ft[Vt++]=Cn,Ft[Vt++]=Gi,Tn=t.id,Cn=t.overflow,Gi=n),n=Yu(n,o.children),n.flags|=4096);return n}return u?(ri(),u=o.fallback,v=n.mode,S=t.child,N=S.sibling,o=pi(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&31457280,N!==null?u=pi(N,u):(u=is(u,v,a,null),u.flags|=2),u.return=n,o.return=n,o.sibling=u,n.child=o,o=u,u=n.child,v=t.child.memoizedState,v===null?v=Vu(a):(S=v.cachePool,S!==null?(N=Ze._currentValue,S=S.parent!==N?{parent:N,pool:N}:S):S=xp(),v={baseLanes:v.baseLanes|a,cachePool:S}),u.memoizedState=v,u.childLanes=Gu(t,g,a),n.memoizedState=Fu,o):(si(n),a=t.child,t=a.sibling,a=pi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Yu(t,n){return n=$u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $u(t,n){return Kg(t,n,0,null)}function Wu(t,n,a){return Wi(n,t.child,null,a),t=Yu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function xg(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Zu(t.return,n,a)}function Ku(t,n,a,o,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=u)}function Tg(t,n,a){var o=n.pendingProps,u=o.revealOrder,f=o.tail;if(ct(t,n,o.children,a),o=Xe.current,o&2)o=o&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xg(t,a,n);else if(t.tag===19)xg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Me(Xe,o),u){case"forwards":for(a=n.child,u=null;a!==null;)t=a.alternate,t!==null&&$l(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),Ku(n,!1,u,a,f);break;case"backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&$l(t)===null){n.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}Ku(n,!0,a,null,f);break;case"together":Ku(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function An(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),gi|=n.lanes,!(a&n.childLanes))if(t!==null){if(aa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=pi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=pi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Qu(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&ro(t)))}function P1(t,n,a){switch(n.tag){case 3:El(n,n.stateNode.containerInfo),oi(n,Ze,t.memoizedState.cache),Wr();break;case 27:case 5:Hc(n);break;case 4:El(n,n.stateNode.containerInfo);break;case 10:oi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(si(n),n.flags|=128,null):a&n.child.childLanes?wg(t,n,a):(si(n),t=An(t,n,a),t!==null?t.sibling:null);si(n);break;case 19:var u=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(aa(t,n,a,!1),o=(a&n.childLanes)!==0),u){if(o)return Tg(t,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Me(Xe,Xe.current),o)break;return null;case 22:case 23:return n.lanes=0,yg(t,n,a);case 24:oi(n,Ze,t.memoizedState.cache)}return An(t,n,a)}function Cg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)tt=!0;else{if(!Qu(t,a)&&!(n.flags&128))return tt=!1,P1(t,n,a);tt=!!(t.flags&131072)}else tt=!1,Ee&&n.flags&1048576&&up(n,ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var o=n.elementType,u=o._init;if(o=u(o._payload),n.type=o,typeof o=="function")ud(o)?(t=Ji(o,t),n.tag=1,n=Eg(null,n,o,t,a)):(n.tag=0,n=qu(null,n,o,t,a));else{if(o!=null){if(u=o.$$typeof,u===C){n.tag=11,n=pg(null,n,o,t,a);break e}else if(u===L){n.tag=14,n=gg(null,n,o,t,a);break e}}throw n=ve(o)||o,Error(r(306,n,""))}}return n;case 0:return qu(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,u=Ji(o,n.pendingProps),Eg(t,n,o,u,a);case 3:e:{if(El(n,n.stateNode.containerInfo),t===null)throw Error(r(387));var f=n.pendingProps;u=n.memoizedState,o=u.element,td(t,n),ca(n,f,null,a);var g=n.memoizedState;if(f=g.cache,oi(n,Ze,f),f!==u.cache&&Ju(n,[Ze],a,!0),oa(),f=g.element,u.isDehydrated)if(u={element:f,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){n=Sg(t,n,f,a);break e}else if(f!==o){o=qt(Error(r(424)),n),Kr(o),n=Sg(t,n,f,a);break e}else for(ot=nn(n.stateNode.containerInfo.firstChild),_t=n,Ee=!0,en=null,hn=!0,a=vp(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Wr(),f===o){n=An(t,n,a);break e}ct(t,n,f,a)}n=n.child}return n;case 26:return ra(t,n),t===null?(a=A_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ee||(a=n.type,t=n.pendingProps,o=So(Jn.current).createElement(a),o[ht]=n,o[St]=t,ut(o,a,t),et(o),n.stateNode=o):n.memoizedState=A_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Hc(n),t===null&&Ee&&(o=n.stateNode=C_(n.type,n.pendingProps,Jn.current),_t=n,hn=!0,ot=nn(o.firstChild)),o=n.pendingProps.children,t!==null||Ee?ct(t,n,o,a):n.child=Wi(n,null,o,a),ra(t,n),n.child;case 5:return t===null&&Ee&&((u=o=ot)&&(o=mS(o,n.type,n.pendingProps,hn),o!==null?(n.stateNode=o,_t=n,ot=nn(o.firstChild),hn=!1,u=!0):u=!1),u||$i(n)),Hc(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Ud(u,f)?o=null:g!==null&&Ud(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=xu(t,n,k1,null,null,a),xa._currentValue=u),ra(t,n),ct(t,n,o,a),n.child;case 6:return t===null&&Ee&&((t=a=ot)&&(a=pS(a,n.pendingProps,hn),a!==null?(n.stateNode=a,_t=n,ot=null,t=!0):t=!1),t||$i(n)),null;case 13:return wg(t,n,a);case 4:return El(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Wi(n,null,o,a):ct(t,n,o,a),n.child;case 11:return pg(t,n,n.type,n.pendingProps,a);case 7:return ct(t,n,n.pendingProps,a),n.child;case 8:return ct(t,n,n.pendingProps.children,a),n.child;case 12:return ct(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,oi(n,n.type,o.value),ct(t,n,o.children,a),n.child;case 9:return u=n.type._context,o=n.pendingProps.children,ts(n),u=mt(u),o=o(u),n.flags|=1,ct(t,n,o,a),n.child;case 14:return gg(t,n,n.type,n.pendingProps,a);case 15:return _g(t,n,n.type,n.pendingProps,a);case 19:return Tg(t,n,a);case 22:return yg(t,n,a);case 24:return ts(n),o=mt(Ze),t===null?(u=Su(),u===null&&(u=Oe,f=bu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),n.memoizedState={parent:o,cache:u},ed(n),oi(n,Ze,u)):(t.lanes&a&&(td(t,n),ca(n,null,null,a),oa()),u=t.memoizedState,f=n.memoizedState,u.parent!==o?(u={parent:o,cache:o},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),oi(n,Ze,o)):(o=f.cache,oi(n,Ze,o),o!==u.cache&&Ju(n,[Ze],a,!0))),ct(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}var Xu=be(null),es=null,On=null;function oi(t,n,a){Me(Xu,n._currentValue),n._currentValue=a}function kn(t){t._currentValue=Xu.current,$e(Xu)}function Zu(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Ju(t,n,a,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=u;for(var S=0;S<n.length;S++)if(v.context===n[S]){f.lanes|=a,v=f.alternate,v!==null&&(v.lanes|=a),Zu(f.return,a,t),o||(g=null);break e}f=v.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Zu(g,a,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function aa(t,n,a,o){t=null;for(var u=n,f=!1;u!==null;){if(!f){if(u.flags&524288)f=!0;else if(u.flags&262144)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var v=u.type;Dt(u.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(u===bl.current){if(g=u.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(xa):t=[xa])}u=u.return}t!==null&&Ju(n,t,a,o),n.flags|=262144}function ro(t){for(t=t.firstContext;t!==null;){if(!Dt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ts(t){es=t,On=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mt(t){return Ng(es,t)}function ao(t,n){return es===null&&ts(t),Ng(t,n)}function Ng(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},On===null){if(t===null)throw Error(r(308));On=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else On=On.next=n;return a}var ci=!1;function ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function di(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,Ue&2){var u=o.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),o.pending=n,n=Hl(t),op(t,null,a),n}return zl(t,o,n,a),Hl(t)}function la(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,gm(t,a)}}function nd(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?u=f=n:f=f.next=n}else u=f=n;a={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var id=!1;function oa(){if(id){var t=Gs;if(t!==null)throw t}}function ca(t,n,a,o){id=!1;var u=t.updateQueue;ci=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var S=v,N=S.next;S.next=null,g===null?f=N:g.next=N,g=S;var P=t.alternate;P!==null&&(P=P.updateQueue,v=P.lastBaseUpdate,v!==g&&(v===null?P.firstBaseUpdate=N:v.next=N,P.lastBaseUpdate=S))}if(f!==null){var B=u.baseState;g=0,P=N=S=null,v=f;do{var k=v.lane&-536870913,U=k!==v.lane;if(U?(ye&k)===k:(o&k)===k){k!==0&&k===Vs&&(id=!0),P!==null&&(P=P.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var X=t,oe=v;k=n;var He=a;switch(oe.tag){case 1:if(X=oe.payload,typeof X=="function"){B=X.call(He,B,k);break e}B=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=oe.payload,k=typeof X=="function"?X.call(He,B,k):X,k==null)break e;B=le({},B,k);break e;case 2:ci=!0}}k=v.callback,k!==null&&(t.flags|=64,U&&(t.flags|=8192),U=u.callbacks,U===null?u.callbacks=[k]:U.push(k))}else U={lane:k,tag:v.tag,payload:v.payload,callback:v.callback,next:null},P===null?(N=P=U,S=B):P=P.next=U,g|=k;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;U=v,v=U.next,U.next=null,u.lastBaseUpdate=U,u.shared.pending=null}}while(!0);P===null&&(S=B),u.baseState=S,u.firstBaseUpdate=N,u.lastBaseUpdate=P,f===null&&(u.shared.lanes=0),gi|=g,t.lanes=g,t.memoizedState=B}}function Rg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Ag(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Rg(a[t],n)}function ua(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var u=o.next;a=u;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==u)}}catch(v){Re(n,n.return,v)}}function fi(t,n,a){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,u=n;var S=a;try{v()}catch(N){Re(u,S,N)}}}o=o.next}while(o!==f)}}catch(N){Re(n,n.return,N)}}function Og(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ag(n,a)}catch(o){Re(t,t.return,o)}}}function kg(t,n,a){a.props=Ji(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Re(t,n,o)}}function ns(t,n){try{var a=t.ref;if(a!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var u=o;break;default:u=o}typeof a=="function"?t.refCleanup=a(u):a.current=u}}catch(f){Re(t,n,f)}}function Mt(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(u){Re(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Re(t,n,u)}else a.current=null}function Ig(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(u){Re(t,t.return,u)}}function Dg(t,n,a){try{var o=t.stateNode;cS(o,t.type,a,n),o[St]=n}catch(u){Re(t,t.return,u)}}function Mg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Eo));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(rd(t,n,a),t=t.sibling;t!==null;)rd(t,n,a),t=t.sibling}function lo(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(lo(t,n,a),t=t.sibling;t!==null;)lo(t,n,a),t=t.sibling}var In=!1,Pe=!1,ad=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,nt=null,Ug=!1;function z1(t,n){if(t=t.containerInfo,Md=Ro,t=Jm(t),ou(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,v=-1,S=-1,N=0,P=0,B=t,k=null;t:for(;;){for(var U;B!==a||u!==0&&B.nodeType!==3||(v=g+u),B!==f||o!==0&&B.nodeType!==3||(S=g+o),B.nodeType===3&&(g+=B.nodeValue.length),(U=B.firstChild)!==null;)k=B,B=U;for(;;){if(B===t)break t;if(k===a&&++N===u&&(v=g),k===f&&++P===o&&(S=g),(U=B.nextSibling)!==null)break;B=k,k=B.parentNode}B=U}a=v===-1||S===-1?null:{start:v,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ld={focusedElem:t,selectionRange:a},Ro=!1,nt=n;nt!==null;)if(n=nt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,nt=t;else for(;nt!==null;){switch(n=nt,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,a=n,u=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var X=Ji(a.type,u,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(X,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(oe){Re(a,a.return,oe)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,nt=t;break}nt=n.return}return X=Ug,Ug=!1,X}function jg(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Mn(t,a),o&4&&ua(5,a);break;case 1:if(Mn(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Re(a,a.return,v)}else{var u=Ji(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Re(a,a.return,v)}}o&64&&Og(a),o&512&&ns(a,a.return);break;case 3:if(Mn(t,a),o&64&&(o=a.updateQueue,o!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ag(o,t)}catch(v){Re(a,a.return,v)}}break;case 26:Mn(t,a),o&512&&ns(a,a.return);break;case 27:case 5:Mn(t,a),n===null&&o&4&&Ig(a),o&512&&ns(a,a.return);break;case 12:Mn(t,a);break;case 13:Mn(t,a),o&4&&Hg(t,a);break;case 22:if(u=a.memoizedState!==null||In,!u){n=n!==null&&n.memoizedState!==null||Pe;var f=In,g=Pe;In=u,(Pe=n)&&!g?hi(t,a,(a.subtreeFlags&8772)!==0):Mn(t,a),In=f,Pe=g}o&512&&(a.memoizedProps.mode==="manual"?ns(a,a.return):Mt(a,a.return));break;default:Mn(t,a)}}function Pg(t){var n=t.alternate;n!==null&&(t.alternate=null,Pg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Yc(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,Lt=!1;function Dn(t,n,a){for(a=a.child;a!==null;)zg(t,n,a),a=a.sibling}function zg(t,n,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Dr,a)}catch{}switch(a.tag){case 26:Pe||Mt(a,n),Dn(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pe||Mt(a,n);var o=Qe,u=Lt;for(Qe=a.stateNode,Dn(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Yc(a),Qe=o,Lt=u;break;case 5:Pe||Mt(a,n);case 6:u=Qe;var f=Lt;if(Qe=null,Dn(t,n,a),Qe=u,Lt=f,Qe!==null)if(Lt)try{t=Qe,o=a.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(g){Re(a,n,g)}else try{Qe.removeChild(a.stateNode)}catch(g){Re(a,n,g)}break;case 18:Qe!==null&&(Lt?(n=Qe,a=a.stateNode,n.nodeType===8?Pd(n.parentNode,a):n.nodeType===1&&Pd(n,a),Ra(n)):Pd(Qe,a.stateNode));break;case 4:o=Qe,u=Lt,Qe=a.stateNode.containerInfo,Lt=!0,Dn(t,n,a),Qe=o,Lt=u;break;case 0:case 11:case 14:case 15:Pe||fi(2,a,n),Pe||fi(4,a,n),Dn(t,n,a);break;case 1:Pe||(Mt(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&kg(a,n,o)),Dn(t,n,a);break;case 21:Dn(t,n,a);break;case 22:Pe||Mt(a,n),Pe=(o=Pe)||a.memoizedState!==null,Dn(t,n,a),Pe=o;break;default:Dn(t,n,a)}}function Hg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ra(t)}catch(a){Re(n,n.return,a)}}function H1(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Lg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Lg),n;default:throw Error(r(435,t.tag))}}function ld(t,n){var a=H1(t);n.forEach(function(o){var u=J1.bind(null,t,o);a.has(o)||(a.add(o),o.then(u,u))})}function Yt(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var u=a[o],f=t,g=n,v=g;e:for(;v!==null;){switch(v.tag){case 27:case 5:Qe=v.stateNode,Lt=!1;break e;case 3:Qe=v.stateNode.containerInfo,Lt=!0;break e;case 4:Qe=v.stateNode.containerInfo,Lt=!0;break e}v=v.return}if(Qe===null)throw Error(r(160));zg(f,g,u),Qe=null,Lt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Bg(n,t),n=n.sibling}var tn=null;function Bg(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Yt(n,t),$t(t),o&4&&(fi(3,t,t.return),ua(3,t),fi(5,t,t.return));break;case 1:Yt(n,t),$t(t),o&512&&(Pe||a===null||Mt(a,a.return)),o&64&&In&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var u=tn;if(Yt(n,t),$t(t),o&512&&(Pe||a===null||Mt(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Ur]||f[ht]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),ut(f,o,a),f[ht]=t,et(f),o=f;break e;case"link":var g=I_("link","href",u).get(o+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(f=g[v],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break t}}f=u.createElement(o),ut(f,o,a),u.head.appendChild(f);break;case"meta":if(g=I_("meta","content",u).get(o+(a.content||""))){for(v=0;v<g.length;v++)if(f=g[v],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break t}}f=u.createElement(o),ut(f,o,a),u.head.appendChild(f);break;default:throw Error(r(468,o))}f[ht]=t,et(f),o=f}t.stateNode=o}else D_(u,t.type,t.stateNode);else t.stateNode=k_(u,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?D_(u,t.type,t.stateNode):k_(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Dg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){u=t.stateNode,f=t.memoizedProps;try{for(var S=u.firstChild;S;){var N=S.nextSibling,P=S.nodeName;S[Ur]||P==="HEAD"||P==="BODY"||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=N}for(var B=t.type,k=u.attributes;k.length;)u.removeAttributeNode(k[0]);ut(u,B,f),u[ht]=t,u[St]=f}catch(X){Re(t,t.return,X)}}case 5:if(Yt(n,t),$t(t),o&512&&(Pe||a===null||Mt(a,a.return)),t.flags&32){u=t.stateNode;try{Is(u,"")}catch(X){Re(t,t.return,X)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,Dg(t,u,a!==null?a.memoizedProps:u)),o&1024&&(ad=!0);break;case 6:if(Yt(n,t),$t(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(X){Re(t,t.return,X)}}break;case 3:if(To=null,u=tn,tn=wo(n.containerInfo),Yt(n,t),tn=u,$t(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ra(n.containerInfo)}catch(X){Re(t,t.return,X)}ad&&(ad=!1,qg(t));break;case 4:o=tn,tn=wo(t.stateNode.containerInfo),Yt(n,t),$t(t),tn=o;break;case 12:Yt(n,t),$t(t);break;case 13:Yt(n,t),$t(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gd=fn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ld(t,o)));break;case 22:if(o&512&&(Pe||a===null||Mt(a,a.return)),S=t.memoizedState!==null,N=a!==null&&a.memoizedState!==null,P=In,B=Pe,In=P||S,Pe=B||N,Yt(n,t),Pe=B,In=P,$t(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=S?n._visibility&-2:n._visibility|1,S&&(n=In||Pe,a===null||N||n||Ks(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){N=a=n;try{if(u=N.stateNode,S)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{g=N.stateNode,v=N.memoizedProps.style;var U=v!=null&&v.hasOwnProperty("display")?v.display:null;g.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(X){Re(N,N.return,X)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=S?"":N.memoizedProps}catch(X){Re(N,N.return,X)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ld(t,a))));break;case 19:Yt(n,t),$t(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ld(t,o)));break;case 21:break;default:Yt(n,t),$t(t)}}function $t(t){var n=t.flags;if(n&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Mg(a)){var o=a;break e}a=a.return}throw Error(r(160))}switch(o.tag){case 27:var u=o.stateNode,f=sd(t);lo(t,f,u);break;case 5:var g=o.stateNode;o.flags&32&&(Is(g,""),o.flags&=-33);var v=sd(t);lo(t,v,g);break;case 3:case 4:var S=o.stateNode.containerInfo,N=sd(t);rd(t,N,S);break;default:throw Error(r(161))}}}catch(P){Re(t,t.return,P)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function qg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;qg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Mn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)jg(t,n.alternate,n),n=n.sibling}function Ks(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:fi(4,n,n.return),Ks(n);break;case 1:Mt(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&kg(n,n.return,a),Ks(n);break;case 26:case 27:case 5:Mt(n,n.return),Ks(n);break;case 22:Mt(n,n.return),n.memoizedState===null&&Ks(n);break;default:Ks(n)}t=t.sibling}}function hi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:hi(u,f,a),ua(4,f);break;case 1:if(hi(u,f,a),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(N){Re(o,o.return,N)}if(o=f,u=o.updateQueue,u!==null){var v=o.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)Rg(S[u],v)}catch(N){Re(o,o.return,N)}}a&&g&64&&Og(f),ns(f,f.return);break;case 26:case 27:case 5:hi(u,f,a),a&&o===null&&g&4&&Ig(f),ns(f,f.return);break;case 12:hi(u,f,a);break;case 13:hi(u,f,a),a&&g&4&&Hg(u,f);break;case 22:f.memoizedState===null&&hi(u,f,a),ns(f,f.return);break;default:hi(u,f,a)}n=n.sibling}}function od(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ea(a))}function cd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ea(t))}function mi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fg(t,n,a,o),n=n.sibling}function Fg(t,n,a,o){var u=n.flags;switch(n.tag){case 0:case 11:case 15:mi(t,n,a,o),u&2048&&ua(9,n);break;case 3:mi(t,n,a,o),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ea(t)));break;case 12:if(u&2048){mi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,v=f.onPostCommit;typeof v=="function"&&v(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Re(n,n.return,S)}}else mi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?mi(t,n,a,o):da(t,n):f._visibility&4?mi(t,n,a,o):(f._visibility|=4,Qs(t,n,a,o,(n.subtreeFlags&10256)!==0)),u&2048&&od(n.alternate,n);break;case 24:mi(t,n,a,o),u&2048&&cd(n.alternate,n);break;default:mi(t,n,a,o)}}function Qs(t,n,a,o,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,g=n,v=a,S=o,N=g.flags;switch(g.tag){case 0:case 11:case 15:Qs(f,g,v,S,u),ua(8,g);break;case 23:break;case 22:var P=g.stateNode;g.memoizedState!==null?P._visibility&4?Qs(f,g,v,S,u):da(f,g):(P._visibility|=4,Qs(f,g,v,S,u)),u&&N&2048&&od(g.alternate,g);break;case 24:Qs(f,g,v,S,u),u&&N&2048&&cd(g.alternate,g);break;default:Qs(f,g,v,S,u)}n=n.sibling}}function da(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,u=o.flags;switch(o.tag){case 22:da(a,o),u&2048&&od(o.alternate,o);break;case 24:da(a,o),u&2048&&cd(o.alternate,o);break;default:da(a,o)}n=n.sibling}}var fa=8192;function Xs(t){if(t.subtreeFlags&fa)for(t=t.child;t!==null;)Vg(t),t=t.sibling}function Vg(t){switch(t.tag){case 26:Xs(t),t.flags&fa&&t.memoizedState!==null&&RS(tn,t.memoizedState,t.memoizedProps);break;case 5:Xs(t);break;case 3:case 4:var n=tn;tn=wo(t.stateNode.containerInfo),Xs(t),tn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=fa,fa=16777216,Xs(t),fa=n):Xs(t));break;default:Xs(t)}}function Gg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ha(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];nt=o,$g(o,t)}Gg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yg(t),t=t.sibling}function Yg(t){switch(t.tag){case 0:case 11:case 15:ha(t),t.flags&2048&&fi(9,t,t.return);break;case 3:ha(t);break;case 12:ha(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,oo(t)):ha(t);break;default:ha(t)}}function oo(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];nt=o,$g(o,t)}Gg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:fi(8,n,n.return),oo(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,oo(n));break;default:oo(n)}t=t.sibling}}function $g(t,n){for(;nt!==null;){var a=nt;switch(a.tag){case 0:case 11:case 15:fi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ea(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,nt=o;else e:for(a=t;nt!==null;){o=nt;var u=o.sibling,f=o.return;if(Pg(o),o===a){nt=null;break e}if(u!==null){u.return=f,nt=u;break e}nt=f}}}function B1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,n,a,o){return new B1(t,n,a,o)}function ud(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pi(t,n){var a=t.alternate;return a===null?(a=Wt(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wg(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function co(t,n,a,o,u,f){var g=0;if(o=t,typeof t=="function")ud(t)&&(g=1);else if(typeof t=="string")g=CS(t,a,dn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case m:return is(a.children,u,f,n);case p:g=8,u|=24;break;case y:return t=Wt(12,a,n,u|2),t.elementType=y,t.lanes=f,t;case D:return t=Wt(13,a,n,u),t.elementType=D,t.lanes=f,t;case M:return t=Wt(19,a,n,u),t.elementType=M,t.lanes=f,t;case I:return Kg(a,u,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E:case x:g=10;break e;case b:g=9;break e;case C:g=11;break e;case L:g=14;break e;case j:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Wt(g,a,n,u),n.elementType=t,n.type=o,n.lanes=f,n}function is(t,n,a,o){return t=Wt(7,t,o,n),t.lanes=a,t}function Kg(t,n,a,o){t=Wt(22,t,o,n),t.elementType=I,t.lanes=a;var u={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=u._current;if(f===null)throw Error(r(456));if(!(u._pendingVisibility&2)){var g=ii(f,2);g!==null&&(u._pendingVisibility|=2,yt(g,f,2))}},attach:function(){var f=u._current;if(f===null)throw Error(r(456));if(u._pendingVisibility&2){var g=ii(f,2);g!==null&&(u._pendingVisibility&=-3,yt(g,f,2))}}};return t.stateNode=u,t}function dd(t,n,a){return t=Wt(6,t,null,n),t.lanes=a,t}function fd(t,n,a){return n=Wt(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ln(t){t.flags|=4}function Qg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!M_(n)){if(n=Gt.current,n!==null&&((ye&4194176)===ye?mn!==null:(ye&62914560)!==ye&&!(ye&536870912)||n!==mn))throw Xr=_u,hp;t.flags|=8192}}function uo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mm():536870912,t.lanes|=n,Js|=n)}function ma(t,n){if(!Ee)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Le(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags&31457280,o|=u.flags&31457280,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function q1(t,n,a){var o=n.pendingProps;switch(pu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(n),null;case 1:return Le(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),kn(Ze),Cs(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($r(n)?Ln(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,en!==null&&(bd(en),en=null))),Le(n),null;case 26:return a=n.memoizedState,t===null?(Ln(n),a!==null?(Le(n),Qg(n,a)):(Le(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ln(n),Le(n),Qg(n,a)):(Le(n),n.flags&=-16777217):(t.memoizedProps!==o&&Ln(n),Le(n),n.flags&=-16777217),null;case 27:Sl(n),a=Jn.current;var u=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ln(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Le(n),null}t=dn.current,$r(n)?dp(n):(t=C_(u,o,a),n.stateNode=t,Ln(n))}return Le(n),null;case 5:if(Sl(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ln(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Le(n),null}if(t=dn.current,$r(n))dp(n);else{switch(u=So(Jn.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?u.createElement(a,{is:o.is}):u.createElement(a)}}t[ht]=n,t[St]=o;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=t;e:switch(ut(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ln(n)}}return Le(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Ln(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Jn.current,$r(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,u=_t,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[ht]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||b_(t.nodeValue,a)),t||$i(n)}else t=So(t).createTextNode(o),t[ht]=n,n.stateNode=t}return Le(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=$r(n),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ht]=n}else Wr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Le(n),u=!1}else en!==null&&(bd(en),en=null),u=!0;if(!u)return n.flags&256?(Nn(n),n):(Nn(n),null)}if(Nn(n),n.flags&128)return n.lanes=a,n;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=n.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),uo(n,n.updateQueue),Le(n),null;case 4:return Cs(),t===null&&kd(n.stateNode.containerInfo),Le(n),null;case 10:return kn(n.type),Le(n),null;case 19:if($e(Xe),u=n.memoizedState,u===null)return Le(n),null;if(o=(n.flags&128)!==0,f=u.rendering,f===null)if(o)ma(u,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=$l(t),f!==null){for(n.flags|=128,ma(u,!1),t=f.updateQueue,n.updateQueue=t,uo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Wg(a,t),a=a.sibling;return Me(Xe,Xe.current&1|2),n.child}t=t.sibling}u.tail!==null&&fn()>fo&&(n.flags|=128,o=!0,ma(u,!1),n.lanes=4194304)}else{if(!o)if(t=$l(f),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,uo(n,t),ma(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Ee)return Le(n),null}else 2*fn()-u.renderingStartTime>fo&&a!==536870912&&(n.flags|=128,o=!0,ma(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(t=u.last,t!==null?t.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=fn(),n.sibling=null,t=Xe.current,Me(Xe,o?t&1|2:t&1),n):(Le(n),null);case 22:case 23:return Nn(n),vu(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?a&536870912&&!(n.flags&128)&&(Le(n),n.subtreeFlags&6&&(n.flags|=8192)):Le(n),a=n.updateQueue,a!==null&&uo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&$e(Ki),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),kn(Ze),Le(n),null;case 25:return null}throw Error(r(156,n.tag))}function F1(t,n){switch(pu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return kn(Ze),Cs(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Sl(n),null;case 13:if(Nn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $e(Xe),null;case 4:return Cs(),null;case 10:return kn(n.type),null;case 22:case 23:return Nn(n),vu(),t!==null&&$e(Ki),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return kn(Ze),null;case 25:return null;default:return null}}function Xg(t,n){switch(pu(n),n.tag){case 3:kn(Ze),Cs();break;case 26:case 27:case 5:Sl(n);break;case 4:Cs();break;case 13:Nn(n);break;case 19:$e(Xe);break;case 10:kn(n.type);break;case 22:case 23:Nn(n),vu(),t!==null&&$e(Ki);break;case 24:kn(Ze)}}var V1={getCacheForType:function(t){var n=mt(Ze),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},G1=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Oe=null,pe=null,ye=0,ke=0,Ut=null,Un=!1,Zs=!1,hd=!1,jn=0,ze=0,gi=0,ss=0,md=0,Kt=0,Js=0,pa=null,gn=null,pd=!1,gd=0,fo=1/0,ho=null,_i=null,mo=!1,rs=null,ga=0,_d=0,yd=null,_a=0,vd=null;function jt(){if(Ue&2&&ye!==0)return ye&-ye;if(G.T!==null){var t=Vs;return t!==0?t:Nd()}return ym()}function Zg(){Kt===0&&(Kt=!(ye&536870912)||Ee?hm():536870912);var t=Gt.current;return t!==null&&(t.flags|=32),Kt}function yt(t,n,a){(t===Oe&&ke===2||t.cancelPendingCommit!==null)&&(er(t,0),Pn(t,ye,Kt,!1)),Lr(t,a),(!(Ue&2)||t!==Oe)&&(t===Oe&&(!(Ue&2)&&(ss|=a),ze===4&&Pn(t,ye,Kt,!1)),_n(t))}function Jg(t,n,a){if(Ue&6)throw Error(r(327));var o=!a&&(n&60)===0&&(n&t.expiredLanes)===0||Mr(t,n),u=o?W1(t,n):wd(t,n,!0),f=o;do{if(u===0){Zs&&!o&&Pn(t,n,0,!1);break}else if(u===6)Pn(t,n,0,!Un);else{if(a=t.current.alternate,f&&!Y1(a)){u=wd(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var v=t;u=pa;var S=v.current.memoizedState.isDehydrated;if(S&&(er(v,g).flags|=256),g=wd(v,g,!1),g!==2){if(hd&&!S){v.errorRecoveryDisabledLanes|=f,ss|=f,u=4;break e}f=gn,gn=u,f!==null&&bd(f)}u=g}if(f=!1,u!==2)continue}}if(u===1){er(t,0),Pn(t,n,0,!0);break}e:{switch(o=t,u){case 0:case 1:throw Error(r(345));case 4:if((n&4194176)===n){Pn(o,n,Kt,!Un);break e}break;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if(o.finishedWork=a,o.finishedLanes=n,(n&62914560)===n&&(f=gd+300-fn(),10<f)){if(Pn(o,n,Kt,!Un),Cl(o,0)!==0)break e;o.timeoutHandle=w_(e_.bind(null,o,a,gn,ho,pd,n,Kt,ss,Js,Un,2,-0,0),f);break e}e_(o,a,gn,ho,pd,n,Kt,ss,Js,Un,0,-0,0)}}break}while(!0);_n(t)}function bd(t){gn===null?gn=t:gn.push.apply(gn,t)}function e_(t,n,a,o,u,f,g,v,S,N,P,B,k){var U=n.subtreeFlags;if((U&8192||(U&16785408)===16785408)&&(wa={stylesheets:null,count:0,unsuspend:NS},Vg(n),n=AS(),n!==null)){t.cancelPendingCommit=n(l_.bind(null,t,a,o,u,g,v,S,1,B,k)),Pn(t,f,g,!N);return}l_(t,a,o,u,g,v,S,P,B,k)}function Y1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var u=a[o],f=u.getSnapshot;u=u.value;try{if(!Dt(f(),u))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Pn(t,n,a,o){n&=~md,n&=~ss,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var u=n;0<u;){var f=31-It(u),g=1<<f;o[f]=-1,u&=~g}a!==0&&pm(t,a,n)}function po(){return Ue&6?!0:(ya(0),!1)}function Ed(){if(pe!==null){if(ke===0)var t=pe.return;else t=pe,On=es=null,Nu(t),qs=null,Zr=0,t=pe;for(;t!==null;)Xg(t.alternate,t),t=t.return;pe=null}}function er(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,dS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ed(),Oe=t,pe=a=pi(t.current,null),ye=n,ke=0,Ut=null,Un=!1,Zs=Mr(t,n),hd=!1,Js=Kt=md=ss=gi=ze=0,gn=pa=null,pd=!1,n&8&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var u=31-It(o),f=1<<u;n|=t[u],o&=~f}return jn=n,Pl(),a}function t_(t,n){de=null,G.H=pn,n===Qr?(n=gp(),ke=3):n===hp?(n=gp(),ke=4):ke=n===mg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ut=n,pe===null&&(ze=1,so(t,qt(n,t.current)))}function n_(){var t=G.H;return G.H=pn,t===null?pn:t}function i_(){var t=G.A;return G.A=V1,t}function Sd(){ze=4,Un||(ye&4194176)!==ye&&Gt.current!==null||(Zs=!0),!(gi&134217727)&&!(ss&134217727)||Oe===null||Pn(Oe,ye,Kt,!1)}function wd(t,n,a){var o=Ue;Ue|=2;var u=n_(),f=i_();(Oe!==t||ye!==n)&&(ho=null,er(t,n)),n=!1;var g=ze;e:do try{if(ke!==0&&pe!==null){var v=pe,S=Ut;switch(ke){case 8:Ed(),g=6;break e;case 3:case 2:case 6:Gt.current===null&&(n=!0);var N=ke;if(ke=0,Ut=null,tr(t,v,S,N),a&&Zs){g=0;break e}break;default:N=ke,ke=0,Ut=null,tr(t,v,S,N)}}$1(),g=ze;break}catch(P){t_(t,P)}while(!0);return n&&t.shellSuspendCounter++,On=es=null,Ue=o,G.H=u,G.A=f,pe===null&&(Oe=null,ye=0,Pl()),g}function $1(){for(;pe!==null;)s_(pe)}function W1(t,n){var a=Ue;Ue|=2;var o=n_(),u=i_();Oe!==t||ye!==n?(ho=null,fo=fn()+500,er(t,n)):Zs=Mr(t,n);e:do try{if(ke!==0&&pe!==null){n=pe;var f=Ut;t:switch(ke){case 1:ke=0,Ut=null,tr(t,n,f,1);break;case 2:if(mp(f)){ke=0,Ut=null,r_(n);break}n=function(){ke===2&&Oe===t&&(ke=7),_n(t)},f.then(n,n);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:mp(f)?(ke=0,Ut=null,r_(n)):(ke=0,Ut=null,tr(t,n,f,7));break;case 5:var g=null;switch(pe.tag){case 26:g=pe.memoizedState;case 5:case 27:var v=pe;if(!g||M_(g)){ke=0,Ut=null;var S=v.sibling;if(S!==null)pe=S;else{var N=v.return;N!==null?(pe=N,go(N)):pe=null}break t}}ke=0,Ut=null,tr(t,n,f,5);break;case 6:ke=0,Ut=null,tr(t,n,f,6);break;case 8:Ed(),ze=6;break e;default:throw Error(r(462))}}K1();break}catch(P){t_(t,P)}while(!0);return On=es=null,G.H=o,G.A=u,Ue=a,pe!==null?0:(Oe=null,ye=0,Pl(),ze)}function K1(){for(;pe!==null&&!_E();)s_(pe)}function s_(t){var n=Cg(t.alternate,t,jn);t.memoizedProps=t.pendingProps,n===null?go(t):pe=n}function r_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=bg(a,n,n.pendingProps,n.type,void 0,ye);break;case 11:n=bg(a,n,n.pendingProps,n.type.render,n.ref,ye);break;case 5:Nu(n);default:Xg(a,n),n=pe=Wg(n,jn),n=Cg(a,n,jn)}t.memoizedProps=t.pendingProps,n===null?go(t):pe=n}function tr(t,n,a,o){On=es=null,Nu(n),qs=null,Zr=0;var u=n.return;try{if(j1(t,u,n,a,ye)){ze=1,so(t,qt(a,t.current)),pe=null;return}}catch(f){if(u!==null)throw pe=u,f;ze=1,so(t,qt(a,t.current)),pe=null;return}n.flags&32768?(Ee||o===1?t=!0:Zs||ye&536870912?t=!1:(Un=t=!0,(o===2||o===3||o===6)&&(o=Gt.current,o!==null&&o.tag===13&&(o.flags|=16384))),a_(n,t)):go(n)}function go(t){var n=t;do{if(n.flags&32768){a_(n,Un);return}t=n.return;var a=q1(n.alternate,n,jn);if(a!==null){pe=a;return}if(n=n.sibling,n!==null){pe=n;return}pe=n=t}while(n!==null);ze===0&&(ze=5)}function a_(t,n){do{var a=F1(t.alternate,t);if(a!==null){a.flags&=32767,pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){pe=t;return}pe=t=a}while(t!==null);ze=6,pe=null}function l_(t,n,a,o,u,f,g,v,S,N){var P=G.T,B=q.p;try{q.p=2,G.T=null,Q1(t,n,a,o,B,u,f,g,v,S,N)}finally{G.T=P,q.p=B}}function Q1(t,n,a,o,u,f,g,v){do nr();while(rs!==null);if(Ue&6)throw Error(r(327));var S=t.finishedWork;if(o=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var N=S.lanes|S.childLanes;if(N|=fu,RE(t,o,N,f,g,v),t===Oe&&(pe=Oe=null,ye=0),!(S.subtreeFlags&10256)&&!(S.flags&10256)||mo||(mo=!0,_d=N,yd=a,eS(wl,function(){return nr(),null})),a=(S.flags&15990)!==0,S.subtreeFlags&15990||a?(a=G.T,G.T=null,f=q.p,q.p=2,g=Ue,Ue|=4,z1(t,S),Bg(S,t),b1(Ld,t.containerInfo),Ro=!!Md,Ld=Md=null,t.current=S,jg(t,S.alternate,S),yE(),Ue=g,q.p=f,G.T=a):t.current=S,mo?(mo=!1,rs=t,ga=o):o_(t,N),N=t.pendingLanes,N===0&&(_i=null),wE(S.stateNode),_n(t),n!==null)for(u=t.onRecoverableError,S=0;S<n.length;S++)N=n[S],u(N.value,{componentStack:N.stack});return ga&3&&nr(),N=t.pendingLanes,o&4194218&&N&42?t===vd?_a++:(_a=0,vd=t):_a=0,ya(0),null}function o_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ea(n)))}function nr(){if(rs!==null){var t=rs,n=_d;_d=0;var a=_m(ga),o=G.T,u=q.p;try{if(q.p=32>a?32:a,G.T=null,rs===null)var f=!1;else{a=yd,yd=null;var g=rs,v=ga;if(rs=null,ga=0,Ue&6)throw Error(r(331));var S=Ue;if(Ue|=4,Yg(g.current),Fg(g,g.current,v,a),Ue=S,ya(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Dr,g)}catch{}f=!0}return f}finally{q.p=u,G.T=o,o_(t,n)}}return!1}function c_(t,n,a){n=qt(a,n),n=Bu(t.stateNode,n,2),t=di(t,n,2),t!==null&&(Lr(t,2),_n(t))}function Re(t,n,a){if(t.tag===3)c_(t,t,a);else for(;n!==null;){if(n.tag===3){c_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(_i===null||!_i.has(o))){t=qt(a,t),a=fg(2),o=di(n,a,2),o!==null&&(hg(a,o,n,t),Lr(o,2),_n(o));break}}n=n.return}}function xd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new G1;var u=new Set;o.set(n,u)}else u=o.get(n),u===void 0&&(u=new Set,o.set(n,u));u.has(a)||(hd=!0,u.add(a),t=X1.bind(null,t,n,a),n.then(t,t))}function X1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Oe===t&&(ye&a)===a&&(ze===4||ze===3&&(ye&62914560)===ye&&300>fn()-gd?!(Ue&2)&&er(t,0):md|=a,Js===ye&&(Js=0)),_n(t)}function u_(t,n){n===0&&(n=mm()),t=ii(t,n),t!==null&&(Lr(t,n),_n(t))}function Z1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),u_(t,a)}function J1(t,n){var a=0;switch(t.tag){case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),u_(t,a)}function eS(t,n){return qc(t,n)}var _o=null,ir=null,Td=!1,yo=!1,Cd=!1,as=0;function _n(t){t!==ir&&t.next===null&&(ir===null?_o=ir=t:ir=ir.next=t),yo=!0,Td||(Td=!0,nS(tS))}function ya(t,n){if(!Cd&&yo){Cd=!0;do for(var a=!1,o=_o;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var g=o.suspendedLanes,v=o.pingedLanes;f=(1<<31-It(42|t)+1)-1,f&=u&~(g&~v),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,h_(o,f))}else f=ye,f=Cl(o,o===Oe?f:0),!(f&3)||Mr(o,f)||(a=!0,h_(o,f));o=o.next}while(a);Cd=!1}}function tS(){yo=Td=!1;var t=0;as!==0&&(uS()&&(t=as),as=0);for(var n=fn(),a=null,o=_o;o!==null;){var u=o.next,f=d_(o,n);f===0?(o.next=null,a===null?_o=u:a.next=u,u===null&&(ir=a)):(a=o,(t!==0||f&3)&&(yo=!0)),o=u}ya(t)}function d_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-It(f),v=1<<g,S=u[g];S===-1?(!(v&a)||v&o)&&(u[g]=NE(v,n)):S<=n&&(t.expiredLanes|=v),f&=~v}if(n=Oe,a=ye,a=Cl(t,t===n?a:0),o=t.callbackNode,a===0||t===n&&ke===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Fc(o),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||Mr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Fc(o),_m(a)){case 2:case 8:a=dm;break;case 32:a=wl;break;case 268435456:a=fm;break;default:a=wl}return o=f_.bind(null,t),a=qc(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Fc(o),t.callbackPriority=2,t.callbackNode=null,2}function f_(t,n){var a=t.callbackNode;if(nr()&&t.callbackNode!==a)return null;var o=ye;return o=Cl(t,t===Oe?o:0),o===0?null:(Jg(t,o,n),d_(t,fn()),t.callbackNode!=null&&t.callbackNode===a?f_.bind(null,t):null)}function h_(t,n){if(nr())return null;Jg(t,n,!0)}function nS(t){fS(function(){Ue&6?qc(um,t):t()})}function Nd(){return as===0&&(as=hm()),as}function m_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kl(""+t)}function p_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function iS(t,n,a,o,u){if(n==="submit"&&a&&a.stateNode===u){var f=m_((u[St]||null).action),g=o.submitter;g&&(n=(n=g[St]||null)?m_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var v=new Ll("action","action",null,o,u);t.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(as!==0){var S=g?p_(u,g):new FormData(u);Uu(a,{pending:!0,data:S,method:u.method,action:f},null,S)}}else typeof f=="function"&&(v.preventDefault(),S=g?p_(u,g):new FormData(u),Uu(a,{pending:!0,data:S,method:u.method,action:f},f,S))},currentTarget:u}]})}}for(var Rd=0;Rd<lp.length;Rd++){var Ad=lp[Rd],sS=Ad.toLowerCase(),rS=Ad[0].toUpperCase()+Ad.slice(1);Jt(sS,"on"+rS)}Jt(np,"onAnimationEnd"),Jt(ip,"onAnimationIteration"),Jt(sp,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(S1,"onTransitionRun"),Jt(w1,"onTransitionStart"),Jt(x1,"onTransitionCancel"),Jt(rp,"onTransitionEnd"),Os("onMouseEnter",["mouseout","mouseover"]),Os("onMouseLeave",["mouseout","mouseover"]),Os("onPointerEnter",["pointerout","pointerover"]),Os("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(va));function g_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],u=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var v=o[g],S=v.instance,N=v.currentTarget;if(v=v.listener,S!==f&&u.isPropagationStopped())break e;f=v,u.currentTarget=N;try{f(u)}catch(P){io(P)}u.currentTarget=null,f=S}else for(g=0;g<o.length;g++){if(v=o[g],S=v.instance,N=v.currentTarget,v=v.listener,S!==f&&u.isPropagationStopped())break e;f=v,u.currentTarget=N;try{f(u)}catch(P){io(P)}u.currentTarget=null,f=S}}}}function _e(t,n){var a=n[Gc];a===void 0&&(a=n[Gc]=new Set);var o=t+"__bubble";a.has(o)||(__(n,t,2,!1),a.add(o))}function Od(t,n,a){var o=0;n&&(o|=4),__(a,t,o,n)}var vo="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[vo]){t[vo]=!0,bm.forEach(function(a){a!=="selectionchange"&&(aS.has(a)||Od(a,!1,t),Od(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vo]||(n[vo]=!0,Od("selectionchange",!1,n))}}function __(t,n,a,o){switch(H_(n)){case 2:var u=IS;break;case 8:u=DS;break;default:u=Vd}a=u.bind(null,n,a,t),u=void 0,!Jc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(n,a,{capture:!0,passive:u}):t.addEventListener(n,a,!0):u!==void 0?t.addEventListener(n,a,{passive:u}):t.addEventListener(n,a,!1)}function Id(t,n,a,o,u){var f=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===u||v.nodeType===8&&v.parentNode===u)break;if(g===4)for(g=o.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===u||S.nodeType===8&&S.parentNode===u))return;g=g.return}for(;v!==null;){if(g=Hi(v),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){o=f=g;continue e}v=v.parentNode}}o=o.return}Im(function(){var N=f,P=Xc(a),B=[];e:{var k=ap.get(t);if(k!==void 0){var U=Ll,X=t;switch(t){case"keypress":if(Dl(a)===0)break e;case"keydown":case"keyup":U=JE;break;case"focusin":X="focus",U=iu;break;case"focusout":X="blur",U=iu;break;case"beforeblur":case"afterblur":U=iu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Lm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=BE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=n1;break;case np:case ip:case sp:U=VE;break;case rp:U=s1;break;case"scroll":case"scrollend":U=zE;break;case"wheel":U=a1;break;case"copy":case"cut":case"paste":U=YE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=jm;break;case"toggle":case"beforetoggle":U=o1}var oe=(n&4)!==0,He=!oe&&(t==="scroll"||t==="scrollend"),A=oe?k!==null?k+"Capture":null:k;oe=[];for(var T=N,O;T!==null;){var H=T;if(O=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||O===null||A===null||(H=Pr(T,A),H!=null&&oe.push(ba(T,H,O))),He)break;T=T.return}0<oe.length&&(k=new U(k,X,null,a,P),B.push({event:k,listeners:oe}))}}if(!(n&7)){e:{if(k=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",k&&a!==Qc&&(X=a.relatedTarget||a.fromElement)&&(Hi(X)||X[Ns]))break e;if((U||k)&&(k=P.window===P?P:(k=P.ownerDocument)?k.defaultView||k.parentWindow:window,U?(X=a.relatedTarget||a.toElement,U=N,X=X?Hi(X):null,X!==null&&(He=ee(X),oe=X.tag,X!==He||oe!==5&&oe!==27&&oe!==6)&&(X=null)):(U=null,X=N),U!==X)){if(oe=Lm,H="onMouseLeave",A="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(oe=jm,H="onPointerLeave",A="onPointerEnter",T="pointer"),He=U==null?k:jr(U),O=X==null?k:jr(X),k=new oe(H,T+"leave",U,a,P),k.target=He,k.relatedTarget=O,H=null,Hi(P)===N&&(oe=new oe(A,T+"enter",X,a,P),oe.target=O,oe.relatedTarget=He,H=oe),He=H,U&&X)t:{for(oe=U,A=X,T=0,O=oe;O;O=sr(O))T++;for(O=0,H=A;H;H=sr(H))O++;for(;0<T-O;)oe=sr(oe),T--;for(;0<O-T;)A=sr(A),O--;for(;T--;){if(oe===A||A!==null&&oe===A.alternate)break t;oe=sr(oe),A=sr(A)}oe=null}else oe=null;U!==null&&y_(B,k,U,oe,!1),X!==null&&He!==null&&y_(B,He,X,oe,!0)}}e:{if(k=N?jr(N):window,U=k.nodeName&&k.nodeName.toLowerCase(),U==="select"||U==="input"&&k.type==="file")var K=Gm;else if(Fm(k))if(Ym)K=y1;else{K=g1;var fe=p1}else U=k.nodeName,!U||U.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?N&&Kc(N.elementType)&&(K=Gm):K=_1;if(K&&(K=K(t,N))){Vm(B,K,a,P);break e}fe&&fe(t,k,N),t==="focusout"&&N&&k.type==="number"&&N.memoizedProps.value!=null&&Wc(k,"number",k.value)}switch(fe=N?jr(N):window,t){case"focusin":(Fm(fe)||fe.contentEditable==="true")&&(Us=fe,cu=N,Yr=null);break;case"focusout":Yr=cu=Us=null;break;case"mousedown":uu=!0;break;case"contextmenu":case"mouseup":case"dragend":uu=!1,ep(B,a,P);break;case"selectionchange":if(E1)break;case"keydown":case"keyup":ep(B,a,P)}var J;if(ru)e:{switch(t){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else Ls?Bm(t,a)&&(te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(te="onCompositionStart");te&&(Pm&&a.locale!=="ko"&&(Ls||te!=="onCompositionStart"?te==="onCompositionEnd"&&Ls&&(J=Dm()):(ni=P,eu="value"in ni?ni.value:ni.textContent,Ls=!0)),fe=bo(N,te),0<fe.length&&(te=new Um(te,t,null,a,P),B.push({event:te,listeners:fe}),J?te.data=J:(J=qm(a),J!==null&&(te.data=J)))),(J=u1?d1(t,a):f1(t,a))&&(te=bo(N,"onBeforeInput"),0<te.length&&(fe=new Um("onBeforeInput","beforeinput",null,a,P),B.push({event:fe,listeners:te}),fe.data=J)),iS(B,t,N,a,P)}g_(B,n)})}function ba(t,n,a){return{instance:t,listener:n,currentTarget:a}}function bo(t,n){for(var a=n+"Capture",o=[];t!==null;){var u=t,f=u.stateNode;u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Pr(t,a),u!=null&&o.unshift(ba(t,u,f)),u=Pr(t,n),u!=null&&o.push(ba(t,u,f))),t=t.return}return o}function sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function y_(t,n,a,o,u){for(var f=n._reactName,g=[];a!==null&&a!==o;){var v=a,S=v.alternate,N=v.stateNode;if(v=v.tag,S!==null&&S===o)break;v!==5&&v!==26&&v!==27||N===null||(S=N,u?(N=Pr(a,f),N!=null&&g.unshift(ba(a,N,S))):u||(N=Pr(a,f),N!=null&&g.push(ba(a,N,S)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var lS=/\r\n?/g,oS=/\u0000|\uFFFD/g;function v_(t){return(typeof t=="string"?t:""+t).replace(lS,`
`).replace(oS,"")}function b_(t,n){return n=v_(n),v_(t)===n}function Eo(){}function Ce(t,n,a,o,u,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Is(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Is(t,""+o);break;case"className":Rl(t,"class",o);break;case"tabIndex":Rl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Rl(t,a,o);break;case"style":Om(t,o,f);break;case"data":if(n!=="object"){Rl(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=kl(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Ce(t,n,"name",u.name,u,null),Ce(t,n,"formEncType",u.formEncType,u,null),Ce(t,n,"formMethod",u.formMethod,u,null),Ce(t,n,"formTarget",u.formTarget,u,null)):(Ce(t,n,"encType",u.encType,u,null),Ce(t,n,"method",u.method,u,null),Ce(t,n,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=kl(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Eo);break;case"onScroll":o!=null&&_e("scroll",t);break;case"onScrollEnd":o!=null&&_e("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=kl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":_e("beforetoggle",t),_e("toggle",t),Nl(t,"popover",o);break;case"xlinkActuate":xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Nl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jE.get(a)||a,Nl(t,a,o))}}function Dd(t,n,a,o,u,f){switch(a){case"style":Om(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Is(t,o):(typeof o=="number"||typeof o=="bigint")&&Is(t,""+o);break;case"onScroll":o!=null&&_e("scroll",t);break;case"onScrollEnd":o!=null&&_e("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Eo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Em.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),n=a.slice(2,u?a.length-7:void 0),f=t[St]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,u);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Nl(t,a,o)}}}function ut(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",t),_e("load",t);var o=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ce(t,n,f,g,a,null)}}u&&Ce(t,n,"srcSet",a.srcSet,a,null),o&&Ce(t,n,"src",a.src,a,null);return;case"input":_e("invalid",t);var v=f=g=u=null,S=null,N=null;for(o in a)if(a.hasOwnProperty(o)){var P=a[o];if(P!=null)switch(o){case"name":u=P;break;case"type":g=P;break;case"checked":S=P;break;case"defaultChecked":N=P;break;case"value":f=P;break;case"defaultValue":v=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Ce(t,n,o,P,a,null)}}Cm(t,f,v,S,N,g,u,!1),Al(t);return;case"select":_e("invalid",t),o=g=f=null;for(u in a)if(a.hasOwnProperty(u)&&(v=a[u],v!=null))switch(u){case"value":f=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:Ce(t,n,u,v,a,null)}n=f,a=g,t.multiple=!!o,n!=null?ks(t,!!o,n,!1):a!=null&&ks(t,!!o,a,!0);return;case"textarea":_e("invalid",t),f=u=o=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":u=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Ce(t,n,g,v,a,null)}Rm(t,o,u,f),Al(t);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(o=a[S],o!=null))switch(S){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ce(t,n,S,o,a,null)}return;case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":_e("load",t);break;case"video":case"audio":for(o=0;o<va.length;o++)_e(va[o],t);break;case"image":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"embed":case"source":case"link":_e("error",t),_e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ce(t,n,N,o,a,null)}return;default:if(Kc(n)){for(P in a)a.hasOwnProperty(P)&&(o=a[P],o!==void 0&&Dd(t,n,P,o,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(o=a[v],o!=null&&Ce(t,n,v,o,a,null))}function cS(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,v=null,S=null,N=null,P=null;for(U in a){var B=a[U];if(a.hasOwnProperty(U)&&B!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":S=B;default:o.hasOwnProperty(U)||Ce(t,n,U,null,o,B)}}for(var k in o){var U=o[k];if(B=a[k],o.hasOwnProperty(k)&&(U!=null||B!=null))switch(k){case"type":f=U;break;case"name":u=U;break;case"checked":N=U;break;case"defaultChecked":P=U;break;case"value":g=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,n));break;default:U!==B&&Ce(t,n,k,U,o,B)}}$c(t,g,v,S,N,P,f,u);return;case"select":U=g=v=k=null;for(f in a)if(S=a[f],a.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":U=S;default:o.hasOwnProperty(f)||Ce(t,n,f,null,o,S)}for(u in o)if(f=o[u],S=a[u],o.hasOwnProperty(u)&&(f!=null||S!=null))switch(u){case"value":k=f;break;case"defaultValue":v=f;break;case"multiple":g=f;default:f!==S&&Ce(t,n,u,f,o,S)}n=v,a=g,o=U,k!=null?ks(t,!!a,k,!1):!!o!=!!a&&(n!=null?ks(t,!!a,n,!0):ks(t,!!a,a?[]:"",!1));return;case"textarea":U=k=null;for(v in a)if(u=a[v],a.hasOwnProperty(v)&&u!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ce(t,n,v,null,o,u)}for(g in o)if(u=o[g],f=a[g],o.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":k=u;break;case"defaultValue":U=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==f&&Ce(t,n,g,u,o,f)}Nm(t,k,U);return;case"option":for(var X in a)if(k=a[X],a.hasOwnProperty(X)&&k!=null&&!o.hasOwnProperty(X))switch(X){case"selected":t.selected=!1;break;default:Ce(t,n,X,null,o,k)}for(S in o)if(k=o[S],U=a[S],o.hasOwnProperty(S)&&k!==U&&(k!=null||U!=null))switch(S){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Ce(t,n,S,k,o,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)k=a[oe],a.hasOwnProperty(oe)&&k!=null&&!o.hasOwnProperty(oe)&&Ce(t,n,oe,null,o,k);for(N in o)if(k=o[N],U=a[N],o.hasOwnProperty(N)&&k!==U&&(k!=null||U!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:Ce(t,n,N,k,o,U)}return;default:if(Kc(n)){for(var He in a)k=a[He],a.hasOwnProperty(He)&&k!==void 0&&!o.hasOwnProperty(He)&&Dd(t,n,He,void 0,o,k);for(P in o)k=o[P],U=a[P],!o.hasOwnProperty(P)||k===U||k===void 0&&U===void 0||Dd(t,n,P,k,o,U);return}}for(var A in a)k=a[A],a.hasOwnProperty(A)&&k!=null&&!o.hasOwnProperty(A)&&Ce(t,n,A,null,o,k);for(B in o)k=o[B],U=a[B],!o.hasOwnProperty(B)||k===U||k==null&&U==null||Ce(t,n,B,k,o,U)}var Md=null,Ld=null;function So(t){return t.nodeType===9?t:t.ownerDocument}function E_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ud(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var jd=null;function uS(){var t=window.event;return t&&t.type==="popstate"?t===jd?!1:(jd=t,!0):(jd=null,!1)}var w_=typeof setTimeout=="function"?setTimeout:void 0,dS=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,fS=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(t){return x_.resolve(null).then(t).catch(hS)}:w_;function hS(t){setTimeout(function(){throw t})}function Pd(t,n){var a=n,o=0;do{var u=a.nextSibling;if(t.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(o===0){t.removeChild(u),Ra(n);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=u}while(a);Ra(n)}function zd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zd(a),Yc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function mS(t,n,a,o){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ur])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=nn(t.nextSibling),t===null)break}return null}function pS(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=nn(t.nextSibling),t===null))return null;return t}function nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function T_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function C_(t,n,a){switch(n=So(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}var Qt=new Map,N_=new Set;function wo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var zn=q.d;q.d={f:gS,r:_S,D:yS,C:vS,L:bS,m:ES,X:wS,S:SS,M:xS};function gS(){var t=zn.f(),n=po();return t||n}function _S(t){var n=Rs(t);n!==null&&n.tag===5&&n.type==="form"?eg(n):zn.r(t)}var rr=typeof document>"u"?null:document;function R_(t,n,a){var o=rr;if(o&&typeof n=="string"&&n){var u=Ht(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),N_.has(u)||(N_.add(u),t={rel:t,crossOrigin:a,href:n},o.querySelector(u)===null&&(n=o.createElement("link"),ut(n,"link",t),et(n),o.head.appendChild(n)))}}function yS(t){zn.D(t),R_("dns-prefetch",t,null)}function vS(t,n){zn.C(t,n),R_("preconnect",t,n)}function bS(t,n,a){zn.L(t,n,a);var o=rr;if(o&&t&&n){var u='link[rel="preload"][as="'+Ht(n)+'"]';n==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Ht(a.imageSizes)+'"]')):u+='[href="'+Ht(t)+'"]';var f=u;switch(n){case"style":f=ar(t);break;case"script":f=lr(t)}Qt.has(f)||(t=le({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Qt.set(f,t),o.querySelector(u)!==null||n==="style"&&o.querySelector(Ea(f))||n==="script"&&o.querySelector(Sa(f))||(n=o.createElement("link"),ut(n,"link",t),et(n),o.head.appendChild(n)))}}function ES(t,n){zn.m(t,n);var a=rr;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Ht(o)+'"][href="'+Ht(t)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=lr(t)}if(!Qt.has(f)&&(t=le({rel:"modulepreload",href:t},n),Qt.set(f,t),a.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sa(f)))return}o=a.createElement("link"),ut(o,"link",t),et(o),a.head.appendChild(o)}}}function SS(t,n,a){zn.S(t,n,a);var o=rr;if(o&&t){var u=As(o).hoistableStyles,f=ar(t);n=n||"default";var g=u.get(f);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(Ea(f)))v.loading=5;else{t=le({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Qt.get(f))&&Hd(t,a);var S=g=o.createElement("link");et(S),ut(S,"link",t),S._p=new Promise(function(N,P){S.onload=N,S.onerror=P}),S.addEventListener("load",function(){v.loading|=1}),S.addEventListener("error",function(){v.loading|=2}),v.loading|=4,xo(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:v},u.set(f,g)}}}function wS(t,n){zn.X(t,n);var a=rr;if(a&&t){var o=As(a).hoistableScripts,u=lr(t),f=o.get(u);f||(f=a.querySelector(Sa(u)),f||(t=le({src:t,async:!0},n),(n=Qt.get(u))&&Bd(t,n),f=a.createElement("script"),et(f),ut(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function xS(t,n){zn.M(t,n);var a=rr;if(a&&t){var o=As(a).hoistableScripts,u=lr(t),f=o.get(u);f||(f=a.querySelector(Sa(u)),f||(t=le({src:t,async:!0,type:"module"},n),(n=Qt.get(u))&&Bd(t,n),f=a.createElement("script"),et(f),ut(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function A_(t,n,a,o){var u=(u=Jn.current)?wo(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ar(a.href),a=As(u).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ar(a.href);var f=As(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(Ea(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Qt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qt.set(t,a),f||TS(u,t,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=lr(a),a=As(u).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ar(t){return'href="'+Ht(t)+'"'}function Ea(t){return'link[rel="stylesheet"]['+t+"]"}function O_(t){return le({},t,{"data-precedence":t.precedence,precedence:null})}function TS(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ut(n,"link",a),et(n),t.head.appendChild(n))}function lr(t){return'[src="'+Ht(t)+'"]'}function Sa(t){return"script[async]"+t}function k_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(o)return n.instance=o,et(o),o;var u=le({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),et(o),ut(o,"style",u),xo(o,a.precedence,t),n.instance=o;case"stylesheet":u=ar(a.href);var f=t.querySelector(Ea(u));if(f)return n.state.loading|=4,n.instance=f,et(f),f;o=O_(a),(u=Qt.get(u))&&Hd(o,u),f=(t.ownerDocument||t).createElement("link"),et(f);var g=f;return g._p=new Promise(function(v,S){g.onload=v,g.onerror=S}),ut(f,"link",o),n.state.loading|=4,xo(f,a.precedence,t),n.instance=f;case"script":return f=lr(a.src),(u=t.querySelector(Sa(f)))?(n.instance=u,et(u),u):(o=a,(u=Qt.get(f))&&(o=le({},a),Bd(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),et(u),ut(u,"link",o),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(o=n.instance,n.state.loading|=4,xo(o,a.precedence,t));return n.instance}function xo(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===n)f=v;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Hd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var To=null;function I_(t,n,a){if(To===null){var o=new Map,u=To=new Map;u.set(a,o)}else u=To,o=u.get(a),o||(o=new Map,u.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var f=a[u];if(!(f[Ur]||f[ht]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var v=o.get(g);v?v.push(f):o.set(g,[f])}}return o}function D_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function CS(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function M_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var wa=null;function NS(){}function RS(t,n,a){if(wa===null)throw Error(r(475));var o=wa;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var u=ar(a.href),f=t.querySelector(Ea(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Co.bind(o),t.then(o,o)),n.state.loading|=4,n.instance=f,et(f);return}f=t.ownerDocument||t,a=O_(a),(u=Qt.get(u))&&Hd(a,u),f=f.createElement("link"),et(f);var g=f;g._p=new Promise(function(v,S){g.onload=v,g.onerror=S}),ut(f,"link",a),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(o.count++,n=Co.bind(o),t.addEventListener("load",n),t.addEventListener("error",n))}}function AS(){if(wa===null)throw Error(r(475));var t=wa;return t.stylesheets&&t.count===0&&qd(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&qd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Co(){if(this.count--,this.count===0){if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var No=null;function qd(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,No=new Map,n.forEach(OS,t),No=null,Co.call(t))}function OS(t,n){if(!(n.state.loading&4)){var a=No.get(t);if(a)var o=a.get(null);else{a=new Map,No.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}u=n.instance,g=u.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,u),a.set(g,u),this.count++,o=Co.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var xa={$$typeof:x,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function kS(t,n,a,o,u,f,g,v){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),this.hiddenUpdates=Vc(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function L_(t,n,a,o,u,f,g,v,S,N,P,B){return t=new kS(t,n,a,g,v,S,N,B),n=1,f===!0&&(n|=24),f=Wt(3,null,null,n),t.current=f,f.stateNode=t,n=bu(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},ed(f),t}function U_(t){return t?(t=zs,t):zs}function j_(t,n,a,o,u,f){u=U_(u),o.context===null?o.context=u:o.pendingContext=u,o=ui(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=di(t,o,n),a!==null&&(yt(a,t,n),la(a,t,n))}function P_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Fd(t,n){P_(t,n),(t=t.alternate)&&P_(t,n)}function z_(t){if(t.tag===13){var n=ii(t,67108864);n!==null&&yt(n,t,67108864),Fd(t,67108864)}}var Ro=!0;function IS(t,n,a,o){var u=G.T;G.T=null;var f=q.p;try{q.p=2,Vd(t,n,a,o)}finally{q.p=f,G.T=u}}function DS(t,n,a,o){var u=G.T;G.T=null;var f=q.p;try{q.p=8,Vd(t,n,a,o)}finally{q.p=f,G.T=u}}function Vd(t,n,a,o){if(Ro){var u=Gd(o);if(u===null)Id(t,n,o,Ao,a),B_(t,o);else if(LS(u,t,n,a,o))o.stopPropagation();else if(B_(t,o),n&4&&-1<MS.indexOf(t)){for(;u!==null;){var f=Rs(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=zi(f.pendingLanes);if(g!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var S=1<<31-It(g);v.entanglements[1]|=S,g&=~S}_n(f),!(Ue&6)&&(fo=fn()+500,ya(0))}}break;case 13:v=ii(f,2),v!==null&&yt(v,f,2),po(),Fd(f,2)}if(f=Gd(o),f===null&&Id(t,n,o,Ao,a),f===u)break;u=f}u!==null&&o.stopPropagation()}else Id(t,n,o,null,a)}}function Gd(t){return t=Xc(t),Yd(t)}var Ao=null;function Yd(t){if(Ao=null,t=Hi(t),t!==null){var n=ee(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=xe(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ao=t,null}function H_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vE()){case um:return 2;case dm:return 8;case wl:case bE:return 32;case fm:return 268435456;default:return 32}default:return 32}}var $d=!1,yi=null,vi=null,bi=null,Ta=new Map,Ca=new Map,Ei=[],MS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(t,n){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":Ta.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(n.pointerId)}}function Na(t,n,a,o,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Rs(n),n!==null&&z_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function LS(t,n,a,o,u){switch(n){case"focusin":return yi=Na(yi,t,n,a,o,u),!0;case"dragenter":return vi=Na(vi,t,n,a,o,u),!0;case"mouseover":return bi=Na(bi,t,n,a,o,u),!0;case"pointerover":var f=u.pointerId;return Ta.set(f,Na(Ta.get(f)||null,t,n,a,o,u)),!0;case"gotpointercapture":return f=u.pointerId,Ca.set(f,Na(Ca.get(f)||null,t,n,a,o,u)),!0}return!1}function q_(t){var n=Hi(t.target);if(n!==null){var a=ee(n);if(a!==null){if(n=a.tag,n===13){if(n=xe(a),n!==null){t.blockedOn=n,AE(t.priority,function(){if(a.tag===13){var o=jt(),u=ii(a,o);u!==null&&yt(u,a,o),Fd(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Gd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Qc=o,a.target.dispatchEvent(o),Qc=null}else return n=Rs(a),n!==null&&z_(n),t.blockedOn=a,!1;n.shift()}return!0}function F_(t,n,a){Oo(t)&&a.delete(n)}function US(){$d=!1,yi!==null&&Oo(yi)&&(yi=null),vi!==null&&Oo(vi)&&(vi=null),bi!==null&&Oo(bi)&&(bi=null),Ta.forEach(F_),Ca.forEach(F_)}function ko(t,n){t.blockedOn===n&&(t.blockedOn=null,$d||($d=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,US)))}var Io=null;function V_(t){Io!==t&&(Io=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Io===t&&(Io=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],u=t[n+2];if(typeof o!="function"){if(Yd(o||a)===null)continue;break}var f=Rs(a);f!==null&&(t.splice(n,3),n-=3,Uu(f,{pending:!0,data:u,method:a.method,action:o},o,u))}}))}function Ra(t){function n(S){return ko(S,t)}yi!==null&&ko(yi,t),vi!==null&&ko(vi,t),bi!==null&&ko(bi,t),Ta.forEach(n),Ca.forEach(n);for(var a=0;a<Ei.length;a++){var o=Ei[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ei.length&&(a=Ei[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&Ei.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],g=u[St]||null;if(typeof f=="function")g||V_(a);else if(g){var v=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[St]||null)v=g.formAction;else if(Yd(u)!==null)continue}else v=g.action;typeof v=="function"?a[o+1]=v:(a.splice(o,3),o-=3),V_(a)}}}function Wd(t){this._internalRoot=t}Do.prototype.render=Wd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=jt();j_(a,o,t,n,null,null)},Do.prototype.unmount=Wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&nr(),j_(t.current,2,null,t,null,null),po(),n[Ns]=null}};function Do(t){this._internalRoot=t}Do.prototype.unstable_scheduleHydration=function(t){if(t){var n=ym();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ei.length&&n!==0&&n<Ei[a].priority;a++);Ei.splice(a,0,t),a===0&&q_(t)}};var G_=e.version;if(G_!=="19.0.0")throw Error(r(527,G_,"19.0.0"));q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=z(n),t=t!==null?W(t):null,t=t===null?null:t.stateNode,t};var jS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:G,findFiberByHostInstance:Hi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{Dr=Mo.inject(jS),kt=Mo}catch{}}return Oa.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",u=og,f=cg,g=ug,v=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks)),n=L_(t,1,!1,null,null,a,o,u,f,g,v,null),t[Ns]=n.current,kd(t.nodeType===8?t.parentNode:t),new Wd(n)},Oa.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,u="",f=og,g=cg,v=ug,S=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),n=L_(t,1,!0,n,a??null,o,u,f,g,v,S,N),n.context=U_(null),a=n.current,o=jt(),u=ui(o),u.callback=null,di(a,u,o),n.current.lanes=o,Lr(n,o),_n(n),t[Ns]=n.current,kd(t),new Do(n)},Oa.version="19.0.0",Oa}var ty;function $S(){if(ty)return Xd.exports;ty=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xd.exports=YS(),Xd.exports}var WS=$S(),ka={},ny;function KS(){if(ny)return ka;ny=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.parse=d,ka.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function d(b,x){const C=new c,D=b.length;if(D<2)return C;const M=(x==null?void 0:x.decode)||y;let L=0;do{const j=b.indexOf("=",L);if(j===-1)break;const I=b.indexOf(";",L),V=I===-1?D:I;if(j>V){L=b.lastIndexOf(";",j-1)+1;continue}const $=h(b,L,j),Z=m(b,j,$),re=b.slice($,Z);if(C[re]===void 0){let ve=h(b,j+1,V),G=m(b,V,ve);const le=M(b.slice(ve,G));C[re]=le}L=V+1}while(L<D);return C}function h(b,x,C){do{const D=b.charCodeAt(x);if(D!==32&&D!==9)return x}while(++x<C);return C}function m(b,x,C){for(;x>C;){const D=b.charCodeAt(--x);if(D!==32&&D!==9)return x+1}return C}function p(b,x,C){const D=(C==null?void 0:C.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const M=D(x);if(!e.test(M))throw new TypeError(`argument val is invalid: ${x}`);let L=b+"="+M;if(!C)return L;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);L+="; Max-Age="+C.maxAge}if(C.domain){if(!s.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);L+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);L+="; Path="+C.path}if(C.expires){if(!E(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);L+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(L+="; HttpOnly"),C.secure&&(L+="; Secure"),C.partitioned&&(L+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return L}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function E(b){return l.call(b)==="[object Date]"}return ka}KS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iy="popstate";function QS(i={}){function e(l,c){let{pathname:d="/",search:h="",hash:m=""}=Es(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),bf("",{pathname:d,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){let d=l.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let m=l.location.href,p=m.indexOf("#");h=p===-1?m:m.slice(0,p)}return h+"#"+(typeof c=="string"?c:Ka(c))}function r(l,c){cn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return ZS(e,s,r,i)}function je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function cn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XS(){return Math.random().toString(36).substring(2,10)}function sy(i,e){return{usr:i.state,key:i.key,idx:e}}function bf(i,e,s=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Es(e):e,state:s,key:e&&e.key||r||XS()}}function Ka({pathname:i="/",search:e="",hash:s=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(i+=s.charAt(0)==="#"?s:"#"+s),i}function Es(i){let e={};if(i){let s=i.indexOf("#");s>=0&&(e.hash=i.substring(s),i=i.substring(0,s));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function ZS(i,e,s,r={}){let{window:l=document.defaultView,v5Compat:c=!1}=r,d=l.history,h="POP",m=null,p=y();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function y(){return(d.state||{idx:null}).idx}function E(){h="POP";let M=y(),L=M==null?null:M-p;p=M,m&&m({action:h,location:D.location,delta:L})}function b(M,L){h="PUSH";let j=bf(D.location,M,L);s&&s(j,M),p=y()+1;let I=sy(j,p),V=D.createHref(j);try{d.pushState(I,"",V)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;l.location.assign(V)}c&&m&&m({action:h,location:D.location,delta:1})}function x(M,L){h="REPLACE";let j=bf(D.location,M,L);s&&s(j,M),p=y();let I=sy(j,p),V=D.createHref(j);d.replaceState(I,"",V),c&&m&&m({action:h,location:D.location,delta:0})}function C(M){let L=l.location.origin!=="null"?l.location.origin:l.location.href,j=typeof M=="string"?M:Ka(M);return j=j.replace(/ $/,"%20"),je(L,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,L)}let D={get action(){return h},get location(){return i(l,d)},listen(M){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(iy,E),m=M,()=>{l.removeEventListener(iy,E),m=null}},createHref(M){return e(l,M)},createURL:C,encodeLocation(M){let L=C(M);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:b,replace:x,go(M){return d.go(M)}};return D}function Av(i,e,s="/"){return JS(i,e,s,!1)}function JS(i,e,s,r){let l=typeof e=="string"?Es(e):e,c=Di(l.pathname||"/",s);if(c==null)return null;let d=Ov(i);ew(d);let h=null;for(let m=0;h==null&&m<d.length;++m){let p=dw(c);h=cw(d[m],p,r)}return h}function Ov(i,e=[],s=[],r=""){let l=(c,d,h)=>{let m={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};m.relativePath.startsWith("/")&&(je(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=Fn([r,m.relativePath]),y=s.concat(m);c.children&&c.children.length>0&&(je(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Ov(c.children,e,y,p)),!(c.path==null&&!c.index)&&e.push({path:p,score:lw(p,c.index),routesMeta:y})};return i.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))l(c,d);else for(let m of kv(c.path))l(c,d,m)}),e}function kv(i){let e=i.split("/");if(e.length===0)return[];let[s,...r]=e,l=s.endsWith("?"),c=s.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let d=kv(r.join("/")),h=[];return h.push(...d.map(m=>m===""?c:[c,m].join("/"))),l&&h.push(...d),h.map(m=>i.startsWith("/")&&m===""?"/":m)}function ew(i){i.sort((e,s)=>e.score!==s.score?s.score-e.score:ow(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var tw=/^:[\w-]+$/,nw=3,iw=2,sw=1,rw=10,aw=-2,ry=i=>i==="*";function lw(i,e){let s=i.split("/"),r=s.length;return s.some(ry)&&(r+=aw),e&&(r+=iw),s.filter(l=>!ry(l)).reduce((l,c)=>l+(tw.test(c)?nw:c===""?sw:rw),r)}function ow(i,e){return i.length===e.length&&i.slice(0,-1).every((r,l)=>r===e[l])?i[i.length-1]-e[e.length-1]:0}function cw(i,e,s=!1){let{routesMeta:r}=i,l={},c="/",d=[];for(let h=0;h<r.length;++h){let m=r[h],p=h===r.length-1,y=c==="/"?e:e.slice(c.length)||"/",E=Wo({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!E&&p&&s&&!r[r.length-1].route.index&&(E=Wo({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!E)return null;Object.assign(l,E.params),d.push({params:l,pathname:Fn([c,E.pathname]),pathnameBase:pw(Fn([c,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(c=Fn([c,E.pathnameBase]))}return d}function Wo(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,r]=uw(i.path,i.caseSensitive,i.end),l=e.match(s);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:E},b)=>{if(y==="*"){let C=h[b]||"";d=c.slice(0,c.length-C.length).replace(/(.)\/+$/,"$1")}const x=h[b];return E&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:i}}function uw(i,e=!1,s=!0){cn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function dw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Di(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=i.charAt(s);return r&&r!=="/"?null:i.slice(s)||"/"}function fw(i,e="/"){let{pathname:s,search:r="",hash:l=""}=typeof i=="string"?Es(i):i;return{pathname:s?s.startsWith("/")?s:hw(s,e):e,search:gw(r),hash:_w(l)}}function hw(i,e){let s=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function tf(i,e,s,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mw(i){return i.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Iv(i){let e=mw(i);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function Dv(i,e,s,r=!1){let l;typeof i=="string"?l=Es(i):(l={...i},je(!l.pathname||!l.pathname.includes("?"),tf("?","pathname","search",l)),je(!l.pathname||!l.pathname.includes("#"),tf("#","pathname","hash",l)),je(!l.search||!l.search.includes("#"),tf("#","search","hash",l)));let c=i===""||l.pathname==="",d=c?"/":l.pathname,h;if(d==null)h=s;else{let E=e.length-1;if(!r&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),E-=1;l.pathname=b.join("/")}h=E>=0?e[E]:"/"}let m=fw(l,h),p=d&&d!=="/"&&d.endsWith("/"),y=(c||d===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Fn=i=>i.join("/").replace(/\/\/+/g,"/"),pw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),gw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,_w=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function yw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Mv=["POST","PUT","PATCH","DELETE"];new Set(Mv);var vw=["GET",...Mv];new Set(vw);var xr=R.createContext(null);xr.displayName="DataRouter";var vc=R.createContext(null);vc.displayName="DataRouterState";var Lv=R.createContext({isTransitioning:!1});Lv.displayName="ViewTransition";var bw=R.createContext(new Map);bw.displayName="Fetchers";var Ew=R.createContext(null);Ew.displayName="Await";var Sn=R.createContext(null);Sn.displayName="Navigation";var ll=R.createContext(null);ll.displayName="Location";var Kn=R.createContext({outlet:null,matches:[],isDataRoute:!1});Kn.displayName="Route";var Qf=R.createContext(null);Qf.displayName="RouteError";function Sw(i,{relative:e}={}){je(ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=R.useContext(Sn),{hash:l,pathname:c,search:d}=cl(i,{relative:e}),h=c;return s!=="/"&&(h=c==="/"?s:Fn([s,c])),r.createHref({pathname:h,search:d,hash:l})}function ol(){return R.useContext(ll)!=null}function Qn(){return je(ol(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(ll).location}var Uv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jv(i){R.useContext(Sn).static||R.useLayoutEffect(i)}function bc(){let{isDataRoute:i}=R.useContext(Kn);return i?Lw():ww()}function ww(){je(ol(),"useNavigate() may be used only in the context of a <Router> component.");let i=R.useContext(xr),{basename:e,navigator:s}=R.useContext(Sn),{matches:r}=R.useContext(Kn),{pathname:l}=Qn(),c=JSON.stringify(Iv(r)),d=R.useRef(!1);return jv(()=>{d.current=!0}),R.useCallback((m,p={})=>{if(cn(d.current,Uv),!d.current)return;if(typeof m=="number"){s.go(m);return}let y=Dv(m,JSON.parse(c),l,p.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Fn([e,y.pathname])),(p.replace?s.replace:s.push)(y,p.state,p)},[e,s,c,l,i])}R.createContext(null);function cl(i,{relative:e}={}){let{matches:s}=R.useContext(Kn),{pathname:r}=Qn(),l=JSON.stringify(Iv(s));return R.useMemo(()=>Dv(i,JSON.parse(l),r,e==="path"),[i,l,r,e])}function xw(i,e){return Pv(i,e)}function Pv(i,e,s,r){var j;je(ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:c}=R.useContext(Sn),{matches:d}=R.useContext(Kn),h=d[d.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",E=h&&h.route;{let I=E&&E.path||"";zv(p,!E||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let b=Qn(),x;if(e){let I=typeof e=="string"?Es(e):e;je(y==="/"||((j=I.pathname)==null?void 0:j.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${I.pathname}" was given in the \`location\` prop.`),x=I}else x=b;let C=x.pathname||"/",D=C;if(y!=="/"){let I=y.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(I.length).join("/")}let M=!c&&s&&s.matches&&s.matches.length>0?s.matches:Av(i,{pathname:D});cn(E||M!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),cn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=Aw(M&&M.map(I=>Object.assign({},I,{params:Object.assign({},m,I.params),pathname:Fn([y,l.encodeLocation?l.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?y:Fn([y,l.encodeLocation?l.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),d,s,r);return e&&L?R.createElement(ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},L):L}function Tw(){let i=Mw(),e=yw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:c},"ErrorBoundary")," or"," ",R.createElement("code",{style:c},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),s?R.createElement("pre",{style:l},s):null,d)}var Cw=R.createElement(Tw,null),Nw=class extends R.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?R.createElement(Kn.Provider,{value:this.props.routeContext},R.createElement(Qf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Rw({routeContext:i,match:e,children:s}){let r=R.useContext(xr);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Kn.Provider,{value:i},s)}function Aw(i,e=[],s=null,r=null){if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let l=i,c=s==null?void 0:s.errors;if(c!=null){let m=l.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);je(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,h=-1;if(s)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:E}=s,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!E||E[p.route.id]===void 0);if(p.route.lazy||b){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,p,y)=>{let E,b=!1,x=null,C=null;s&&(E=c&&p.route.id?c[p.route.id]:void 0,x=p.route.errorElement||Cw,d&&(h<0&&y===0?(zv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):h===y&&(b=!0,C=p.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,y+1)),M=()=>{let L;return E?L=x:b?L=C:p.route.Component?L=R.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=m,R.createElement(Rw,{match:p,routeContext:{outlet:m,matches:D,isDataRoute:s!=null},children:L})};return s&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?R.createElement(Nw,{location:s.location,revalidation:s.revalidation,component:x,error:E,children:M(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):M()},null)}function Xf(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ow(i){let e=R.useContext(xr);return je(e,Xf(i)),e}function kw(i){let e=R.useContext(vc);return je(e,Xf(i)),e}function Iw(i){let e=R.useContext(Kn);return je(e,Xf(i)),e}function Zf(i){let e=Iw(i),s=e.matches[e.matches.length-1];return je(s.route.id,`${i} can only be used on routes that contain a unique "id"`),s.route.id}function Dw(){return Zf("useRouteId")}function Mw(){var r;let i=R.useContext(Qf),e=kw("useRouteError"),s=Zf("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[s]}function Lw(){let{router:i}=Ow("useNavigate"),e=Zf("useNavigate"),s=R.useRef(!1);return jv(()=>{s.current=!0}),R.useCallback(async(l,c={})=>{cn(s.current,Uv),s.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:e,...c}))},[i,e])}var ay={};function zv(i,e,s){!e&&!ay[i]&&(ay[i]=!0,cn(!1,s))}R.memo(Uw);function Uw({routes:i,future:e,state:s}){return Pv(i,void 0,s,e)}function cr(i){je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jw({basename:i="/",children:e=null,location:s,navigationType:r="POP",navigator:l,static:c=!1}){je(!ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof s=="string"&&(s=Es(s));let{pathname:m="/",search:p="",hash:y="",state:E=null,key:b="default"}=s,x=R.useMemo(()=>{let C=Di(m,d);return C==null?null:{location:{pathname:C,search:p,hash:y,state:E,key:b},navigationType:r}},[d,m,p,y,E,b,r]);return cn(x!=null,`<Router basename="${d}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:R.createElement(Sn.Provider,{value:h},R.createElement(ll.Provider,{children:e,value:x}))}function Pw({children:i,location:e}){return xw(Ef(i),e)}function Ef(i,e=[]){let s=[];return R.Children.forEach(i,(r,l)=>{if(!R.isValidElement(r))return;let c=[...e,l];if(r.type===R.Fragment){s.push.apply(s,Ef(r.props.children,c));return}je(r.type===cr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Ef(r.props.children,c)),s.push(d)}),s}var Bo="get",qo="application/x-www-form-urlencoded";function Ec(i){return i!=null&&typeof i.tagName=="string"}function zw(i){return Ec(i)&&i.tagName.toLowerCase()==="button"}function Hw(i){return Ec(i)&&i.tagName.toLowerCase()==="form"}function Bw(i){return Ec(i)&&i.tagName.toLowerCase()==="input"}function qw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Fw(i,e){return i.button===0&&(!e||e==="_self")&&!qw(i)}var Lo=null;function Vw(){if(Lo===null)try{new FormData(document.createElement("form"),0),Lo=!1}catch{Lo=!0}return Lo}var Gw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nf(i){return i!=null&&!Gw.has(i)?(cn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qo}"`),null):i}function Yw(i,e){let s,r,l,c,d;if(Hw(i)){let h=i.getAttribute("action");r=h?Di(h,e):null,s=i.getAttribute("method")||Bo,l=nf(i.getAttribute("enctype"))||qo,c=new FormData(i)}else if(zw(i)||Bw(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||h.getAttribute("action");if(r=m?Di(m,e):null,s=i.getAttribute("formmethod")||h.getAttribute("method")||Bo,l=nf(i.getAttribute("formenctype"))||nf(h.getAttribute("enctype"))||qo,c=new FormData(h,i),!Vw()){let{name:p,type:y,value:E}=i;if(y==="image"){let b=p?`${p}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else p&&c.append(p,E)}}else{if(Ec(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Bo,r=null,l=qo,d=i}return c&&l==="text/plain"&&(d=c,c=void 0),{action:r,method:s.toLowerCase(),encType:l,formData:c,body:d}}function Jf(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function $w(i,e){if(i.id in e)return e[i.id];try{let s=await import(i.module);return e[i.id]=s,s}catch(s){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ww(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Kw(i,e,s){let r=await Promise.all(i.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await $w(c,s);return d.links?d.links():[]}return[]}));return Jw(r.flat(1).filter(Ww).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ly(i,e,s,r,l,c){let d=(m,p)=>s[p]?m.route.id!==s[p].route.id:!0,h=(m,p)=>{var y;return s[p].pathname!==m.pathname||((y=s[p].route.path)==null?void 0:y.endsWith("*"))&&s[p].params["*"]!==m.params["*"]};return c==="assets"?e.filter((m,p)=>d(m,p)||h(m,p)):c==="data"?e.filter((m,p)=>{var E;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(d(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((E=s[0])==null?void 0:E.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Qw(i,e,{includeHydrateFallback:s}={}){return Xw(i.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),s&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function Xw(i){return[...new Set(i)]}function Zw(i){let e={},s=Object.keys(i).sort();for(let r of s)e[r]=i[r];return e}function Jw(i,e){let s=new Set;return new Set(e),i.reduce((r,l)=>{let c=JSON.stringify(Zw(l));return s.has(c)||(s.add(c),r.push({key:c,link:l})),r},[])}function ex(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function tx(){let i=R.useContext(xr);return Jf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function nx(){let i=R.useContext(vc);return Jf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var eh=R.createContext(void 0);eh.displayName="FrameworkContext";function Hv(){let i=R.useContext(eh);return Jf(i,"You must render this element inside a <HydratedRouter> element"),i}function ix(i,e){let s=R.useContext(eh),[r,l]=R.useState(!1),[c,d]=R.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:E}=e,b=R.useRef(null);R.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let D=L=>{L.forEach(j=>{d(j.isIntersecting)})},M=new IntersectionObserver(D,{threshold:.5});return b.current&&M.observe(b.current),()=>{M.disconnect()}}},[i]),R.useEffect(()=>{if(r){let D=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(D)}}},[r]);let x=()=>{l(!0)},C=()=>{l(!1),d(!1)};return s?i!=="intent"?[c,b,{}]:[c,b,{onFocus:Ia(h,x),onBlur:Ia(m,C),onMouseEnter:Ia(p,x),onMouseLeave:Ia(y,C),onTouchStart:Ia(E,x)}]:[!1,b,{}]}function Ia(i,e){return s=>{i&&i(s),s.defaultPrevented||e(s)}}function sx({page:i,...e}){let{router:s}=tx(),r=R.useMemo(()=>Av(s.routes,i,s.basename),[s.routes,i,s.basename]);return r?R.createElement(ax,{page:i,matches:r,...e}):null}function rx(i){let{manifest:e,routeModules:s}=Hv(),[r,l]=R.useState([]);return R.useEffect(()=>{let c=!1;return Kw(i,e,s).then(d=>{c||l(d)}),()=>{c=!0}},[i,e,s]),r}function ax({page:i,matches:e,...s}){let r=Qn(),{manifest:l,routeModules:c}=Hv(),{loaderData:d,matches:h}=nx(),m=R.useMemo(()=>ly(i,e,h,l,r,"data"),[i,e,h,l,r]),p=R.useMemo(()=>ly(i,e,h,l,r,"assets"),[i,e,h,l,r]),y=R.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let x=new Set,C=!1;if(e.forEach(M=>{var j;let L=l.routes[M.route.id];!L||!L.hasLoader||(!m.some(I=>I.route.id===M.route.id)&&M.route.id in d&&((j=c[M.route.id])!=null&&j.shouldRevalidate)||L.hasClientLoader?C=!0:x.add(M.route.id))}),x.size===0)return[];let D=ex(i);return C&&x.size>0&&D.searchParams.set("_routes",e.filter(M=>x.has(M.route.id)).map(M=>M.route.id).join(",")),[D.pathname+D.search]},[d,r,l,m,e,i,c]),E=R.useMemo(()=>Qw(p,l),[p,l]),b=rx(p);return R.createElement(R.Fragment,null,y.map(x=>R.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...s})),E.map(x=>R.createElement("link",{key:x,rel:"modulepreload",href:x,...s})),b.map(({key:x,link:C})=>R.createElement("link",{key:x,...C})))}function lx(...i){return e=>{i.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var Bv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bv&&(window.__reactRouterVersion="7.2.0")}catch{}function ox({basename:i,children:e,window:s}){let r=R.useRef();r.current==null&&(r.current=QS({window:s,v5Compat:!0}));let l=r.current,[c,d]=R.useState({action:l.action,location:l.location}),h=R.useCallback(m=>{R.startTransition(()=>d(m))},[d]);return R.useLayoutEffect(()=>l.listen(h),[l,h]),R.createElement(jw,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:l})}var qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fv=R.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:l,reloadDocument:c,replace:d,state:h,target:m,to:p,preventScrollReset:y,viewTransition:E,...b},x){let{basename:C}=R.useContext(Sn),D=typeof p=="string"&&qv.test(p),M,L=!1;if(typeof p=="string"&&D&&(M=p,Bv))try{let G=new URL(window.location.href),le=p.startsWith("//")?new URL(G.protocol+p):new URL(p),lt=Di(le.pathname,C);le.origin===G.origin&&lt!=null?p=lt+le.search+le.hash:L=!0}catch{cn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=Sw(p,{relative:l}),[I,V,$]=ix(r,b),Z=dx(p,{replace:d,state:h,target:m,preventScrollReset:y,relative:l,viewTransition:E});function re(G){e&&e(G),G.defaultPrevented||Z(G)}let ve=R.createElement("a",{...b,...$,href:M||j,onClick:L||c?e:re,ref:lx(x,V),target:m,"data-discover":!D&&s==="render"?"true":void 0});return I&&!D?R.createElement(R.Fragment,null,ve,R.createElement(sx,{page:j})):ve});Fv.displayName="Link";var Vv=R.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:l=!1,style:c,to:d,viewTransition:h,children:m,...p},y){let E=cl(d,{relative:p.relative}),b=Qn(),x=R.useContext(vc),{navigator:C,basename:D}=R.useContext(Sn),M=x!=null&&gx(E)&&h===!0,L=C.encodeLocation?C.encodeLocation(E).pathname:E.pathname,j=b.pathname,I=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(j=j.toLowerCase(),I=I?I.toLowerCase():null,L=L.toLowerCase()),I&&D&&(I=Di(I,D)||I);const V=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let $=j===L||!l&&j.startsWith(L)&&j.charAt(V)==="/",Z=I!=null&&(I===L||!l&&I.startsWith(L)&&I.charAt(L.length)==="/"),re={isActive:$,isPending:Z,isTransitioning:M},ve=$?e:void 0,G;typeof r=="function"?G=r(re):G=[r,$?"active":null,Z?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let le=typeof c=="function"?c(re):c;return R.createElement(Fv,{...p,"aria-current":ve,className:G,ref:y,style:le,to:d,viewTransition:h},typeof m=="function"?m(re):m)});Vv.displayName="NavLink";var cx=R.forwardRef(({discover:i="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:l,state:c,method:d=Bo,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:E,...b},x)=>{let C=mx(),D=px(h,{relative:p}),M=d.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&qv.test(h),j=I=>{if(m&&m(I),I.defaultPrevented)return;I.preventDefault();let V=I.nativeEvent.submitter,$=(V==null?void 0:V.getAttribute("formmethod"))||d;C(V||I.currentTarget,{fetcherKey:e,method:$,navigate:s,replace:l,state:c,relative:p,preventScrollReset:y,viewTransition:E})};return R.createElement("form",{ref:x,method:M,action:D,onSubmit:r?m:j,...b,"data-discover":!L&&i==="render"?"true":void 0})});cx.displayName="Form";function ux(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gv(i){let e=R.useContext(xr);return je(e,ux(i)),e}function dx(i,{target:e,replace:s,state:r,preventScrollReset:l,relative:c,viewTransition:d}={}){let h=bc(),m=Qn(),p=cl(i,{relative:c});return R.useCallback(y=>{if(Fw(y,e)){y.preventDefault();let E=s!==void 0?s:Ka(m)===Ka(p);h(i,{replace:E,state:r,preventScrollReset:l,relative:c,viewTransition:d})}},[m,h,p,s,r,e,i,l,c,d])}var fx=0,hx=()=>`__${String(++fx)}__`;function mx(){let{router:i}=Gv("useSubmit"),{basename:e}=R.useContext(Sn),s=Dw();return R.useCallback(async(r,l={})=>{let{action:c,method:d,encType:h,formData:m,body:p}=Yw(r,e);if(l.navigate===!1){let y=l.fetcherKey||hx();await i.fetch(y,s,l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await i.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:s,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,e,s])}function px(i,{relative:e}={}){let{basename:s}=R.useContext(Sn),r=R.useContext(Kn);je(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),c={...cl(i||".",{relative:e})},d=Qn();if(i==null){c.search=d.search;let h=new URLSearchParams(c.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(E=>E).forEach(E=>h.append("index",E));let y=h.toString();c.search=y?`?${y}`:""}}return(!i||i===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Fn([s,c.pathname])),Ka(c)}function gx(i,e={}){let s=R.useContext(Lv);je(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Gv("useViewTransitionState"),l=cl(i,{relative:e.relative});if(!s.isTransitioning)return!1;let c=Di(s.currentLocation.pathname,r)||s.currentLocation.pathname,d=Di(s.nextLocation.pathname,r)||s.nextLocation.pathname;return Wo(l.pathname,d)!=null||Wo(l.pathname,c)!=null}new TextEncoder;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yv=(...i)=>i.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=R.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...h},m)=>R.createElement("svg",{ref:m,...yx,width:e,height:e,stroke:i,strokeWidth:r?Number(s)*24/Number(e):s,className:Yv("lucide",l),...h},[...d.map(([p,y])=>R.createElement(p,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(i,e)=>{const s=R.forwardRef(({className:r,...l},c)=>R.createElement(vx,{ref:c,iconNode:e,className:Yv(`lucide-${_x(i)}`,r),...l}));return s.displayName=`${i}`,s};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$v=At("ArrowRight",bx);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Sx=At("ChevronLeft",Ex);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ls=At("ChevronRight",wx);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tx=At("Eye",xx);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Nx=At("Instagram",Cx);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Qa=At("Loader",Rx);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ox=At("Mail",Ax);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ix=At("MapPin",kx);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Mx=At("Phone",Dx);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ux=At("Plus",Lx);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Px=At("Star",jx);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Hx=At("Trash2",zx);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],qx=At("Upload",Bx);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],th=At("X",Fx);function Ko(i,e=800){const s=document.getElementById(i);if(!s)return;const r=window.scrollY,c=s.getBoundingClientRect().top+r-r;let d=null,h=null,m=!1;function p(){m=!0,h&&cancelAnimationFrame(h),window.removeEventListener("wheel",y,{passive:!0}),window.removeEventListener("touchstart",y,{passive:!0}),window.removeEventListener("keydown",y,{passive:!0})}function y(b){b.type==="keydown"&&!["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"," "].includes(b.key)||p()}window.addEventListener("wheel",y,{passive:!0}),window.addEventListener("touchstart",y,{passive:!0}),window.addEventListener("keydown",y,{passive:!0});function E(b){if(m)return;d||(d=b);const x=b-d,C=Math.min(x/e,1),D=1-Math.pow(1-C,5);window.scrollTo(0,r+c*D),x<e?h=requestAnimationFrame(E):p()}h=requestAnimationFrame(E)}const Vx=()=>{};var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(i,e){if(!i)throw Tr(e)},Tr=function(i){return new Error("Firebase Database ("+Wv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);l<128?e[s++]=l:l<2048?(e[s++]=l>>6|192,e[s++]=l&63|128):(l&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++r)&1023),e[s++]=l>>18|240,e[s++]=l>>12&63|128,e[s++]=l>>6&63|128,e[s++]=l&63|128):(e[s++]=l>>12|224,e[s++]=l>>6&63|128,e[s++]=l&63|128)}return e},Gx=function(i){const e=[];let s=0,r=0;for(;s<i.length;){const l=i[s++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[s++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[s++],d=i[s++],h=i[s++],m=((l&7)<<18|(c&63)<<12|(d&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const c=i[s++],d=i[s++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},nh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<i.length;l+=3){const c=i[l],d=l+1<i.length,h=d?i[l+1]:0,m=l+2<i.length,p=m?i[l+2]:0,y=c>>2,E=(c&3)<<4|h>>4;let b=(h&15)<<2|p>>6,x=p&63;m||(x=64,d||(b=64)),r.push(s[y],s[E],s[b],s[x])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Kv(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Gx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<i.length;){const c=s[i.charAt(l++)],h=l<i.length?s[i.charAt(l)]:0;++l;const p=l<i.length?s[i.charAt(l)]:64;++l;const E=l<i.length?s[i.charAt(l)]:64;if(++l,c==null||h==null||p==null||E==null)throw new Yx;const b=c<<2|h>>4;if(r.push(b),p!==64){const x=h<<4&240|p>>2;if(r.push(x),E!==64){const C=p<<6&192|E;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Yx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qv=function(i){const e=Kv(i);return nh.encodeByteArray(e,!0)},Qo=function(i){return Qv(i).replace(/\./g,"")},Xo=function(i){try{return nh.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(i){return Xv(void 0,i)}function Xv(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const s=e;return new Date(s.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const s in e)!e.hasOwnProperty(s)||!Wx(s)||(i[s]=Xv(i[s],e[s]));return i}function Wx(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=()=>Kx().__FIREBASE_DEFAULTS__,Xx=()=>{if(typeof process>"u"||typeof oy>"u")return;const i=oy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Zx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Xo(i[1]);return e&&JSON.parse(e)},ih=()=>{try{return Vx()||Qx()||Xx()||Zx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Zv=i=>{var e,s;return(s=(e=ih())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[i]},Jv=i=>{const e=Zv(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},e0=()=>{var i;return(i=ih())===null||i===void 0?void 0:i.config},t0=i=>{var e;return(e=ih())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(i){return i.endsWith(".cloudworkstations.dev")}async function sh(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Qo(JSON.stringify(s)),Qo(JSON.stringify(d)),""].join(".")}const Ba={};function Jx(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ba))Ba[e]?i.emulator.push(e):i.prod.push(e);return i}function eT(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let cy=!1;function rh(i,e){if(typeof window>"u"||typeof document>"u"||!Ss(window.location.host)||Ba[i]===e||Ba[i]||cy)return;Ba[i]=e;function s(b){return`__firebase__banner__${b}`}const r="__firebase__banner",c=Jx().prod.length>0;function d(){const b=document.getElementById(r);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{cy=!0,d()},b}function y(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=eT(r),x=s("text"),C=document.getElementById(x)||document.createElement("span"),D=s("learnmore"),M=document.getElementById(D)||document.createElement("a"),L=s("preprendIcon"),j=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const I=b.element;h(I),y(M,D);const V=p();m(j,L),I.append(j,C,M,V),document.body.appendChild(I)}c?(C.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ah(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function tT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function i0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iT(){const i=Et();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function sT(){return Wv.NODE_ADMIN===!0}function rT(){try{return typeof indexedDB=="object"}catch{return!1}}function aT(){return new Promise((i,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},l.onupgradeneeded=()=>{s=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="FirebaseError";class Xn extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=lT,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ul.prototype.create)}}class ul{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?oT(c,r):"Error",h=`${this.serviceName}: ${d} (${l}).`;return new Xn(l,h,r)}}function oT(i,e){return i.replace(cT,(s,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const cT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(i){return JSON.parse(i)}function at(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=function(i){let e={},s={},r={},l="";try{const c=i.split(".");e=Xa(Xo(c[0])||""),s=Xa(Xo(c[1])||""),l=c[2],r=s.d||{},delete s.d}catch{}return{header:e,claims:s,data:r,signature:l}},uT=function(i){const e=s0(i),s=e.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},dT=function(i){const e=s0(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function yr(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function Sf(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Zo(i,e,s){const r={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=e.call(s,i[l],l,i));return r}function hs(i,e){if(i===e)return!0;const s=Object.keys(i),r=Object.keys(e);for(const l of s){if(!r.includes(l))return!1;const c=i[l],d=e[l];if(uy(c)&&uy(d)){if(!hs(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!s.includes(l))return!1;return!0}function uy(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(i){const e=[];for(const[s,r]of Object.entries(i))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function za(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Ha(i){const e=i.indexOf("?");if(!e)return"";const s=i.indexOf("#",e);return i.substring(e,s>0?s:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,s){s||(s=0);const r=this.W_;if(typeof e=="string")for(let E=0;E<16;E++)r[E]=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),s+=4;else for(let E=0;E<16;E++)r[E]=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],s+=4;for(let E=16;E<80;E++){const b=r[E-3]^r[E-8]^r[E-14]^r[E-16];r[E]=(b<<1|b>>>31)&4294967295}let l=this.chain_[0],c=this.chain_[1],d=this.chain_[2],h=this.chain_[3],m=this.chain_[4],p,y;for(let E=0;E<80;E++){E<40?E<20?(p=h^c&(d^h),y=1518500249):(p=c^d^h,y=1859775393):E<60?(p=c&d|h&(c|d),y=2400959708):(p=c^d^h,y=3395469782);const b=(l<<5|l>>>27)+p+m+y+r[E]&4294967295;m=h,h=d,d=(c<<30|c>>>2)&4294967295,c=l,l=b}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,s){if(e==null)return;s===void 0&&(s=e.length);const r=s-this.blockSize;let l=0;const c=this.buf_;let d=this.inbuf_;for(;l<s;){if(d===0)for(;l<=r;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<s;)if(c[d]=e.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(c),d=0;break}}else for(;l<s;)if(c[d]=e[l],++d,++l,d===this.blockSize){this.compress_(c),d=0;break}}this.inbuf_=d,this.total_+=s}digest(){const e=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let l=0;l<5;l++)for(let c=24;c>=0;c-=8)e[r]=this.chain_[l]>>c&255,++r;return e}}function hT(i,e){const s=new mT(i,e);return s.subscribe.bind(s)}class mT{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let l;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");pT(e,["next","error","complete"])?l=e:l={next:e,error:s,complete:r},l.next===void 0&&(l.next=sf),l.error===void 0&&(l.error=sf),l.complete===void 0&&(l.complete=sf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pT(i,e){if(typeof i!="object"||i===null)return!1;for(const s of e)if(s in i&&typeof i[s]=="function")return!0;return!1}function sf(){}function lh(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);if(l>=55296&&l<=56319){const c=l-55296;r++,F(r<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(r)-56320;l=65536+(c<<10)+d}l<128?e[s++]=l:l<2048?(e[s++]=l>>6|192,e[s++]=l&63|128):l<65536?(e[s++]=l>>12|224,e[s++]=l>>6&63|128,e[s++]=l&63|128):(e[s++]=l>>18|240,e[s++]=l>>12&63|128,e[s++]=l>>6&63|128,e[s++]=l&63|128)}return e},wc=function(i){let e=0;for(let s=0;s<i.length;s++){const r=i.charCodeAt(s);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,s++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(i){return i&&i._delegate?i._delegate:i}class Mi{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new Sc;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:s});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vT(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[c,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);r===h&&d.resolve(l)}return l}onInit(e,s){var r;const l=this.normalizeInstanceIdentifier(s),c=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;c.add(e),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&e(d,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const l of r)try{l(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yT(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yT(i){return i===os?void 0:i}function vT(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new _T(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ne||(Ne={}));const ET={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},ST=Ne.INFO,wT={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},xT=(i,e,...s)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),l=wT[e];if(l)console[l](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oh{constructor(e){this.name=e,this._logLevel=ST,this._logHandler=xT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ET[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const TT=(i,e)=>e.some(s=>i instanceof s);let dy,fy;function CT(){return dy||(dy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NT(){return fy||(fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r0=new WeakMap,wf=new WeakMap,a0=new WeakMap,rf=new WeakMap,ch=new WeakMap;function RT(i){const e=new Promise((s,r)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{s(Ai(i.result)),l()},d=()=>{r(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(s=>{s instanceof IDBCursor&&r0.set(s,i)}).catch(()=>{}),ch.set(e,i),e}function AT(i){if(wf.has(i))return;const e=new Promise((s,r)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{s(),l()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});wf.set(i,e)}let xf={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return wf.get(i);if(e==="objectStoreNames")return i.objectStoreNames||a0.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ai(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function OT(i){xf=i(xf)}function kT(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=i.call(af(this),e,...s);return a0.set(r,e.sort?e.sort():[e]),Ai(r)}:NT().includes(i)?function(...e){return i.apply(af(this),e),Ai(r0.get(this))}:function(...e){return Ai(i.apply(af(this),e))}}function IT(i){return typeof i=="function"?kT(i):(i instanceof IDBTransaction&&AT(i),TT(i,CT())?new Proxy(i,xf):i)}function Ai(i){if(i instanceof IDBRequest)return RT(i);if(rf.has(i))return rf.get(i);const e=IT(i);return e!==i&&(rf.set(i,e),ch.set(e,i)),e}const af=i=>ch.get(i);function DT(i,e,{blocked:s,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(i,e),h=Ai(d);return r&&d.addEventListener("upgradeneeded",m=>{r(Ai(d.result),m.oldVersion,m.newVersion,Ai(d.transaction),m)}),s&&d.addEventListener("blocked",m=>s(m.oldVersion,m.newVersion,m)),h.then(m=>{c&&m.addEventListener("close",()=>c()),l&&m.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const MT=["get","getKey","getAll","getAllKeys","count"],LT=["put","add","delete","clear"],lf=new Map;function hy(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(lf.get(e))return lf.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,l=LT.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(l||MT.includes(s)))return;const c=async function(d,...h){const m=this.transaction(d,l?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[s](...h),l&&m.done]))[0]};return lf.set(e,c),c}OT(i=>({...i,get:(e,s,r)=>hy(e,s)||i.get(e,s,r),has:(e,s)=>!!hy(e,s)||i.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(jT(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function jT(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tf="@firebase/app",my="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new oh("@firebase/app"),PT="@firebase/app-compat",zT="@firebase/analytics-compat",HT="@firebase/analytics",BT="@firebase/app-check-compat",qT="@firebase/app-check",FT="@firebase/auth",VT="@firebase/auth-compat",GT="@firebase/database",YT="@firebase/data-connect",$T="@firebase/database-compat",WT="@firebase/functions",KT="@firebase/functions-compat",QT="@firebase/installations",XT="@firebase/installations-compat",ZT="@firebase/messaging",JT="@firebase/messaging-compat",eC="@firebase/performance",tC="@firebase/performance-compat",nC="@firebase/remote-config",iC="@firebase/remote-config-compat",sC="@firebase/storage",rC="@firebase/storage-compat",aC="@firebase/firestore",lC="@firebase/ai",oC="@firebase/firestore-compat",cC="firebase",uC="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="[DEFAULT]",dC={[Tf]:"fire-core",[PT]:"fire-core-compat",[HT]:"fire-analytics",[zT]:"fire-analytics-compat",[qT]:"fire-app-check",[BT]:"fire-app-check-compat",[FT]:"fire-auth",[VT]:"fire-auth-compat",[GT]:"fire-rtdb",[YT]:"fire-data-connect",[$T]:"fire-rtdb-compat",[WT]:"fire-fn",[KT]:"fire-fn-compat",[QT]:"fire-iid",[XT]:"fire-iid-compat",[ZT]:"fire-fcm",[JT]:"fire-fcm-compat",[eC]:"fire-perf",[tC]:"fire-perf-compat",[nC]:"fire-rc",[iC]:"fire-rc-compat",[sC]:"fire-gcs",[rC]:"fire-gcs-compat",[aC]:"fire-fst",[oC]:"fire-fst-compat",[lC]:"fire-vertex","fire-js":"fire-js",[cC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Map,fC=new Map,Nf=new Map;function py(i,e){try{i.container.addComponent(e)}catch(s){Gn.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function ms(i){const e=i.name;if(Nf.has(e))return Gn.debug(`There were multiple attempts to register component ${e}.`),!1;Nf.set(e,i);for(const s of Jo.values())py(s,i);for(const s of fC.values())py(s,i);return!0}function xc(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function Xt(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new ul("app","Firebase",hC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,s,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=uC;function Tc(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cf,automaticDataCollectionEnabled:!0},e),l=r.name;if(typeof l!="string"||!l)throw Oi.create("bad-app-name",{appName:String(l)});if(s||(s=e0()),!s)throw Oi.create("no-options");const c=Jo.get(l);if(c){if(hs(s,c.options)&&hs(r,c.config))return c;throw Oi.create("duplicate-app",{appName:l})}const d=new bT(l);for(const m of Nf.values())d.addComponent(m);const h=new mC(s,r,d);return Jo.set(l,h),h}function uh(i=Cf){const e=Jo.get(i);if(!e&&i===Cf&&e0())return Tc();if(!e)throw Oi.create("no-app",{appName:i});return e}function vn(i,e,s){var r;let l=(r=dC[i])!==null&&r!==void 0?r:i;s&&(l+=`-${s}`);const c=l.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const h=[`Unable to register library "${l}" with version "${e}":`];c&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&h.push("and"),d&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gn.warn(h.join(" "));return}ms(new Mi(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebase-heartbeat-database",gC=1,Za="firebase-heartbeat-store";let of=null;function l0(){return of||(of=DT(pC,gC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Za)}catch(s){console.warn(s)}}}}).catch(i=>{throw Oi.create("idb-open",{originalErrorMessage:i.message})})),of}async function _C(i){try{const s=(await l0()).transaction(Za),r=await s.objectStore(Za).get(o0(i));return await s.done,r}catch(e){if(e instanceof Xn)Gn.warn(e.message);else{const s=Oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gn.warn(s.message)}}}async function gy(i,e){try{const r=(await l0()).transaction(Za,"readwrite");await r.objectStore(Za).put(e,o0(i)),await r.done}catch(s){if(s instanceof Xn)Gn.warn(s.message);else{const r=Oi.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Gn.warn(r.message)}}}function o0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=1024,vC=30;class bC{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new SC(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=_y();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>vC){const d=wC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=_y(),{heartbeatsToSend:r,unsentEntries:l}=EC(this._heartbeatsCache.heartbeats),c=Qo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(s){return Gn.warn(s),""}}}function _y(){return new Date().toISOString().substring(0,10)}function EC(i,e=yC){const s=[];let r=i.slice();for(const l of i){const c=s.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),yy(s)>e){c.dates.pop();break}}else if(s.push({agent:l.agent,dates:[l.date]}),yy(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class SC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rT()?aT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await _C(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const l=await this.read();return gy(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const l=await this.read();return gy(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function yy(i){return Qo(JSON.stringify({version:2,heartbeats:i})).length}function wC(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let r=1;r<i.length;r++)i[r].date<s&&(s=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(i){ms(new Mi("platform-logger",e=>new UT(e),"PRIVATE")),ms(new Mi("heartbeat",e=>new bC(e),"PRIVATE")),vn(Tf,my,i),vn(Tf,my,"esm2017"),vn("fire-js","")}xC("");var TC="firebase",CC="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn(TC,CC,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="firebasestorage.googleapis.com",u0="storageBucket",NC=2*60*1e3,RC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe extends Xn{constructor(e,s,r=0){super(cf(e),`Firebase Storage: ${s} (${cf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qe;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qe||(qe={}));function cf(i){return"storage/"+i}function dh(){const i="An unknown error occurred, please check the error payload for server response.";return new Fe(qe.UNKNOWN,i)}function AC(i){return new Fe(qe.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function OC(i){return new Fe(qe.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kC(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Fe(qe.UNAUTHENTICATED,i)}function IC(){return new Fe(qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function DC(i){return new Fe(qe.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function MC(){return new Fe(qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LC(){return new Fe(qe.CANCELED,"User canceled the upload/download.")}function UC(i){return new Fe(qe.INVALID_URL,"Invalid URL '"+i+"'.")}function jC(i){return new Fe(qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function PC(){return new Fe(qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+u0+"' property when initializing the app?")}function zC(){return new Fe(qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HC(){return new Fe(qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BC(i){return new Fe(qe.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rf(i){return new Fe(qe.INVALID_ARGUMENT,i)}function d0(){return new Fe(qe.APP_DELETED,"The Firebase app was deleted.")}function qC(i){return new Fe(qe.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qa(i,e){return new Fe(qe.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Da(i){throw new Fe(qe.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,s){this.bucket=e,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,s){let r;try{r=bt.makeFromUrl(e,s)}catch{return new bt(e,"")}if(r.path==="")return r;throw jC(e)}static makeFromUrl(e,s){let r=null;const l="([A-Za-z0-9.\\-_]+)";function c(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const d="(/(.*))?$",h=new RegExp("^gs://"+l+d,"i"),m={bucket:1,path:3};function p(V){V.path_=decodeURIComponent(V.path)}const y="v[A-Za-z0-9_]+",E=s.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",x=new RegExp(`^https?://${E}/${y}/b/${l}/o${b}`,"i"),C={bucket:1,path:3},D=s===c0?"(?:storage.googleapis.com|storage.cloud.google.com)":s,M="([^?#]*)",L=new RegExp(`^https?://${D}/${l}/${M}`,"i"),I=[{regex:h,indices:m,postModify:c},{regex:x,indices:C,postModify:p},{regex:L,indices:{bucket:1,path:2},postModify:p}];for(let V=0;V<I.length;V++){const $=I[V],Z=$.regex.exec(e);if(Z){const re=Z[$.indices.bucket];let ve=Z[$.indices.path];ve||(ve=""),r=new bt(re,ve),$.postModify(r);break}}if(r==null)throw UC(e);return r}}class FC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(i,e,s){let r=1,l=null,c=null,d=!1,h=0;function m(){return h===2}let p=!1;function y(...M){p||(p=!0,e.apply(null,M))}function E(M){l=setTimeout(()=>{l=null,i(x,m())},M)}function b(){c&&clearTimeout(c)}function x(M,...L){if(p){b();return}if(M){b(),y.call(null,M,...L);return}if(m()||d){b(),y.call(null,M,...L);return}r<64&&(r*=2);let I;h===1?(h=2,I=0):I=(r+Math.random())*1e3,E(I)}let C=!1;function D(M){C||(C=!0,b(),!p&&(l!==null?(M||(h=2),clearTimeout(l),E(0)):M||(h=1)))}return E(0),c=setTimeout(()=>{d=!0,D(!0)},s),D}function GC(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(i){return i!==void 0}function $C(i){return typeof i=="object"&&!Array.isArray(i)}function fh(i){return typeof i=="string"||i instanceof String}function vy(i){return hh()&&i instanceof Blob}function hh(){return typeof Blob<"u"}function Af(i,e,s,r){if(r<e)throw Rf(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>s)throw Rf(`Invalid value for '${i}'. Expected ${s} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(i,e,s){let r=e;return s==null&&(r=`https://${e}`),`${s}://${r}/v0${i}`}function f0(i){const e=encodeURIComponent;let s="?";for(const r in i)if(i.hasOwnProperty(r)){const l=e(r)+"="+e(i[r]);s=s+l+"&"}return s=s.slice(0,-1),s}var fs;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(fs||(fs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(i,e){const s=i>=500&&i<600,l=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return s||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,s,r,l,c,d,h,m,p,y,E,b=!0,x=!1){this.url_=e,this.method_=s,this.headers_=r,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=h,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=E,this.retry=b,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,D)=>{this.resolve_=C,this.reject_=D,this.start_()})}start_(){const e=(r,l)=>{if(l){r(!1,new Uo(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=h=>{const m=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const h=c.getErrorCode()===fs.NO_ERROR,m=c.getStatus();if(!h||WC(m,this.additionalRetryCodes_)&&this.retry){const y=c.getErrorCode()===fs.ABORT;r(!1,new Uo(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;r(!0,new Uo(p,c))})},s=(r,l)=>{const c=this.resolve_,d=this.reject_,h=l.connection;if(l.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());YC(m)?c(m):c()}catch(m){d(m)}else if(h!==null){const m=dh();m.serverResponse=h.getErrorText(),this.errorCallback_?d(this.errorCallback_(h,m)):d(m)}else if(l.canceled){const m=this.appDelete_?d0():LC();d(m)}else{const m=MC();d(m)}};this.canceled_?s(!1,new Uo(!1,null,!0)):this.backoffId_=VC(e,s,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uo{constructor(e,s,r){this.wasSuccessCode=e,this.connection=s,this.canceled=!!r}}function QC(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function XC(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZC(i,e){e&&(i["X-Firebase-GMPID"]=e)}function JC(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function eN(i,e,s,r,l,c,d=!0,h=!1){const m=f0(i.urlParams),p=i.url+m,y=Object.assign({},i.headers);return ZC(y,e),QC(y,s),XC(y,c),JC(y,r),new KC(p,i.method,y,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,l,d,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nN(...i){const e=tN();if(e!==void 0){const s=new e;for(let r=0;r<i.length;r++)s.append(i[r]);return s.getBlob()}else{if(hh())return new Blob(i);throw new Fe(qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function iN(i,e,s){return i.webkitSlice?i.webkitSlice(e,s):i.mozSlice?i.mozSlice(e,s):i.slice?i.slice(e,s):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(i){if(typeof atob>"u")throw BC("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class uf{constructor(e,s){this.data=e,this.contentType=s||null}}function rN(i,e){switch(i){case yn.RAW:return new uf(h0(e));case yn.BASE64:case yn.BASE64URL:return new uf(m0(i,e));case yn.DATA_URL:return new uf(lN(e),oN(e))}throw dh()}function h0(i){const e=[];for(let s=0;s<i.length;s++){let r=i.charCodeAt(s);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(s<i.length-1&&(i.charCodeAt(s+1)&64512)===56320))e.push(239,191,189);else{const c=r,d=i.charCodeAt(++s);r=65536|(c&1023)<<10|d&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function aN(i){let e;try{e=decodeURIComponent(i)}catch{throw qa(yn.DATA_URL,"Malformed data URL.")}return h0(e)}function m0(i,e){switch(i){case yn.BASE64:{const l=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(l||c)throw qa(i,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case yn.BASE64URL:{const l=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(l||c)throw qa(i,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let s;try{s=sN(e)}catch(l){throw l.message.includes("polyfill")?l:qa(i,"Invalid character found")}const r=new Uint8Array(s.length);for(let l=0;l<s.length;l++)r[l]=s.charCodeAt(l);return r}class p0{constructor(e){this.base64=!1,this.contentType=null;const s=e.match(/^data:([^,]+)?,/);if(s===null)throw qa(yn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=s[1]||null;r!=null&&(this.base64=cN(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function lN(i){const e=new p0(i);return e.base64?m0(yn.BASE64,e.rest):aN(e.rest)}function oN(i){return new p0(i).contentType}function cN(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,s){let r=0,l="";vy(e)?(this.data_=e,r=e.size,l=e.type):e instanceof ArrayBuffer?(s?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(s?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,s){if(vy(this.data_)){const r=this.data_,l=iN(r,e,s);return l===null?null:new xi(l)}else{const r=new Uint8Array(this.data_.buffer,e,s-e);return new xi(r,!0)}}static getBlob(...e){if(hh()){const s=e.map(r=>r instanceof xi?r.data_:r);return new xi(nN.apply(null,s))}else{const s=e.map(d=>fh(d)?rN(yn.RAW,d).data:d.data_);let r=0;s.forEach(d=>{r+=d.byteLength});const l=new Uint8Array(r);let c=0;return s.forEach(d=>{for(let h=0;h<d.length;h++)l[c++]=d[h]}),new xi(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(i){let e;try{e=JSON.parse(i)}catch{return null}return $C(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function dN(i,e){const s=e.split("/").filter(r=>r.length>0).join("/");return i.length===0?s:i+"/"+s}function g0(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(i,e){return e}class vt{constructor(e,s,r,l){this.server=e,this.local=s||e,this.writable=!!r,this.xform=l||fN}}let jo=null;function hN(i){return!fh(i)||i.length<2?i:g0(i)}function _0(){if(jo)return jo;const i=[];i.push(new vt("bucket")),i.push(new vt("generation")),i.push(new vt("metageneration")),i.push(new vt("name","fullPath",!0));function e(c,d){return hN(d)}const s=new vt("name");s.xform=e,i.push(s);function r(c,d){return d!==void 0?Number(d):d}const l=new vt("size");return l.xform=r,i.push(l),i.push(new vt("timeCreated")),i.push(new vt("updated")),i.push(new vt("md5Hash",null,!0)),i.push(new vt("cacheControl",null,!0)),i.push(new vt("contentDisposition",null,!0)),i.push(new vt("contentEncoding",null,!0)),i.push(new vt("contentLanguage",null,!0)),i.push(new vt("contentType",null,!0)),i.push(new vt("metadata","customMetadata",!0)),jo=i,jo}function mN(i,e){function s(){const r=i.bucket,l=i.fullPath,c=new bt(r,l);return e._makeStorageReference(c)}Object.defineProperty(i,"ref",{get:s})}function pN(i,e,s){const r={};r.type="file";const l=s.length;for(let c=0;c<l;c++){const d=s[c];r[d.local]=d.xform(r,e[d.server])}return mN(r,i),r}function y0(i,e,s){const r=mh(e);return r===null?null:pN(i,r,s)}function gN(i,e,s,r){const l=mh(e);if(l===null||!fh(l.downloadTokens))return null;const c=l.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(p=>{const y=i.bucket,E=i.fullPath,b="/b/"+d(y)+"/o/"+d(E),x=dl(b,s,r),C=f0({alt:"media",token:p});return x+C})[0]}function _N(i,e){const s={},r=e.length;for(let l=0;l<r;l++){const c=e[l];c.writable&&(s[c.server]=i[c.local])}return JSON.stringify(s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="prefixes",Ey="items";function yN(i,e,s){const r={prefixes:[],items:[],nextPageToken:s.nextPageToken};if(s[by])for(const l of s[by]){const c=l.replace(/\/$/,""),d=i._makeStorageReference(new bt(e,c));r.prefixes.push(d)}if(s[Ey])for(const l of s[Ey]){const c=i._makeStorageReference(new bt(e,l.name));r.items.push(c)}return r}function vN(i,e,s){const r=mh(s);return r===null?null:yN(i,e,r)}class Cc{constructor(e,s,r,l){this.url=e,this.method=s,this.handler=r,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(i){if(!i)throw dh()}function bN(i,e){function s(r,l){const c=y0(i,l,e);return ph(c!==null),c}return s}function EN(i,e){function s(r,l){const c=vN(i,e,l);return ph(c!==null),c}return s}function SN(i,e){function s(r,l){const c=y0(i,l,e);return ph(c!==null),gN(c,l,i.host,i._protocol)}return s}function gh(i){function e(s,r){let l;return s.getStatus()===401?s.getErrorText().includes("Firebase App Check token is invalid")?l=IC():l=kC():s.getStatus()===402?l=OC(i.bucket):s.getStatus()===403?l=DC(i.path):l=r,l.status=s.getStatus(),l.serverResponse=r.serverResponse,l}return e}function v0(i){const e=gh(i);function s(r,l){let c=e(r,l);return r.getStatus()===404&&(c=AC(i.path)),c.serverResponse=l.serverResponse,c}return s}function wN(i,e,s,r,l){const c={};e.isRoot?c.prefix="":c.prefix=e.path+"/",s.length>0&&(c.delimiter=s),r&&(c.pageToken=r),l&&(c.maxResults=l);const d=e.bucketOnlyServerUrl(),h=dl(d,i.host,i._protocol),m="GET",p=i.maxOperationRetryTime,y=new Cc(h,m,EN(i,e.bucket),p);return y.urlParams=c,y.errorHandler=gh(e),y}function xN(i,e,s){const r=e.fullServerUrl(),l=dl(r,i.host,i._protocol),c="GET",d=i.maxOperationRetryTime,h=new Cc(l,c,SN(i,s),d);return h.errorHandler=v0(e),h}function TN(i,e){const s=e.fullServerUrl(),r=dl(s,i.host,i._protocol),l="DELETE",c=i.maxOperationRetryTime;function d(m,p){}const h=new Cc(r,l,d,c);return h.successCodes=[200,204],h.errorHandler=v0(e),h}function CN(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function NN(i,e,s){const r=Object.assign({},s);return r.fullPath=i.path,r.size=e.size(),r.contentType||(r.contentType=CN(null,e)),r}function RN(i,e,s,r,l){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function h(){let I="";for(let V=0;V<2;V++)I=I+Math.random().toString().slice(2);return I}const m=h();d["Content-Type"]="multipart/related; boundary="+m;const p=NN(e,r,l),y=_N(p,s),E="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,b=`\r
--`+m+"--",x=xi.getBlob(E,r,b);if(x===null)throw zC();const C={name:p.fullPath},D=dl(c,i.host,i._protocol),M="POST",L=i.maxUploadRetryTime,j=new Cc(D,M,bN(i,s),L);return j.urlParams=C,j.headers=d,j.body=x.uploadData(),j.errorHandler=gh(e),j}class AN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,s,r,l,c){if(this.sent_)throw Da("cannot .send() more than once");if(Ss(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(s,e,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Da("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Da("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Da("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Da("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ON extends AN{initXhr(){this.xhr_.responseType="text"}}function Nc(){return new ON}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,s){this._service=e,s instanceof bt?this._location=s:this._location=bt.makeFromUrl(s,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,s){return new ps(e,s)}get root(){const e=new bt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g0(this._location.path)}get storage(){return this._service}get parent(){const e=uN(this._location.path);if(e===null)return null;const s=new bt(this._location.bucket,e);return new ps(this._service,s)}_throwIfRoot(e){if(this._location.path==="")throw qC(e)}}function kN(i,e,s){i._throwIfRoot("uploadBytes");const r=RN(i.storage,i._location,_0(),new xi(e,!0),s);return i.storage.makeRequestWithTokens(r,Nc).then(l=>({metadata:l,ref:i}))}function IN(i){const e={prefixes:[],items:[]};return b0(i,e).then(()=>e)}async function b0(i,e,s){const l=await DN(i,{pageToken:s});e.prefixes.push(...l.prefixes),e.items.push(...l.items),l.nextPageToken!=null&&await b0(i,e,l.nextPageToken)}function DN(i,e){e!=null&&typeof e.maxResults=="number"&&Af("options.maxResults",1,1e3,e.maxResults);const s=e||{},r=wN(i.storage,i._location,"/",s.pageToken,s.maxResults);return i.storage.makeRequestWithTokens(r,Nc)}function MN(i){i._throwIfRoot("getDownloadURL");const e=xN(i.storage,i._location,_0());return i.storage.makeRequestWithTokens(e,Nc).then(s=>{if(s===null)throw HC();return s})}function LN(i){i._throwIfRoot("deleteObject");const e=TN(i.storage,i._location);return i.storage.makeRequestWithTokens(e,Nc)}function UN(i,e){const s=dN(i._location.path,e),r=new bt(i._location.bucket,s);return new ps(i.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(i){return/^[A-Za-z]+:\/\//.test(i)}function PN(i,e){return new ps(i,e)}function E0(i,e){if(i instanceof _h){const s=i;if(s._bucket==null)throw PC();const r=new ps(s,s._bucket);return e!=null?E0(r,e):r}else return e!==void 0?UN(i,e):i}function zN(i,e){if(e&&jN(e)){if(i instanceof _h)return PN(i,e);throw Rf("To use ref(service, url), the first argument must be a Storage instance.")}else return E0(i,e)}function Sy(i,e){const s=e==null?void 0:e[u0];return s==null?null:bt.makeFromBucketSpec(s,i)}function HN(i,e,s,r={}){i.host=`${e}:${s}`;const l=Ss(e);l&&(sh(`https://${i.host}`),rh("Storage",!0)),i._isUsingEmulator=!0,i._protocol=l?"https":"http";const{mockUserToken:c}=r;c&&(i._overrideAuthToken=typeof c=="string"?c:n0(c,i.app.options.projectId))}class _h{constructor(e,s,r,l,c,d=!1){this.app=e,this._authProvider=s,this._appCheckProvider=r,this._url=l,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=c0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NC,this._maxUploadRetryTime=RC,this._requests=new Set,l!=null?this._bucket=bt.makeFromBucketSpec(l,this._host):this._bucket=Sy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bt.makeFromBucketSpec(this._url,e):this._bucket=Sy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Af("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Af("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const s=await e.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ps(this,e)}_makeRequest(e,s,r,l,c=!0){if(this._deleted)return new FC(d0());{const d=eN(e,this._appId,r,l,s,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,s){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,s,r,l).getPromise()}}const wy="@firebase/storage",xy="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="storage";function BN(i,e,s){return i=Ge(i),kN(i,e,s)}function yh(i){return i=Ge(i),IN(i)}function vh(i){return i=Ge(i),MN(i)}function qN(i){return i=Ge(i),LN(i)}function vr(i,e){return i=Ge(i),zN(i,e)}function bh(i=uh(),e){i=Ge(i);const r=xc(i,S0).getImmediate({identifier:e}),l=Jv("storage");return l&&FN(r,...l),r}function FN(i,e,s,r={}){HN(i,e,s,r)}function VN(i,{instanceIdentifier:e}){const s=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),l=i.getProvider("app-check-internal");return new _h(s,r,l,e,ws)}function GN(){ms(new Mi(S0,VN,"PUBLIC").setMultipleInstances(!0)),vn(wy,xy,""),vn(wy,xy,"esm2017")}GN();const YN={apiKey:"AIzaSyAafDSvuHq7bb9F3-SdVpwM2NTNNtymT_o",authDomain:"nailsbydani-6082b.firebaseapp.com",databaseURL:"https://nailsbydani-6082b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nailsbydani-6082b",storageBucket:"nailsbydani-6082b.firebasestorage.app",messagingSenderId:"438345951991",appId:"1:438345951991:web:335b18a1bca6fa1a75c1f2",measurementId:"G-6R161TJXN6"},$N=Tc(YN),WN=({isVisible:i={}})=>{const[e,s]=R.useState({}),[r,l]=R.useState(new Set),[c,d]=R.useState([]),[h,m]=R.useState([]),[p,y]=R.useState(!0),[E,b]=R.useState({x:0,y:0}),[x,C]=R.useState(!1),[D,M]=R.useState(!1),[L,j]=R.useState(null),[I,V]=R.useState(!1),$=bh($N),Z=bc(),re={imageUrls:"gallery_image_urls",imageList:"gallery_image_list",timestamp:"gallery_cache_timestamp"},ve=24*60*60*1e3,G=()=>{const w=JSON.parse(localStorage.getItem(re.timestamp)||"0");return Date.now()-w<ve},le=()=>{console.log("test"),Z("/designs")},lt=w=>{e[w]&&(j({url:e[w],id:w}),V(!0),document.body.style.overflow="hidden")},Ot=()=>{V(!1),j(null),document.body.style.overflow="unset"},Pt=w=>{D&&b({x:w.clientX,y:w.clientY})},Zt=()=>{D&&C(!0)},ft=()=>{D&&C(!1)},Y=w=>{const z=w.match(/^(\d+)\./);return z?parseInt(z[1],10):null},ae=(w,z=8)=>{if(w.length===0)return[];const W=[...w];for(let Q=W.length-1;Q>0;Q--){const q=Math.floor(Math.random()*(Q+1));[W[Q],W[q]]=[W[q],W[Q]]}return W.slice(0,Math.min(z,W.length))},ee=w=>{l(z=>new Set([...z,w]))},xe=w=>{l(z=>new Set([...z,w]))};return R.useEffect(()=>{const w=()=>{M(window.innerWidth>=1024)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),R.useEffect(()=>{const w=z=>{z.key==="Escape"&&I&&Ot()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[I]),R.useEffect(()=>{(async()=>{y(!0);let z=[];try{if(G()){const W=localStorage.getItem(re.imageList);if(W){z=JSON.parse(W),d(z),m(ae(z)),y(!1);return}}}catch(W){console.error("Error reading cached image list:",W)}try{const W=vr($,"Designs/"),q=(await yh(W)).items.map(ne=>Y(ne.name)).filter(ne=>ne!==null).sort((ne,ce)=>ne-ce);console.log(`Found ${q.length} images:`,q),d(q),m(ae(q));try{localStorage.setItem(re.imageList,JSON.stringify(q)),localStorage.setItem(re.timestamp,JSON.stringify(Date.now()))}catch(ne){console.error("Error saving image list to localStorage:",ne)}}catch(W){console.error("Error fetching available images:",W),d([]),m([])}finally{y(!1)}})()},[]),R.useEffect(()=>{if(h.length===0)return;(async()=>{let z={};try{if(G()){const q=localStorage.getItem(re.imageUrls);q&&(z=JSON.parse(q))}}catch(q){console.error("Error reading cached URLs:",q)}const W={},Q=[];for(const q of h)z[q]?W[q]=z[q]:Q.push(q);if(Object.keys(W).length>0&&s(W),Q.length>0){const q={...z};for(const ne of Q){const ce=vr($,`Designs/${ne}.jpg`);try{const Ye=await vh(ce);q[ne]=Ye,s(be=>({...be,[ne]:Ye}))}catch(Ye){console.error(`Failed to fetch download URL for design ${ne}:`,Ye)}}try{localStorage.setItem(re.imageUrls,JSON.stringify(q)),localStorage.setItem(re.timestamp,JSON.stringify(Date.now()))}catch(ne){console.error("Error saving URLs to localStorage:",ne)}}})()},[h]),p?_.jsx("section",{id:"gallery",className:"py-24 bg-white",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[_.jsxs("div",{className:`text-center mb-20 transition-all duration-1000 ${i!=null&&i.gallery?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[_.jsx("h2",{className:"text-4xl md:text-5xl font-extralight text-stone-900 mb-6",children:"Portfolio Highlights"}),_.jsx("p",{className:"text-stone-600 font-light max-w-2xl mx-auto text-lg",children:"Loading our gallery..."})]}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:8}).map((w,z)=>_.jsx("div",{className:"aspect-square rounded-lg bg-gradient-to-br from-stone-300 via-stone-200 to-stone-300 animate-pulse",children:_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-stone-300 to-transparent animate-shimmer transform -skew-x-12 w-full h-full"})},z))})]})}):c.length===0?_.jsx("section",{id:"gallery",className:"py-24 bg-white",children:_.jsx("div",{className:"max-w-7xl mx-auto px-6",children:_.jsxs("div",{className:`text-center mb-20 transition-all duration-1000 ${i!=null&&i.gallery?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[_.jsx("h2",{className:"text-4xl md:text-5xl font-extralight text-stone-900 mb-6",children:"Portfolio Highlights"}),_.jsx("p",{className:"text-stone-600 font-light max-w-2xl mx-auto text-lg",children:"No images found in the gallery."})]})})}):_.jsxs("section",{id:"gallery",className:"py-24 bg-white",children:[_.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[_.jsxs("div",{className:`text-center mb-20 transition-all duration-1000 ${i!=null&&i.gallery?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[_.jsx("h2",{className:"text-4xl md:text-5xl font-extralight text-stone-900 mb-6",children:"Portfolio Highlights"}),_.jsx("p",{className:"text-stone-600 font-light max-w-2xl mx-auto text-lg font-sans",children:"A curated selection of our most celebrated designs, showcasing the versatility and artistry of our craft."})]}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:h.map((w,z)=>_.jsx("div",{className:`aspect-square group cursor-pointer overflow-hidden rounded-lg ${D?"cursor-none":""} ${i!=null&&i.gallery?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${z*100}ms`},onMouseMove:Pt,onMouseEnter:Zt,onMouseLeave:ft,onClick:()=>lt(w),children:_.jsxs("div",{className:"relative w-full h-full",children:[!r.has(w)&&_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-stone-300 via-stone-200 to-stone-300 animate-pulse",children:_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-stone-300 to-transparent animate-shimmer transform -skew-x-12 w-full h-full"})}),e[w]&&_.jsx("img",{src:e[w],alt:`Gallery ${w}`,className:`w-full h-full object-cover transition-all duration-300 group-hover:scale-110 ${r.has(w)?"opacity-100":"opacity-0"}`,loading:"lazy",onLoad:()=>ee(w),onError:()=>xe(w)}),r.has(w)&&!e[w]&&_.jsx("div",{className:"w-full h-full bg-stone-100 flex items-center justify-center",children:_.jsxs("div",{className:"text-stone-400 text-center",children:[_.jsx("div",{className:"text-2xl mb-2",children:""}),_.jsx("div",{className:"text-xs",children:"Image unavailable"})]})}),_.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100"})]})},w))}),I&&L&&_.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-modal-fade-in",onClick:Ot,children:[_.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-90 animate-backdrop-fade-in"}),_.jsxs("div",{className:"relative animate-modal-scale-in",onClick:w=>w.stopPropagation(),children:[_.jsx("button",{onClick:Ot,className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors z-10",children:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})}),_.jsx("div",{className:"bg-white p-4 pb-16 shadow-xl transform rotate-1",children:_.jsx("div",{className:"w-80 h-80 overflow-hidden flex items-center justify-center",children:_.jsx("img",{src:L.url,alt:`Gallery ${L.id}`,className:"w-full h-full object-contain"})})})]})]}),D&&x&&_.jsx("div",{className:"fixed pointer-events-none z-50",style:{left:E.x,top:E.y,transform:"translate(-50%, -50%)"},children:_.jsx("div",{className:"bg-black bg-opacity-60 text-white w-16 h-16 rounded-full text-sm uppercase tracking-wider flex items-center justify-center animate-cursor-grow font-sans font-medium",children:"View"})}),_.jsx("div",{className:"flex justify-center mt-12 space-x-4",children:_.jsx("button",{onClick:le,className:"group relative text-black border border-black px-16 py-4 font-light text-sm uppercase tracking-widest hover:bg-black hover:text-white transition-all duration-300",children:_.jsx("span",{className:"relative z-10",children:"View Gallery"})})})]}),_.jsx("style",{jsx:!0,children:`
        @keyframes shimmer {
          0% {
            transform: translateX(-100%);
          }
          100% {
            transform: translateX(100%);
          }
        }
        
        @keyframes cursor-grow {
          0% {
            transform: scale(0);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        @keyframes modal-fade-in {
          0% {
            opacity: 0;
          }
          100% {
            opacity: 1;
          }
        }
        
        @keyframes backdrop-fade-in {
          0% {
            opacity: 0;
          }
          100% {
            opacity: 1;
          }
        }
        
        @keyframes modal-scale-in {
          0% {
            transform: scale(0.8);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        .animate-shimmer {
          animation: shimmer 2s infinite;
        }
        
        .animate-cursor-grow {
          animation: cursor-grow 0.3s ease-out forwards;
        }
        
        .animate-modal-fade-in {
          animation: modal-fade-in 0.3s ease-out forwards;
        }
        
        .animate-backdrop-fade-in {
          animation: backdrop-fade-in 0.3s ease-out forwards;
        }
        
        .animate-modal-scale-in {
          animation: modal-scale-in 0.4s ease-out forwards;
        }
      `})]})},KN=()=>{const[i,e]=R.useState({name:"",email:"",message:""}),[s,r]=R.useState(!1),[l,c]=R.useState(""),d=m=>{e({...i,[m.target.name]:m.target.value})},h=async()=>{if(!i.name||!i.email||!i.message){c("Please fill in all fields");return}r(!0),c("");try{if((await fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:"service_et71par",template_id:"template_9jjgnog",user_id:"mFxKhq0zMQ6F6Ivj5",template_params:{name:i.name,from_name:i.name,from_email:i.email,email:i.email,message:i.message}})})).ok)c("Message sent successfully!"),e({name:"",email:"",message:""});else throw new Error("Failed to send message")}catch(m){c("To enable email sending, please set up EmailJS or a backend service. For now, use WhatsApp below."),console.error("Error:",m)}finally{r(!1)}};return _.jsx("section",{id:"contact",className:"py-24 bg-gray-50 text-gray-900",children:_.jsx("div",{className:"max-w-7xl mx-auto px-6",children:_.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[_.jsxs("div",{children:[_.jsxs("h2",{className:"text-4xl md:text-4xl font-extralight mb-12 mt-10 text-gray-900 font-bodoni-moda",children:["LET'S CREATE",_.jsx("span",{className:"block text-[#CFB53B]",children:"SOMETHING BEAUTIFUL"})]}),_.jsx("p",{className:"text-gray-600 font-light mb-12 text-md leading-relaxed font-sans text-lg",children:"Ready to elevate your style? Book a consultation and let's bring your nail vision to life."}),_.jsx("div",{className:"space-y-6 mb-12 mt-10",children:[{icon:_.jsx(Mx,{className:"w-5 h-5"}),label:"Phone",value:"+27 66 104 3677",href:"tel:+27661043677"},{icon:_.jsx(Ox,{className:"w-5 h-5"}),label:"Email",value:"danielaalves3677@gmail.com",href:"mailto:danielaalves3677@gmail.com"},{icon:_.jsx(Ix,{className:"w-5 h-5"}),label:"Location",value:"Vanderbijlpark, SE3, South Africa",href:"https://www.google.com/maps/search/?api=1&query=Vanderbijlpark+SE3+%2C+South+Africa"},{icon:_.jsx(Nx,{className:"w-5 h-5"}),label:"Instagram",value:"@nails_by_danielaalves",href:"https://instagram.com/nails_by_danielaalves"}].map((m,p)=>_.jsx("a",{href:m.href,target:m.href.startsWith("http")?"_blank":void 0,rel:m.href.startsWith("http")?"noopener noreferrer":void 0,className:"flex items-center space-x-4 hover:underline text-gray-700 hover:text-gray-900",children:_.jsxs("div",{children:[_.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider font-sans",children:m.label}),_.jsx("div",{className:"text-gray-800 font-sans",children:m.value})]})},p))})]}),_.jsxs("div",{id:"book-form",className:"bg-white border border-gray-200 shadow-sm p-8",children:[_.jsx("h3",{className:"text-2xl font-light mb-8 text-gray-900",children:"BOOK CONSULTATION"}),l&&_.jsx("div",{className:`p-4 mb-6 text-center rounded ${l.includes("successfully")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:l}),_.jsxs("div",{className:"space-y-6",children:[_.jsx("div",{children:_.jsx("input",{type:"text",name:"name",value:i.name,onChange:d,placeholder:"Your Name",className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors"})}),_.jsx("div",{children:_.jsx("input",{type:"email",name:"email",value:i.email,onChange:d,placeholder:"Email Address",className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors"})}),_.jsx("div",{children:_.jsx("textarea",{name:"message",value:i.message,onChange:d,placeholder:"Tell me about your vision...",rows:4,className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors resize-none"})}),_.jsx("button",{onClick:h,disabled:s,className:"w-full bg-gray-900 text-white p-4 font-light hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Sending...":"Send Email"})]}),_.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:_.jsx("a",{href:"https://wa.me/27661043677",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-gray-100 text-gray-900 p-4 font-light hover:bg-gray-200 transition-colors text-center border border-gray-300",children:"Or Send via WhatsApp"})})]})]})})})},w0=[{question:"How long do gel nails last?",answer:"Gel nails typically last 2-4 weeks with proper care. The longevity depends on your lifestyle, nail growth rate, and aftercare routine. Most clients book touch-ups every 3 weeks to maintain that fresh, salon-perfect look."},{question:"What's the difference between gel and regular polish?",answer:"Gel polish is cured under UV/LED light, making it chip-resistant and long-lasting for weeks. Regular polish air-dries and typically lasts 3-7 days. Gel provides a glossy, durable finish that maintains its shine throughout wear."},{question:"How should I prepare for my nail appointment?",answer:"Remove any existing polish, keep your cuticles moisturized, and avoid cutting your nails too short beforehand. If you have design inspiration, bring photos! Also, let me know about any allergies or sensitivities during booking."},{question:"Can you work on damaged or weak nails?",answer:"Absolutely! I specialize in nail rehabilitation and strengthening treatments. We can build up weak spots, repair breaks, and use strengthening base coats to improve your natural nail health while creating beautiful manicures."},{question:"How do I make my manicure last longer?",answer:"Wear gloves when cleaning, use cuticle oil daily, avoid using nails as tools, and book regular touch-ups. I'll provide specific aftercare instructions and recommend products to extend your manicure's lifespan."},{question:"Do you offer nail art and custom designs?",answer:"Yes! I love creating unique nail art, from simple accent nails to intricate hand-painted designs. Whether you want seasonal themes, special occasion nails, or personalized artwork, we can bring your vision to life."},{question:"How often should I get my nails done?",answer:"Most clients visit every 2-4 weeks depending on the service. Gel manicures typically need refreshing every 3 weeks, while maintenance appointments for nail health can be monthly. I'll recommend the best schedule for your lifestyle and nail goals."},{question:"What if I have an allergic reaction to products?",answer:"Your safety is my priority! I use high-quality, professional products and can perform patch tests for sensitive clients. If you have known allergies, please inform me during booking so I can select appropriate hypoallergenic alternatives."},{question:"Can I bring my own nail polish?",answer:"While I stock professional-grade polishes in many colors, you're welcome to bring your own special shades! Just ensure they're compatible with professional application techniques for the best results."},{question:"What are your prices for different services?",answer:"Prices vary by service: basic manicures start around R200-300, gel manicures R350-450, and nail art R450-600+ depending on complexity. I offer package deals for regular clients and seasonal promotions. Contact me for a detailed price list!"},{question:"How do I book an appointment?",answer:"You can book through my website, WhatsApp, or call directly. I recommend booking 1-2 weeks in advance, especially for weekends and special occasions. Cancellations require 24-hour notice to avoid fees."},{question:"Do you offer mobile nail services?",answer:"Yes! I provide mobile services for special events, bridal parties, or clients who prefer the convenience of home appointments. Mobile service includes a small travel fee depending on location within my service area."}];function QN(){const[i,e]=R.useState(null),[s,r]=R.useState(new Set),[l,c]=R.useState(!1),d=bc();R.useEffect(()=>{const E=setTimeout(()=>{c(!0)},100);return()=>clearTimeout(E)},[]),R.useEffect(()=>{const E=()=>{["services","testimonials","faq"].forEach(x=>{const C=document.getElementById(x);C&&!s.has(x)&&C.getBoundingClientRect().top<window.innerHeight*.6&&r(L=>new Set([...L,x]))})};if(l)return E(),window.addEventListener("scroll",E,{passive:!0}),()=>window.removeEventListener("scroll",E)},[s,l]);const h=E=>{e(b=>b===E?null:E)},m=()=>{d("/designs")},p=E=>s.has(E),y={services:p("services"),testimonials:p("testimonials"),faq:p("faq"),gallery:p("services"),about:p("services")};return l?_.jsxs("div",{className:"min-h-screen bg-white",children:[_.jsxs("section",{id:"hero",className:"relative h-screen flex items-center justify-center overflow-hidden bg-white",style:{backgroundColor:"#ffffff"},children:[_.jsx("div",{className:"relative z-10 text-center px-6 max-w-5xl w-full",children:_.jsxs("div",{className:`transition-all duration-700 ease-out ${l?"animate-fade-in-up":"opacity-0 translate-y-8"}`,children:[_.jsx("div",{className:"inline-flex items-center mb-6 px-4 py-2 bg-white/80 backdrop-blur-sm",children:_.jsx("p",{className:"text-xs text-gray-600 font-medium uppercase tracking-widest",children:"Certified Nail Technician"})}),_.jsxs("h1",{className:`text-5xl md:text-8xl font-light font-bodoni-moda text-neutral-900 mb-8 tracking-tight leading-[0.85] transition-all duration-1000 ease-out ${l?"animate-fade-in-up-delay-1":"opacity-0 translate-y-8"}`,children:["PRECISION",_.jsxs("span",{className:`block mt-3 transition-all duration-1200 ease-out ${l?"animate-fade-in-up-delay-2":"opacity-0 translate-y-8"}`,children:["& ",_.jsx("span",{className:"text-[#CFB53B] relative",children:"ELEGANCE"})]})]}),_.jsx("p",{className:`text-sm md:text-lg font-sans text-neutral-600 mb-12 max-w-2xl mx-auto leading-relaxed font-light transition-all duration-1000 ease-out ${l?"animate-fade-in-up-delay-3":"opacity-0 translate-y-8"}`,children:"Transforming your nails into works of art with meticulous attention to detail and contemporary elegance."}),_.jsxs("div",{className:`flex flex-col sm:flex-row gap-3 sm:gap-6 mt-14 justify-center items-center transition-all duration-1000 ease-out ${l?"animate-fade-in-up-delay-4":"opacity-0 translate-y-8"}`,children:[_.jsxs("button",{onClick:()=>Ko("contact",1500),className:"group relative bg-neutral-900 text-white px-14 py-4 text-sm font-medium uppercase tracking-wider hover:bg-neutral-800 transition-all duration-[400ms] ease-[cubic-bezier(0.25,0.46,0.45,0.94)] flex items-center justify-center hover:shadow-xl transform hover:-translate-y-1 overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 transform translate-x-full transition-transform duration-300 group-hover:translate-x-0"}),_.jsx("span",{className:"relative z-10",children:"Book Now"}),_.jsx($v,{className:"ml-3 w-4 h-4 transition-all duration-[400ms] ease-[cubic-bezier(0.25,0.46,0.45,0.94)] group-hover:translate-x-1"})]}),_.jsxs("button",{onClick:m,className:"group relative text-neutral-700 hover:text-neutral-900 transition-all duration-[400ms] ease-[cubic-bezier(0.25,0.46,0.45,0.94)] text-sm font-medium uppercase tracking-wider px-14 py-4 border border-neutral-200 hover:border-neutral-400 hover:shadow-lg transform hover:-translate-y-1 flex items-center justify-center overflow-hidden backdrop-blur-sm",children:[_.jsx("span",{className:"relative z-10 flex items-center",children:"View Gallery"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neutral-50/50 to-neutral-100/50 transform translate-x-full transition-transform duration-300 group-hover:translate-x-0"})]})]})]})}),_.jsx("div",{className:`hidden md:block absolute bottom-8 left-1/2 transform -translate-x-1/2 transition-all duration-1000 ease-out ${l?"animate-fade-in-delay-5":"opacity-0"}`,children:_.jsxs("div",{className:"flex flex-col items-center group",children:[_.jsx("span",{className:"text-xs text-neutral-500 mb-3 uppercase tracking-widest group-hover:text-neutral-700 transition-colors duration-300",children:"Scroll Down"}),_.jsx("div",{className:"relative",children:_.jsx("div",{className:"w-px h-12 bg-gradient-to-b from-neutral-400 to-transparent transition-colors duration-300"})})]})}),_.jsx("div",{className:"hidden md:block absolute top-24 left-8 w-8 h-8 border-l border-t border-neutral-200"}),_.jsx("div",{className:"hidden md:block absolute top-24 right-8 w-8 h-8 border-r border-t border-neutral-200"}),_.jsx("div",{className:"hidden md:block absolute bottom-8 left-8 w-8 h-8 border-l border-b border-neutral-200"}),_.jsx("div",{className:"hidden md:block absolute bottom-8 right-8 w-8 h-8 border-r border-b border-neutral-200"})]}),_.jsx("section",{id:"services",className:"py-32 bg-white",children:_.jsxs("div",{className:"max-w-6xl mx-auto px-8",children:[_.jsxs("div",{className:`text-center mb-24 transition-all duration-1000 ease-out ${p("services")?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,children:[_.jsx("h2",{className:"text-5xl md:text-6xl font-extralight text-black mb-8 tracking-tight",children:"Professional Services"}),_.jsx("p",{className:"text-gray-600 font-light max-w-2xl mx-auto text-lg leading-relaxed font-sans",children:"Expert nail care and artistry with premium products and meticulous attention to detail."})]}),_.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{title:"Gel & Acrylic Overlays",description:"Professional overlays on your natural nails for strength and lasting beauty.",originalPrice:"R200",price:"FROM R160",discount:"20% OFF"},{title:"Extensions & Sculptures",description:"Expert extension services to create perfect length and elegant shape.",originalPrice:"R280",price:"FROM R210",discount:"25% OFF",popular:!0},{title:"Nail Art & Services",description:"Custom nail art, professional fills, repairs and maintenance services.",originalPrice:"R15",price:"FROM R5",discount:"67% OFF"}].map((E,b)=>_.jsxs("div",{className:`group bg-white p-12 cursor-pointer hover:-translate-y-2 transition-all duration-700 ease-out relative border border-gray-100 hover:border-gray-200 ${p("services")?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,style:{transitionDelay:p("services")?`${b*150}ms`:"0ms"},children:[E.popular&&_.jsxs("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-10",children:[_.jsx("div",{className:"bg-black text-white px-6 py-2 text-xs uppercase tracking-widest font-sans font-medium",children:"Most Popular"}),_.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-[6px] border-r-[6px] border-t-[6px] border-l-transparent border-r-transparent border-t-black"})]}),_.jsxs("div",{className:"h-full flex flex-col",children:[_.jsx("div",{className:"mb-2",children:_.jsx("span",{className:"text-base text-gray-400 uppercase tracking-widest font-lora",children:String(b+1).padStart(2,"0")})}),_.jsx("h3",{className:"text-xl font-light text-black mb-6 leading-tight",children:E.title}),_.jsx("p",{className:"text-gray-500 leading-relaxed mb-auto text-[15px] font-sans",children:E.description}),_.jsx("div",{className:"mt-12 pt-8 border-t border-gray-100",children:_.jsxs("div",{className:"flex items-end justify-between",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"text-sm text-gray-400 mb-1 font-light line-through",children:["WAS ",E.originalPrice]}),_.jsx("div",{className:"text-2xl font-light text-black",children:E.price})]}),_.jsx("div",{className:"text-sm font-medium text-black",children:E.discount})]})})]})]},b))}),_.jsx("div",{className:`text-center mt-20 transition-all duration-1000 ease-out ${p("services")?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:p("services")?"600ms":"0ms"},children:_.jsx("button",{onClick:()=>d("services"),className:"group relative text-black border border-black px-16 py-4 font-light text-sm uppercase tracking-widest hover:bg-black hover:text-white transition-all duration-300",children:_.jsx("span",{className:"relative z-10",children:"View All Services"})})})]})}),_.jsx(WN,{isVisible:y}),_.jsx("section",{id:"testimonials",className:"py-24 bg-gradient-to-br from-stone-50 to-white",children:_.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[_.jsx("div",{className:`text-center mb-20 transition-all duration-1000 ease-out ${p("testimonials")?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,children:_.jsx("h2",{className:"text-4xl md:text-5xl font-extralight text-stone-900 mb-6",children:"Client Stories"})}),_.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{name:"Ruben",text:"Daniela's artistry in nail design is truly inspiring. Every detail reflects her passion and innovative approach, leaving me feeling confident and uniquely styled."},{name:"Sophia",text:"I was amazed by the intricate designs and attention to detail. Daniela transformed my nails into a work of art that I proudly showcase every day."},{name:"James",text:"From start to finish, my experience was top-notch. Daniela's creativity and professionalism made me feel like a star."}].map((E,b)=>_.jsxs("div",{className:`bg-white p-8 border border-stone-100 transition-all duration-1000 ease-out ${p("testimonials")?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,style:{transitionDelay:p("testimonials")?`${b*200}ms`:"0ms"},children:[_.jsx("div",{className:"flex mb-4",children:[...Array(5)].map((x,C)=>_.jsx(Px,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},C))}),_.jsxs("p",{className:"text-stone-600 font-light text-sm mb-6 leading-relaxed italic",children:['"',E.text,'"']}),_.jsxs("div",{className:"text-stone-900 font-light text-sm",children:[" ",E.name]})]},b))})]})}),_.jsx("section",{className:"py-24 bg-white",id:"faq",children:_.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[_.jsx("div",{className:`text-center mb-20 transition-all duration-1000 ease-out ${p("faq")?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,children:_.jsx("h2",{className:"text-4xl md:text-5xl font-extralight text-stone-900 mb-6",children:"Frequently Asked"})}),_.jsx("div",{className:"space-y-2",children:w0.map((E,b)=>{const x=i===b;return _.jsxs("div",{className:`bg-white border border-stone-100 overflow-hidden transition-all duration-1000 ease-out ${p("faq")?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:p("faq")?`${b*50}ms`:"0ms"},children:[_.jsxs("button",{onClick:()=>h(b),className:"w-full flex justify-between items-center p-8 text-left hover:bg-stone-50 transition-colors",children:[_.jsx("span",{className:"text-stone-900 font-light text-lg",children:E.question}),_.jsxs("div",{className:`w-6 h-6 flex items-center justify-center transition-transform duration-300 ${x?"rotate-45":""}`,children:[_.jsx("div",{className:"w-4 h-px bg-stone-400"}),_.jsx("div",{className:"w-px h-4 bg-stone-400 absolute"})]})]}),_.jsx("div",{className:`overflow-hidden transition-all duration-300 ${x?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:_.jsx("div",{className:"px-8 pb-8",children:_.jsx("p",{className:"text-stone-600 font-light leading-relaxed font-montserrat font-xs",children:E.answer})})})]},b)})})]})}),_.jsx(KN,{}),_.jsx("footer",{className:"py-12 bg-stone-950 text-stone-400",children:_.jsx("div",{className:"max-w-7xl mx-auto px-6",children:_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[_.jsx("div",{className:"text-2xl font-dancing-script text-white font-thin cursor-pointer",onClick:()=>Ko("hero",1500),children:"Daniela Alves"}),_.jsxs("div",{className:"text-sm font-light",children:[" ",new Date().getFullYear()," Daniela Alves. All rights reserved."]})]})})}),_.jsx("style",{jsx:!0,children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        .animate-fade-in-up {
          animation: fadeInUp 0.8s ease-out forwards;
        }

        .animate-fade-in-up-delay-1 {
          animation: fadeInUp 0.8s ease-out 0.1s both;
        }

        .animate-fade-in-up-delay-2 {
          animation: fadeInUp 0.8s ease-out 0.2s both;
        }

        .animate-fade-in-up-delay-3 {
          animation: fadeInUp 0.8s ease-out 0.3s both;
        }

        .animate-fade-in-up-delay-4 {
          animation: fadeInUp 0.8s ease-out 0.4s both;
        }

        .animate-fade-in-delay-5 {
          animation: fadeIn 0.8s ease-out 0.6s both;
        }
      `})]}):_.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:_.jsx("div",{className:"text-center",children:_.jsx("div",{className:"animate-pulse",children:_.jsx("div",{className:"text-2xl font-light text-gray-400 uppercase font-bodoni-moda",children:"Loading..."})})})})}function XN(){const i=bc(),e=Qn(),[s,r]=R.useState(!1),[l,c]=R.useState(!0),[d,h]=R.useState(0);R.useEffect(()=>{const b=document.createElement("style");return b.textContent=`
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
    `,document.head.appendChild(b),()=>document.head.removeChild(b)},[]),R.useEffect(()=>{const b=()=>{const x=window.scrollY;x<10?c(!0):x>d&&x>0?c(!1):x<d&&c(!0),h(x)};return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[d]),R.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]);const m=()=>{r(!s)},p=b=>{typeof b=="function"&&b(),r(!1)},y=(b,x=2500)=>{e.pathname==="/"?Ko(b,x):(i("/"),setTimeout(()=>{Ko(b,x)},300))},E=()=>{i("/designs")};return _.jsxs(_.Fragment,{children:[_.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-lg border-b border-stone-200 transition-transform duration-300 ease-in-out ${l?"translate-y-0":"-translate-y-full"}`,children:_.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[_.jsx(Vv,{to:"/",className:"text-2xl font-dancing-script text-gray-900 font-bold mt-2",children:"Daniela Alves"}),_.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[_.jsx("a",{href:"#",className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Home"}),_.jsx("button",{onClick:()=>y("services"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Services"}),_.jsx("button",{onClick:E,className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Gallery"}),_.jsx("button",{onClick:()=>y("testimonials"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Client Stories"}),_.jsx("button",{onClick:()=>y("faq"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"FAQ"}),_.jsx("button",{onClick:()=>y("book-form"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Contact"}),_.jsx("a",{href:"https://wa.me/27661043677?text=Hi%20Daniela!%20I'd%20like%20to%20book%20an%20appointment.%20My%20name%20is%20____%20and%20I'm%20interested%20in%20____.",target:"_blank",rel:"noopener noreferrer",className:"bg-stone-900 text-white px-6 py-2 text-sm font-light hover:bg-stone-800 transition-colors uppercase",children:"Book Now"})]}),_.jsxs("button",{className:"md:hidden relative w-6 h-6 flex flex-col justify-center items-center z-50",onClick:m,"aria-label":"Toggle menu",children:[_.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out absolute ${s?"rotate-45":"translate-y-[-4px]"}`}),_.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out ${s?"opacity-0":"opacity-100"}`}),_.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out absolute ${s?"-rotate-45":"translate-y-[4px]"}`})]})]})}),_.jsxs("div",{className:`fixed inset-0 z-40 md:hidden transition-all duration-300 ease-in-out top-[73px] ${s?"opacity-100 visible":"opacity-0 invisible"}`,children:[_.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:()=>r(!1)}),_.jsx("div",{className:`absolute top-0 right-0 h-full w-80 max-w-[85vw] bg-white shadow-2xl transform transition-transform duration-300 ease-in-out ${s?"translate-x-0":"translate-x-full"}`,children:_.jsxs("div",{className:"flex flex-col h-full",children:[_.jsx("div",{className:"flex-1 py-6",children:_.jsxs("nav",{className:"space-y-1",children:[_.jsxs("a",{href:"/",onClick:()=>p(),className:"flex items-center px-6 py-3 text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[_.jsx("span",{className:"font-medium uppercase",children:"Home"}),_.jsx(ls,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),_.jsxs("button",{onClick:()=>p(()=>y("services")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[_.jsx("span",{className:"font-medium uppercase",children:"Services"}),_.jsx(ls,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),_.jsxs("button",{onClick:()=>p(E),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[_.jsx("span",{className:"font-medium uppercase",children:"Gallery"}),_.jsx(ls,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),_.jsxs("button",{onClick:()=>p(()=>y("testimonials")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[_.jsx("span",{className:"font-medium uppercase",children:"Client Stories"}),_.jsx(ls,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),_.jsxs("button",{onClick:()=>p(()=>y("faq")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[_.jsx("span",{className:"font-medium uppercase",children:"FAQ"}),_.jsx(ls,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),_.jsxs("button",{onClick:()=>p(()=>y("book-form")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[_.jsx("span",{className:"font-medium uppercase",children:"Contact"}),_.jsx(ls,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]})]})}),_.jsx("div",{className:"p-6 border-t border-stone-100",children:_.jsx("a",{href:"https://wa.me/27661043677?text=Hi%20Daniela!%20I'd%20like%20to%20book%20an%20appointment.%20My%20name%20is%20____%20and%20I'm%20interested%20in%20____.",onClick:()=>r(!1),target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-stone-900 text-white px-6 py-3 text-center font-medium hover:bg-stone-800 transition-colors uppercase",children:"Book Now"})})]})})]})]})}const ZN={apiKey:"AIzaSyAafDSvuHq7bb9F3-SdVpwM2NTNNtymT_o",authDomain:"nailsbydani-6082b.firebaseapp.com",databaseURL:"https://nailsbydani-6082b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nailsbydani-6082b",storageBucket:"nailsbydani-6082b.firebasestorage.app",messagingSenderId:"438345951991",appId:"1:438345951991:web:335b18a1bca6fa1a75c1f2",measurementId:"G-6R161TJXN6"};let Ty,Of;try{Ty=Tc(ZN),Of=bh(Ty)}catch(i){console.error("Firebase initialization error:",i)}const JN=({design:i,index:e,imageURL:s,openLightbox:r,inView:l})=>{const[c,d]=R.useState(!1),[h,m]=R.useState(!1),p=()=>d(!0),y=()=>{m(!0),d(!0)};return _.jsx("div",{className:"group cursor-pointer relative overflow-hidden bg-white border border-gray-100 transition-all duration-300 break-inside-avoid mb-6","data-index":e,style:{animationName:l?"slideInUp":"none",animationDuration:"0.8s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",animationFillMode:"forwards",animationDelay:`${e*50}ms`,opacity:l?1:0,transform:l?"translateY(0)":"translateY(30px)"},children:_.jsxs("div",{className:"relative overflow-hidden h-full",children:[!c&&_.jsx("div",{className:"w-full h-72 bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:_.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-black rounded-full animate-spin"})}),s?_.jsx("img",{src:s,alt:i.title,className:`w-full h-full object-cover transition-all duration-500 group-hover:scale-110 ${c?"opacity-100":"opacity-0 absolute inset-0"}`,loading:"lazy",onLoad:p,onError:y,onClick:()=>r(i)}):_.jsx("div",{className:"w-full h-72 bg-gray-50 flex items-center justify-center",children:_.jsx("span",{className:"text-gray-400 text-sm",children:"Loading..."})}),h&&_.jsx("div",{className:"w-full h-72 bg-gray-50 flex items-center justify-center",children:_.jsxs("div",{className:"text-gray-400 text-center",children:[_.jsx("div",{className:"text-lg mb-1",children:""}),_.jsxs("div",{className:"text-xs",children:["Design #",i.id]})]})})]})})};function eR(){const[i,e]=R.useState(null),[s,r]=R.useState(20),[l,c]=R.useState({}),[d,h]=R.useState(!0),[m,p]=R.useState([]),[y,E]=R.useState(new Set),b=m.slice(0,s);R.useEffect(()=>{const L=new IntersectionObserver(I=>{I.forEach(V=>{if(V.isIntersecting){const $=parseInt(V.target.dataset.index);E(Z=>new Set([...Z,$]))}})},{threshold:.1,rootMargin:"50px"});return document.querySelectorAll("[data-index]").forEach(I=>L.observe(I)),()=>L.disconnect()},[b]),R.useEffect(()=>{(async()=>{if(!Of){h(!1);return}try{const j=vr(Of,"Designs/"),V=(await yh(j)).items.map((Z,re)=>{const ve=Z.name,G=parseInt(ve.split(".")[0])||re+1;return{id:G,title:`Design ${G}`,storageRef:Z}});V.sort((Z,re)=>Z.id-re.id),p(V);const $=V.map(async Z=>{try{const re=await vh(Z.storageRef);c(ve=>({...ve,[Z.id]:re}))}catch{console.warn(`Failed to get URL for design ${Z.id}`)}});await Promise.all($),h(!1)}catch(j){console.error("Error discovering images:",j),h(!1)}})()},[]);const x=(L,j)=>{j&&j.stopPropagation(),e(L)},C=()=>e(null),D=L=>{const j=m.findIndex(V=>V.id===i.id);let I;L==="next"?I=(j+1)%m.length:I=j-1<0?m.length-1:j-1,e(m[I])},M=()=>r(L=>L+20);return _.jsxs("div",{className:"min-h-screen bg-white pt-[60px]",children:[_.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-b from-gray-50 to-white",children:[_.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-100 via-white to-white"}),_.jsx("div",{className:"relative text-center mt-20",children:_.jsx("div",{className:"max-w-4xl mx-auto px-6",children:d?_.jsx(_.Fragment,{}):_.jsx(_.Fragment,{children:_.jsx("h2",{className:"text-4xl md:text-5xl font-extralight text-stone-900 mb-3",children:"Portfolio Designs"})})})})]}),_.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[d?_.jsx("div",{className:"columns-2 sm:columns-3 lg:columns-4 xl:columns-5 gap-6",children:Array.from({length:20}).map((L,j)=>_.jsx("div",{className:"break-inside-avoid mb-6",children:_.jsx("div",{className:"bg-white border border-gray-100 overflow-hidden",children:_.jsx("div",{className:"w-full h-72 bg-gradient-to-br from-gray-100 to-gray-200 animate-pulse"})})},j))}):_.jsx("div",{className:"columns-2 sm:columns-3 lg:columns-4 xl:columns-5 gap-6",children:b.map((L,j)=>_.jsx(JN,{design:L,index:j,imageURL:l[L.id],openLightbox:x,inView:y.has(j)},L.id))}),!d&&s<m.length&&_.jsx("div",{className:"text-center mt-16",children:_.jsxs("button",{onClick:M,className:"group relative px-12 py-4 border-2 border-black text-black hover:text-white transition-all duration-500 text-sm uppercase tracking-widest font-medium overflow-hidden",children:[_.jsx("span",{className:"absolute inset-0 bg-black transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500"}),_.jsxs("span",{className:"relative z-10",children:["Load More (",m.length-s," remaining)"]})]})})]}),i&&_.jsxs("div",{onClick:C,className:"fixed inset-0 bg-white/70 backdrop-blur-sm z-50 flex items-center justify-center",children:[_.jsx("button",{onClick:C,className:"absolute top-8 right-8 w-12 h-12 rounded-full bg-gray-100 hover:bg-black hover:text-white transition-all duration-300 flex items-center justify-center z-20",children:_.jsx(th,{size:20})}),_.jsx("button",{onClick:()=>D("prev"),className:"absolute left-8 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-gray-100/25 hover:bg-black/25 hover:text-white transition-all duration-300 flex items-center justify-center z-20",children:_.jsx(Sx,{size:20})}),_.jsx("button",{onClick:()=>D("next"),className:"absolute right-8 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-gray-100/25 hover:bg-black/25 hover:text-white transition-all duration-300 flex items-center justify-center z-20",children:_.jsx(ls,{size:20})}),_.jsxs("div",{className:" mx-auto px-20 text-center",children:[_.jsx("img",{src:l[i.id],alt:i.title,className:"w-full h-auto max-h-[50vh] object-contain mb-8 shadow-2xl"}),_.jsx("div",{className:"space-y-4",children:_.jsxs("div",{className:"text-xs uppercase tracking-widest text-black",children:["Design Collection  ",new Date().getFullYear()]})})]})]}),_.jsx("style",{jsx:!0,children:`
        @keyframes slideInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes shimmer {
          0% {
            background-position: -200% 0;
          }
          100% {
            background-position: 200% 0;
          }
        }
        
        .animate-shimmer {
          animation: shimmer 2s infinite;
        }
        
        .columns-2 > div,
        .columns-3 > div,
        .columns-4 > div,
        .columns-5 > div {
          break-inside: avoid;
        }
      `})]})}function tR(){const[i,e]=R.useState(null),s=r=>{e(l=>l===r?null:r)};return _.jsx("div",{children:_.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-16","data-aos":"fade-up",children:[_.jsx("h2",{className:"text-3xl font-bodoni-moda text-center text-gray-900 mb-12",children:"Frequently Asked Questions"}),_.jsx("div",{className:"space-y-4",children:w0.map((r,l)=>{const c=i===l;return _.jsxs("div",{className:"w-full bg-white border border-gray-200 overflow-hidden transition-all duration-200 ease-in-out",children:[_.jsxs("button",{onClick:()=>s(l),className:"w-full flex justify-between items-center p-8 transition-colors duration-200",children:[_.jsx("span",{className:"font-bodoni-moda text-xl text-gray-900 text-left",children:r.question}),_.jsx(Ux,{size:24,className:`text-black transition-transform duration-200 ease-in-out flex-shrink-0 ml-4 ${c?"rotate-45":""}`})]}),_.jsx("div",{className:`transition-all duration-300 ease-in-out ${c?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"}`,style:{maxHeight:c?"fit-content":"0px",overflow:c?"visible":"hidden"},children:_.jsx("div",{className:"px-8 pb-8",children:_.jsx("p",{className:"text-gray-600/70 font-montserrat leading-relaxed text-sm",children:r.answer})})})]},l)})})]})})}function Eh(i,e){var s={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(s[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(i);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(i,r[l])&&(s[r[l]]=i[r[l]]);return s}function x0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nR=x0,T0=new ul("auth","Firebase",x0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new oh("@firebase/auth");function iR(i,...e){ec.logLevel<=Ne.WARN&&ec.warn(`Auth (${ws}): ${i}`,...e)}function Fo(i,...e){ec.logLevel<=Ne.ERROR&&ec.error(`Auth (${ws}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(i,...e){throw Sh(i,...e)}function bn(i,...e){return Sh(i,...e)}function C0(i,e,s){const r=Object.assign(Object.assign({},nR()),{[e]:s});return new ul("auth","Firebase",r).create(e,{appName:i.name})}function ki(i){return C0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sh(i,...e){if(typeof i!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(s,...r)}return T0.create(i,...e)}function ie(i,e,...s){if(!i)throw Sh(e,...s)}function Hn(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Fo(e),new Error(e)}function Yn(i,e){i||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function sR(){return Cy()==="http:"||Cy()==="https:"}function Cy(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sR()||nT()||"connection"in navigator)?navigator.onLine:!0}function aR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,s){this.shortDelay=e,this.longDelay=s,Yn(s>e,"Short delay should be less than long delay!"),this.isMobile=ah()||i0()}get(){return rR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(i,e){Yn(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cR=new fl(3e4,6e4);function xs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ji(i,e,s,r,l={}){return R0(i,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const h=Cr(Object.assign({key:i.config.apiKey},d)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:m},c);return tT()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&Ss(i.emulatorConfig.host)&&(p.credentials="include"),N0.fetch()(await A0(i,i.config.apiHost,s,h),p)})}async function R0(i,e,s){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},lR),e);try{const l=new dR(i),c=await Promise.race([s(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Po(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const h=c.ok?d.errorMessage:d.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Po(i,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Po(i,"email-already-in-use",d);if(m==="USER_DISABLED")throw Po(i,"user-disabled",d);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw C0(i,y,p);un(i,y)}}catch(l){if(l instanceof Xn)throw l;un(i,"network-request-failed",{message:String(l)})}}async function Rc(i,e,s,r,l={}){const c=await ji(i,e,s,r,l);return"mfaPendingCredential"in c&&un(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function A0(i,e,s,r){const l=`${e}${s}?${r}`,c=i,d=c.config.emulator?wh(i.config,l):`${i.config.apiScheme}://${l}`;return oR.includes(s)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function uR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(bn(this.auth,"network-request-failed")),cR.get())})}}function Po(i,e,s){const r={appName:i.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const l=bn(i,e,r);return l.customData._tokenResponse=s,l}function Ny(i){return i!==void 0&&i.enterprise!==void 0}class fR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return uR(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hR(i,e){return ji(i,"GET","/v2/recaptchaConfig",xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(i,e){return ji(i,"POST","/v1/accounts:delete",e)}async function tc(i,e){return ji(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pR(i,e=!1){const s=Ge(i),r=await s.getIdToken(e),l=xh(r);ie(l&&l.exp&&l.auth_time&&l.iat,s.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:r,authTime:Fa(df(l.auth_time)),issuedAtTime:Fa(df(l.iat)),expirationTime:Fa(df(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function df(i){return Number(i)*1e3}function xh(i){const[e,s,r]=i.split(".");if(e===void 0||s===void 0||r===void 0)return Fo("JWT malformed, contained fewer than 3 sections"),null;try{const l=Xo(s);return l?JSON.parse(l):(Fo("Failed to decode base64 JWT payload"),null)}catch(l){return Fo("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Ry(i){const e=xh(i);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(i,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof Xn&&gR(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function gR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var s;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const l=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fa(this.lastLoginAt),this.creationTime=Fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(i){var e;const s=i.auth,r=await i.getIdToken(),l=await Ja(i,tc(s,{idToken:r}));ie(l==null?void 0:l.users.length,s,"internal-error");const c=l.users[0];i._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?O0(c.providerUserInfo):[],h=vR(i.providerData,d),m=i.isAnonymous,p=!(i.email&&c.passwordHash)&&!(h!=null&&h.length),y=m?p:!1,E={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:h,metadata:new If(c.createdAt,c.lastLoginAt),isAnonymous:y};Object.assign(i,E)}async function yR(i){const e=Ge(i);await nc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vR(i,e){return[...i.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function O0(i){return i.map(e=>{var{providerId:s}=e,r=Eh(e,["providerId"]);return{providerId:s,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(i,e){const s=await R0(i,{},async()=>{const r=Cr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,d=await A0(i,l,"/v1/token",`key=${c}`),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",N0.fetch()(d,{method:"POST",headers:h,body:r})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function ER(i,e){return ji(i,"POST","/v2/accounts:revokeToken",xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ry(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const s=Ry(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:l,expiresIn:c}=await bR(e,s);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:l,expirationTime:c}=s,d=new fr;return r&&(ie(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(ie(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ie(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fr,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(i,e){ie(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class rn{constructor(e){var{uid:s,auth:r,stsTokenManager:l}=e,c=Eh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _R(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=r,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new If(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const s=await Ja(this,this.stsTokenManager.getToken(this.auth,e));return ie(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return pR(this,e)}reload(){return yR(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>Object.assign({},s)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new rn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await nc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await Ja(this,mR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){var r,l,c,d,h,m,p,y;const E=(r=s.displayName)!==null&&r!==void 0?r:void 0,b=(l=s.email)!==null&&l!==void 0?l:void 0,x=(c=s.phoneNumber)!==null&&c!==void 0?c:void 0,C=(d=s.photoURL)!==null&&d!==void 0?d:void 0,D=(h=s.tenantId)!==null&&h!==void 0?h:void 0,M=(m=s._redirectEventId)!==null&&m!==void 0?m:void 0,L=(p=s.createdAt)!==null&&p!==void 0?p:void 0,j=(y=s.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:I,emailVerified:V,isAnonymous:$,providerData:Z,stsTokenManager:re}=s;ie(I&&re,e,"internal-error");const ve=fr.fromJSON(this.name,re);ie(typeof I=="string",e,"internal-error"),wi(E,e.name),wi(b,e.name),ie(typeof V=="boolean",e,"internal-error"),ie(typeof $=="boolean",e,"internal-error"),wi(x,e.name),wi(C,e.name),wi(D,e.name),wi(M,e.name),wi(L,e.name),wi(j,e.name);const G=new rn({uid:I,auth:e,email:b,emailVerified:V,displayName:E,isAnonymous:$,photoURL:C,phoneNumber:x,tenantId:D,stsTokenManager:ve,createdAt:L,lastLoginAt:j});return Z&&Array.isArray(Z)&&(G.providerData=Z.map(le=>Object.assign({},le))),M&&(G._redirectEventId=M),G}static async _fromIdTokenResponse(e,s,r=!1){const l=new fr;l.updateFromServerResponse(s);const c=new rn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await nc(c),c}static async _fromGetAccountInfoResponse(e,s,r){const l=s.users[0];ie(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?O0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),h=new fr;h.updateFromIdToken(r);const m=new rn({uid:l.localId,auth:e,stsTokenManager:h,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new If(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=new Map;function Bn(i){Yn(i instanceof Function,"Expected a class definition");let e=Ay.get(i);return e?(Yn(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Ay.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}k0.type="NONE";const Df=k0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(i,e,s){return`firebase:${i}:${e}:${s}`}class hr{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Vo(this.userKey,l.apiKey,c),this.fullPersistenceKey=Vo("persistence",l.apiKey,c),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await tc(this.auth,{idToken:e}).catch(()=>{});return s?rn._fromGetAccountInfoResponse(this.auth,s,e):null}return rn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new hr(Bn(Df),e,r);const l=(await Promise.all(s.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=l[0]||Bn(Df);const d=Vo(r,e.config.apiKey,e.name);let h=null;for(const p of s)try{const y=await p._get(d);if(y){let E;if(typeof y=="string"){const b=await tc(e,{idToken:y}).catch(()=>{});if(!b)break;E=await rn._fromGetAccountInfoResponse(e,b,y)}else E=rn._fromJSON(e,y);p!==c&&(h=E),c=p;break}}catch{}const m=l.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new hr(c,e,r):(c=m[0],h&&await c._set(d,h.toJSON()),await Promise.all(s.map(async p=>{if(p!==c)try{await p._remove(d)}catch{}})),new hr(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j0(e))return"Blackberry";if(P0(e))return"Webos";if(D0(e))return"Safari";if((e.includes("chrome/")||M0(e))&&!e.includes("edge/"))return"Chrome";if(U0(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function I0(i=Et()){return/firefox\//i.test(i)}function D0(i=Et()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function M0(i=Et()){return/crios\//i.test(i)}function L0(i=Et()){return/iemobile/i.test(i)}function U0(i=Et()){return/android/i.test(i)}function j0(i=Et()){return/blackberry/i.test(i)}function P0(i=Et()){return/webos/i.test(i)}function Th(i=Et()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function SR(i=Et()){var e;return Th(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wR(){return iT()&&document.documentMode===10}function z0(i=Et()){return Th(i)||U0(i)||P0(i)||j0(i)||/windows phone/i.test(i)||L0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(i,e=[]){let s;switch(i){case"Browser":s=Oy(Et());break;case"Worker":s=`${Oy(Et())}-${i}`;break;default:s=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${ws}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=c=>new Promise((d,h)=>{try{const m=e(c);d(m)}catch(m){h(m)}});r.onAbort=s,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const l of s)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(i,e={}){return ji(i,"GET","/v2/passwordPolicy",xs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=6;class NR{constructor(e){var s,r,l,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=d.minPasswordLength)!==null&&s!==void 0?s:CR,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var s,r,l,c,d,h;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(s=m.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(l=m.containsLowercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsUppercaseLetter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNumericCharacter)!==null&&d!==void 0?d:!0),m.isValid&&(m.isValid=(h=m.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),m}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),l&&(s.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,s,r,l){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ky(this),this.idTokenSubscription=new ky(this),this.beforeStateQueue=new xR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Bn(s)),this._initializationPromise=this.queue(async()=>{var r,l,c;if(!this._deleted&&(this.persistenceManager=await hr.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await tc(this,{idToken:e}),r=await rn._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Xt(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let l=r,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,h=l==null?void 0:l._redirectEventId,m=await this.tryRedirectSignIn(e);(!d||d===h)&&(m!=null&&m.user)&&(l=m.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await nc(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xt(this.app))return Promise.reject(ki(this));const s=e?Ge(e):null;return s&&ie(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xt(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TR(this),s=new NR(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ul("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await ER(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Bn(e)||this._popupRedirectResolver;ie(s,this,"argument-error"),this.redirectPersistenceManager=await hr.create(this,[Bn(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(s=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,l){if(this._deleted)return()=>{};const c=typeof s=="function"?s:s.next.bind(s);let d=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(h,this,"internal-error"),h.then(()=>{d||c(this.currentUser)}),typeof s=="function"){const m=e.addObserver(s,r,l);return()=>{d=!0,m()}}else{const m=e.addObserver(s);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(s["X-Firebase-Client"]=r);const l=await this._getAppCheckToken();return l&&(s["X-Firebase-AppCheck"]=l),s}async _getAppCheckToken(){var e;if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return s!=null&&s.error&&iR(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function Nr(i){return Ge(i)}class ky{constructor(e){this.auth=e,this.observer=null,this.addObserver=hT(s=>this.observer=s)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AR(i){Ac=i}function B0(i){return Ac.loadJS(i)}function OR(){return Ac.recaptchaEnterpriseScript}function kR(){return Ac.gapiScript}function IR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class DR{constructor(){this.enterprise=new MR}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class MR{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}const LR="recaptcha-enterprise",q0="NO_RECAPTCHA";class UR{constructor(e){this.type=LR,this.auth=Nr(e)}async verify(e="verify",s=!1){async function r(c){if(!s){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,h)=>{hR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new fR(m);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,d(p.siteKey)}}).catch(m=>{h(m)})})}function l(c,d,h){const m=window.grecaptcha;Ny(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(p=>{d(p)}).catch(()=>{d(q0)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DR().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(h=>{if(!s&&Ny(window.grecaptcha))l(h,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=OR();m.length!==0&&(m+=h),B0(m).then(()=>{l(h,c,d)}).catch(p=>{d(p)})}}).catch(h=>{d(h)})})}}async function Iy(i,e,s,r=!1,l=!1){const c=new UR(i);let d;if(l)d=q0;else try{d=await c.verify(s)}catch{d=await c.verify(s,!0)}const h=Object.assign({},e);if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:d}):Object.assign(h,{captchaResponse:d}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Dy(i,e,s,r,l){var c;if(!((c=i._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Iy(i,e,s,s==="getOobCode");return r(i,d)}else return r(i,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Iy(i,e,s,s==="getOobCode");return r(i,h)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(i,e){const s=xc(i,"auth");if(s.isInitialized()){const l=s.getImmediate(),c=s.getOptions();if(hs(c,e??{}))return l;un(l,"already-initialized")}return s.initialize({options:e})}function PR(i,e){const s=(e==null?void 0:e.persistence)||[],r=(Array.isArray(s)?s:[s]).map(Bn);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zR(i,e,s){const r=Nr(i);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=F0(e),{host:d,port:h}=HR(e),m=h===null?"":`:${h}`,p={url:`${c}//${d}${m}/`},y=Object.freeze({host:d,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(hs(p,r.config.emulator)&&hs(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Ss(d)?(sh(`${c}//${d}${m}`),rh("Auth",!0)):BR()}function F0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function HR(i){const e=F0(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:My(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:My(d)}}}function My(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function BR(){function i(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,s){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function qR(i,e){return ji(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(i,e){return Rc(i,"POST","/v1/accounts:signInWithPassword",xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(i,e){return Rc(i,"POST","/v1/accounts:signInWithEmailLink",xs(i,e))}async function GR(i,e){return Rc(i,"POST","/v1/accounts:signInWithEmailLink",xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends Ch{constructor(e,s,r,l=null){super("password",r),this._email=e,this._password=s,this._tenantId=l}static _fromEmailAndPassword(e,s){return new el(e,s,"password")}static _fromEmailAndCode(e,s,r=null){return new el(e,s,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dy(e,s,"signInWithPassword",FR);case"emailLink":return VR(e,{email:this._email,oobCode:this._password});default:un(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":const r={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dy(e,r,"signUpPassword",qR);case"emailLink":return GR(e,{idToken:s,email:this._email,oobCode:this._password});default:un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mr(i,e){return Rc(i,"POST","/v1/accounts:signInWithIdp",xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="http://localhost";class gs extends Ch{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):un("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l}=s,c=Eh(s,["providerId","signInMethod"]);if(!r||!l)return null;const d=new gs(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const s=this.buildRequest();return mr(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,mr(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,mr(e,s)}buildRequest(){const e={requestUri:YR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=Cr(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WR(i){const e=za(Ha(i)).link,s=e?za(Ha(e)).deep_link_id:null,r=za(Ha(i)).deep_link_id;return(r?za(Ha(r)).link:null)||r||s||e||i}class Nh{constructor(e){var s,r,l,c,d,h;const m=za(Ha(e)),p=(s=m.apiKey)!==null&&s!==void 0?s:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,E=$R((l=m.mode)!==null&&l!==void 0?l:null);ie(p&&y&&E,"argument-error"),this.apiKey=p,this.operation=E,this.code=y,this.continueUrl=(c=m.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=m.lang)!==null&&d!==void 0?d:null,this.tenantId=(h=m.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const s=WR(e);try{return new Nh(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.providerId=Rr.PROVIDER_ID}static credential(e,s){return el._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const r=Nh.parseLink(s);return ie(r,"argument-error"),el._fromEmailAndCode(e,r.code,r.tenantId)}}Rr.PROVIDER_ID="password";Rr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends V0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends hl{constructor(){super("facebook.com")}static credential(e){return gs._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return gs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return Ci.credential(s,r)}catch{return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com";Ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends hl{constructor(){super("github.com")}static credential(e){return gs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends hl{constructor(){super("twitter.com")}static credential(e,s){return gs._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return Ri.credential(s,r)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,l=!1){const c=await rn._fromIdTokenResponse(e,r,l),d=Ly(r);return new br({user:c,providerId:d,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const l=Ly(r);return new br({user:e,providerId:l,_tokenResponse:r,operationType:s})}}function Ly(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends Xn{constructor(e,s,r,l){var c;super(s.code,s.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,ic.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,l){return new ic(e,s,r,l)}}function G0(i,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ic._fromErrorAndOperation(i,c,e,r):c})}async function KR(i,e,s=!1){const r=await Ja(i,e._linkToIdToken(i.auth,await i.getIdToken()),s);return br._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(i,e,s=!1){const{auth:r}=i;if(Xt(r.app))return Promise.reject(ki(r));const l="reauthenticate";try{const c=await Ja(i,G0(r,l,e,i),s);ie(c.idToken,r,"internal-error");const d=xh(c.idToken);ie(d,r,"internal-error");const{sub:h}=d;return ie(i.uid===h,r,"user-mismatch"),br._forOperation(i,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&un(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y0(i,e,s=!1){if(Xt(i.app))return Promise.reject(ki(i));const r="signIn",l=await G0(i,r,e),c=await br._fromIdTokenResponse(i,r,l);return s||await i._updateCurrentUser(c.user),c}async function XR(i,e){return Y0(Nr(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(i){const e=Nr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function JR(i,e,s){return Xt(i.app)?Promise.reject(ki(i)):XR(Ge(i),Rr.credential(e,s)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ZR(i),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(i,e){return Ge(i).setPersistence(e)}function tA(i,e,s,r){return Ge(i).onIdTokenChanged(e,s,r)}function nA(i,e,s){return Ge(i).beforeAuthStateChanged(e,s)}function iA(i,e,s,r){return Ge(i).onAuthStateChanged(e,s,r)}function Uy(i){return Ge(i).signOut()}const sc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(sc,"1"),this.storage.removeItem(sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=1e3,rA=10;class W0 extends $0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),l=this.localCache[s];r!==l&&e(s,l,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((d,h,m)=>{this.notifyListeners(d,m)});return}const r=e.key;s?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!s&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);wR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,rA):l()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},sA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}W0.type="LOCAL";const aA=W0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends $0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}K0.type="SESSION";const Q0=K0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(l=>l.isListeningto(e));if(s)return s;const r=new Oc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:l,data:c}=s.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const h=Array.from(d).map(async p=>p(s.origin,c)),m=await lA(h);s.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:m})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(i="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return i+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((h,m)=>{const p=Rh("",20);l.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(E){const b=E;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),h(b.data.response);break;default:clearTimeout(y),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:s},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return window}function cA(i){En().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}async function uA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dA(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function fA(){return X0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="firebaseLocalStorageDb",hA=1,rc="firebaseLocalStorage",J0="fbase_key";class ml{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function kc(i,e){return i.transaction([rc],e?"readwrite":"readonly").objectStore(rc)}function mA(){const i=indexedDB.deleteDatabase(Z0);return new ml(i).toPromise()}function Mf(){const i=indexedDB.open(Z0,hA);return new Promise((e,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(rc,{keyPath:J0})}catch(l){s(l)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(rc)?e(r):(r.close(),await mA(),e(await Mf()))})})}async function jy(i,e,s){const r=kc(i,!0).put({[J0]:e,value:s});return new ml(r).toPromise()}async function pA(i,e){const s=kc(i,!1).get(e),r=await new ml(s).toPromise();return r===void 0?null:r.value}function Py(i,e){const s=kc(i,!0).delete(e);return new ml(s).toPromise()}const gA=800,_A=3;class eb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mf(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>_A)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oc._getInstance(fA()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var e,s;if(this.activeServiceWorker=await uA(),!this.activeServiceWorker)return;this.sender=new oA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((s=r[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mf();return await jy(e,sc,"1"),await Py(e,sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>jy(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>pA(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>Py(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=kc(l,!1).getAll();return new ml(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),s.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),s.push(l));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eb.type="LOCAL";const yA=eb;new fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(i,e){return e?Bn(e):(ie(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends Ch{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mr(e,this._buildIdpRequest())}_linkToIdToken(e,s){return mr(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return mr(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function bA(i){return Y0(i.auth,new Ah(i),i.bypassAuthState)}function EA(i){const{auth:e,user:s}=i;return ie(s,e,"internal-error"),QR(s,new Ah(i),i.bypassAuthState)}async function SA(i){const{auth:e,user:s}=i;return ie(s,e,"internal-error"),KR(s,new Ah(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,s,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:l,tenantId:c,error:d,type:h}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:s,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bA;case"linkViaPopup":case"linkViaRedirect":return SA;case"reauthViaPopup":case"reauthViaRedirect":return EA;default:un(this.auth,"internal-error")}}resolve(e){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=new fl(2e3,1e4);class ur extends tb{constructor(e,s,r,l,c){super(e,s,l,c),this.provider=r,this.authWindow=null,this.pollId=null,ur.currentPopupAction&&ur.currentPopupAction.cancel(),ur.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Yn(this.filter.length===1,"Popup operations only handle one event");const e=Rh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ur.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,r;if(!((r=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wA.get())};e()}}ur.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="pendingRedirect",Go=new Map;class TA extends tb{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=Go.get(this.auth._key());if(!e){try{const r=await CA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}Go.set(this.auth._key(),e)}return this.bypassAuthState||Go.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CA(i,e){const s=AA(e),r=RA(i);if(!await r._isAvailable())return!1;const l=await r._get(s)==="true";return await r._remove(s),l}function NA(i,e){Go.set(i._key(),e)}function RA(i){return Bn(i._redirectPersistence)}function AA(i){return Vo(xA,i.config.apiKey,i.name)}async function OA(i,e,s=!1){if(Xt(i.app))return Promise.reject(ki(i));const r=Nr(i),l=vA(r,e),d=await new TA(r,l,s).execute();return d&&!s&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=10*60*1e3;class IA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DA(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var r;if(e.error&&!nb(e)){const l=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";s.onError(bn(this.auth,l))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kA&&this.cachedEventUids.clear(),this.cachedEventUids.has(zy(e))}saveEventToCache(e){this.cachedEventUids.add(zy(e)),this.lastProcessedEventTime=Date.now()}}function zy(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function nb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DA(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(i,e={}){return ji(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UA=/^https?/;async function jA(i){if(i.config.emulator)return;const{authorizedDomains:e}=await MA(i);for(const s of e)try{if(PA(s))return}catch{}un(i,"unauthorized-domain")}function PA(i){const e=kf(),{protocol:s,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&d.hostname===r}if(!UA.test(s))return!1;if(LA.test(i))return r===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new fl(3e4,6e4);function Hy(){const i=En().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function HA(i){return new Promise((e,s)=>{var r,l,c;function d(){Hy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hy(),s(bn(i,"network-request-failed"))},timeout:zA.get()})}if(!((l=(r=En().gapi)===null||r===void 0?void 0:r.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=En().gapi)===null||c===void 0)&&c.load)d();else{const h=IR("iframefcb");return En()[h]=()=>{gapi.load?d():s(bn(i,"network-request-failed"))},B0(`${kR()}?onload=${h}`).catch(m=>s(m))}}).catch(e=>{throw Yo=null,e})}let Yo=null;function BA(i){return Yo=Yo||HA(i),Yo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=new fl(5e3,15e3),FA="__/auth/iframe",VA="emulator/auth/iframe",GA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $A(i){const e=i.config;ie(e.authDomain,i,"auth-domain-config-required");const s=e.emulator?wh(e,VA):`https://${i.config.authDomain}/${FA}`,r={apiKey:e.apiKey,appName:i.name,v:ws},l=YA.get(i.config.apiHost);l&&(r.eid=l);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${s}?${Cr(r).slice(1)}`}async function WA(i){const e=await BA(i),s=En().gapi;return ie(s,i,"internal-error"),e.open({where:document.body,url:$A(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GA,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=bn(i,"network-request-failed"),h=En().setTimeout(()=>{c(d)},qA.get());function m(){En().clearTimeout(h),l(r)}r.ping(m).then(m,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QA=500,XA=600,ZA="_blank",JA="http://localhost";class By{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e2(i,e,s,r=QA,l=XA){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const m=Object.assign(Object.assign({},KA),{width:r.toString(),height:l.toString(),top:c,left:d}),p=Et().toLowerCase();s&&(h=M0(p)?ZA:s),I0(p)&&(e=e||JA,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[x,C])=>`${b}${x}=${C},`,"");if(SR(p)&&h!=="_self")return t2(e||"",h),new By(null);const E=window.open(e||"",h,y);ie(E,i,"popup-blocked");try{E.focus()}catch{}return new By(E)}function t2(i,e){const s=document.createElement("a");s.href=i,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="__/auth/handler",i2="emulator/auth/handler",s2=encodeURIComponent("fac");async function qy(i,e,s,r,l,c){ie(i.config.authDomain,i,"auth-domain-config-required"),ie(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:r,v:ws,eventId:l};if(e instanceof V0){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",Sf(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))d[y]=E}if(e instanceof hl){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(d.scopes=y.join(","))}i.tenantId&&(d.tid=i.tenantId);const h=d;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const m=await i._getAppCheckToken(),p=m?`#${s2}=${encodeURIComponent(m)}`:"";return`${r2(i)}?${Cr(h).slice(1)}${p}`}function r2({config:i}){return i.emulator?wh(i,i2):`https://${i.authDomain}/${n2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="webStorageSupport";class a2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q0,this._completeRedirectFn=OA,this._overrideRedirectResult=NA}async _openPopup(e,s,r,l){var c;Yn((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await qy(e,s,r,kf(),l);return e2(e,d,Rh())}async _openRedirect(e,s,r,l){await this._originValidation(e);const c=await qy(e,s,r,kf(),l);return cA(c),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:l,promise:c}=this.eventManagers[s];return l?Promise.resolve(l):(Yn(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await WA(e),r=new IA(e);return s.register("authEvent",l=>(ie(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(ff,{type:ff},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[ff];d!==void 0&&s(!!d),un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=jA(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return z0()||D0()||Th()}}const l2=a2;var Fy="@firebase/auth",Vy="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u2(i){ms(new Mi("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:h}=r.options;ie(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:d,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H0(i)},p=new RR(r,l,c,m);return PR(p,s),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),ms(new Mi("auth-internal",e=>{const s=Nr(e.getProvider("auth").getImmediate());return(r=>new o2(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),vn(Fy,Vy,c2(i)),vn(Fy,Vy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=5*60,f2=t0("authIdTokenMaxAge")||d2;let Gy=null;const h2=i=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>f2)return;const l=s==null?void 0:s.token;Gy!==l&&(Gy=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function m2(i=uh()){const e=xc(i,"auth");if(e.isInitialized())return e.getImmediate();const s=jR(i,{popupRedirectResolver:l2,persistence:[yA,aA,Q0]}),r=t0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=h2(c.toString());nA(s,d,()=>d(s.currentUser)),tA(s,h=>d(h))}}const l=Zv("auth");return l&&zR(s,`http://${l}`),s}function p2(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}AR({loadJS(i){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=l=>{const c=bn("internal-error");c.customData=l,s(c)},r.type="text/javascript",r.charset="UTF-8",p2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u2("Browser");var Yy={};const $y="@firebase/database",Wy="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ib="";function g2(i){ib=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,s){s==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),at(s))}get(e){const s=this.domStorage_.getItem(this.prefixedName_(e));return s==null?null:Xa(s)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,s){s==null?delete this.cache_[e]:this.cache_[e]=s}get(e){return Zn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _2(e)}}catch{}return new y2},us=sb("localStorage"),v2=sb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new oh("@firebase/database"),b2=function(){let i=1;return function(){return i++}}(),rb=function(i){const e=gT(i),s=new fT;s.update(e);const r=s.digest();return nh.encodeByteArray(r)},pl=function(...i){let e="";for(let s=0;s<i.length;s++){const r=i[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=pl.apply(null,r):typeof r=="object"?e+=at(r):e+=r,e+=" "}return e};let Va=null,Ky=!0;const E2=function(i,e){F(!0,"Can't turn on custom loggers persistently."),pr.logLevel=Ne.VERBOSE,Va=pr.log.bind(pr)},gt=function(...i){if(Ky===!0&&(Ky=!1,Va===null&&v2.get("logging_enabled")===!0&&E2()),Va){const e=pl.apply(null,i);Va(e)}},gl=function(i){return function(...e){gt(i,...e)}},Lf=function(...i){const e="FIREBASE INTERNAL ERROR: "+pl(...i);pr.error(e)},$n=function(...i){const e=`FIREBASE FATAL ERROR: ${pl(...i)}`;throw pr.error(e),new Error(e)},Nt=function(...i){const e="FIREBASE WARNING: "+pl(...i);pr.warn(e)},S2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ab=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},w2=function(i){if(document.readyState==="complete")i();else{let e=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},Er="[MIN_NAME]",_s="[MAX_NAME]",Ar=function(i,e){if(i===e)return 0;if(i===Er||e===_s)return-1;if(e===Er||i===_s)return 1;{const s=Qy(i),r=Qy(e);return s!==null?r!==null?s-r===0?i.length-e.length:s-r:-1:r!==null?1:i<e?-1:1}},x2=function(i,e){return i===e?0:i<e?-1:1},Ma=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+at(e))},Oh=function(i){if(typeof i!="object"||i===null)return at(i);const e=[];for(const r in i)e.push(r);e.sort();let s="{";for(let r=0;r<e.length;r++)r!==0&&(s+=","),s+=at(e[r]),s+=":",s+=Oh(i[e[r]]);return s+="}",s},lb=function(i,e){const s=i.length;if(s<=e)return[i];const r=[];for(let l=0;l<s;l+=e)l+e>s?r.push(i.substring(l,s)):r.push(i.substring(l,l+e));return r};function Rt(i,e){for(const s in i)i.hasOwnProperty(s)&&e(s,i[s])}const ob=function(i){F(!ab(i),"Invalid JSON number");const e=11,s=52,r=(1<<e-1)-1;let l,c,d,h,m;i===0?(c=0,d=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),r),c=h+r,d=Math.round(i*Math.pow(2,s-h)-Math.pow(2,s))):(c=0,d=Math.round(i/Math.pow(2,1-r-s))));const p=[];for(m=s;m;m-=1)p.push(d%2?1:0),d=Math.floor(d/2);for(m=e;m;m-=1)p.push(c%2?1:0),c=Math.floor(c/2);p.push(l?1:0),p.reverse();const y=p.join("");let E="";for(m=0;m<64;m+=8){let b=parseInt(y.substr(m,8),2).toString(16);b.length===1&&(b="0"+b),E=E+b}return E.toLowerCase()},T2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},C2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function N2(i,e){let s="Unknown Error";i==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?s="Client doesn't have permission to access the desired data.":i==="unavailable"&&(s="The service is unavailable");const r=new Error(i+" at "+e._path.toString()+": "+s);return r.code=i.toUpperCase(),r}const R2=new RegExp("^-?(0*)\\d{1,10}$"),A2=-2147483648,O2=2147483647,Qy=function(i){if(R2.test(i)){const e=Number(i);if(e>=A2&&e<=O2)return e}return null},Or=function(i){try{i()}catch(e){setTimeout(()=>{const s=e.stack||"";throw Nt("Exception was thrown by user callback.",s),e},Math.floor(0))}},k2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ga=function(i,e){const s=setTimeout(i,e);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,s){this.appCheckProvider=s,this.appName=e.name,Xt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=s==null?void 0:s.getImmediate({optional:!0}),this.appCheck||s==null||s.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){var s;(s=this.appCheckProvider)===null||s===void 0||s.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Nt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,s,r){this.appName_=e,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(s=>s&&s.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(s=>s.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(s=>s.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Nt(e)}}class $o{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$o.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="5",cb="v",ub="s",db="r",fb="f",hb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mb="ls",pb="p",Uf="ac",gb="websocket",_b="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,s,r,l,c=!1,d="",h=!1,m=!1,p=null){this.secure=s,this.namespace=r,this.webSocketOnly=l,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=us.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&us.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${s}`}}function M2(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function vb(i,e,s){F(typeof e=="string","typeof type must == string"),F(typeof s=="object","typeof params must == object");let r;if(e===gb)r=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===_b)r=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);M2(i)&&(s.ns=i.namespace);const l=[];return Rt(s,(c,d)=>{l.push(c+"="+d)}),r+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.counters_={}}incrementCounter(e,s=1){Zn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=s}get(){return $x(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf={},mf={};function Ih(i){const e=i.toString();return hf[e]||(hf[e]=new L2),hf[e]}function U2(i,e){const s=i.toString();return mf[s]||(mf[s]=e()),mf[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,s){this.closeAfterResponse=e,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,s){for(this.pendingResponses[e]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<r.length;++l)r[l]&&Or(()=>{this.onMessage_(r[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="start",P2="close",z2="pLPCommand",H2="pRTLPCB",bb="id",Eb="pw",Sb="ser",B2="cb",q2="seg",F2="ts",V2="d",G2="dframe",wb=1870,xb=30,Y2=wb-xb,$2=25e3,W2=3e4;class dr{constructor(e,s,r,l,c,d,h){this.connId=e,this.repoInfo=s,this.applicationId=r,this.appCheckToken=l,this.authToken=c,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gl(e),this.stats_=Ih(s),this.urlFn=m=>(this.appCheckToken&&(m[Uf]=this.appCheckToken),vb(s,_b,m))}open(e,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new j2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(W2)),w2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Dh((...c)=>{const[d,h,m,p,y]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Xy)this.id=h,this.password=m;else if(d===P2)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...c)=>{const[d,h]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[Xy]="t",r[Sb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[B2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[cb]=kh,this.transportSessionId&&(r[ub]=this.transportSessionId),this.lastSessionId&&(r[mb]=this.lastSessionId),this.applicationId&&(r[pb]=this.applicationId),this.appCheckToken&&(r[Uf]=this.appCheckToken),typeof location<"u"&&location.hostname&&hb.test(location.hostname)&&(r[db]=fb);const l=this.urlFn(r);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dr.forceAllow_=!0}static forceDisallow(){dr.forceDisallow_=!0}static isAvailable(){return dr.forceAllow_?!0:!dr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!T2()&&!C2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const s=at(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=Qv(s),l=lb(r,Y2);for(let c=0;c<l.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[c]),this.curSegmentNum++}addDisconnectPingFrame(e,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[G2]="t",r[bb]=e,r[Eb]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const s=at(e).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Dh{constructor(e,s,r,l){this.onDisconnect=r,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=b2(),window[z2+this.uniqueCallbackIdentifier]=e,window[H2+this.uniqueCallbackIdentifier]=s,this.myIFrame=Dh.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){gt("frame writing exception"),h.stack&&gt(h.stack),gt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,s){for(this.myID=e,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[bb]=this.myID,e[Eb]=this.myPW,e[Sb]=this.currentSerial;let s=this.urlFn(e),r="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xb+r.length<=wb;){const d=this.pendingSegs.shift();r=r+"&"+q2+l+"="+d.seg+"&"+F2+l+"="+d.ts+"&"+V2+l+"="+d.d,l++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(e,s,r){this.pendingSegs.push({seg:e,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},l=setTimeout(r,Math.floor($2)),c=()=>{clearTimeout(l),r()};this.addTag(e,c)}addTag(e,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const l=r.readyState;(!l||l==="loaded"||l==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=16384,Q2=45e3;let ac=null;typeof MozWebSocket<"u"?ac=MozWebSocket:typeof WebSocket<"u"&&(ac=WebSocket);class sn{constructor(e,s,r,l,c,d,h){this.connId=e,this.applicationId=r,this.appCheckToken=l,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gl(this.connId),this.stats_=Ih(s),this.connURL=sn.connectionURL_(s,d,h,l,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,r,l,c){const d={};return d[cb]=kh,typeof location<"u"&&location.hostname&&hb.test(location.hostname)&&(d[db]=fb),s&&(d[ub]=s),r&&(d[mb]=r),l&&(d[Uf]=l),c&&(d[pb]=c),vb(e,gb,d)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,us.set("previous_websocket_failure",!0);try{let r;sT(),this.mySock=new ac(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ac!==null&&!sn.forceDisallow_}static previouslyFailed(){return us.isInMemoryStorage||us.get("previous_websocket_failure")===!0}markConnectionHealthy(){us.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=Xa(s);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(F(this.frames===null,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const s=at(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=lb(s,K2);r.length>1&&this.sendString_(String(r.length));for(let l=0;l<r.length;l++)this.sendString_(r[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Q2))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static get ALL_TRANSPORTS(){return[dr,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const s=sn&&sn.isAvailable();let r=s&&!sn.previouslyFailed();if(e.webSocketOnly&&(s||Nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[sn];else{const l=this.transports_=[];for(const c of tl.ALL_TRANSPORTS)c&&c.isAvailable()&&l.push(c);tl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}tl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=6e4,Z2=5e3,J2=10*1024,eO=100*1024,pf="t",Zy="d",tO="s",Jy="r",nO="e",ev="o",tv="a",nv="n",iv="p",iO="h";class sO{constructor(e,s,r,l,c,d,h,m,p,y){this.id=e,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=l,this.authToken_=c,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gl("c:"+this.id+":"),this.transportManager_=new tl(s),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Ga(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>eO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>J2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return s=>{e===this.conn_?this.onConnectionLost_(s):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return s=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(s):e===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(e){const s={t:"d",d:e};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(pf in e){const s=e[pf];s===tv?this.upgradeIfSecondaryHealthy_():s===Jy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===ev&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const s=Ma("t",e),r=Ma("d",e);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:iv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:tv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const s=Ma("t",e),r=Ma("d",e);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const s=Ma(pf,e);if(Zy in e){const r=e[Zy];if(s===iO){const l=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(s===nv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===tO?this.onConnectionShutdown_(r):s===Jy?this.onReset_(r):s===nO?Lf("Server Error: "+r):s===ev?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Lf("Unknown control packet command: "+s)}}onHandshake_(e){const s=e.ts,r=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),kh!==r&&Nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),Ga(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(X2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,s){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ga(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Z2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:iv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(us.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{put(e,s,r,l){}merge(e,s,r,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,s,r){}onDisconnectMerge(e,s,r){}onDisconnectCancel(e,s){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.allowedEvents_=e,this.listeners_={},F(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...s){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let l=0;l<r.length;l++)r[l].callback.apply(r[l].context,s)}}on(e,s,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:s,context:r});const l=this.getInitialEvent(e);l&&s.apply(r,l)}off(e,s,r){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let c=0;c<l.length;c++)if(l[c].callback===s&&(!r||r===l[c].context)){l.splice(c,1);return}}validateEventType_(e){F(this.allowedEvents_.find(s=>s===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Cb{static getInstance(){return new lc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ah()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return F(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=32,rv=768;class Ae{constructor(e,s){if(s===void 0){this.pieces_=e.split("/");let r=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[r]=this.pieces_[l],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=s}toString(){let e="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(e+="/"+this.pieces_[s]);return e||"/"}}function we(){return new Ae("")}function he(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Li(i){return i.pieces_.length-i.pieceNum_}function Ie(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Ae(i.pieces_,e)}function Nb(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function rO(i){let e="";for(let s=i.pieceNum_;s<i.pieces_.length;s++)i.pieces_[s]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[s])));return e||"/"}function Rb(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function Ab(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let s=i.pieceNum_;s<i.pieces_.length-1;s++)e.push(i.pieces_[s]);return new Ae(e,0)}function Je(i,e){const s=[];for(let r=i.pieceNum_;r<i.pieces_.length;r++)s.push(i.pieces_[r]);if(e instanceof Ae)for(let r=e.pieceNum_;r<e.pieces_.length;r++)s.push(e.pieces_[r]);else{const r=e.split("/");for(let l=0;l<r.length;l++)r[l].length>0&&s.push(r[l])}return new Ae(s,0)}function ge(i){return i.pieceNum_>=i.pieces_.length}function Tt(i,e){const s=he(i),r=he(e);if(s===null)return e;if(s===r)return Tt(Ie(i),Ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function Mh(i,e){if(Li(i)!==Li(e))return!1;for(let s=i.pieceNum_,r=e.pieceNum_;s<=i.pieces_.length;s++,r++)if(i.pieces_[s]!==e.pieces_[r])return!1;return!0}function an(i,e){let s=i.pieceNum_,r=e.pieceNum_;if(Li(i)>Li(e))return!1;for(;s<i.pieces_.length;){if(i.pieces_[s]!==e.pieces_[r])return!1;++s,++r}return!0}class aO{constructor(e,s){this.errorPrefix_=s,this.parts_=Rb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=wc(this.parts_[r]);Ob(this)}}function lO(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=wc(e),Ob(i)}function oO(i){const e=i.parts_.pop();i.byteLength_-=wc(e),i.parts_.length>0&&(i.byteLength_-=1)}function Ob(i){if(i.byteLength_>rv)throw new Error(i.errorPrefix_+"has a key path longer than "+rv+" bytes ("+i.byteLength_+").");if(i.parts_.length>sv)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sv+") or object contains a cycle "+cs(i))}function cs(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends Cb{static getInstance(){return new Lh}constructor(){super(["visible"]);let e,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return F(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=1e3,cO=60*5*1e3,av=30*1e3,uO=1.3,dO=3e4,fO="server_kill",lv=3;class Vn extends Tb{constructor(e,s,r,l,c,d,h,m){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=l,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=Vn.nextPersistentConnectionId_++,this.log_=gl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=La,this.maxReconnectDelay_=cO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&lc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,r){const l=++this.requestNumber_,c={r:l,a:e,b:s};this.log_(at(c)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[l]=r)}get(e){this.initConnection_();const s=new Sc,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?s.resolve(h):s.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),s.promise}listen(e,s,r,l){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:s,query:e,tag:r};this.listens.get(d).set(c,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(e){const s=e.query,r=s._path.toString(),l=s._queryIdentifier;this.log_("Listen on "+r+" for "+l);const c={p:r},d="q";e.tag&&(c.q=s._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(d,c,h=>{const m=h.d,p=h.s;Vn.warnOnListenWarnings_(m,s),(this.listens.get(r)&&this.listens.get(r).get(l))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,l),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,s){if(e&&typeof e=="object"&&Zn(e,"w")){const r=yr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const l='".indexOn": "'+s._queryParams.getIndex().toString()+'"',c=s._path.toString();Nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||dT(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=av)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=uT(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,l=>{const c=l.s,d=l.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,r=e.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(e,s){const r=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+l),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,l)&&this.connected_&&this.sendUnlisten_(r,l,e._queryObject,s)}sendUnlisten_(e,s,r,l){this.log_("Unlisten on "+e+" for "+s);const c={p:e},d="n";l&&(c.q=r,c.t=l),this.sendRequest(d,c)}onDisconnectPut(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:r})}onDisconnectMerge(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:r})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,r,l){const c={p:s,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(e,s,r,l){this.putInternal("p",e,s,r,l)}merge(e,s,r,l){this.putInternal("m",e,s,r,l)}putInternal(e,s,r,l,c){this.initConnection_();const d={p:s,d:r};c!==void 0&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,r,c=>{this.log_(s+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(c.s,c.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const c=r.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+at(e));const s=e.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),e==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):e==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):e==="c"?this.onListenRevoked_(s.p,s.q):e==="ac"?this.onAuthRevoked_(s.s,s.d):e==="apc"?this.onAppCheckRevoked_(s.s,s.d):e==="sd"?this.onSecurityDebugPacket_(s):Lf("Unrecognized action received from server: "+at(e)+`
Are you using the latest client?`)}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>dO&&(this.reconnectDelay_=La),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*uO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Vn.nextConnectionId_++,c=this.lastSessionId;let d=!1,h=null;const m=function(){h?h.close():(d=!0,r())},p=function(E){F(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(E)};this.realtime_={close:m,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,b]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);d?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=b&&b.token,h=new sO(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,s,r,x=>{Nt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(fO)},c))}catch(E){this.log_("Failed to get token: "+E),d||(this.repoInfo_.nodeAdmin&&Nt(E),m())}}}interrupt(e){gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Sf(this.interruptReasons_)&&(this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let r;s?r=s.map(c=>Oh(c)).join("$"):r="default";const l=this.removeListen_(e,r);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,s){const r=new Ae(e).toString();let l;if(this.listens.has(r)){const c=this.listens.get(r);l=c.get(s),c.delete(s),c.size===0&&this.listens.delete(r)}else l=void 0;return l}onAuthRevoked_(e,s){gt("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lv&&(this.reconnectDelay_=av,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){gt("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";e["sdk."+s+"."+ib.replace(/\./g,"-")]=1,ah()?e["framework.cordova"]=1:i0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=lc.getInstance().currentlyOnline();return Sf(this.interruptReasons_)&&e}}Vn.nextPersistentConnectionId_=0;Vn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e,s){this.name=e,this.node=s}static Wrap(e,s){return new me(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,s){const r=new me(Er,e),l=new me(Er,s);return this.compare(r,l)!==0}minPost(){return me.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo;class kb extends Ic{static get __EMPTY_NODE(){return zo}static set __EMPTY_NODE(e){zo=e}compare(e,s){return Ar(e.name,s.name)}isDefinedOn(e){throw Tr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,s){return!1}minPost(){return me.MIN}maxPost(){return new me(_s,zo)}makePost(e,s){return F(typeof e=="string","KeyIndex indexValue must always be a string."),new me(e,zo)}toString(){return".key"}}const gr=new kb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,s,r,l,c=null){this.isReverse_=l,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=s?r(e.key,s):1,l&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(e.key,e.value):s={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rt{constructor(e,s,r,l,c){this.key=e,this.value=s,this.color=r??rt.RED,this.left=l??Ct.EMPTY_NODE,this.right=c??Ct.EMPTY_NODE}copy(e,s,r,l,c){return new rt(e??this.key,s??this.value,r??this.color,l??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let l=this;const c=r(e,l.key);return c<0?l=l.copy(null,null,null,l.left.insert(e,s,r),null):c===0?l=l.copy(null,s,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,s,r)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let r,l;if(r=this,s(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(e,r.key)===0){if(r.right.isEmpty())return Ct.EMPTY_NODE;l=r.right.min_(),r=r.copy(l.key,l.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}rt.RED=!0;rt.BLACK=!1;class hO{copy(e,s,r,l,c){return this}insert(e,s,r){return new rt(e,s,null)}remove(e,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(e,s=Ct.EMPTY_NODE){this.comparator_=e,this.root_=s}insert(e,s){return new Ct(this.comparator_,this.root_.insert(e,s,this.comparator_).copy(null,null,rt.BLACK,null,null))}remove(e){return new Ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rt.BLACK,null,null))}get(e){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(e,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(e){let s,r=this.root_,l=null;for(;!r.isEmpty();)if(s=this.comparator_(e,r.key),s===0){if(r.left.isEmpty())return l?l.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(l=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ho(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,s){return new Ho(this.root_,e,this.comparator_,!1,s)}getReverseIteratorFrom(e,s){return new Ho(this.root_,e,this.comparator_,!0,s)}getReverseIterator(e){return new Ho(this.root_,null,this.comparator_,!0,e)}}Ct.EMPTY_NODE=new hO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(i,e){return Ar(i.name,e.name)}function Uh(i,e){return Ar(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf;function pO(i){jf=i}const Ib=function(i){return typeof i=="number"?"number:"+ob(i):"string:"+i},Db=function(i){if(i.isLeafNode()){const e=i.val();F(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Zn(e,".sv"),"Priority must be a string or number.")}else F(i===jf||i.isEmpty(),"priority of unexpected type.");F(i===jf||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ov;class st{static set __childrenNodeConstructor(e){ov=e}static get __childrenNodeConstructor(){return ov}constructor(e,s=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Db(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new st(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ge(e)?this:he(e)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return e===".priority"?this.updatePriority(s):s.isEmpty()&&e!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const r=he(e);return r===null?s:s.isEmpty()&&r!==".priority"?this:(F(r!==".priority"||Li(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ib(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",s==="number"?e+=ob(this.value_):e+=this.value_,this.lazyHash_=rb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===st.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof st.__childrenNodeConstructor?-1:(F(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,r=typeof this.value_,l=st.VALUE_TYPE_ORDER.indexOf(s),c=st.VALUE_TYPE_ORDER.indexOf(r);return F(l>=0,"Unknown leaf type: "+s),F(c>=0,"Unknown leaf type: "+r),l===c?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mb,Lb;function gO(i){Mb=i}function _O(i){Lb=i}class yO extends Ic{compare(e,s){const r=e.node.getPriority(),l=s.node.getPriority(),c=r.compareTo(l);return c===0?Ar(e.name,s.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,s){return!e.getPriority().equals(s.getPriority())}minPost(){return me.MIN}maxPost(){return new me(_s,new st("[PRIORITY-POST]",Lb))}makePost(e,s){const r=Mb(e);return new me(s,new st("[PRIORITY-POST]",r))}toString(){return".priority"}}const Be=new yO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=Math.log(2);class bO{constructor(e){const s=c=>parseInt(Math.log(c)/vO,10),r=c=>parseInt(Array(c+1).join("1"),2);this.count=s(e+1),this.current_=this.count-1;const l=r(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const oc=function(i,e,s,r){i.sort(e);const l=function(m,p){const y=p-m;let E,b;if(y===0)return null;if(y===1)return E=i[m],b=s?s(E):E,new rt(b,E.node,rt.BLACK,null,null);{const x=parseInt(y/2,10)+m,C=l(m,x),D=l(x+1,p);return E=i[x],b=s?s(E):E,new rt(b,E.node,rt.BLACK,C,D)}},c=function(m){let p=null,y=null,E=i.length;const b=function(C,D){const M=E-C,L=E;E-=C;const j=l(M+1,L),I=i[M],V=s?s(I):I;x(new rt(V,I.node,D,null,j))},x=function(C){p?(p.left=C,p=C):(y=C,p=C)};for(let C=0;C<m.count;++C){const D=m.nextBitIsOne(),M=Math.pow(2,m.count-(C+1));D?b(M,rt.BLACK):(b(M,rt.BLACK),b(M,rt.RED))}return y},d=new bO(i.length),h=c(d);return new Ct(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf;const or={};class qn{static get Default(){return F(or&&Be,"ChildrenNode.ts has not been loaded"),gf=gf||new qn({".priority":or},{".priority":Be}),gf}constructor(e,s){this.indexes_=e,this.indexSet_=s}get(e){const s=yr(this.indexes_,e);if(!s)throw new Error("No index defined for "+e);return s instanceof Ct?s:null}hasIndex(e){return Zn(this.indexSet_,e.toString())}addIndex(e,s){F(e!==gr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let l=!1;const c=s.getIterator(me.Wrap);let d=c.getNext();for(;d;)l=l||e.isDefinedOn(d.node),r.push(d),d=c.getNext();let h;l?h=oc(r,e.getCompare()):h=or;const m=e.toString(),p=Object.assign({},this.indexSet_);p[m]=e;const y=Object.assign({},this.indexes_);return y[m]=h,new qn(y,p)}addToIndexes(e,s){const r=Zo(this.indexes_,(l,c)=>{const d=yr(this.indexSet_,c);if(F(d,"Missing index implementation for "+c),l===or)if(d.isDefinedOn(e.node)){const h=[],m=s.getIterator(me.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&h.push(p),p=m.getNext();return h.push(e),oc(h,d.getCompare())}else return or;else{const h=s.get(e.name);let m=l;return h&&(m=m.remove(new me(e.name,h))),m.insert(e,e.node)}});return new qn(r,this.indexSet_)}removeFromIndexes(e,s){const r=Zo(this.indexes_,l=>{if(l===or)return l;{const c=s.get(e.name);return c?l.remove(new me(e.name,c)):l}});return new qn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua;class se{static get EMPTY_NODE(){return Ua||(Ua=new se(new Ct(Uh),null,qn.Default))}constructor(e,s,r){this.children_=e,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Db(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ua}updatePriority(e){return this.children_.isEmpty()?this:new se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const s=this.children_.get(e);return s===null?Ua:s}}getChild(e){const s=he(e);return s===null?this:this.getImmediateChild(s).getChild(Ie(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,s){if(F(s,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(s);{const r=new me(e,s);let l,c;s.isEmpty()?(l=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(l=this.children_.insert(e,s),c=this.indexMap_.addToIndexes(r,this.children_));const d=l.isEmpty()?Ua:this.priorityNode_;return new se(l,d,c)}}updateChild(e,s){const r=he(e);if(r===null)return s;{F(he(e)!==".priority"||Li(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(r).updateChild(Ie(e),s);return this.updateImmediateChild(r,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let r=0,l=0,c=!0;if(this.forEachChild(Be,(d,h)=>{s[d]=h.val(e),r++,c&&se.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):c=!1}),!e&&c&&l<2*r){const d=[];for(const h in s)d[h]=s[h];return d}else return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ib(this.getPriority().val())+":"),this.forEachChild(Be,(s,r)=>{const l=r.hash();l!==""&&(e+=":"+s+":"+l)}),this.lazyHash_=e===""?"":rb(e)}return this.lazyHash_}getPredecessorChildName(e,s,r){const l=this.resolveIndex_(r);if(l){const c=l.getPredecessorKey(new me(e,s));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new me(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new me(s,this.children_.get(s)):null}forEachChild(e,s){const r=this.resolveIndex_(e);return r?r.inorderTraversal(l=>s(l.name,l.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,me.Wrap);let c=l.peek();for(;c!=null&&s.compare(c,e)<0;)l.getNext(),c=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,me.Wrap);let c=l.peek();for(;c!=null&&s.compare(c,e)>0;)l.getNext(),c=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_l?-1:0}withIndex(e){if(e===gr||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new se(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===gr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(Be),l=s.getIterator(Be);let c=r.getNext(),d=l.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=l.getNext()}return c===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===gr?null:this.indexMap_.get(e.toString())}}se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class EO extends se{constructor(){super(new Ct(Uh),se.EMPTY_NODE,qn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}}const _l=new EO;Object.defineProperties(me,{MIN:{value:new me(Er,se.EMPTY_NODE)},MAX:{value:new me(_s,_l)}});kb.__EMPTY_NODE=se.EMPTY_NODE;st.__childrenNodeConstructor=se;pO(_l);_O(_l);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=!0;function dt(i,e=null){if(i===null)return se.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),F(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const s=i;return new st(s,dt(e))}if(!(i instanceof Array)&&SO){const s=[];let r=!1;if(Rt(i,(d,h)=>{if(d.substring(0,1)!=="."){const m=dt(h);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),s.push(new me(d,m)))}}),s.length===0)return se.EMPTY_NODE;const c=oc(s,mO,d=>d.name,Uh);if(r){const d=oc(s,Be.getCompare());return new se(c,dt(e),new qn({".priority":d},{".priority":Be}))}else return new se(c,dt(e),qn.Default)}else{let s=se.EMPTY_NODE;return Rt(i,(r,l)=>{if(Zn(i,r)&&r.substring(0,1)!=="."){const c=dt(l);(c.isLeafNode()||!c.isEmpty())&&(s=s.updateImmediateChild(r,c))}}),s.updatePriority(dt(e))}}gO(dt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO extends Ic{constructor(e){super(),this.indexPath_=e,F(!ge(e)&&he(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,s){const r=this.extractChild(e.node),l=this.extractChild(s.node),c=r.compareTo(l);return c===0?Ar(e.name,s.name):c}makePost(e,s){const r=dt(e),l=se.EMPTY_NODE.updateChild(this.indexPath_,r);return new me(s,l)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,_l);return new me(_s,e)}toString(){return Rb(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO extends Ic{compare(e,s){const r=e.node.compareTo(s.node);return r===0?Ar(e.name,s.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,s){return!e.equals(s)}minPost(){return me.MIN}maxPost(){return me.MAX}makePost(e,s){const r=dt(e);return new me(s,r)}toString(){return".value"}}const TO=new xO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(i){return{type:"value",snapshotNode:i}}function Sr(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function nl(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function il(i,e,s){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:s}}function CO(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.index_=e}updateChild(e,s,r,l,c,d){F(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(s);return h.getChild(l).equals(r.getChild(l))&&h.isEmpty()===r.isEmpty()||(d!=null&&(r.isEmpty()?e.hasChild(s)?d.trackChildChange(nl(s,h)):F(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(Sr(s,r)):d.trackChildChange(il(s,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(s,r).withIndex(this.index_)}updateFullNode(e,s,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Be,(l,c)=>{s.hasChild(l)||r.trackChildChange(nl(l,c))}),s.isLeafNode()||s.forEachChild(Be,(l,c)=>{if(e.hasChild(l)){const d=e.getImmediateChild(l);d.equals(c)||r.trackChildChange(il(l,c,d))}else r.trackChildChange(Sr(l,c))})),s.withIndex(this.index_)}updatePriority(e,s){return e.isEmpty()?se.EMPTY_NODE:e.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.indexedFilter_=new jh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=sl.getStartPost_(e),this.endPost_=sl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return s&&r}updateChild(e,s,r,l,c,d){return this.matches(new me(s,r))||(r=se.EMPTY_NODE),this.indexedFilter_.updateChild(e,s,r,l,c,d)}updateFullNode(e,s,r){s.isLeafNode()&&(s=se.EMPTY_NODE);let l=s.withIndex(this.index_);l=l.updatePriority(se.EMPTY_NODE);const c=this;return s.forEachChild(Be,(d,h)=>{c.matches(new me(d,h))||(l=l.updateImmediateChild(d,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,r)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const s=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),s)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const s=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),s)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=s=>{const r=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new sl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,s,r,l,c,d){return this.rangedFilter_.matches(new me(s,r))||(r=se.EMPTY_NODE),e.getImmediateChild(s).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,s,r,l,c,d):this.fullLimitUpdateChild_(e,s,r,c,d)}updateFullNode(e,s,r){let l;if(s.isLeafNode()||s.isEmpty())l=se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){l=se.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;c.hasNext()&&d<this.limit_;){const h=c.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{l=s.withIndex(this.index_),l=l.updatePriority(se.EMPTY_NODE);let c;this.reverse_?c=l.getReverseIterator(this.index_):c=l.getIterator(this.index_);let d=0;for(;c.hasNext();){const h=c.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:l=l.updateImmediateChild(h.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,r)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,s,r,l,c){let d;if(this.reverse_){const E=this.index_.getCompare();d=(b,x)=>E(x,b)}else d=this.index_.getCompare();const h=e;F(h.numChildren()===this.limit_,"");const m=new me(s,r),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(h.hasChild(s)){const E=h.getImmediateChild(s);let b=l.getChildAfterChild(this.index_,p,this.reverse_);for(;b!=null&&(b.name===s||h.hasChild(b.name));)b=l.getChildAfterChild(this.index_,b,this.reverse_);const x=b==null?1:d(b,m);if(y&&!r.isEmpty()&&x>=0)return c!=null&&c.trackChildChange(il(s,r,E)),h.updateImmediateChild(s,r);{c!=null&&c.trackChildChange(nl(s,E));const D=h.updateImmediateChild(s,se.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(c!=null&&c.trackChildChange(Sr(b.name,b.node)),D.updateImmediateChild(b.name,b.node)):D}}else return r.isEmpty()?e:y&&d(p,m)>=0?(c!=null&&(c.trackChildChange(nl(p.name,p.node)),c.trackChildChange(Sr(s,r))),h.updateImmediateChild(s,r).updateImmediateChild(p.name,se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Be}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Er}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_s}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Be}copy(){const e=new Ph;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function RO(i){return i.loadsAllData()?new jh(i.getIndex()):i.hasLimit()?new NO(i):new sl(i)}function cv(i){const e={};if(i.isDefault())return e;let s;if(i.index_===Be?s="$priority":i.index_===TO?s="$value":i.index_===gr?s="$key":(F(i.index_ instanceof wO,"Unrecognized index type!"),s=i.index_.toString()),e.orderBy=at(s),i.startSet_){const r=i.startAfterSet_?"startAfter":"startAt";e[r]=at(i.indexStartValue_),i.startNameSet_&&(e[r]+=","+at(i.indexStartName_))}if(i.endSet_){const r=i.endBeforeSet_?"endBefore":"endAt";e[r]=at(i.indexEndValue_),i.endNameSet_&&(e[r]+=","+at(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function uv(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let s=i.viewFrom_;s===""&&(i.isViewFromLeft()?s="l":s="r"),e.vf=s}return i.index_!==Be&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Tb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,s){return s!==void 0?"tag$"+s:(F(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,s,r,l){super(),this.repoInfo_=e,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.log_=gl("p:rest:"),this.listens_={}}listen(e,s,r,l){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const d=cc.getListenId_(e,r),h={};this.listens_[d]=h;const m=cv(e._queryParams);this.restRequest_(c+".json",m,(p,y)=>{let E=y;if(p===404&&(E=null,p=null),p===null&&this.onDataUpdate_(c,E,!1,r),yr(this.listens_,d)===h){let b;p?p===401?b="permission_denied":b="rest_error:"+p:b="ok",l(b,null)}})}unlisten(e,s){const r=cc.getListenId_(e,s);delete this.listens_[r]}get(e){const s=cv(e._queryParams),r=e._path.toString(),l=new Sc;return this.restRequest_(r+".json",s,(c,d)=>{let h=d;c===404&&(h=null,c=null),c===null?(this.onDataUpdate_(r,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,c])=>{l&&l.accessToken&&(s.auth=l.accessToken),c&&c.token&&(s.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Cr(s);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=Xa(h.responseText)}catch{Nt("Failed to parse JSON response for "+d+": "+h.responseText)}r(null,m)}else h.status!==401&&h.status!==404&&Nt("Got unsuccessful REST response for "+d+" Status: "+h.status),r(h.status);r=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,s){this.rootNode_=this.rootNode_.updateChild(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(){return{value:null,children:new Map}}function jb(i,e,s){if(ge(e))i.value=s,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,s);else{const r=he(e);i.children.has(r)||i.children.set(r,uc());const l=i.children.get(r);e=Ie(e),jb(l,e,s)}}function Pf(i,e,s){i.value!==null?s(e,i.value):OO(i,(r,l)=>{const c=new Ae(e.toString()+"/"+r);Pf(l,c,s)})}function OO(i,e){i.children.forEach((s,r)=>{e(r,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),s=Object.assign({},e);return this.last_&&Rt(this.last_,(r,l)=>{s[r]=s[r]-l}),this.last_=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=10*1e3,IO=30*1e3,DO=5*60*1e3;class MO{constructor(e,s){this.server_=s,this.statsToReport_={},this.statsListener_=new kO(e);const r=dv+(IO-dv)*Math.random();Ga(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),s={};let r=!1;Rt(e,(l,c)=>{c>0&&Zn(this.statsToReport_,l)&&(s[l]=c,r=!0)}),r&&this.server_.reportStats(s),Ga(this.reportStats_.bind(this),Math.floor(Math.random()*2*DO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ln||(ln={}));function Pb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function zh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Hh(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,s,r){this.path=e,this.affectedTree=s,this.revert=r,this.type=ln.ACK_USER_WRITE,this.source=Pb()}operationForChild(e){if(ge(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new Ae(e));return new dc(we(),s,this.revert)}}else return F(he(this.path)===e,"operationForChild called for unrelated child."),new dc(Ie(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,s){this.source=e,this.path=s,this.type=ln.LISTEN_COMPLETE}operationForChild(e){return ge(this.path)?new rl(this.source,we()):new rl(this.source,Ie(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,s,r){this.source=e,this.path=s,this.snap=r,this.type=ln.OVERWRITE}operationForChild(e){return ge(this.path)?new ys(this.source,we(),this.snap.getImmediateChild(e)):new ys(this.source,Ie(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,s,r){this.source=e,this.path=s,this.children=r,this.type=ln.MERGE}operationForChild(e){if(ge(this.path)){const s=this.children.subtree(new Ae(e));return s.isEmpty()?null:s.value?new ys(this.source,we(),s.value):new al(this.source,we(),s)}else return F(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new al(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,s,r){this.node_=e,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ge(e))return this.isFullyInitialized()&&!this.filtered_;const s=he(e);return this.isCompleteForChild(s)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function UO(i,e,s,r){const l=[],c=[];return e.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(CO(d.childName,d.snapshotNode))}),ja(i,l,"child_removed",e,r,s),ja(i,l,"child_added",e,r,s),ja(i,l,"child_moved",c,r,s),ja(i,l,"child_changed",e,r,s),ja(i,l,"value",e,r,s),l}function ja(i,e,s,r,l,c){const d=r.filter(h=>h.type===s);d.sort((h,m)=>PO(i,h,m)),d.forEach(h=>{const m=jO(i,h,c);l.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(m,i.query_))})})}function jO(i,e,s){return e.type==="value"||e.type==="child_removed"||(e.prevName=s.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function PO(i,e,s){if(e.childName==null||s.childName==null)throw Tr("Should only compare child_ events.");const r=new me(e.childName,e.snapshotNode),l=new me(s.childName,s.snapshotNode);return i.index_.compare(r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(i,e){return{eventCache:i,serverCache:e}}function Ya(i,e,s,r){return Dc(new vs(e,s,r),i.serverCache)}function zb(i,e,s,r){return Dc(i.eventCache,new vs(e,s,r))}function zf(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function bs(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f;const zO=()=>(_f||(_f=new Ct(x2)),_f);class De{static fromObject(e){let s=new De(null);return Rt(e,(r,l)=>{s=s.set(new Ae(r),l)}),s}constructor(e,s=zO()){this.value=e,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,s){if(this.value!=null&&s(this.value))return{path:we(),value:this.value};if(ge(e))return null;{const r=he(e),l=this.children.get(r);if(l!==null){const c=l.findRootMostMatchingPathAndValue(Ie(e),s);return c!=null?{path:Je(new Ae(r),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ge(e))return this;{const s=he(e),r=this.children.get(s);return r!==null?r.subtree(Ie(e)):new De(null)}}set(e,s){if(ge(e))return new De(s,this.children);{const r=he(e),c=(this.children.get(r)||new De(null)).set(Ie(e),s),d=this.children.insert(r,c);return new De(this.value,d)}}remove(e){if(ge(e))return this.children.isEmpty()?new De(null):new De(null,this.children);{const s=he(e),r=this.children.get(s);if(r){const l=r.remove(Ie(e));let c;return l.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,l),this.value===null&&c.isEmpty()?new De(null):new De(this.value,c)}else return this}}get(e){if(ge(e))return this.value;{const s=he(e),r=this.children.get(s);return r?r.get(Ie(e)):null}}setTree(e,s){if(ge(e))return s;{const r=he(e),c=(this.children.get(r)||new De(null)).setTree(Ie(e),s);let d;return c.isEmpty()?d=this.children.remove(r):d=this.children.insert(r,c),new De(this.value,d)}}fold(e){return this.fold_(we(),e)}fold_(e,s){const r={};return this.children.inorderTraversal((l,c)=>{r[l]=c.fold_(Je(e,l),s)}),s(e,this.value,r)}findOnPath(e,s){return this.findOnPath_(e,we(),s)}findOnPath_(e,s,r){const l=this.value?r(s,this.value):!1;if(l)return l;if(ge(e))return null;{const c=he(e),d=this.children.get(c);return d?d.findOnPath_(Ie(e),Je(s,c),r):null}}foreachOnPath(e,s){return this.foreachOnPath_(e,we(),s)}foreachOnPath_(e,s,r){if(ge(e))return this;{this.value&&r(s,this.value);const l=he(e),c=this.children.get(l);return c?c.foreachOnPath_(Ie(e),Je(s,l),r):new De(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,s){this.children.inorderTraversal((r,l)=>{l.foreach_(Je(e,r),s)}),this.value&&s(e,this.value)}foreachChild(e){this.children.inorderTraversal((s,r)=>{r.value&&e(s,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.writeTree_=e}static empty(){return new on(new De(null))}}function $a(i,e,s){if(ge(e))return new on(new De(s));{const r=i.writeTree_.findRootMostValueAndPath(e);if(r!=null){const l=r.path;let c=r.value;const d=Tt(l,e);return c=c.updateChild(d,s),new on(i.writeTree_.set(l,c))}else{const l=new De(s),c=i.writeTree_.setTree(e,l);return new on(c)}}}function fv(i,e,s){let r=i;return Rt(s,(l,c)=>{r=$a(r,Je(e,l),c)}),r}function hv(i,e){if(ge(e))return on.empty();{const s=i.writeTree_.setTree(e,new De(null));return new on(s)}}function Hf(i,e){return Ts(i,e)!=null}function Ts(i,e){const s=i.writeTree_.findRootMostValueAndPath(e);return s!=null?i.writeTree_.get(s.path).getChild(Tt(s.path,e)):null}function mv(i){const e=[],s=i.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(Be,(r,l)=>{e.push(new me(r,l))}):i.writeTree_.children.inorderTraversal((r,l)=>{l.value!=null&&e.push(new me(r,l.value))}),e}function Ii(i,e){if(ge(e))return i;{const s=Ts(i,e);return s!=null?new on(new De(s)):new on(i.writeTree_.subtree(e))}}function Bf(i){return i.writeTree_.isEmpty()}function wr(i,e){return Hb(we(),i.writeTree_,e)}function Hb(i,e,s){if(e.value!=null)return s.updateChild(i,e.value);{let r=null;return e.children.inorderTraversal((l,c)=>{l===".priority"?(F(c.value!==null,"Priority writes must always be leaf nodes"),r=c.value):s=Hb(Je(i,l),c,s)}),!s.getChild(i).isEmpty()&&r!==null&&(s=s.updateChild(Je(i,".priority"),r)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(i,e){return Vb(e,i)}function HO(i,e,s,r,l){F(r>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:e,snap:s,writeId:r,visible:l}),l&&(i.visibleWrites=$a(i.visibleWrites,e,s)),i.lastWriteId=r}function BO(i,e){for(let s=0;s<i.allWrites.length;s++){const r=i.allWrites[s];if(r.writeId===e)return r}return null}function qO(i,e){const s=i.allWrites.findIndex(h=>h.writeId===e);F(s>=0,"removeWrite called with nonexistent writeId.");const r=i.allWrites[s];i.allWrites.splice(s,1);let l=r.visible,c=!1,d=i.allWrites.length-1;for(;l&&d>=0;){const h=i.allWrites[d];h.visible&&(d>=s&&FO(h,r.path)?l=!1:an(r.path,h.path)&&(c=!0)),d--}if(l){if(c)return VO(i),!0;if(r.snap)i.visibleWrites=hv(i.visibleWrites,r.path);else{const h=r.children;Rt(h,m=>{i.visibleWrites=hv(i.visibleWrites,Je(r.path,m))})}return!0}else return!1}function FO(i,e){if(i.snap)return an(i.path,e);for(const s in i.children)if(i.children.hasOwnProperty(s)&&an(Je(i.path,s),e))return!0;return!1}function VO(i){i.visibleWrites=Bb(i.allWrites,GO,we()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function GO(i){return i.visible}function Bb(i,e,s){let r=on.empty();for(let l=0;l<i.length;++l){const c=i[l];if(e(c)){const d=c.path;let h;if(c.snap)an(s,d)?(h=Tt(s,d),r=$a(r,h,c.snap)):an(d,s)&&(h=Tt(d,s),r=$a(r,we(),c.snap.getChild(h)));else if(c.children){if(an(s,d))h=Tt(s,d),r=fv(r,h,c.children);else if(an(d,s))if(h=Tt(d,s),ge(h))r=fv(r,we(),c.children);else{const m=yr(c.children,he(h));if(m){const p=m.getChild(Ie(h));r=$a(r,we(),p)}}}else throw Tr("WriteRecord should have .snap or .children")}}return r}function qb(i,e,s,r,l){if(!r&&!l){const c=Ts(i.visibleWrites,e);if(c!=null)return c;{const d=Ii(i.visibleWrites,e);if(Bf(d))return s;if(s==null&&!Hf(d,we()))return null;{const h=s||se.EMPTY_NODE;return wr(d,h)}}}else{const c=Ii(i.visibleWrites,e);if(!l&&Bf(c))return s;if(!l&&s==null&&!Hf(c,we()))return null;{const d=function(p){return(p.visible||l)&&(!r||!~r.indexOf(p.writeId))&&(an(p.path,e)||an(e,p.path))},h=Bb(i.allWrites,d,e),m=s||se.EMPTY_NODE;return wr(h,m)}}}function YO(i,e,s){let r=se.EMPTY_NODE;const l=Ts(i.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Be,(c,d)=>{r=r.updateImmediateChild(c,d)}),r;if(s){const c=Ii(i.visibleWrites,e);return s.forEachChild(Be,(d,h)=>{const m=wr(Ii(c,new Ae(d)),h);r=r.updateImmediateChild(d,m)}),mv(c).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}else{const c=Ii(i.visibleWrites,e);return mv(c).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}}function $O(i,e,s,r,l){F(r||l,"Either existingEventSnap or existingServerSnap must exist");const c=Je(e,s);if(Hf(i.visibleWrites,c))return null;{const d=Ii(i.visibleWrites,c);return Bf(d)?l.getChild(s):wr(d,l.getChild(s))}}function WO(i,e,s,r){const l=Je(e,s),c=Ts(i.visibleWrites,l);if(c!=null)return c;if(r.isCompleteForChild(s)){const d=Ii(i.visibleWrites,l);return wr(d,r.getNode().getImmediateChild(s))}else return null}function KO(i,e){return Ts(i.visibleWrites,e)}function QO(i,e,s,r,l,c,d){let h;const m=Ii(i.visibleWrites,e),p=Ts(m,we());if(p!=null)h=p;else if(s!=null)h=wr(m,s);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const y=[],E=d.getCompare(),b=c?h.getReverseIteratorFrom(r,d):h.getIteratorFrom(r,d);let x=b.getNext();for(;x&&y.length<l;)E(x,r)!==0&&y.push(x),x=b.getNext();return y}else return[]}function XO(){return{visibleWrites:on.empty(),allWrites:[],lastWriteId:-1}}function fc(i,e,s,r){return qb(i.writeTree,i.treePath,e,s,r)}function qh(i,e){return YO(i.writeTree,i.treePath,e)}function pv(i,e,s,r){return $O(i.writeTree,i.treePath,e,s,r)}function hc(i,e){return KO(i.writeTree,Je(i.treePath,e))}function ZO(i,e,s,r,l,c){return QO(i.writeTree,i.treePath,e,s,r,l,c)}function Fh(i,e,s){return WO(i.writeTree,i.treePath,e,s)}function Fb(i,e){return Vb(Je(i.treePath,e),i.writeTree)}function Vb(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.changeMap=new Map}trackChildChange(e){const s=e.type,r=e.childName;F(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),F(r!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(r);if(l){const c=l.type;if(s==="child_added"&&c==="child_removed")this.changeMap.set(r,il(r,e.snapshotNode,l.snapshotNode));else if(s==="child_removed"&&c==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&c==="child_changed")this.changeMap.set(r,nl(r,l.oldSnap));else if(s==="child_changed"&&c==="child_added")this.changeMap.set(r,Sr(r,e.snapshotNode));else if(s==="child_changed"&&c==="child_changed")this.changeMap.set(r,il(r,e.snapshotNode,l.oldSnap));else throw Tr("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{getCompleteChild(e){return null}getChildAfterChild(e,s,r){return null}}const Gb=new ek;class Vh{constructor(e,s,r=null){this.writes_=e,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(e){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(e))return s.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new vs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fh(this.writes_,e,r)}}getChildAfterChild(e,s,r){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bs(this.viewCache_),c=ZO(this.writes_,l,s,1,r,e);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(i){return{filter:i}}function nk(i,e){F(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),F(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function ik(i,e,s,r,l){const c=new JO;let d,h;if(s.type===ln.OVERWRITE){const p=s;p.source.fromUser?d=qf(i,e,p.path,p.snap,r,l,c):(F(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!ge(p.path),d=mc(i,e,p.path,p.snap,r,l,h,c))}else if(s.type===ln.MERGE){const p=s;p.source.fromUser?d=rk(i,e,p.path,p.children,r,l,c):(F(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),d=Ff(i,e,p.path,p.children,r,l,h,c))}else if(s.type===ln.ACK_USER_WRITE){const p=s;p.revert?d=ok(i,e,p.path,r,l,c):d=ak(i,e,p.path,p.affectedTree,r,l,c)}else if(s.type===ln.LISTEN_COMPLETE)d=lk(i,e,s.path,r,c);else throw Tr("Unknown operation type: "+s.type);const m=c.getChanges();return sk(e,d,m),{viewCache:d,changes:m}}function sk(i,e,s){const r=e.eventCache;if(r.isFullyInitialized()){const l=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=zf(i);(s.length>0||!i.eventCache.isFullyInitialized()||l&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&s.push(Ub(zf(e)))}}function Yb(i,e,s,r,l,c){const d=e.eventCache;if(hc(r,s)!=null)return e;{let h,m;if(ge(s))if(F(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=bs(e),y=p instanceof se?p:se.EMPTY_NODE,E=qh(r,y);h=i.filter.updateFullNode(e.eventCache.getNode(),E,c)}else{const p=fc(r,bs(e));h=i.filter.updateFullNode(e.eventCache.getNode(),p,c)}else{const p=he(s);if(p===".priority"){F(Li(s)===1,"Can't have a priority with additional path components");const y=d.getNode();m=e.serverCache.getNode();const E=pv(r,s,y,m);E!=null?h=i.filter.updatePriority(y,E):h=d.getNode()}else{const y=Ie(s);let E;if(d.isCompleteForChild(p)){m=e.serverCache.getNode();const b=pv(r,s,d.getNode(),m);b!=null?E=d.getNode().getImmediateChild(p).updateChild(y,b):E=d.getNode().getImmediateChild(p)}else E=Fh(r,p,e.serverCache);E!=null?h=i.filter.updateChild(d.getNode(),p,E,y,l,c):h=d.getNode()}}return Ya(e,h,d.isFullyInitialized()||ge(s),i.filter.filtersNodes())}}function mc(i,e,s,r,l,c,d,h){const m=e.serverCache;let p;const y=d?i.filter:i.filter.getIndexedFilter();if(ge(s))p=y.updateFullNode(m.getNode(),r,null);else if(y.filtersNodes()&&!m.isFiltered()){const x=m.getNode().updateChild(s,r);p=y.updateFullNode(m.getNode(),x,null)}else{const x=he(s);if(!m.isCompleteForPath(s)&&Li(s)>1)return e;const C=Ie(s),M=m.getNode().getImmediateChild(x).updateChild(C,r);x===".priority"?p=y.updatePriority(m.getNode(),M):p=y.updateChild(m.getNode(),x,M,C,Gb,null)}const E=zb(e,p,m.isFullyInitialized()||ge(s),y.filtersNodes()),b=new Vh(l,E,c);return Yb(i,E,s,l,b,h)}function qf(i,e,s,r,l,c,d){const h=e.eventCache;let m,p;const y=new Vh(l,e,c);if(ge(s))p=i.filter.updateFullNode(e.eventCache.getNode(),r,d),m=Ya(e,p,!0,i.filter.filtersNodes());else{const E=he(s);if(E===".priority")p=i.filter.updatePriority(e.eventCache.getNode(),r),m=Ya(e,p,h.isFullyInitialized(),h.isFiltered());else{const b=Ie(s),x=h.getNode().getImmediateChild(E);let C;if(ge(b))C=r;else{const D=y.getCompleteChild(E);D!=null?Nb(b)===".priority"&&D.getChild(Ab(b)).isEmpty()?C=D:C=D.updateChild(b,r):C=se.EMPTY_NODE}if(x.equals(C))m=e;else{const D=i.filter.updateChild(h.getNode(),E,C,b,y,d);m=Ya(e,D,h.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function gv(i,e){return i.eventCache.isCompleteForChild(e)}function rk(i,e,s,r,l,c,d){let h=e;return r.foreach((m,p)=>{const y=Je(s,m);gv(e,he(y))&&(h=qf(i,h,y,p,l,c,d))}),r.foreach((m,p)=>{const y=Je(s,m);gv(e,he(y))||(h=qf(i,h,y,p,l,c,d))}),h}function _v(i,e,s){return s.foreach((r,l)=>{e=e.updateChild(r,l)}),e}function Ff(i,e,s,r,l,c,d,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;ge(s)?p=r:p=new De(null).setTree(s,r);const y=e.serverCache.getNode();return p.children.inorderTraversal((E,b)=>{if(y.hasChild(E)){const x=e.serverCache.getNode().getImmediateChild(E),C=_v(i,x,b);m=mc(i,m,new Ae(E),C,l,c,d,h)}}),p.children.inorderTraversal((E,b)=>{const x=!e.serverCache.isCompleteForChild(E)&&b.value===null;if(!y.hasChild(E)&&!x){const C=e.serverCache.getNode().getImmediateChild(E),D=_v(i,C,b);m=mc(i,m,new Ae(E),D,l,c,d,h)}}),m}function ak(i,e,s,r,l,c,d){if(hc(l,s)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(r.value!=null){if(ge(s)&&m.isFullyInitialized()||m.isCompleteForPath(s))return mc(i,e,s,m.getNode().getChild(s),l,c,h,d);if(ge(s)){let p=new De(null);return m.getNode().forEachChild(gr,(y,E)=>{p=p.set(new Ae(y),E)}),Ff(i,e,s,p,l,c,h,d)}else return e}else{let p=new De(null);return r.foreach((y,E)=>{const b=Je(s,y);m.isCompleteForPath(b)&&(p=p.set(y,m.getNode().getChild(b)))}),Ff(i,e,s,p,l,c,h,d)}}function lk(i,e,s,r,l){const c=e.serverCache,d=zb(e,c.getNode(),c.isFullyInitialized()||ge(s),c.isFiltered());return Yb(i,d,s,r,Gb,l)}function ok(i,e,s,r,l,c){let d;if(hc(r,s)!=null)return e;{const h=new Vh(r,e,l),m=e.eventCache.getNode();let p;if(ge(s)||he(s)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=fc(r,bs(e));else{const E=e.serverCache.getNode();F(E instanceof se,"serverChildren would be complete if leaf node"),y=qh(r,E)}y=y,p=i.filter.updateFullNode(m,y,c)}else{const y=he(s);let E=Fh(r,y,e.serverCache);E==null&&e.serverCache.isCompleteForChild(y)&&(E=m.getImmediateChild(y)),E!=null?p=i.filter.updateChild(m,y,E,Ie(s),h,c):e.eventCache.getNode().hasChild(y)?p=i.filter.updateChild(m,y,se.EMPTY_NODE,Ie(s),h,c):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=fc(r,bs(e)),d.isLeafNode()&&(p=i.filter.updateFullNode(p,d,c)))}return d=e.serverCache.isFullyInitialized()||hc(r,we())!=null,Ya(e,p,d,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,s){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,l=new jh(r.getIndex()),c=RO(r);this.processor_=tk(c);const d=s.serverCache,h=s.eventCache,m=l.updateFullNode(se.EMPTY_NODE,d.getNode(),null),p=c.updateFullNode(se.EMPTY_NODE,h.getNode(),null),y=new vs(m,d.isFullyInitialized(),l.filtersNodes()),E=new vs(p,h.isFullyInitialized(),c.filtersNodes());this.viewCache_=Dc(E,y),this.eventGenerator_=new LO(this.query_)}get query(){return this.query_}}function uk(i){return i.viewCache_.serverCache.getNode()}function dk(i,e){const s=bs(i.viewCache_);return s&&(i.query._queryParams.loadsAllData()||!ge(e)&&!s.getImmediateChild(he(e)).isEmpty())?s.getChild(e):null}function yv(i){return i.eventRegistrations_.length===0}function fk(i,e){i.eventRegistrations_.push(e)}function vv(i,e,s){const r=[];if(s){F(e==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(c=>{const d=c.createCancelEvent(s,l);d&&r.push(d)})}if(e){let l=[];for(let c=0;c<i.eventRegistrations_.length;++c){const d=i.eventRegistrations_[c];if(!d.matches(e))l.push(d);else if(e.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return r}function bv(i,e,s,r){e.type===ln.MERGE&&e.source.queryId!==null&&(F(bs(i.viewCache_),"We should always have a full cache before handling merges"),F(zf(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,c=ik(i.processor_,l,e,s,r);return nk(i.processor_,c.viewCache),F(c.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,$b(i,c.changes,c.viewCache.eventCache.getNode(),null)}function hk(i,e){const s=i.viewCache_.eventCache,r=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(Be,(c,d)=>{r.push(Sr(c,d))}),s.isFullyInitialized()&&r.push(Ub(s.getNode())),$b(i,r,s.getNode(),e)}function $b(i,e,s,r){const l=r?[r]:i.eventRegistrations_;return UO(i.eventGenerator_,e,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc;class mk{constructor(){this.views=new Map}}function pk(i){F(!pc,"__referenceConstructor has already been defined"),pc=i}function gk(){return F(pc,"Reference.ts has not been loaded"),pc}function _k(i){return i.views.size===0}function Gh(i,e,s,r){const l=e.source.queryId;if(l!==null){const c=i.views.get(l);return F(c!=null,"SyncTree gave us an op for an invalid query."),bv(c,e,s,r)}else{let c=[];for(const d of i.views.values())c=c.concat(bv(d,e,s,r));return c}}function yk(i,e,s,r,l){const c=e._queryIdentifier,d=i.views.get(c);if(!d){let h=fc(s,l?r:null),m=!1;h?m=!0:r instanceof se?(h=qh(s,r),m=!1):(h=se.EMPTY_NODE,m=!1);const p=Dc(new vs(h,m,!1),new vs(r,l,!1));return new ck(e,p)}return d}function vk(i,e,s,r,l,c){const d=yk(i,e,r,l,c);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,d),fk(d,s),hk(d,s)}function bk(i,e,s,r){const l=e._queryIdentifier,c=[];let d=[];const h=Ui(i);if(l==="default")for(const[m,p]of i.views.entries())d=d.concat(vv(p,s,r)),yv(p)&&(i.views.delete(m),p.query._queryParams.loadsAllData()||c.push(p.query));else{const m=i.views.get(l);m&&(d=d.concat(vv(m,s,r)),yv(m)&&(i.views.delete(l),m.query._queryParams.loadsAllData()||c.push(m.query)))}return h&&!Ui(i)&&c.push(new(gk())(e._repo,e._path)),{removed:c,events:d}}function Wb(i){const e=[];for(const s of i.views.values())s.query._queryParams.loadsAllData()||e.push(s);return e}function _r(i,e){let s=null;for(const r of i.views.values())s=s||dk(r,e);return s}function Kb(i,e){if(e._queryParams.loadsAllData())return Mc(i);{const r=e._queryIdentifier;return i.views.get(r)}}function Qb(i,e){return Kb(i,e)!=null}function Ui(i){return Mc(i)!=null}function Mc(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc;function Ek(i){F(!gc,"__referenceConstructor has already been defined"),gc=i}function Sk(){return F(gc,"Reference.ts has not been loaded"),gc}let wk=1;class Ev{constructor(e){this.listenProvider_=e,this.syncPointTree_=new De(null),this.pendingWriteTree_=XO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Xb(i,e,s,r,l){return HO(i.pendingWriteTree_,e,s,r,l),l?yl(i,new ys(Pb(),e,s)):[]}function ds(i,e,s=!1){const r=BO(i.pendingWriteTree_,e);if(qO(i.pendingWriteTree_,e)){let c=new De(null);return r.snap!=null?c=c.set(we(),!0):Rt(r.children,d=>{c=c.set(new Ae(d),!0)}),yl(i,new dc(r.path,c,s))}else return[]}function Lc(i,e,s){return yl(i,new ys(zh(),e,s))}function xk(i,e,s){const r=De.fromObject(s);return yl(i,new al(zh(),e,r))}function Tk(i,e){return yl(i,new rl(zh(),e))}function Ck(i,e,s){const r=$h(i,s);if(r){const l=Wh(r),c=l.path,d=l.queryId,h=Tt(c,e),m=new rl(Hh(d),h);return Kh(i,c,m)}else return[]}function Vf(i,e,s,r,l=!1){const c=e._path,d=i.syncPointTree_.get(c);let h=[];if(d&&(e._queryIdentifier==="default"||Qb(d,e))){const m=bk(d,e,s,r);_k(d)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const p=m.removed;if(h=m.events,!l){const y=p.findIndex(b=>b._queryParams.loadsAllData())!==-1,E=i.syncPointTree_.findOnPath(c,(b,x)=>Ui(x));if(y&&!E){const b=i.syncPointTree_.subtree(c);if(!b.isEmpty()){const x=Ak(b);for(let C=0;C<x.length;++C){const D=x[C],M=D.query,L=eE(i,D);i.listenProvider_.startListening(Wa(M),_c(i,M),L.hashFn,L.onComplete)}}}!E&&p.length>0&&!r&&(y?i.listenProvider_.stopListening(Wa(e),null):p.forEach(b=>{const x=i.queryToTagMap.get(Uc(b));i.listenProvider_.stopListening(Wa(b),x)}))}Ok(i,p)}return h}function Nk(i,e,s,r){const l=$h(i,r);if(l!=null){const c=Wh(l),d=c.path,h=c.queryId,m=Tt(d,e),p=new ys(Hh(h),m,s);return Kh(i,d,p)}else return[]}function Rk(i,e,s,r){const l=$h(i,r);if(l){const c=Wh(l),d=c.path,h=c.queryId,m=Tt(d,e),p=De.fromObject(s),y=new al(Hh(h),m,p);return Kh(i,d,y)}else return[]}function Sv(i,e,s,r=!1){const l=e._path;let c=null,d=!1;i.syncPointTree_.foreachOnPath(l,(b,x)=>{const C=Tt(b,l);c=c||_r(x,C),d=d||Ui(x)});let h=i.syncPointTree_.get(l);h?(d=d||Ui(h),c=c||_r(h,we())):(h=new mk,i.syncPointTree_=i.syncPointTree_.set(l,h));let m;c!=null?m=!0:(m=!1,c=se.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((x,C)=>{const D=_r(C,we());D&&(c=c.updateImmediateChild(x,D))}));const p=Qb(h,e);if(!p&&!e._queryParams.loadsAllData()){const b=Uc(e);F(!i.queryToTagMap.has(b),"View does not exist, but we have a tag");const x=kk();i.queryToTagMap.set(b,x),i.tagToQueryMap.set(x,b)}const y=Bh(i.pendingWriteTree_,l);let E=vk(h,e,s,y,c,m);if(!p&&!d&&!r){const b=Kb(h,e);E=E.concat(Ik(i,e,b))}return E}function Yh(i,e,s){const l=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(e,(d,h)=>{const m=Tt(d,e),p=_r(h,m);if(p)return p});return qb(l,e,c,s,!0)}function yl(i,e){return Zb(e,i.syncPointTree_,null,Bh(i.pendingWriteTree_,we()))}function Zb(i,e,s,r){if(ge(i.path))return Jb(i,e,s,r);{const l=e.get(we());s==null&&l!=null&&(s=_r(l,we()));let c=[];const d=he(i.path),h=i.operationForChild(d),m=e.children.get(d);if(m&&h){const p=s?s.getImmediateChild(d):null,y=Fb(r,d);c=c.concat(Zb(h,m,p,y))}return l&&(c=c.concat(Gh(l,i,r,s))),c}}function Jb(i,e,s,r){const l=e.get(we());s==null&&l!=null&&(s=_r(l,we()));let c=[];return e.children.inorderTraversal((d,h)=>{const m=s?s.getImmediateChild(d):null,p=Fb(r,d),y=i.operationForChild(d);y&&(c=c.concat(Jb(y,h,m,p)))}),l&&(c=c.concat(Gh(l,i,r,s))),c}function eE(i,e){const s=e.query,r=_c(i,s);return{hashFn:()=>(uk(e)||se.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return r?Ck(i,s._path,r):Tk(i,s._path);{const c=N2(l,s);return Vf(i,s,null,c)}}}}function _c(i,e){const s=Uc(e);return i.queryToTagMap.get(s)}function Uc(i){return i._path.toString()+"$"+i._queryIdentifier}function $h(i,e){return i.tagToQueryMap.get(e)}function Wh(i){const e=i.indexOf("$");return F(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Ae(i.substr(0,e))}}function Kh(i,e,s){const r=i.syncPointTree_.get(e);F(r,"Missing sync point for query tag that we're tracking");const l=Bh(i.pendingWriteTree_,e);return Gh(r,s,l,null)}function Ak(i){return i.fold((e,s,r)=>{if(s&&Ui(s))return[Mc(s)];{let l=[];return s&&(l=Wb(s)),Rt(r,(c,d)=>{l=l.concat(d)}),l}})}function Wa(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(Sk())(i._repo,i._path):i}function Ok(i,e){for(let s=0;s<e.length;++s){const r=e[s];if(!r._queryParams.loadsAllData()){const l=Uc(r),c=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(c)}}}function kk(){return wk++}function Ik(i,e,s){const r=e._path,l=_c(i,e),c=eE(i,s),d=i.listenProvider_.startListening(Wa(e),l,c.hashFn,c.onComplete),h=i.syncPointTree_.subtree(r);if(l)F(!Ui(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((p,y,E)=>{if(!ge(p)&&y&&Ui(y))return[Mc(y).query];{let b=[];return y&&(b=b.concat(Wb(y).map(x=>x.query))),Rt(E,(x,C)=>{b=b.concat(C)}),b}});for(let p=0;p<m.length;++p){const y=m[p];i.listenProvider_.stopListening(Wa(y),_c(i,y))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.node_=e}getImmediateChild(e){const s=this.node_.getImmediateChild(e);return new Qh(s)}node(){return this.node_}}class Xh{constructor(e,s){this.syncTree_=e,this.path_=s}getImmediateChild(e){const s=Je(this.path_,e);return new Xh(this.syncTree_,s)}node(){return Yh(this.syncTree_,this.path_)}}const Dk=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},wv=function(i,e,s){if(!i||typeof i!="object")return i;if(F(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return Mk(i[".sv"],e,s);if(typeof i[".sv"]=="object")return Lk(i[".sv"],e);F(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},Mk=function(i,e,s){switch(i){case"timestamp":return s.timestamp;default:F(!1,"Unexpected server value: "+i)}},Lk=function(i,e,s){i.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const r=i.increment;typeof r!="number"&&F(!1,"Unexpected increment value: "+r);const l=e.node();if(F(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return r;const d=l.getValue();return typeof d!="number"?r:d+r},Uk=function(i,e,s,r){return Zh(e,new Xh(s,i),r)},tE=function(i,e,s){return Zh(i,new Qh(e),s)};function Zh(i,e,s){const r=i.getPriority().val(),l=wv(r,e.getImmediateChild(".priority"),s);let c;if(i.isLeafNode()){const d=i,h=wv(d.getValue(),e,s);return h!==d.getValue()||l!==d.getPriority().val()?new st(h,dt(l)):i}else{const d=i;return c=d,l!==d.getPriority().val()&&(c=c.updatePriority(new st(l))),d.forEachChild(Be,(h,m)=>{const p=Zh(m,e.getImmediateChild(h),s);p!==m&&(c=c.updateImmediateChild(h,p))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e="",s=null,r={children:{},childCount:0}){this.name=e,this.parent=s,this.node=r}}function em(i,e){let s=e instanceof Ae?e:new Ae(e),r=i,l=he(s);for(;l!==null;){const c=yr(r.node.children,l)||{children:{},childCount:0};r=new Jh(l,r,c),s=Ie(s),l=he(s)}return r}function kr(i){return i.node.value}function nE(i,e){i.node.value=e,Gf(i)}function iE(i){return i.node.childCount>0}function jk(i){return kr(i)===void 0&&!iE(i)}function jc(i,e){Rt(i.node.children,(s,r)=>{e(new Jh(s,i,r))})}function sE(i,e,s,r){s&&e(i),jc(i,l=>{sE(l,e,!0)})}function Pk(i,e,s){let r=i.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vl(i){return new Ae(i.parent===null?i.name:vl(i.parent)+"/"+i.name)}function Gf(i){i.parent!==null&&zk(i.parent,i.name,i)}function zk(i,e,s){const r=jk(s),l=Zn(i.node.children,e);r&&l?(delete i.node.children[e],i.node.childCount--,Gf(i)):!r&&!l&&(i.node.children[e]=s.node,i.node.childCount++,Gf(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=/[\[\].#$\/\u0000-\u001F\u007F]/,Bk=/[\[\].#$\u0000-\u001F\u007F]/,yf=10*1024*1024,rE=function(i){return typeof i=="string"&&i.length!==0&&!Hk.test(i)},aE=function(i){return typeof i=="string"&&i.length!==0&&!Bk.test(i)},qk=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),aE(i)},Fk=function(i,e,s,r){tm(lh(i,"value"),e,s)},tm=function(i,e,s){const r=s instanceof Ae?new aO(s,i):s;if(e===void 0)throw new Error(i+"contains undefined "+cs(r));if(typeof e=="function")throw new Error(i+"contains a function "+cs(r)+" with contents = "+e.toString());if(ab(e))throw new Error(i+"contains "+e.toString()+" "+cs(r));if(typeof e=="string"&&e.length>yf/3&&wc(e)>yf)throw new Error(i+"contains a string greater than "+yf+" utf8 bytes "+cs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,c=!1;if(Rt(e,(d,h)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(c=!0,!rE(d)))throw new Error(i+" contains an invalid key ("+d+") "+cs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);lO(r,d),tm(i,h,r),oO(r)}),l&&c)throw new Error(i+' contains ".value" child '+cs(r)+" in addition to actual children.")}},lE=function(i,e,s,r){if(!aE(s))throw new Error(lh(i,e)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Vk=function(i,e,s,r){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),lE(i,e,s)},oE=function(i,e){if(he(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},Gk=function(i,e){const s=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!rE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!qk(s))throw new Error(lh(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nm(i,e){let s=null;for(let r=0;r<e.length;r++){const l=e[r],c=l.getPath();s!==null&&!Mh(c,s.path)&&(i.eventLists_.push(s),s=null),s===null&&(s={events:[],path:c}),s.events.push(l)}s&&i.eventLists_.push(s)}function cE(i,e,s){nm(i,s),uE(i,r=>Mh(r,e))}function Wn(i,e,s){nm(i,s),uE(i,r=>an(r,e)||an(e,r))}function uE(i,e){i.recursionDepth_++;let s=!0;for(let r=0;r<i.eventLists_.length;r++){const l=i.eventLists_[r];if(l){const c=l.path;e(c)?($k(i.eventLists_[r]),i.eventLists_[r]=null):s=!1}}s&&(i.eventLists_=[]),i.recursionDepth_--}function $k(i){for(let e=0;e<i.events.length;e++){const s=i.events[e];if(s!==null){i.events[e]=null;const r=s.getEventRunner();Va&&gt("event: "+s.toString()),Or(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="repo_interrupt",Kk=25;class Qk{constructor(e,s,r,l){this.repoInfo_=e,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uc(),this.transactionQueueTree_=new Jh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xk(i,e,s){if(i.stats_=Ih(i.repoInfo_),i.forceRestClient_||k2())i.server_=new cc(i.repoInfo_,(r,l,c,d)=>{xv(i,r,l,c,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Tv(i,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{at(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}i.persistentConnection_=new Vn(i.repoInfo_,e,(r,l,c,d)=>{xv(i,r,l,c,d)},r=>{Tv(i,r)},r=>{Jk(i,r)},i.authTokenProvider_,i.appCheckProvider_,s),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(r=>{i.server_.refreshAuthToken(r)}),i.appCheckProvider_.addTokenChangeListener(r=>{i.server_.refreshAppCheckToken(r.token)}),i.statsReporter_=U2(i.repoInfo_,()=>new MO(i.stats_,i.server_)),i.infoData_=new AO,i.infoSyncTree_=new Ev({startListening:(r,l,c,d)=>{let h=[];const m=i.infoData_.getNode(r._path);return m.isEmpty()||(h=Lc(i.infoSyncTree_,r._path,m),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),sm(i,"connected",!1),i.serverSyncTree_=new Ev({startListening:(r,l,c,d)=>(i.server_.listen(r,c,l,(h,m)=>{const p=d(h,m);Wn(i.eventQueue_,r._path,p)}),[]),stopListening:(r,l)=>{i.server_.unlisten(r,l)}})}function Zk(i){const s=i.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function im(i){return Dk({timestamp:Zk(i)})}function xv(i,e,s,r,l){i.dataUpdateCount++;const c=new Ae(e);s=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,s):s;let d=[];if(l)if(r){const m=Zo(s,p=>dt(p));d=Rk(i.serverSyncTree_,c,m,l)}else{const m=dt(s);d=Nk(i.serverSyncTree_,c,m,l)}else if(r){const m=Zo(s,p=>dt(p));d=xk(i.serverSyncTree_,c,m)}else{const m=dt(s);d=Lc(i.serverSyncTree_,c,m)}let h=c;d.length>0&&(h=Pc(i,c)),Wn(i.eventQueue_,h,d)}function Tv(i,e){sm(i,"connected",e),e===!1&&tI(i)}function Jk(i,e){Rt(e,(s,r)=>{sm(i,s,r)})}function sm(i,e,s){const r=new Ae("/.info/"+e),l=dt(s);i.infoData_.updateSnapshot(r,l);const c=Lc(i.infoSyncTree_,r,l);Wn(i.eventQueue_,r,c)}function dE(i){return i.nextWriteId_++}function eI(i,e,s,r,l){rm(i,"set",{path:e.toString(),value:s,priority:r});const c=im(i),d=dt(s,r),h=Yh(i.serverSyncTree_,e),m=tE(d,h,c),p=dE(i),y=Xb(i.serverSyncTree_,e,m,p,!0);nm(i.eventQueue_,y),i.server_.put(e.toString(),d.val(!0),(b,x)=>{const C=b==="ok";C||Nt("set at "+e+" failed: "+b);const D=ds(i.serverSyncTree_,p,!C);Wn(i.eventQueue_,e,D),rI(i,l,b,x)});const E=gE(i,e);Pc(i,E),Wn(i.eventQueue_,E,[])}function tI(i){rm(i,"onDisconnectEvents");const e=im(i),s=uc();Pf(i.onDisconnect_,we(),(l,c)=>{const d=Uk(l,c,i.serverSyncTree_,e);jb(s,l,d)});let r=[];Pf(s,we(),(l,c)=>{r=r.concat(Lc(i.serverSyncTree_,l,c));const d=gE(i,l);Pc(i,d)}),i.onDisconnect_=uc(),Wn(i.eventQueue_,we(),r)}function nI(i,e,s){let r;he(e._path)===".info"?r=Sv(i.infoSyncTree_,e,s):r=Sv(i.serverSyncTree_,e,s),cE(i.eventQueue_,e._path,r)}function iI(i,e,s){let r;he(e._path)===".info"?r=Vf(i.infoSyncTree_,e,s):r=Vf(i.serverSyncTree_,e,s),cE(i.eventQueue_,e._path,r)}function sI(i){i.persistentConnection_&&i.persistentConnection_.interrupt(Wk)}function rm(i,...e){let s="";i.persistentConnection_&&(s=i.persistentConnection_.id+":"),gt(s,...e)}function rI(i,e,s,r){e&&Or(()=>{if(s==="ok")e(null);else{const l=(s||"error").toUpperCase();let c=l;r&&(c+=": "+r);const d=new Error(c);d.code=l,e(d)}})}function fE(i,e,s){return Yh(i.serverSyncTree_,e,s)||se.EMPTY_NODE}function am(i,e=i.transactionQueueTree_){if(e||zc(i,e),kr(e)){const s=mE(i,e);F(s.length>0,"Sending zero length transaction queue"),s.every(l=>l.status===0)&&aI(i,vl(e),s)}else iE(e)&&jc(e,s=>{am(i,s)})}function aI(i,e,s){const r=s.map(p=>p.currentWriteId),l=fE(i,e,r);let c=l;const d=l.hash();for(let p=0;p<s.length;p++){const y=s[p];F(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const E=Tt(e,y.path);c=c.updateChild(E,y.currentOutputSnapshotRaw)}const h=c.val(!0),m=e;i.server_.put(m.toString(),h,p=>{rm(i,"transaction put response",{path:m.toString(),status:p});let y=[];if(p==="ok"){const E=[];for(let b=0;b<s.length;b++)s[b].status=2,y=y.concat(ds(i.serverSyncTree_,s[b].currentWriteId)),s[b].onComplete&&E.push(()=>s[b].onComplete(null,!0,s[b].currentOutputSnapshotResolved)),s[b].unwatcher();zc(i,em(i.transactionQueueTree_,e)),am(i,i.transactionQueueTree_),Wn(i.eventQueue_,e,y);for(let b=0;b<E.length;b++)Or(E[b])}else{if(p==="datastale")for(let E=0;E<s.length;E++)s[E].status===3?s[E].status=4:s[E].status=0;else{Nt("transaction at "+m.toString()+" failed: "+p);for(let E=0;E<s.length;E++)s[E].status=4,s[E].abortReason=p}Pc(i,e)}},d)}function Pc(i,e){const s=hE(i,e),r=vl(s),l=mE(i,s);return lI(i,l,r),r}function lI(i,e,s){if(e.length===0)return;const r=[];let l=[];const d=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],p=Tt(s,m.path);let y=!1,E;if(F(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,E=m.abortReason,l=l.concat(ds(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=Kk)y=!0,E="maxretry",l=l.concat(ds(i.serverSyncTree_,m.currentWriteId,!0));else{const b=fE(i,m.path,d);m.currentInputSnapshot=b;const x=e[h].update(b.val());if(x!==void 0){tm("transaction failed: Data returned ",x,m.path);let C=dt(x);typeof x=="object"&&x!=null&&Zn(x,".priority")||(C=C.updatePriority(b.getPriority()));const M=m.currentWriteId,L=im(i),j=tE(C,b,L);m.currentOutputSnapshotRaw=C,m.currentOutputSnapshotResolved=j,m.currentWriteId=dE(i),d.splice(d.indexOf(M),1),l=l.concat(Xb(i.serverSyncTree_,m.path,j,m.currentWriteId,m.applyLocally)),l=l.concat(ds(i.serverSyncTree_,M,!0))}else y=!0,E="nodata",l=l.concat(ds(i.serverSyncTree_,m.currentWriteId,!0))}Wn(i.eventQueue_,s,l),l=[],y&&(e[h].status=2,function(b){setTimeout(b,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(E==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(E),!1,null))))}zc(i,i.transactionQueueTree_);for(let h=0;h<r.length;h++)Or(r[h]);am(i,i.transactionQueueTree_)}function hE(i,e){let s,r=i.transactionQueueTree_;for(s=he(e);s!==null&&kr(r)===void 0;)r=em(r,s),e=Ie(e),s=he(e);return r}function mE(i,e){const s=[];return pE(i,e,s),s.sort((r,l)=>r.order-l.order),s}function pE(i,e,s){const r=kr(e);if(r)for(let l=0;l<r.length;l++)s.push(r[l]);jc(e,l=>{pE(i,l,s)})}function zc(i,e){const s=kr(e);if(s){let r=0;for(let l=0;l<s.length;l++)s[l].status!==2&&(s[r]=s[l],r++);s.length=r,nE(e,s.length>0?s:void 0)}jc(e,r=>{zc(i,r)})}function gE(i,e){const s=vl(hE(i,e)),r=em(i.transactionQueueTree_,e);return Pk(r,l=>{vf(i,l)}),vf(i,r),sE(r,l=>{vf(i,l)}),s}function vf(i,e){const s=kr(e);if(s){const r=[];let l=[],c=-1;for(let d=0;d<s.length;d++)s[d].status===3||(s[d].status===1?(F(c===d-1,"All SENT items should be at beginning of queue."),c=d,s[d].status=3,s[d].abortReason="set"):(F(s[d].status===0,"Unexpected transaction status in abort"),s[d].unwatcher(),l=l.concat(ds(i.serverSyncTree_,s[d].currentWriteId,!0)),s[d].onComplete&&r.push(s[d].onComplete.bind(null,new Error("set"),!1,null))));c===-1?nE(e,void 0):s.length=c+1,Wn(i.eventQueue_,vl(e),l);for(let d=0;d<r.length;d++)Or(r[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(i){let e="";const s=i.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let l=s[r];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function cI(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const s of i.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Nt(`Invalid query segment '${s}' in query '${i}'`)}return e}const Cv=function(i,e){const s=uI(i),r=s.namespace;s.domain==="firebase.com"&&$n(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&$n("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||S2();const l=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new yb(s.host,s.secure,r,l,e,"",r!==s.subdomain),path:new Ae(s.pathString)}},uI=function(i){let e="",s="",r="",l="",c="",d=!0,h="https",m=443;if(typeof i=="string"){let p=i.indexOf("//");p>=0&&(h=i.substring(0,p-1),i=i.substring(p+2));let y=i.indexOf("/");y===-1&&(y=i.length);let E=i.indexOf("?");E===-1&&(E=i.length),e=i.substring(0,Math.min(y,E)),y<E&&(l=oI(i.substring(y,E)));const b=cI(i.substring(Math.min(i.length,E)));p=e.indexOf(":"),p>=0?(d=h==="https"||h==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const x=e.slice(0,p);if(x.toLowerCase()==="localhost")s="localhost";else if(x.split(".").length<=2)s=x;else{const C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),s=e.substring(C+1),c=r}"ns"in b&&(c=b.ns)}return{host:e,port:m,domain:s,subdomain:r,secure:d,scheme:h,pathString:l,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,s,r,l){this.eventType=e,this.eventRegistration=s,this.snapshot=r,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+at(this.snapshot.exportVal())}}class fI{constructor(e,s,r){this.eventRegistration=e,this.error=s,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,s){this.snapshotCallback=e,this.cancelCallback=s}onValue(e,s){this.snapshotCallback.call(null,e,s)}onCancel(e){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,s,r,l){this._repo=e,this._path=s,this._queryParams=r,this._orderByCalled=l}get key(){return ge(this._path)?null:Nb(this._path)}get ref(){return new Pi(this._repo,this._path)}get _queryIdentifier(){const e=uv(this._queryParams),s=Oh(e);return s==="{}"?"default":s}get _queryObject(){return uv(this._queryParams)}isEqual(e){if(e=Ge(e),!(e instanceof lm))return!1;const s=this._repo===e._repo,r=Mh(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return s&&r&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+rO(this._path)}}class Pi extends lm{constructor(e,s){super(e,s,new Ph,!1)}get parent(){const e=Ab(this._path);return e===null?null:new Pi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class yc{constructor(e,s,r){this._node=e,this.ref=s,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const s=new Ae(e),r=Yf(this.ref,e);return new yc(this._node.getChild(s),r,Be)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,l)=>e(new yc(l,Yf(this.ref,r),Be)))}hasChild(e){const s=new Ae(e);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Nv(i,e){return i=Ge(i),i._checkNotDeleted("ref"),e!==void 0?Yf(i._root,e):i._root}function Yf(i,e){return i=Ge(i),he(i._path)===null?Vk("child","path",e):lE("child","path",e),new Pi(i._repo,Je(i._path,e))}function mI(i){return oE("remove",i._path),pI(i,null)}function pI(i,e){i=Ge(i),oE("set",i._path),Fk("set",e,i._path);const s=new Sc;return eI(i._repo,i._path,e,null,s.wrapCallback(()=>{})),s.promise}class om{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,s){const r=s._queryParams.getIndex();return new dI("value",this,new yc(e.snapshotNode,new Pi(s._repo,s._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,s){return this.callbackContext.hasCancelCallback?new fI(this,e,s):null}matches(e){return e instanceof om?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function gI(i,e,s,r,l){const c=new hI(s,void 0),d=new om(c);return nI(i._repo,i,d),()=>iI(i._repo,i,d)}function _I(i,e,s,r){return gI(i,"value",e)}pk(Pi);Ek(Pi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="FIREBASE_DATABASE_EMULATOR_HOST",$f={};let vI=!1;function bI(i,e,s,r){const l=e.lastIndexOf(":"),c=e.substring(0,l),d=Ss(c);i.repoInfo_=new yb(e,d,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,s),r&&(i.authTokenProvider_=r)}function EI(i,e,s,r,l){let c=r||i.options.databaseURL;c===void 0&&(i.options.projectId||$n("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=Cv(c,l),h=d.repoInfo,m;typeof process<"u"&&Yy&&(m=Yy[yI]),m?(c=`http://${m}?ns=${h.namespace}`,d=Cv(c,l),h=d.repoInfo):d.repoInfo.secure;const p=new D2(i.name,i.options,e);Gk("Invalid Firebase Database URL",d),ge(d.path)||$n("Database URL must point to the root of a Firebase Database (not including a child path).");const y=wI(h,i,p,new I2(i,s));return new xI(y,i)}function SI(i,e){const s=$f[e];(!s||s[i.key]!==i)&&$n(`Database ${e}(${i.repoInfo_}) has already been deleted.`),sI(i),delete s[i.key]}function wI(i,e,s,r){let l=$f[e.name];l||(l={},$f[e.name]=l);let c=l[i.toURLString()];return c&&$n("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new Qk(i,vI,s,r),l[i.toURLString()]=c,c}class xI{constructor(e,s){this._repoInternal=e,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Xk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pi(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(SI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&$n("Cannot call "+e+" on a deleted database.")}}function TI(i=uh(),e){const s=xc(i,"database").getImmediate({identifier:e});if(!s._instanceStarted){const r=Jv("database");r&&CI(s,...r)}return s}function CI(i,e,s,r={}){i=Ge(i),i._checkNotDeleted("useEmulator");const l=`${e}:${s}`,c=i._repoInternal;if(i._instanceStarted){if(l===i._repoInternal.repoInfo_.host&&hs(r,c.repoInfo_.emulatorOptions))return;$n("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(c.repoInfo_.nodeAdmin)r.mockUserToken&&$n('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new $o($o.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:n0(r.mockUserToken,i.app.options.projectId);d=new $o(h)}Ss(e)&&(sh(e),rh("Database",!0)),bI(c,l,r,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(i){g2(ws),ms(new Mi("database",(e,{instanceIdentifier:s})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return EI(r,l,c,s)},"PUBLIC").setMultipleInstances(!0)),vn($y,Wy,i),vn($y,Wy,"esm2017")}Vn.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Vn.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};NI();const RI={apiKey:"AIzaSyAafDSvuHq7bb9F3-SdVpwM2NTNNtymT_o",authDomain:"nailsbydani-6082b.firebaseapp.com",databaseURL:"https://nailsbydani-6082b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nailsbydani-6082b",storageBucket:"nailsbydani-6082b.firebasestorage.app",messagingSenderId:"438345951991",appId:"1:438345951991:web:335b18a1bca6fa1a75c1f2",measurementId:"G-6R161TJXN6"},cm=Tc(RI),Pa=m2(cm),Rv=TI(cm),Wf=bh(cm),AI=({children:i})=>{const[e,s]=R.useState(""),[r,l]=R.useState(""),[c,d]=R.useState(""),[h,m]=R.useState(!1),[p,y]=R.useState(!0);R.useEffect(()=>{Uy(Pa).catch(I=>{console.error("Error signing out on mount:",I)})},[]);const E=R.useRef(null);R.useEffect(()=>{const I=iA(Pa,V=>{m(!!V),y(!1)});return()=>I()},[]),R.useEffect(()=>{if(!h){C(),L();return}return x(),M(),()=>{C(),L()}},[h]);const b=5*60*1e3,x=()=>{C(),E.current=window.setTimeout(()=>{Uy(Pa).catch(I=>{console.error("Auto-logout error:",I)})},b)},C=()=>{E.current!==null&&(clearTimeout(E.current),E.current=null)},D=["mousemove","mousedown","keydown","touchstart","scroll"],M=()=>{D.forEach(I=>{window.addEventListener(I,x)})},L=()=>{D.forEach(I=>{window.removeEventListener(I,x)})},j=async I=>{I.preventDefault(),d("");try{await eA(Pa,Df),await JR(Pa,e,r)}catch(V){console.error("Firebase signIn error:",V),d("Invalid email or password")}};return p?_.jsx("div",{className:"min-h-screen flex items-center justify-center",children:_.jsx(Qa,{className:"h-6 w-6 animate-spin"})}):h?_.jsx(_.Fragment,{children:i}):_.jsx("div",{className:"mt-20 bg-white flex items-center justify-center",children:_.jsxs("div",{className:"border border-gray-300 p-6 w-full max-w-sm",children:[_.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:"Admin Sign In"}),_.jsxs("form",{onSubmit:j,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),_.jsx("input",{type:"email",value:e,onChange:I=>s(I.target.value),placeholder:"you@domain.com",className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,autoComplete:"username"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),_.jsx("input",{type:"password",value:r,onChange:I=>l(I.target.value),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,autoComplete:"current-password"})]}),c&&_.jsx("div",{className:"p-2 bg-red-50 border border-red-200 text-red-700 text-sm",children:c}),_.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 px-3 hover:bg-gray-800",children:"Sign In"})]})]})})},OI=({onUploadSuccess:i,showModal:e,setShowModal:s})=>{const[r,l]=R.useState(!1),[c,d]=R.useState(null),[h,m]=R.useState(""),[p,y]=R.useState(null);R.useEffect(()=>{e||(d(null),m(""),p&&(URL.revokeObjectURL(p),y(null)))},[e,p]);const E=C=>{const D=C.target.files[0];if(D){d(D);const M=URL.createObjectURL(D);y(M)}},b=async C=>{if(C.preventDefault(),!c||!h){alert("Please select a file and enter a design ID");return}l(!0);try{const D=vr(Wf,`Designs/${h}.jpg`);await BN(D,c),d(null),m(""),y(null),s(!1),i(h)}catch(D){console.error("Upload failed:",D),alert("Upload failed. Please try again.")}finally{l(!1)}},x=()=>{d(null),m(""),y(null),s(!1),p&&URL.revokeObjectURL(p)};return _.jsx(_.Fragment,{children:e&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white border border-gray-300 p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload New Design"}),_.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600",children:_.jsx(th,{size:20})})]}),_.jsxs("form",{onSubmit:b,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Design ID"}),_.jsx("input",{type:"number",value:h,onChange:C=>m(C.target.value),placeholder:"Enter design ID (e.g., 15)",className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,disabled:r})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image File"}),_.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:E,className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,disabled:r}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: JPG, JPEG, PNG"})]}),p&&_.jsxs("div",{className:"mt-4",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview"}),_.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:_.jsx("img",{src:p,alt:"Upload preview",className:"w-full h-48 object-cover"})})]}),_.jsxs("div",{className:"flex space-x-3 pt-4",children:[_.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 hover:bg-gray-50",disabled:r,children:"Cancel"}),_.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-black text-white hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r||!c||!h,children:r?_.jsxs("span",{className:"flex items-center justify-center",children:[_.jsx(Qa,{size:16,className:"animate-spin mr-2"}),"Uploading..."]}):_.jsxs("span",{className:"flex items-center justify-center",children:[_.jsx(qx,{size:16,className:"mr-2"}),"Upload"]})})]})]})]})})})},kI=({design:i,imageURL:e,likesCount:s,onDelete:r})=>{const[l,c]=R.useState(!1),[d,h]=R.useState(!1),[m,p]=R.useState(!1),y=async()=>{h(!0);try{await r(i.id),p(!1)}catch(E){console.error("Delete failed:",E)}finally{h(!1)}};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden group transition-all duration-200",children:[_.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[e?_.jsx("img",{src:e,alt:`Design ${i.id}`,className:"w-full h-full object-cover"}):_.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No image"}),_.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200",children:_.jsxs("div",{className:"flex space-x-3",children:[e&&_.jsx("button",{onClick:()=>c(!0),className:"p-3 bg-white text-black hover:bg-gray-100 rounded-full transition-colors duration-150",title:"Preview",children:_.jsx(Tx,{size:16,color:"black"})}),e&&_.jsx("button",{onClick:()=>p(!0),className:"p-3 bg-red-600 text-white hover:bg-red-700 rounded-full transition-colors duration-150",title:"Delete",disabled:d,children:d?_.jsx(Qa,{size:16,className:"animate-spin"}):_.jsx(Hx,{size:16})})]})})]}),_.jsx("div",{className:"p-3 bg-white group-hover:bg-gray-50 transition-colors duration-200",children:_.jsxs("div",{className:"flex justify-between items-center text-sm",children:[_.jsxs("span",{className:"font-medium",children:["Design ",i.id]}),_.jsxs("span",{className:"text-gray-500",children:[(s||0).toLocaleString()," likes"]})]})})]}),l&&e&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[_.jsx("button",{onClick:()=>c(!1),className:"absolute -top-10 right-0 text-white hover:text-gray-300",children:_.jsx(th,{size:24})}),_.jsx("img",{src:e,alt:`Design ${i.id}`,className:"max-w-full max-h-full object-contain"})]})}),m&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white border border-gray-300 p-6 max-w-md w-full",children:[_.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Delete Design ",i.id,"?"]}),_.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"This will permanently delete the image and all likes data."}),_.jsxs("div",{className:"flex space-x-3",children:[_.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 hover:bg-gray-50",disabled:d,children:"Cancel"}),_.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",disabled:d,children:d?_.jsxs("span",{className:"flex items-center justify-center",children:[_.jsx(Qa,{size:16,className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})})]})},II=()=>{const[i,e]=R.useState([]),[s,r]=R.useState({}),[l,c]=R.useState({}),[d,h]=R.useState(!0),[m,p]=R.useState(null),[y,E]=R.useState(!1),[b,x]=R.useState([]),C=async()=>{try{const j=vr(Wf,"Designs/"),I=await yh(j),V={},$=[];return await Promise.all(I.items.map(async Z=>{try{const re=Z.name,ve=parseInt(re.split(".")[0]);if(!isNaN(ve)){const G=await vh(Z);V[ve]=G,$.push({id:ve,title:"",category:"classic",description:""})}}catch(re){console.log(`Error processing file ${Z.name}:`,re)}})),$.sort((Z,re)=>Z.id-re.id),{urls:V,designs:$}}catch(j){return console.error("Error discovering designs:",j),{urls:{},designs:[]}}};R.useEffect(()=>{(async()=>{try{const I=Nv(Rv,"likes");_I(I,Z=>{const re=Z.val()||{};c(re)});const{urls:V,designs:$}=await C();r(V),e($),x($),h(!1)}catch(I){console.error("Error fetching data:",I),h(!1)}})()},[]);const D=(j,I="success")=>{p({message:j,type:I}),setTimeout(()=>p(null),3e3)},M=async j=>{try{const{urls:I,designs:V}=await C();r(I),e(V),x(V),D(`Design ${j} uploaded successfully`)}catch(I){console.error("Error refreshing after upload:",I),D("Upload completed but failed to refresh","error")}},L=async j=>{try{const I=vr(Wf,`Designs/${j}.jpg`);await qN(I);const V=Nv(Rv,`likes/${j}`);await mI(V),r($=>{const Z={...$};return delete Z[j],Z}),c($=>{const Z={...$};return delete Z[j],Z}),D(`Design ${j} deleted`)}catch(I){throw console.error("Error deleting design:",I),D(`Failed to delete design ${j}`,"error"),I}};return d?_.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:_.jsxs("div",{className:"text-center",children:[_.jsx(Qa,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),_.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):_.jsxs("div",{className:"min-h-screen bg-white",children:[_.jsx("div",{className:"border-b border-gray-200",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"Admin Panel"}),_.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Object.keys(s).length," images,"," ",Object.values(l).reduce((j,I)=>j+I,0).toLocaleString()," ","total likes"]})]}),_.jsx("button",{onClick:()=>E(!0),className:"bg-black text-white px-4 py-2 hover:bg-gray-800 transition-colors duration-200 flex items-center space-x-2 text-xs",children:_.jsx("span",{children:"Upload Design"})})]})}),m&&_.jsx("div",{className:"fixed top-4 right-4 z-50",children:_.jsx("div",{className:`p-3 border text-sm ${m.type==="error"?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:m.message})}),_.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:_.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:i.map(j=>_.jsx(kI,{design:j,imageURL:s[j.id],likesCount:l[j.id],onDelete:L},j.id))})}),_.jsx(OI,{onUploadSuccess:M,showModal:y,setShowModal:E})]})};function DI(){return _.jsx(AI,{children:_.jsx(II,{})})}const MI=()=>{const[i,e]=R.useState(new Set),s=(l,c,d="")=>{const h="27661043677",m=`Hey Daniela!

I'm interested in booking the ${l} service for ${c}${d?` ${d}`:""}

Could we please schedule an appointment? Let me know your available times.

Thank you!`,p=encodeURIComponent(m);return`https://wa.me/${h}?text=${p}`};R.useEffect(()=>{const l=new IntersectionObserver(d=>{d.forEach(h=>{if(h.isIntersecting){const m=h.target.getAttribute("data-item-id");m&&e(p=>new Set([...p,m]))}})},{threshold:.6,rootMargin:"50px"}),c=setTimeout(()=>{document.querySelectorAll("[data-item-id]").forEach(h=>l.observe(h))},100);return()=>{clearTimeout(c),l.disconnect()}},[]);const r=[{categoryName:"Gel & Acrylic Overlays",services:[{price:"R160",name:"Gel Overlay",description:"Professional gel overlay on your natural nails for strength and durability. Includes base coat, gel application, cuticle care, shaping, and high-gloss top coat finish."},{price:"R180",name:"Acrylic Overlay",description:"Strong acrylic overlay system providing excellent durability and smooth finish. Includes nail preparation, acrylic application, shaping, buffing, and cuticle care."}]},{categoryName:"Extensions & Sculptures",services:[{price:"R210",name:"Gel Extensions - Short",description:"Professional gel extensions for added length and strength. Perfect for everyday wear with a natural look. Includes nail preparation, extension application, shaping, and finishing."},{price:"R230",name:"Gel Extensions - Medium",description:"Medium length extensions providing the perfect balance between practicality and elegance."},{price:"R250",name:"Gel Extensions - Long",description:"Dramatic long extensions for those who want to make a statement with their nails."},{price:"R230",name:"Acrylic Sculptures - Short",description:"Hand-sculpted acrylic nails with superior strength and durability in a short, practical length."},{price:"R250",name:"Acrylic Sculptures - Medium",description:"Medium length acrylic sculptures offering the perfect combination of style and functionality."},{price:"R270",name:"Acrylic Sculptures - Long",description:"Long acrylic sculptures for maximum impact and glamour. Perfect for special occasions or everyday elegance."}]},{categoryName:"Maintenance & Repairs",services:[{price:"R120",name:"Gel Fill",description:"Maintain your gel nails with professional fill service. Keeps your nails looking fresh and extends their lifespan. Includes growth area fill, reshaping, and cuticle care."},{price:"R120",name:"Acrylic Fill",description:"Professional acrylic fill service to maintain the strength and appearance of your acrylic nails."},{price:"R20",name:"Broken Nail Repair",description:"Quick and effective repair for broken or damaged nails. Restore your nail to its original beauty."},{price:"R50",name:"Soak Off Service",description:"Safe and gentle removal of gel or acrylic nails without damage to your natural nails. Includes professional removal process and nail conditioning treatment."}]},{categoryName:"Add-Ons",services:[{price:"R5",priceNote:"per nail",name:"Nail Art",description:"Custom nail art designs to express your personal style. From simple accents to intricate patterns. Can be added to any nail service for personalized flair.",note:"*Our most popular add-on"}]}];return _.jsxs("div",{className:"min-h-screen bg-white",children:[_.jsx("div",{className:"text-center py-32 mt-20 transition-all duration-1000 opacity-100 translate-y-0",children:_.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[_.jsx("h1",{className:"text-4xl md:text-5xl font-light text-stone-900 mb-8",children:"Nail Services"}),_.jsx("p",{className:"text-stone-600 font-light leading-relaxed font-sans",children:"Professional nail preparation, cuticle care, shaping, filing, buffing, and application with premium products. Each service includes meticulous attention to detail and personalized care for optimal results."}),_.jsx("p",{className:"text-stone-600 font-light text-sm mt-4 italic",children:"[ Additional services and nail art available upon request. ]"})]})}),_.jsxs("div",{className:"max-w-6xl mx-auto px-6 pb-24",children:[r.map((l,c)=>_.jsx("div",{className:"mb-20",children:_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start",children:[_.jsx("div",{"data-item-id":`category-${c}`,className:`transition-all duration-1000 ease-out ${i.has(`category-${c}`)?"opacity-100 translate-x-0":"opacity-0 -translate-x-8"}`,children:_.jsx("h2",{className:"text-4xl font-light text-stone-900",children:l.categoryName})}),_.jsx("div",{className:"space-y-8",children:l.services.map((d,h)=>{const m=`service-${c}-${h}`;return _.jsxs("a",{"data-item-id":m,href:s(d.name,d.price,d.priceNote),target:"_blank",rel:"noopener noreferrer",className:`block p-6 border border-transparent hover:border-stone-300 transition-all duration-300 ease-out cursor-pointer ${i.has(m)?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{transitionDelay:i.has(m)?"0ms":`${h*150}ms`},children:[_.jsxs("div",{className:"mb-2",children:[_.jsx("span",{className:"text-sm text-stone-600 font-montserrat",children:d.price}),d.priceNote&&_.jsx("span",{className:"text-sm text-stone-600 ml-2",children:d.priceNote})]}),_.jsxs("div",{className:"flex justify-between items-center mb-3",children:[_.jsx("h3",{className:"text-lg text-stone-900 uppercase tracking-wide",children:d.name}),_.jsx($v,{size:18,className:"text-stone-400"})]}),_.jsx("p",{className:"text-stone-600 font-light leading-relaxed mb-4 font-montserrat text-sm",children:d.description}),d.note&&_.jsx("p",{className:"text-stone-600 font-light text-sm italic",children:d.note})]},h)})})]})},c)),_.jsx("div",{"data-item-id":"contact-section",className:`border-t border-stone-200 pt-12 transition-all duration-1200 ease-out ${i.has("contact-section")?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:_.jsxs("div",{className:"text-center",children:[_.jsx("h3",{className:"text-2xl font-light text-stone-900 mb-4",children:"Have Questions About Our Services?"}),_.jsx("p",{className:"text-stone-600 font-light mb-8",children:"Contact me for consultations, custom requests, or any questions about treatments."}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("a",{href:s("General Consultation","Free",""),target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-stone-900 text-white px-8 py-3 hover:bg-stone-800 transition-colors duration-300 font-light mr-4",children:"Chat on WhatsApp"}),_.jsx("a",{href:"tel:0661043677",className:"inline-block bg-stone-100 text-stone-900 px-8 py-3 hover:bg-stone-200 transition-colors duration-300 font-light",children:"Call +27 66 104 3677"})]}),_.jsx("p",{className:"text-stone-500 text-sm",children:"Professional nail services  Expert care  Premium products"})]})]})})]})]})};function LI(){const i=Qn();return R.useEffect(()=>{window.scrollTo(0,0)},[i.pathname]),_.jsxs(_.Fragment,{children:[_.jsx(XN,{}),_.jsxs(Pw,{children:[_.jsx(cr,{path:"/",element:_.jsx(QN,{})}),_.jsx(cr,{path:"/designs",element:_.jsx(eR,{})}),_.jsx(cr,{path:"/faq",element:_.jsx(tR,{})}),_.jsx(cr,{path:"/admin",element:_.jsx(DI,{})}),_.jsx(cr,{path:"/services",element:_.jsx(MI,{})})]})]})}WS.createRoot(document.getElementById("root")).render(_.jsx(R.StrictMode,{children:_.jsx(ox,{children:_.jsx(LI,{})})}));
