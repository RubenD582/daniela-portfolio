(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var md={exports:{}},po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function nR(){if(y0)return po;y0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return po.Fragment=e,po.jsx=n,po.jsxs=n,po}var v0;function iR(){return v0||(v0=1,md.exports=nR()),md.exports}var b=iR(),pd={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function sR(){if(_0)return ue;_0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function O(A,F,ae){this.props=A,this.context=F,this.refs=C,this.updater=ae||S}O.prototype.isReactComponent={},O.prototype.setState=function(A,F){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,F,"setState")},O.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function N(){}N.prototype=O.prototype;function I(A,F,ae){this.props=A,this.context=F,this.refs=C,this.updater=ae||S}var k=I.prototype=new N;k.constructor=I,T(k,O.prototype),k.isPureReactComponent=!0;var H=Array.isArray,V={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function te(A,F,ae,ie,W,_e){return ae=_e.ref,{$$typeof:t,type:A,key:F,ref:ae!==void 0?ae:null,props:_e}}function $(A,F){return te(A.type,F,void 0,void 0,void 0,A.props)}function q(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function ne(A){var F={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ae){return F[ae]})}var He=/\/+/g;function $t(A,F){return typeof A=="object"&&A!==null&&A.key!=null?ne(""+A.key):F.toString(36)}function Wt(){}function Xt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Wt,Wt):(A.status="pending",A.then(function(F){A.status==="pending"&&(A.status="fulfilled",A.value=F)},function(F){A.status==="pending"&&(A.status="rejected",A.reason=F)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function xt(A,F,ae,ie,W){var _e=typeof A;(_e==="undefined"||_e==="boolean")&&(A=null);var he=!1;if(A===null)he=!0;else switch(_e){case"bigint":case"string":case"number":he=!0;break;case"object":switch(A.$$typeof){case t:case e:he=!0;break;case g:return he=A._init,xt(he(A._payload),F,ae,ie,W)}}if(he)return W=W(A),he=ie===""?"."+$t(A,0):ie,H(W)?(ae="",he!=null&&(ae=he.replace(He,"$&/")+"/"),xt(W,F,ae,"",function(Je){return Je})):W!=null&&(q(W)&&(W=$(W,ae+(W.key==null||A&&A.key===W.key?"":(""+W.key).replace(He,"$&/")+"/")+he)),F.push(W)),1;he=0;var wt=ie===""?".":ie+":";if(H(A))for(var Ce=0;Ce<A.length;Ce++)ie=A[Ce],_e=wt+$t(ie,Ce),he+=xt(ie,F,ae,_e,W);else if(Ce=v(A),typeof Ce=="function")for(A=Ce.call(A),Ce=0;!(ie=A.next()).done;)ie=ie.value,_e=wt+$t(ie,Ce++),he+=xt(ie,F,ae,_e,W);else if(_e==="object"){if(typeof A.then=="function")return xt(Xt(A),F,ae,ie,W);throw F=String(A),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return he}function K(A,F,ae){if(A==null)return A;var ie=[],W=0;return xt(A,ie,"","",function(_e){return F.call(ae,_e,W++)}),ie}function Z(A){if(A._status===-1){var F=A._result;F=F(),F.then(function(ae){(A._status===0||A._status===-1)&&(A._status=1,A._result=ae)},function(ae){(A._status===0||A._status===-1)&&(A._status=2,A._result=ae)}),A._status===-1&&(A._status=0,A._result=F)}if(A._status===1)return A._result.default;throw A._result}var J=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function we(){}return ue.Children={map:K,forEach:function(A,F,ae){K(A,function(){F.apply(this,arguments)},ae)},count:function(A){var F=0;return K(A,function(){F++}),F},toArray:function(A){return K(A,function(F){return F})||[]},only:function(A){if(!q(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ue.Component=O,ue.Fragment=n,ue.Profiler=a,ue.PureComponent=I,ue.StrictMode=s,ue.Suspense=d,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ue.act=function(){throw Error("act(...) is not supported in production builds of React.")},ue.cache=function(A){return function(){return A.apply(null,arguments)}},ue.cloneElement=function(A,F,ae){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ie=T({},A.props),W=A.key,_e=void 0;if(F!=null)for(he in F.ref!==void 0&&(_e=void 0),F.key!==void 0&&(W=""+F.key),F)!Y.call(F,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&F.ref===void 0||(ie[he]=F[he]);var he=arguments.length-2;if(he===1)ie.children=ae;else if(1<he){for(var wt=Array(he),Ce=0;Ce<he;Ce++)wt[Ce]=arguments[Ce+2];ie.children=wt}return te(A.type,W,void 0,void 0,_e,ie)},ue.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:l,_context:A},A},ue.createElement=function(A,F,ae){var ie,W={},_e=null;if(F!=null)for(ie in F.key!==void 0&&(_e=""+F.key),F)Y.call(F,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(W[ie]=F[ie]);var he=arguments.length-2;if(he===1)W.children=ae;else if(1<he){for(var wt=Array(he),Ce=0;Ce<he;Ce++)wt[Ce]=arguments[Ce+2];W.children=wt}if(A&&A.defaultProps)for(ie in he=A.defaultProps,he)W[ie]===void 0&&(W[ie]=he[ie]);return te(A,_e,void 0,void 0,null,W)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(A){return{$$typeof:f,render:A}},ue.isValidElement=q,ue.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:Z}},ue.memo=function(A,F){return{$$typeof:m,type:A,compare:F===void 0?null:F}},ue.startTransition=function(A){var F=V.T,ae={};V.T=ae;try{var ie=A(),W=V.S;W!==null&&W(ae,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(we,J)}catch(_e){J(_e)}finally{V.T=F}},ue.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ue.use=function(A){return V.H.use(A)},ue.useActionState=function(A,F,ae){return V.H.useActionState(A,F,ae)},ue.useCallback=function(A,F){return V.H.useCallback(A,F)},ue.useContext=function(A){return V.H.useContext(A)},ue.useDebugValue=function(){},ue.useDeferredValue=function(A,F){return V.H.useDeferredValue(A,F)},ue.useEffect=function(A,F){return V.H.useEffect(A,F)},ue.useId=function(){return V.H.useId()},ue.useImperativeHandle=function(A,F,ae){return V.H.useImperativeHandle(A,F,ae)},ue.useInsertionEffect=function(A,F){return V.H.useInsertionEffect(A,F)},ue.useLayoutEffect=function(A,F){return V.H.useLayoutEffect(A,F)},ue.useMemo=function(A,F){return V.H.useMemo(A,F)},ue.useOptimistic=function(A,F){return V.H.useOptimistic(A,F)},ue.useReducer=function(A,F,ae){return V.H.useReducer(A,F,ae)},ue.useRef=function(A){return V.H.useRef(A)},ue.useState=function(A){return V.H.useState(A)},ue.useSyncExternalStore=function(A,F,ae){return V.H.useSyncExternalStore(A,F,ae)},ue.useTransition=function(){return V.H.useTransition()},ue.version="19.0.0",ue}var b0;function Hm(){return b0||(b0=1,pd.exports=sR()),pd.exports}var w=Hm(),gd={exports:{}},go={},yd={exports:{}},vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function rR(){return E0||(E0=1,function(t){function e(K,Z){var J=K.length;K.push(Z);e:for(;0<J;){var we=J-1>>>1,A=K[we];if(0<a(A,Z))K[we]=Z,K[J]=A,J=we;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var Z=K[0],J=K.pop();if(J!==Z){K[0]=J;e:for(var we=0,A=K.length,F=A>>>1;we<F;){var ae=2*(we+1)-1,ie=K[ae],W=ae+1,_e=K[W];if(0>a(ie,J))W<A&&0>a(_e,ie)?(K[we]=_e,K[W]=J,we=W):(K[we]=ie,K[ae]=J,we=ae);else if(W<A&&0>a(_e,J))K[we]=_e,K[W]=J,we=W;else break e}}return Z}function a(K,Z){var J=K.sortIndex-Z.sortIndex;return J!==0?J:K.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],m=[],g=1,y=null,v=3,S=!1,T=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function k(K){for(var Z=n(m);Z!==null;){if(Z.callback===null)s(m);else if(Z.startTime<=K)s(m),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=n(m)}}function H(K){if(C=!1,k(K),!T)if(n(d)!==null)T=!0,Xt();else{var Z=n(m);Z!==null&&xt(H,Z.startTime-K)}}var V=!1,Y=-1,te=5,$=-1;function q(){return!(t.unstable_now()-$<te)}function ne(){if(V){var K=t.unstable_now();$=K;var Z=!0;try{e:{T=!1,C&&(C=!1,N(Y),Y=-1),S=!0;var J=v;try{t:{for(k(K),y=n(d);y!==null&&!(y.expirationTime>K&&q());){var we=y.callback;if(typeof we=="function"){y.callback=null,v=y.priorityLevel;var A=we(y.expirationTime<=K);if(K=t.unstable_now(),typeof A=="function"){y.callback=A,k(K),Z=!0;break t}y===n(d)&&s(d),k(K)}else s(d);y=n(d)}if(y!==null)Z=!0;else{var F=n(m);F!==null&&xt(H,F.startTime-K),Z=!1}}break e}finally{y=null,v=J,S=!1}Z=void 0}}finally{Z?He():V=!1}}}var He;if(typeof I=="function")He=function(){I(ne)};else if(typeof MessageChannel<"u"){var $t=new MessageChannel,Wt=$t.port2;$t.port1.onmessage=ne,He=function(){Wt.postMessage(null)}}else He=function(){O(ne,0)};function Xt(){V||(V=!0,He())}function xt(K,Z){Y=O(function(){K(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){T||S||(T=!0,Xt())},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(K){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var J=v;v=Z;try{return K()}finally{v=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var J=v;v=K;try{return Z()}finally{v=J}},t.unstable_scheduleCallback=function(K,Z,J){var we=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?we+J:we):J=we,K){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=J+A,K={id:g++,callback:Z,priorityLevel:K,startTime:J,expirationTime:A,sortIndex:-1},J>we?(K.sortIndex=J,e(m,K),n(d)===null&&K===n(m)&&(C?(N(Y),Y=-1):C=!0,xt(H,J-we))):(K.sortIndex=A,e(d,K),T||S||(T=!0,Xt())),K},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(K){var Z=v;return function(){var J=v;v=Z;try{return K.apply(this,arguments)}finally{v=J}}}}(vd)),vd}var S0;function aR(){return S0||(S0=1,yd.exports=rR()),yd.exports}var _d={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function oR(){if(T0)return bt;T0=1;var t=Hm();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bt.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,g)},bt.flushSync=function(d){var m=u.T,g=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=m,s.p=g,s.d.f()}},bt.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},bt.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},bt.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,y=f(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:S}):g==="script"&&s.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},bt.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},bt.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=f(g,m.crossOrigin);s.d.L(d,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},bt.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=f(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},bt.requestFormReset=function(d){s.d.r(d)},bt.unstable_batchedUpdates=function(d,m){return d(m)},bt.useFormState=function(d,m,g){return u.H.useFormState(d,m,g)},bt.useFormStatus=function(){return u.H.useHostTransitionStatus()},bt.version="19.0.0",bt}var x0;function lR(){if(x0)return _d.exports;x0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_d.exports=oR(),_d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function cR(){if(w0)return go;w0=1;var t=aR(),e=Hm(),n=lR();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var te=Symbol.for("react.client.reference");function $(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===te?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case f:return"Portal";case g:return"Profiler";case m:return"StrictMode";case C:return"Suspense";case O:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case S:return(i.displayName||"Context")+".Provider";case v:return(i._context.displayName||"Context")+".Consumer";case T:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:$(i.type)||"Memo";case I:r=i._payload,i=i._init;try{return $(i(r))}catch{}}return null}var q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=Object.assign,He,$t;function Wt(i){if(He===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);He=r&&r[1]||"",$t=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+i+$t}var Xt=!1;function xt(i,r){if(!i||Xt)return"";Xt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(U){var P=U}Reflect.construct(i,[],z)}else{try{z.call()}catch(U){P=U}i.call(z.prototype)}}else{try{throw Error()}catch(U){P=U}(z=i())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(U){if(U&&P&&typeof U.stack=="string")return[U.stack,P.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),_=p[0],E=p[1];if(_&&E){var x=_.split(`
`),D=E.split(`
`);for(h=c=0;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;for(;h<D.length&&!D[h].includes("DetermineComponentFrameRoot");)h++;if(c===x.length||h===D.length)for(c=x.length-1,h=D.length-1;1<=c&&0<=h&&x[c]!==D[h];)h--;for(;1<=c&&0<=h;c--,h--)if(x[c]!==D[h]){if(c!==1||h!==1)do if(c--,h--,0>h||x[c]!==D[h]){var j=`
`+x[c].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=c&&0<=h);break}}}finally{Xt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Wt(o):""}function K(i){switch(i.tag){case 26:case 27:case 5:return Wt(i.type);case 16:return Wt("Lazy");case 13:return Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return i=xt(i.type,!1),i;case 11:return i=xt(i.type.render,!1),i;case 1:return i=xt(i.type,!0),i;default:return""}}function Z(i){try{var r="";do r+=K(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function J(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,r.flags&4098&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function we(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function A(i){if(J(i)!==i)throw Error(s(188))}function F(i){var r=i.alternate;if(!r){if(r=J(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return A(h),i;if(p===c)return A(h),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=h,c=p;else{for(var _=!1,E=h.child;E;){if(E===o){_=!0,o=h,c=p;break}if(E===c){_=!0,c=h,o=p;break}E=E.sibling}if(!_){for(E=p.child;E;){if(E===o){_=!0,o=p,c=h;break}if(E===c){_=!0,c=p,o=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function ae(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=ae(i),r!==null)return r;i=i.sibling}return null}var ie=Array.isArray,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},he=[],wt=-1;function Ce(i){return{current:i}}function Je(i){0>wt||(i.current=he[wt],he[wt]=null,wt--)}function Ue(i,r){wt++,he[wt]=i.current,i.current=r}var wn=Ce(null),ya=Ce(null),vi=Ce(null),Tl=Ce(null);function xl(i,r){switch(Ue(vi,r),Ue(ya,i),Ue(wn,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Y_(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=Y_(i),r=K_(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Je(wn),Ue(wn,r)}function tr(){Je(wn),Je(ya),Je(vi)}function sh(i){i.memoizedState!==null&&Ue(Tl,i);var r=wn.current,o=K_(r,i.type);r!==o&&(Ue(ya,i),Ue(wn,o))}function wl(i){ya.current===i&&(Je(wn),Je(ya)),Tl.current===i&&(Je(Tl),co._currentValue=_e)}var rh=Object.prototype.hasOwnProperty,ah=t.unstable_scheduleCallback,oh=t.unstable_cancelCallback,M1=t.unstable_shouldYield,L1=t.unstable_requestPaint,Cn=t.unstable_now,P1=t.unstable_getCurrentPriorityLevel,Lg=t.unstable_ImmediatePriority,Pg=t.unstable_UserBlockingPriority,Cl=t.unstable_NormalPriority,U1=t.unstable_LowPriority,Ug=t.unstable_IdlePriority,j1=t.log,V1=t.unstable_setDisableYieldValue,va=null,Bt=null;function B1(i){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(va,i,void 0,(i.current.flags&128)===128)}catch{}}function _i(i){if(typeof j1=="function"&&V1(i),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(va,i)}catch{}}var zt=Math.clz32?Math.clz32:F1,z1=Math.log,H1=Math.LN2;function F1(i){return i>>>=0,i===0?32:31-(z1(i)/H1|0)|0}var Al=128,Rl=4194304;function ls(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Nl(i,r){var o=i.pendingLanes;if(o===0)return 0;var c=0,h=i.suspendedLanes,p=i.pingedLanes,_=i.warmLanes;i=i.finishedLanes!==0;var E=o&134217727;return E!==0?(o=E&~h,o!==0?c=ls(o):(p&=E,p!==0?c=ls(p):i||(_=E&~_,_!==0&&(c=ls(_))))):(E=o&~h,E!==0?c=ls(E):p!==0?c=ls(p):i||(_=o&~_,_!==0&&(c=ls(_)))),c===0?0:r!==0&&r!==c&&!(r&h)&&(h=c&-c,_=r&-r,h>=_||h===32&&(_&4194176)!==0)?r:c}function _a(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function q1(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jg(){var i=Al;return Al<<=1,!(Al&4194176)&&(Al=128),i}function Vg(){var i=Rl;return Rl<<=1,!(Rl&62914560)&&(Rl=4194304),i}function lh(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ba(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function G1(i,r,o,c,h,p){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,x=i.expirationTimes,D=i.hiddenUpdates;for(o=_&~o;0<o;){var j=31-zt(o),z=1<<j;E[j]=0,x[j]=-1;var P=D[j];if(P!==null)for(D[j]=null,j=0;j<P.length;j++){var U=P[j];U!==null&&(U.lane&=-536870913)}o&=~z}c!==0&&Bg(i,c,0),p!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=p&~(_&~r))}function Bg(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-zt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194218}function zg(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-zt(o),h=1<<c;h&r|i[c]&r&&(i[c]|=r),o&=~h}}function Hg(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function Fg(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:h0(i.type))}function Y1(i,r){var o=W.p;try{return W.p=i,r()}finally{W.p=o}}var bi=Math.random().toString(36).slice(2),vt="__reactFiber$"+bi,kt="__reactProps$"+bi,nr="__reactContainer$"+bi,ch="__reactEvents$"+bi,K1="__reactListeners$"+bi,$1="__reactHandles$"+bi,qg="__reactResources$"+bi,Ea="__reactMarker$"+bi;function uh(i){delete i[vt],delete i[kt],delete i[ch],delete i[K1],delete i[$1]}function cs(i){var r=i[vt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[nr]||o[vt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=X_(i);i!==null;){if(o=i[vt])return o;i=X_(i)}return r}i=o,o=i.parentNode}return null}function ir(i){if(i=i[vt]||i[nr]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Sa(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function sr(i){var r=i[qg];return r||(r=i[qg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function at(i){i[Ea]=!0}var Gg=new Set,Yg={};function us(i,r){rr(i,r),rr(i+"Capture",r)}function rr(i,r){for(Yg[i]=r,i=0;i<r.length;i++)Gg.add(r[i])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kg={},$g={};function X1(i){return rh.call($g,i)?!0:rh.call(Kg,i)?!1:W1.test(i)?$g[i]=!0:(Kg[i]=!0,!1)}function Dl(i,r,o){if(X1(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Ol(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function zn(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Wg(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Q1(i){var r=Wg(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),c=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function kl(i){i._valueTracker||(i._valueTracker=Q1(i))}function Xg(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Wg(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Il(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Z1=/[\n"\\]/g;function Zt(i){return i.replace(Z1,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function hh(i,r,o,c,h,p,_,E){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Qt(r)):i.value!==""+Qt(r)&&(i.value=""+Qt(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?fh(i,_,Qt(r)):o!=null?fh(i,_,Qt(o)):c!=null&&i.removeAttribute("value"),h==null&&p!=null&&(i.defaultChecked=!!p),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+Qt(E):i.removeAttribute("name")}function Qg(i,r,o,c,h,p,_,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+Qt(o):"",r=r!=null?""+Qt(r):o,E||r===i.value||(i.value=r),i.defaultValue=r}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=E?i.checked:!!c,i.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_)}function fh(i,r,o){r==="number"&&Il(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ar(i,r,o,c){if(i=i.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<i.length;o++)h=r.hasOwnProperty("$"+i[o].value),i[o].selected!==h&&(i[o].selected=h),h&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Qt(o),r=null,h=0;h<i.length;h++){if(i[h].value===o){i[h].selected=!0,c&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function Zg(i,r,o){if(r!=null&&(r=""+Qt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Qt(o):""}function Jg(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(ie(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Qt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function or(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var J1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ey(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||J1.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function ty(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var h in r)c=r[h],r.hasOwnProperty(h)&&o[h]!==c&&ey(i,h,c)}else for(var p in r)r.hasOwnProperty(p)&&ey(i,p,r[p])}function dh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ml(i){return tC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var mh=null;function ph(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var lr=null,cr=null;function ny(i){var r=ir(i);if(r&&(i=r.stateNode)){var o=i[kt]||null;e:switch(i=r.stateNode,r.type){case"input":if(hh(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Zt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var h=c[kt]||null;if(!h)throw Error(s(90));hh(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Xg(c)}break e;case"textarea":Zg(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ar(i,!!o.multiple,r,!1)}}}var gh=!1;function iy(i,r,o){if(gh)return i(r,o);gh=!0;try{var c=i(r);return c}finally{if(gh=!1,(lr!==null||cr!==null)&&(yc(),lr&&(r=lr,i=cr,cr=lr=null,ny(r),i)))for(r=0;r<i.length;r++)ny(i[r])}}function Ta(i,r){var o=i.stateNode;if(o===null)return null;var c=o[kt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var yh=!1;if(Bn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){yh=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{yh=!1}var Ei=null,vh=null,Ll=null;function sy(){if(Ll)return Ll;var i,r=vh,o=r.length,c,h="value"in Ei?Ei.value:Ei.textContent,p=h.length;for(i=0;i<o&&r[i]===h[i];i++);var _=o-i;for(c=1;c<=_&&r[o-c]===h[p-c];c++);return Ll=h.slice(i,1<c?1-c:void 0)}function Pl(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ul(){return!0}function ry(){return!1}function It(i){function r(o,c,h,p,_){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ul:ry,this.isPropagationStopped=ry,this}return ne(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),r}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=It(hs),wa=ne({},hs,{view:0,detail:0}),nC=It(wa),_h,bh,Ca,Vl=ne({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ca&&(Ca&&i.type==="mousemove"?(_h=i.screenX-Ca.screenX,bh=i.screenY-Ca.screenY):bh=_h=0,Ca=i),_h)},movementY:function(i){return"movementY"in i?i.movementY:bh}}),ay=It(Vl),iC=ne({},Vl,{dataTransfer:0}),sC=It(iC),rC=ne({},wa,{relatedTarget:0}),Eh=It(rC),aC=ne({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),oC=It(aC),lC=ne({},hs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),cC=It(lC),uC=ne({},hs,{data:0}),oy=It(uC),hC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mC(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=dC[i])?!!r[i]:!1}function Sh(){return mC}var pC=ne({},wa,{key:function(i){if(i.key){var r=hC[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Pl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sh,charCode:function(i){return i.type==="keypress"?Pl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Pl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),gC=It(pC),yC=ne({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ly=It(yC),vC=ne({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sh}),_C=It(vC),bC=ne({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),EC=It(bC),SC=ne({},Vl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),TC=It(SC),xC=ne({},hs,{newState:0,oldState:0}),wC=It(xC),CC=[9,13,27,32],Th=Bn&&"CompositionEvent"in window,Aa=null;Bn&&"documentMode"in document&&(Aa=document.documentMode);var AC=Bn&&"TextEvent"in window&&!Aa,cy=Bn&&(!Th||Aa&&8<Aa&&11>=Aa),uy=" ",hy=!1;function fy(i,r){switch(i){case"keyup":return CC.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ur=!1;function RC(i,r){switch(i){case"compositionend":return dy(r);case"keypress":return r.which!==32?null:(hy=!0,uy);case"textInput":return i=r.data,i===uy&&hy?null:i;default:return null}}function NC(i,r){if(ur)return i==="compositionend"||!Th&&fy(i,r)?(i=sy(),Ll=vh=Ei=null,ur=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return cy&&r.locale!=="ko"?null:r.data;default:return null}}var DC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!DC[i.type]:r==="textarea"}function py(i,r,o,c){lr?cr?cr.push(c):cr=[c]:lr=c,r=Sc(r,"onChange"),0<r.length&&(o=new jl("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Ra=null,Na=null;function OC(i){z_(i,0)}function Bl(i){var r=Sa(i);if(Xg(r))return i}function gy(i,r){if(i==="change")return r}var yy=!1;if(Bn){var xh;if(Bn){var wh="oninput"in document;if(!wh){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),wh=typeof vy.oninput=="function"}xh=wh}else xh=!1;yy=xh&&(!document.documentMode||9<document.documentMode)}function _y(){Ra&&(Ra.detachEvent("onpropertychange",by),Na=Ra=null)}function by(i){if(i.propertyName==="value"&&Bl(Na)){var r=[];py(r,Na,i,ph(i)),iy(OC,r)}}function kC(i,r,o){i==="focusin"?(_y(),Ra=r,Na=o,Ra.attachEvent("onpropertychange",by)):i==="focusout"&&_y()}function IC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bl(Na)}function MC(i,r){if(i==="click")return Bl(r)}function LC(i,r){if(i==="input"||i==="change")return Bl(r)}function PC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ht=typeof Object.is=="function"?Object.is:PC;function Da(i,r){if(Ht(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!rh.call(r,h)||!Ht(i[h],r[h]))return!1}return!0}function Ey(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Sy(i,r){var o=Ey(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ey(o)}}function Ty(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Ty(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function xy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Il(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Il(i.document)}return r}function Ch(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function UC(i,r){var o=xy(r);r=i.focusedElem;var c=i.selectionRange;if(o!==r&&r&&r.ownerDocument&&Ty(r.ownerDocument.documentElement,r)){if(c!==null&&Ch(r)){if(i=c.start,o=c.end,o===void 0&&(o=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(o,r.value.length);else if(o=(i=r.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var h=r.textContent.length,p=Math.min(c.start,h);c=c.end===void 0?p:Math.min(c.end,h),!o.extend&&p>c&&(h=c,c=p,p=h),h=Sy(r,p);var _=Sy(r,c);h&&_&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==_.node||o.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),o.removeAllRanges(),p>c?(o.addRange(i),o.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),o.addRange(i)))}}for(i=[],o=r;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)o=i[r],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var jC=Bn&&"documentMode"in document&&11>=document.documentMode,hr=null,Ah=null,Oa=null,Rh=!1;function wy(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Rh||hr==null||hr!==Il(c)||(c=hr,"selectionStart"in c&&Ch(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Oa&&Da(Oa,c)||(Oa=c,c=Sc(Ah,"onSelect"),0<c.length&&(r=new jl("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=hr)))}function fs(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var fr={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},Nh={},Cy={};Bn&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function ds(i){if(Nh[i])return Nh[i];if(!fr[i])return i;var r=fr[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Cy)return Nh[i]=r[o];return i}var Ay=ds("animationend"),Ry=ds("animationiteration"),Ny=ds("animationstart"),VC=ds("transitionrun"),BC=ds("transitionstart"),zC=ds("transitioncancel"),Dy=ds("transitionend"),Oy=new Map,ky="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function dn(i,r){Oy.set(i,r),us(r,[i])}var Jt=[],dr=0,Dh=0;function zl(){for(var i=dr,r=Dh=dr=0;r<i;){var o=Jt[r];Jt[r++]=null;var c=Jt[r];Jt[r++]=null;var h=Jt[r];Jt[r++]=null;var p=Jt[r];if(Jt[r++]=null,c!==null&&h!==null){var _=c.pending;_===null?h.next=h:(h.next=_.next,_.next=h),c.pending=h}p!==0&&Iy(o,h,p)}}function Hl(i,r,o,c){Jt[dr++]=i,Jt[dr++]=r,Jt[dr++]=o,Jt[dr++]=c,Dh|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Oh(i,r,o,c){return Hl(i,r,o,c),Fl(i)}function Si(i,r){return Hl(i,null,null,r),Fl(i)}function Iy(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var h=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(h=!0)),i=p,p=p.return;h&&r!==null&&i.tag===3&&(p=i.stateNode,h=31-zt(o),p=p.hiddenUpdates,i=p[h],i===null?p[h]=[r]:i.push(r),r.lane=o|536870912)}function Fl(i){if(50<no)throw no=0,jf=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var mr={},My=new WeakMap;function en(i,r){if(typeof i=="object"&&i!==null){var o=My.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Z(r)},My.set(i,r),r)}return{value:i,source:r,stack:Z(r)}}var pr=[],gr=0,ql=null,Gl=0,tn=[],nn=0,ms=null,Hn=1,Fn="";function ps(i,r){pr[gr++]=Gl,pr[gr++]=ql,ql=i,Gl=r}function Ly(i,r,o){tn[nn++]=Hn,tn[nn++]=Fn,tn[nn++]=ms,ms=i;var c=Hn;i=Fn;var h=32-zt(c)-1;c&=~(1<<h),o+=1;var p=32-zt(r)+h;if(30<p){var _=h-h%5;p=(c&(1<<_)-1).toString(32),c>>=_,h-=_,Hn=1<<32-zt(r)+h|o<<h|c,Fn=p+i}else Hn=1<<p|o<<h|c,Fn=i}function kh(i){i.return!==null&&(ps(i,1),Ly(i,1,0))}function Ih(i){for(;i===ql;)ql=pr[--gr],pr[gr]=null,Gl=pr[--gr],pr[gr]=null;for(;i===ms;)ms=tn[--nn],tn[nn]=null,Fn=tn[--nn],tn[nn]=null,Hn=tn[--nn],tn[nn]=null}var Ct=null,dt=null,Se=!1,mn=null,An=!1,Mh=Error(s(519));function gs(i){var r=Error(s(418,""));throw Ma(en(r,i)),Mh}function Py(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[vt]=i,r[kt]=c,o){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(o=0;o<so.length;o++)ve(so[o],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":ve("invalid",r),Qg(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),kl(r);break;case"select":ve("invalid",r);break;case"textarea":ve("invalid",r),Jg(r,c.value,c.defaultValue,c.children),kl(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||G_(r.textContent,o)?(c.popover!=null&&(ve("beforetoggle",r),ve("toggle",r)),c.onScroll!=null&&ve("scroll",r),c.onScrollEnd!=null&&ve("scrollend",r),c.onClick!=null&&(r.onclick=Tc),r=!0):r=!1,r||gs(i)}function Uy(i){for(Ct=i.return;Ct;)switch(Ct.tag){case 3:case 27:An=!0;return;case 5:case 13:An=!1;return;default:Ct=Ct.return}}function ka(i){if(i!==Ct)return!1;if(!Se)return Uy(i),Se=!0,!1;var r=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||td(i.type,i.memoizedProps)),o=!o),o&&(r=!0),r&&dt&&gs(i),Uy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){dt=gn(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}dt=null}}else dt=Ct?gn(i.stateNode.nextSibling):null;return!0}function Ia(){dt=Ct=null,Se=!1}function Ma(i){mn===null?mn=[i]:mn.push(i)}var La=Error(s(460)),jy=Error(s(474)),Lh={then:function(){}};function Vy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yl(){}function By(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Yl,Yl),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===La?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Yl,Yl);else{if(i=ke,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=c}},function(c){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===La?Error(s(483)):i}throw Pa=r,La}}var Pa=null;function zy(){if(Pa===null)throw Error(s(459));var i=Pa;return Pa=null,i}var yr=null,Ua=0;function Kl(i){var r=Ua;return Ua+=1,yr===null&&(yr=[]),By(yr,i,r)}function ja(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function $l(i,r){throw r.$$typeof===l?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Hy(i){var r=i._init;return r(i._payload)}function Fy(i){function r(M,R){if(i){var L=M.deletions;L===null?(M.deletions=[R],M.flags|=16):L.push(R)}}function o(M,R){if(!i)return null;for(;R!==null;)r(M,R),R=R.sibling;return null}function c(M){for(var R=new Map;M!==null;)M.key!==null?R.set(M.key,M):R.set(M.index,M),M=M.sibling;return R}function h(M,R){return M=Mi(M,R),M.index=0,M.sibling=null,M}function p(M,R,L){return M.index=L,i?(L=M.alternate,L!==null?(L=L.index,L<R?(M.flags|=33554434,R):L):(M.flags|=33554434,R)):(M.flags|=1048576,R)}function _(M){return i&&M.alternate===null&&(M.flags|=33554434),M}function E(M,R,L,B){return R===null||R.tag!==6?(R=Df(L,M.mode,B),R.return=M,R):(R=h(R,L),R.return=M,R)}function x(M,R,L,B){var X=L.type;return X===d?j(M,R,L.props.children,B,L.key):R!==null&&(R.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===I&&Hy(X)===R.type)?(R=h(R,L.props),ja(R,L),R.return=M,R):(R=fc(L.type,L.key,L.props,null,M.mode,B),ja(R,L),R.return=M,R)}function D(M,R,L,B){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=Of(L,M.mode,B),R.return=M,R):(R=h(R,L.children||[]),R.return=M,R)}function j(M,R,L,B,X){return R===null||R.tag!==7?(R=Cs(L,M.mode,B,X),R.return=M,R):(R=h(R,L),R.return=M,R)}function z(M,R,L){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Df(""+R,M.mode,L),R.return=M,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case u:return L=fc(R.type,R.key,R.props,null,M.mode,L),ja(L,R),L.return=M,L;case f:return R=Of(R,M.mode,L),R.return=M,R;case I:var B=R._init;return R=B(R._payload),z(M,R,L)}if(ie(R)||Y(R))return R=Cs(R,M.mode,L,null),R.return=M,R;if(typeof R.then=="function")return z(M,Kl(R),L);if(R.$$typeof===S)return z(M,cc(M,R),L);$l(M,R)}return null}function P(M,R,L,B){var X=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return X!==null?null:E(M,R,""+L,B);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case u:return L.key===X?x(M,R,L,B):null;case f:return L.key===X?D(M,R,L,B):null;case I:return X=L._init,L=X(L._payload),P(M,R,L,B)}if(ie(L)||Y(L))return X!==null?null:j(M,R,L,B,null);if(typeof L.then=="function")return P(M,R,Kl(L),B);if(L.$$typeof===S)return P(M,R,cc(M,L),B);$l(M,L)}return null}function U(M,R,L,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return M=M.get(L)||null,E(R,M,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case u:return M=M.get(B.key===null?L:B.key)||null,x(R,M,B,X);case f:return M=M.get(B.key===null?L:B.key)||null,D(R,M,B,X);case I:var de=B._init;return B=de(B._payload),U(M,R,L,B,X)}if(ie(B)||Y(B))return M=M.get(L)||null,j(R,M,B,X,null);if(typeof B.then=="function")return U(M,R,L,Kl(B),X);if(B.$$typeof===S)return U(M,R,L,cc(R,B),X);$l(R,B)}return null}function Q(M,R,L,B){for(var X=null,de=null,ee=R,se=R=0,ct=null;ee!==null&&se<L.length;se++){ee.index>se?(ct=ee,ee=null):ct=ee.sibling;var Te=P(M,ee,L[se],B);if(Te===null){ee===null&&(ee=ct);break}i&&ee&&Te.alternate===null&&r(M,ee),R=p(Te,R,se),de===null?X=Te:de.sibling=Te,de=Te,ee=ct}if(se===L.length)return o(M,ee),Se&&ps(M,se),X;if(ee===null){for(;se<L.length;se++)ee=z(M,L[se],B),ee!==null&&(R=p(ee,R,se),de===null?X=ee:de.sibling=ee,de=ee);return Se&&ps(M,se),X}for(ee=c(ee);se<L.length;se++)ct=U(ee,M,se,L[se],B),ct!==null&&(i&&ct.alternate!==null&&ee.delete(ct.key===null?se:ct.key),R=p(ct,R,se),de===null?X=ct:de.sibling=ct,de=ct);return i&&ee.forEach(function(zi){return r(M,zi)}),Se&&ps(M,se),X}function ce(M,R,L,B){if(L==null)throw Error(s(151));for(var X=null,de=null,ee=R,se=R=0,ct=null,Te=L.next();ee!==null&&!Te.done;se++,Te=L.next()){ee.index>se?(ct=ee,ee=null):ct=ee.sibling;var zi=P(M,ee,Te.value,B);if(zi===null){ee===null&&(ee=ct);break}i&&ee&&zi.alternate===null&&r(M,ee),R=p(zi,R,se),de===null?X=zi:de.sibling=zi,de=zi,ee=ct}if(Te.done)return o(M,ee),Se&&ps(M,se),X;if(ee===null){for(;!Te.done;se++,Te=L.next())Te=z(M,Te.value,B),Te!==null&&(R=p(Te,R,se),de===null?X=Te:de.sibling=Te,de=Te);return Se&&ps(M,se),X}for(ee=c(ee);!Te.done;se++,Te=L.next())Te=U(ee,M,se,Te.value,B),Te!==null&&(i&&Te.alternate!==null&&ee.delete(Te.key===null?se:Te.key),R=p(Te,R,se),de===null?X=Te:de.sibling=Te,de=Te);return i&&ee.forEach(function(tR){return r(M,tR)}),Se&&ps(M,se),X}function Ge(M,R,L,B){if(typeof L=="object"&&L!==null&&L.type===d&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case u:e:{for(var X=L.key;R!==null;){if(R.key===X){if(X=L.type,X===d){if(R.tag===7){o(M,R.sibling),B=h(R,L.props.children),B.return=M,M=B;break e}}else if(R.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===I&&Hy(X)===R.type){o(M,R.sibling),B=h(R,L.props),ja(B,L),B.return=M,M=B;break e}o(M,R);break}else r(M,R);R=R.sibling}L.type===d?(B=Cs(L.props.children,M.mode,B,L.key),B.return=M,M=B):(B=fc(L.type,L.key,L.props,null,M.mode,B),ja(B,L),B.return=M,M=B)}return _(M);case f:e:{for(X=L.key;R!==null;){if(R.key===X)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){o(M,R.sibling),B=h(R,L.children||[]),B.return=M,M=B;break e}else{o(M,R);break}else r(M,R);R=R.sibling}B=Of(L,M.mode,B),B.return=M,M=B}return _(M);case I:return X=L._init,L=X(L._payload),Ge(M,R,L,B)}if(ie(L))return Q(M,R,L,B);if(Y(L)){if(X=Y(L),typeof X!="function")throw Error(s(150));return L=X.call(L),ce(M,R,L,B)}if(typeof L.then=="function")return Ge(M,R,Kl(L),B);if(L.$$typeof===S)return Ge(M,R,cc(M,L),B);$l(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,R!==null&&R.tag===6?(o(M,R.sibling),B=h(R,L),B.return=M,M=B):(o(M,R),B=Df(L,M.mode,B),B.return=M,M=B),_(M)):o(M,R)}return function(M,R,L,B){try{Ua=0;var X=Ge(M,R,L,B);return yr=null,X}catch(ee){if(ee===La)throw ee;var de=on(29,ee,null,M.mode);return de.lanes=B,de.return=M,de}finally{}}}var ys=Fy(!0),qy=Fy(!1),vr=Ce(null),Wl=Ce(0);function Gy(i,r){i=ei,Ue(Wl,i),Ue(vr,r),ei=i|r.baseLanes}function Ph(){Ue(Wl,ei),Ue(vr,vr.current)}function Uh(){ei=Wl.current,Je(vr),Je(Wl)}var sn=Ce(null),Rn=null;function Ti(i){var r=i.alternate;Ue(it,it.current&1),Ue(sn,i),Rn===null&&(r===null||vr.current!==null||r.memoizedState!==null)&&(Rn=i)}function Yy(i){if(i.tag===22){if(Ue(it,it.current),Ue(sn,i),Rn===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Rn=i)}}else xi()}function xi(){Ue(it,it.current),Ue(sn,sn.current)}function qn(i){Je(sn),Rn===i&&(Rn=null),Je(it)}var it=Ce(0);function Xl(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var HC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},FC=t.unstable_scheduleCallback,qC=t.unstable_NormalPriority,st={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new HC,data:new Map,refCount:0}}function Va(i){i.refCount--,i.refCount===0&&FC(qC,function(){i.controller.abort()})}var Ba=null,Vh=0,_r=0,br=null;function GC(i,r){if(Ba===null){var o=Ba=[];Vh=0,_r=Yf(),br={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Vh++,r.then(Ky,Ky),r}function Ky(){if(--Vh===0&&Ba!==null){br!==null&&(br.status="fulfilled");var i=Ba;Ba=null,_r=0,br=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function YC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var h=0;h<o.length;h++)(0,o[h])(r)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var $y=q.S;q.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&GC(i,r),$y!==null&&$y(i,r)};var vs=Ce(null);function Bh(){var i=vs.current;return i!==null?i:ke.pooledCache}function Ql(i,r){r===null?Ue(vs,vs.current):Ue(vs,r.pool)}function Wy(){var i=Bh();return i===null?null:{parent:st._currentValue,pool:i}}var wi=0,fe=null,Ae=null,et=null,Zl=!1,Er=!1,_s=!1,Jl=0,za=0,Sr=null,KC=0;function Xe(){throw Error(s(321))}function zh(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Ht(i[o],r[o]))return!1;return!0}function Hh(i,r,o,c,h,p){return wi=p,fe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=i===null||i.memoizedState===null?bs:Ci,_s=!1,p=o(c,h),_s=!1,Er&&(p=Qy(r,o,c,h)),Xy(i),p}function Xy(i){q.H=Nn;var r=Ae!==null&&Ae.next!==null;if(wi=0,et=Ae=fe=null,Zl=!1,za=0,Sr=null,r)throw Error(s(300));i===null||ot||(i=i.dependencies,i!==null&&lc(i)&&(ot=!0))}function Qy(i,r,o,c){fe=i;var h=0;do{if(Er&&(Sr=null),za=0,Er=!1,25<=h)throw Error(s(301));if(h+=1,et=Ae=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}q.H=Es,p=r(o,c)}while(Er);return p}function $C(){var i=q.H,r=i.useState()[0];return r=typeof r.then=="function"?Ha(r):r,i=i.useState()[0],(Ae!==null?Ae.memoizedState:null)!==i&&(fe.flags|=1024),r}function Fh(){var i=Jl!==0;return Jl=0,i}function qh(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Gh(i){if(Zl){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Zl=!1}wi=0,et=Ae=fe=null,Er=!1,za=Jl=0,Sr=null}function Mt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?fe.memoizedState=et=i:et=et.next=i,et}function tt(){if(Ae===null){var i=fe.alternate;i=i!==null?i.memoizedState:null}else i=Ae.next;var r=et===null?fe.memoizedState:et.next;if(r!==null)et=r,Ae=i;else{if(i===null)throw fe.alternate===null?Error(s(467)):Error(s(310));Ae=i,i={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},et===null?fe.memoizedState=et=i:et=et.next=i}return et}var ec;ec=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ha(i){var r=za;return za+=1,Sr===null&&(Sr=[]),i=By(Sr,i,r),r=fe,(et===null?r.memoizedState:et.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?bs:Ci),i}function tc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ha(i);if(i.$$typeof===S)return _t(i)}throw Error(s(438,String(i)))}function Yh(i){var r=null,o=fe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=fe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=ec(),fe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=H;return r.index++,o}function Gn(i,r){return typeof r=="function"?r(i):r}function nc(i){var r=tt();return Kh(r,Ae,i)}function Kh(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var h=i.baseQueue,p=c.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}r.baseQueue=h=p,c.pending=null}if(p=i.baseState,h===null)i.memoizedState=p;else{r=h.next;var E=_=null,x=null,D=r,j=!1;do{var z=D.lane&-536870913;if(z!==D.lane?(be&z)===z:(wi&z)===z){var P=D.revertLane;if(P===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),z===_r&&(j=!0);else if((wi&P)===P){D=D.next,P===_r&&(j=!0);continue}else z={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},x===null?(E=x=z,_=p):x=x.next=z,fe.lanes|=P,Li|=P;z=D.action,_s&&o(p,z),p=D.hasEagerState?D.eagerState:o(p,z)}else P={lane:z,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},x===null?(E=x=P,_=p):x=x.next=P,fe.lanes|=z,Li|=z;D=D.next}while(D!==null&&D!==r);if(x===null?_=p:x.next=E,!Ht(p,i.memoizedState)&&(ot=!0,j&&(o=br,o!==null)))throw o;i.memoizedState=p,i.baseState=_,i.baseQueue=x,c.lastRenderedState=p}return h===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function $h(i){var r=tt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=i(p,_.action),_=_.next;while(_!==h);Ht(p,r.memoizedState)||(ot=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function Zy(i,r,o){var c=fe,h=tt(),p=Se;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!Ht((Ae||h).memoizedState,o);if(_&&(h.memoizedState=o,ot=!0),h=h.queue,Qh(tv.bind(null,c,h,i),[i]),h.getSnapshot!==r||_||et!==null&&et.memoizedState.tag&1){if(c.flags|=2048,Tr(9,ev.bind(null,c,h,o,r),{destroy:void 0},null),ke===null)throw Error(s(349));p||wi&60||Jy(c,r,o)}return o}function Jy(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=fe.updateQueue,r===null?(r=ec(),fe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function ev(i,r,o,c){r.value=o,r.getSnapshot=c,nv(r)&&iv(i)}function tv(i,r,o){return o(function(){nv(r)&&iv(i)})}function nv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Ht(i,o)}catch{return!0}}function iv(i){var r=Si(i,2);r!==null&&At(r,i,2)}function Wh(i){var r=Mt();if(typeof i=="function"){var o=i;if(i=o(),_s){_i(!0);try{o()}finally{_i(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:i},r}function sv(i,r,o,c){return i.baseState=o,Kh(i,Ae,typeof c=="function"?c:Gn)}function WC(i,r,o,c,h){if(rc(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};q.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,rv(r,p)):(p.next=o.next,r.pending=o.next=p)}}function rv(i,r){var o=r.action,c=r.payload,h=i.state;if(r.isTransition){var p=q.T,_={};q.T=_;try{var E=o(h,c),x=q.S;x!==null&&x(_,E),av(i,r,E)}catch(D){Xh(i,r,D)}finally{q.T=p}}else try{p=o(h,c),av(i,r,p)}catch(D){Xh(i,r,D)}}function av(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){ov(i,r,c)},function(c){return Xh(i,r,c)}):ov(i,r,o)}function ov(i,r,o){r.status="fulfilled",r.value=o,lv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,rv(i,o)))}function Xh(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,lv(r),r=r.next;while(r!==c)}i.action=null}function lv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function cv(i,r){return r}function uv(i,r){if(Se){var o=ke.formState;if(o!==null){e:{var c=fe;if(Se){if(dt){t:{for(var h=dt,p=An;h.nodeType!==8;){if(!p){h=null;break t}if(h=gn(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){dt=gn(h.nextSibling),c=h.data==="F!";break e}}gs(c)}c=!1}c&&(r=o[0])}}return o=Mt(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cv,lastRenderedState:r},o.queue=c,o=Rv.bind(null,fe,c),c.dispatch=o,c=Wh(!1),p=nf.bind(null,fe,!1,c.queue),c=Mt(),h={state:r,dispatch:null,action:i,pending:null},c.queue=h,o=WC.bind(null,fe,h,p,o),h.dispatch=o,c.memoizedState=i,[r,o,!1]}function hv(i){var r=tt();return fv(r,Ae,i)}function fv(i,r,o){r=Kh(i,r,cv)[0],i=nc(Gn)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Ha(r):r;var c=tt(),h=c.queue,p=h.dispatch;return o!==c.memoizedState&&(fe.flags|=2048,Tr(9,XC.bind(null,h,o),{destroy:void 0},null)),[r,p,i]}function XC(i,r){i.action=r}function dv(i){var r=tt(),o=Ae;if(o!==null)return fv(r,o,i);tt(),r=r.memoizedState,o=tt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Tr(i,r,o,c){return i={tag:i,create:r,inst:o,deps:c,next:null},r=fe.updateQueue,r===null&&(r=ec(),fe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function mv(){return tt().memoizedState}function ic(i,r,o,c){var h=Mt();fe.flags|=i,h.memoizedState=Tr(1|r,o,{destroy:void 0},c===void 0?null:c)}function sc(i,r,o,c){var h=tt();c=c===void 0?null:c;var p=h.memoizedState.inst;Ae!==null&&c!==null&&zh(c,Ae.memoizedState.deps)?h.memoizedState=Tr(r,o,p,c):(fe.flags|=i,h.memoizedState=Tr(1|r,o,p,c))}function pv(i,r){ic(8390656,8,i,r)}function Qh(i,r){sc(2048,8,i,r)}function gv(i,r){return sc(4,2,i,r)}function yv(i,r){return sc(4,4,i,r)}function vv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function _v(i,r,o){o=o!=null?o.concat([i]):null,sc(4,4,vv.bind(null,r,i),o)}function Zh(){}function bv(i,r){var o=tt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&zh(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function Ev(i,r){var o=tt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&zh(r,c[1]))return c[0];if(c=i(),_s){_i(!0);try{i()}finally{_i(!1)}}return o.memoizedState=[c,r],c}function Jh(i,r,o){return o===void 0||wi&1073741824?i.memoizedState=r:(i.memoizedState=o,i=T_(),fe.lanes|=i,Li|=i,o)}function Sv(i,r,o,c){return Ht(o,r)?o:vr.current!==null?(i=Jh(i,o,c),Ht(i,r)||(ot=!0),i):wi&42?(i=T_(),fe.lanes|=i,Li|=i,r):(ot=!0,i.memoizedState=o)}function Tv(i,r,o,c,h){var p=W.p;W.p=p!==0&&8>p?p:8;var _=q.T,E={};q.T=E,nf(i,!1,r,o);try{var x=h(),D=q.S;if(D!==null&&D(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var j=YC(x,c);Fa(i,r,j,Yt(i))}else Fa(i,r,c,Yt(i))}catch(z){Fa(i,r,{then:function(){},status:"rejected",reason:z},Yt())}finally{W.p=p,q.T=_}}function QC(){}function ef(i,r,o,c){if(i.tag!==5)throw Error(s(476));var h=xv(i).queue;Tv(i,h,r,_e,o===null?QC:function(){return wv(i),o(c)})}function xv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:_e},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function wv(i){var r=xv(i).next.queue;Fa(i,r,{},Yt())}function tf(){return _t(co)}function Cv(){return tt().memoizedState}function Av(){return tt().memoizedState}function ZC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Yt();i=Ni(o);var c=Di(r,i,o);c!==null&&(At(c,r,o),Ya(c,r,o)),r={cache:jh()},i.payload=r;return}r=r.return}}function JC(i,r,o){var c=Yt();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},rc(i)?Nv(r,o):(o=Oh(i,r,o,c),o!==null&&(At(o,i,c),Dv(o,r,c)))}function Rv(i,r,o){var c=Yt();Fa(i,r,o,c)}function Fa(i,r,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(rc(i))Nv(r,h);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,E=p(_,o);if(h.hasEagerState=!0,h.eagerState=E,Ht(E,_))return Hl(i,r,h,0),ke===null&&zl(),!1}catch{}finally{}if(o=Oh(i,r,h,c),o!==null)return At(o,i,c),Dv(o,r,c),!0}return!1}function nf(i,r,o,c){if(c={lane:2,revertLane:Yf(),action:c,hasEagerState:!1,eagerState:null,next:null},rc(i)){if(r)throw Error(s(479))}else r=Oh(i,o,c,2),r!==null&&At(r,i,2)}function rc(i){var r=i.alternate;return i===fe||r!==null&&r===fe}function Nv(i,r){Er=Zl=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Dv(i,r,o){if(o&4194176){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,zg(i,o)}}var Nn={readContext:_t,use:tc,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe};Nn.useCacheRefresh=Xe,Nn.useMemoCache=Xe,Nn.useHostTransitionStatus=Xe,Nn.useFormState=Xe,Nn.useActionState=Xe,Nn.useOptimistic=Xe;var bs={readContext:_t,use:tc,useCallback:function(i,r){return Mt().memoizedState=[i,r===void 0?null:r],i},useContext:_t,useEffect:pv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,ic(4194308,4,vv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return ic(4194308,4,i,r)},useInsertionEffect:function(i,r){ic(4,2,i,r)},useMemo:function(i,r){var o=Mt();r=r===void 0?null:r;var c=i();if(_s){_i(!0);try{i()}finally{_i(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=Mt();if(o!==void 0){var h=o(r);if(_s){_i(!0);try{o(r)}finally{_i(!1)}}}else h=r;return c.memoizedState=c.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},c.queue=i,i=i.dispatch=JC.bind(null,fe,i),[c.memoizedState,i]},useRef:function(i){var r=Mt();return i={current:i},r.memoizedState=i},useState:function(i){i=Wh(i);var r=i.queue,o=Rv.bind(null,fe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Zh,useDeferredValue:function(i,r){var o=Mt();return Jh(o,i,r)},useTransition:function(){var i=Wh(!1);return i=Tv.bind(null,fe,i.queue,!0,!1),Mt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=fe,h=Mt();if(Se){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ke===null)throw Error(s(349));be&60||Jy(c,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,pv(tv.bind(null,c,p,i),[i]),c.flags|=2048,Tr(9,ev.bind(null,c,p,o,r),{destroy:void 0},null),o},useId:function(){var i=Mt(),r=ke.identifierPrefix;if(Se){var o=Fn,c=Hn;o=(c&~(1<<32-zt(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Jl++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=KC++,r=":"+r+"r"+o.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return Mt().memoizedState=ZC.bind(null,fe)}};bs.useMemoCache=Yh,bs.useHostTransitionStatus=tf,bs.useFormState=uv,bs.useActionState=uv,bs.useOptimistic=function(i){var r=Mt();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=nf.bind(null,fe,!0,o),o.dispatch=r,[i,r]};var Ci={readContext:_t,use:tc,useCallback:bv,useContext:_t,useEffect:Qh,useImperativeHandle:_v,useInsertionEffect:gv,useLayoutEffect:yv,useMemo:Ev,useReducer:nc,useRef:mv,useState:function(){return nc(Gn)},useDebugValue:Zh,useDeferredValue:function(i,r){var o=tt();return Sv(o,Ae.memoizedState,i,r)},useTransition:function(){var i=nc(Gn)[0],r=tt().memoizedState;return[typeof i=="boolean"?i:Ha(i),r]},useSyncExternalStore:Zy,useId:Cv};Ci.useCacheRefresh=Av,Ci.useMemoCache=Yh,Ci.useHostTransitionStatus=tf,Ci.useFormState=hv,Ci.useActionState=hv,Ci.useOptimistic=function(i,r){var o=tt();return sv(o,Ae,i,r)};var Es={readContext:_t,use:tc,useCallback:bv,useContext:_t,useEffect:Qh,useImperativeHandle:_v,useInsertionEffect:gv,useLayoutEffect:yv,useMemo:Ev,useReducer:$h,useRef:mv,useState:function(){return $h(Gn)},useDebugValue:Zh,useDeferredValue:function(i,r){var o=tt();return Ae===null?Jh(o,i,r):Sv(o,Ae.memoizedState,i,r)},useTransition:function(){var i=$h(Gn)[0],r=tt().memoizedState;return[typeof i=="boolean"?i:Ha(i),r]},useSyncExternalStore:Zy,useId:Cv};Es.useCacheRefresh=Av,Es.useMemoCache=Yh,Es.useHostTransitionStatus=tf,Es.useFormState=dv,Es.useActionState=dv,Es.useOptimistic=function(i,r){var o=tt();return Ae!==null?sv(o,Ae,i,r):(o.baseState=i,[i,o.queue.dispatch])};function sf(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:ne({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var rf={isMounted:function(i){return(i=i._reactInternals)?J(i)===i:!1},enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Yt(),h=Ni(c);h.payload=r,o!=null&&(h.callback=o),r=Di(i,h,c),r!==null&&(At(r,i,c),Ya(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Yt(),h=Ni(c);h.tag=1,h.payload=r,o!=null&&(h.callback=o),r=Di(i,h,c),r!==null&&(At(r,i,c),Ya(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Yt(),c=Ni(o);c.tag=2,r!=null&&(c.callback=r),r=Di(i,c,o),r!==null&&(At(r,i,o),Ya(r,i,o))}};function Ov(i,r,o,c,h,p,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,_):r.prototype&&r.prototype.isPureReactComponent?!Da(o,c)||!Da(h,p):!0}function kv(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&rf.enqueueReplaceState(r,r.state,null)}function Ss(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=ne({},o));for(var h in i)o[h]===void 0&&(o[h]=i[h])}return o}var ac=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Iv(i){ac(i)}function Mv(i){console.error(i)}function Lv(i){ac(i)}function oc(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Pv(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function af(i,r,o){return o=Ni(o),o.tag=3,o.payload={element:null},o.callback=function(){oc(i,r)},o}function Uv(i){return i=Ni(i),i.tag=3,i}function jv(i,r,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=c.value;i.payload=function(){return h(p)},i.callback=function(){Pv(r,o,c)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Pv(r,o,c),typeof h!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function eA(i,r,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Ga(r,o,h,!0),o=sn.current,o!==null){switch(o.tag){case 13:return Rn===null?zf():o.alternate===null&&qe===0&&(qe=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===Lh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Ff(i,c,h)),!1;case 22:return o.flags|=65536,c===Lh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Ff(i,c,h)),!1}throw Error(s(435,o.tag))}return Ff(i,c,h),zf(),!1}if(Se)return r=sn.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=h,c!==Mh&&(i=Error(s(422),{cause:c}),Ma(en(i,o)))):(c!==Mh&&(r=Error(s(423),{cause:c}),Ma(en(r,o))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,c=en(c,o),h=af(i.stateNode,c,h),Ef(i,h),qe!==4&&(qe=2)),!1;var p=Error(s(520),{cause:c});if(p=en(p,o),eo===null?eo=[p]:eo.push(p),qe!==4&&(qe=2),r===null)return!0;c=en(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=h&-h,o.lanes|=i,i=af(o.stateNode,c,i),Ef(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Pi===null||!Pi.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Uv(h),jv(h,i,o,c),Ef(o,h),!1}o=o.return}while(o!==null);return!1}var Vv=Error(s(461)),ot=!1;function mt(i,r,o,c){r.child=i===null?qy(r,null,o,c):ys(r,i.child,o,c)}function Bv(i,r,o,c,h){o=o.render;var p=r.ref;if("ref"in c){var _={};for(var E in c)E!=="ref"&&(_[E]=c[E])}else _=c;return xs(r),c=Hh(i,r,o,_,p,h),E=Fh(),i!==null&&!ot?(qh(i,r,h),Yn(i,r,h)):(Se&&E&&kh(r),r.flags|=1,mt(i,r,c,h),r.child)}function zv(i,r,o,c,h){if(i===null){var p=o.type;return typeof p=="function"&&!Nf(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Hv(i,r,p,c,h)):(i=fc(o.type,null,c,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!pf(i,h)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Da,o(_,c)&&i.ref===r.ref)return Yn(i,r,h)}return r.flags|=1,i=Mi(p,c),i.ref=r.ref,i.return=r,r.child=i}function Hv(i,r,o,c,h){if(i!==null){var p=i.memoizedProps;if(Da(p,c)&&i.ref===r.ref)if(ot=!1,r.pendingProps=c=p,pf(i,h))i.flags&131072&&(ot=!0);else return r.lanes=i.lanes,Yn(i,r,h)}return of(i,r,o,c,h)}function Fv(i,r,o){var c=r.pendingProps,h=c.children,p=(r.stateNode._pendingVisibility&2)!==0,_=i!==null?i.memoizedState:null;if(qa(i,r),c.mode==="hidden"||p){if(r.flags&128){if(c=_!==null?_.baseLanes|o:o,i!==null){for(h=r.child=i.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;r.childLanes=p&~c}else r.childLanes=0,r.child=null;return qv(i,r,c,o)}if(o&536870912)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ql(r,_!==null?_.cachePool:null),_!==null?Gy(r,_):Ph(),Yy(r);else return r.lanes=r.childLanes=536870912,qv(i,r,_!==null?_.baseLanes|o:o,o)}else _!==null?(Ql(r,_.cachePool),Gy(r,_),xi(),r.memoizedState=null):(i!==null&&Ql(r,null),Ph(),xi());return mt(i,r,h,o),r.child}function qv(i,r,o,c){var h=Bh();return h=h===null?null:{parent:st._currentValue,pool:h},r.memoizedState={baseLanes:o,cachePool:h},i!==null&&Ql(r,null),Ph(),Yy(r),i!==null&&Ga(i,r,c,!0),null}function qa(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=2097664)}}function of(i,r,o,c,h){return xs(r),o=Hh(i,r,o,c,void 0,h),c=Fh(),i!==null&&!ot?(qh(i,r,h),Yn(i,r,h)):(Se&&c&&kh(r),r.flags|=1,mt(i,r,o,h),r.child)}function Gv(i,r,o,c,h,p){return xs(r),r.updateQueue=null,o=Qy(r,c,o,h),Xy(i),c=Fh(),i!==null&&!ot?(qh(i,r,p),Yn(i,r,p)):(Se&&c&&kh(r),r.flags|=1,mt(i,r,o,p),r.child)}function Yv(i,r,o,c,h){if(xs(r),r.stateNode===null){var p=mr,_=o.contextType;typeof _=="object"&&_!==null&&(p=_t(_)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=rf,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},_f(r),_=o.contextType,p.context=typeof _=="object"&&_!==null?_t(_):mr,p.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(sf(r,o,_,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&rf.enqueueReplaceState(p,p.state,null),$a(r,c,p,h),Ka(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var E=r.memoizedProps,x=Ss(o,E);p.props=x;var D=p.context,j=o.contextType;_=mr,typeof j=="object"&&j!==null&&(_=_t(j));var z=o.getDerivedStateFromProps;j=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,j||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||D!==_)&&kv(r,p,c,_),Ri=!1;var P=r.memoizedState;p.state=P,$a(r,c,p,h),Ka(),D=r.memoizedState,E||P!==D||Ri?(typeof z=="function"&&(sf(r,o,z,c),D=r.memoizedState),(x=Ri||Ov(r,o,x,c,P,D,_))?(j||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=D),p.props=c,p.state=D,p.context=_,c=x):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,bf(i,r),_=r.memoizedProps,j=Ss(o,_),p.props=j,z=r.pendingProps,P=p.context,D=o.contextType,x=mr,typeof D=="object"&&D!==null&&(x=_t(D)),E=o.getDerivedStateFromProps,(D=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==z||P!==x)&&kv(r,p,c,x),Ri=!1,P=r.memoizedState,p.state=P,$a(r,c,p,h),Ka();var U=r.memoizedState;_!==z||P!==U||Ri||i!==null&&i.dependencies!==null&&lc(i.dependencies)?(typeof E=="function"&&(sf(r,o,E,c),U=r.memoizedState),(j=Ri||Ov(r,o,j,c,P,U,x)||i!==null&&i.dependencies!==null&&lc(i.dependencies))?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,U,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,U,x)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=U),p.props=c,p.state=U,p.context=x,c=j):(typeof p.componentDidUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,qa(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=ys(r,i.child,null,h),r.child=ys(r,null,o,h)):mt(i,r,o,h),r.memoizedState=p.state,i=r.child):i=Yn(i,r,h),i}function Kv(i,r,o,c){return Ia(),r.flags|=256,mt(i,r,o,c),r.child}var lf={dehydrated:null,treeContext:null,retryLane:0};function cf(i){return{baseLanes:i,cachePool:Wy()}}function uf(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ln),i}function $v(i,r,o){var c=r.pendingProps,h=!1,p=(r.flags&128)!==0,_;if((_=p)||(_=i!==null&&i.memoizedState===null?!1:(it.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(Se){if(h?Ti(r):xi(),Se){var E=dt,x;if(x=E){e:{for(x=E,E=An;x.nodeType!==8;){if(!E){E=null;break e}if(x=gn(x.nextSibling),x===null){E=null;break e}}E=x}E!==null?(r.memoizedState={dehydrated:E,treeContext:ms!==null?{id:Hn,overflow:Fn}:null,retryLane:536870912},x=on(18,null,null,0),x.stateNode=E,x.return=r,r.child=x,Ct=r,dt=null,x=!0):x=!1}x||gs(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?r.lanes=16:r.lanes=536870912,null;qn(r)}return E=c.children,c=c.fallback,h?(xi(),h=r.mode,E=ff({mode:"hidden",children:E},h),c=Cs(c,h,o,null),E.return=r,c.return=r,E.sibling=c,r.child=E,h=r.child,h.memoizedState=cf(o),h.childLanes=uf(i,_,o),r.memoizedState=lf,c):(Ti(r),hf(r,E))}if(x=i.memoizedState,x!==null&&(E=x.dehydrated,E!==null)){if(p)r.flags&256?(Ti(r),r.flags&=-257,r=df(i,r,o)):r.memoizedState!==null?(xi(),r.child=i.child,r.flags|=128,r=null):(xi(),h=c.fallback,E=r.mode,c=ff({mode:"visible",children:c.children},E),h=Cs(h,E,o,null),h.flags|=2,c.return=r,h.return=r,c.sibling=h,r.child=c,ys(r,i.child,null,o),c=r.child,c.memoizedState=cf(o),c.childLanes=uf(i,_,o),r.memoizedState=lf,r=h);else if(Ti(r),E.data==="$!"){if(_=E.nextSibling&&E.nextSibling.dataset,_)var D=_.dgst;_=D,c=Error(s(419)),c.stack="",c.digest=_,Ma({value:c,source:null,stack:null}),r=df(i,r,o)}else if(ot||Ga(i,r,o,!1),_=(o&i.childLanes)!==0,ot||_){if(_=ke,_!==null){if(c=o&-o,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(_.suspendedLanes|o)?0:c,c!==0&&c!==x.retryLane)throw x.retryLane=c,Si(i,c),At(_,i,c),Vv}E.data==="$?"||zf(),r=df(i,r,o)}else E.data==="$?"?(r.flags|=128,r.child=i.child,r=pA.bind(null,i),E._reactRetry=r,r=null):(i=x.treeContext,dt=gn(E.nextSibling),Ct=r,Se=!0,mn=null,An=!1,i!==null&&(tn[nn++]=Hn,tn[nn++]=Fn,tn[nn++]=ms,Hn=i.id,Fn=i.overflow,ms=r),r=hf(r,c.children),r.flags|=4096);return r}return h?(xi(),h=c.fallback,E=r.mode,x=i.child,D=x.sibling,c=Mi(x,{mode:"hidden",children:c.children}),c.subtreeFlags=x.subtreeFlags&31457280,D!==null?h=Mi(D,h):(h=Cs(h,E,o,null),h.flags|=2),h.return=r,c.return=r,c.sibling=h,r.child=c,c=h,h=r.child,E=i.child.memoizedState,E===null?E=cf(o):(x=E.cachePool,x!==null?(D=st._currentValue,x=x.parent!==D?{parent:D,pool:D}:x):x=Wy(),E={baseLanes:E.baseLanes|o,cachePool:x}),h.memoizedState=E,h.childLanes=uf(i,_,o),r.memoizedState=lf,c):(Ti(r),o=i.child,i=o.sibling,o=Mi(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function hf(i,r){return r=ff({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function ff(i,r){return b_(i,r,0,null)}function df(i,r,o){return ys(r,i.child,null,o),i=hf(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Wv(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),yf(i.return,r,o)}function mf(i,r,o,c,h){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=h)}function Xv(i,r,o){var c=r.pendingProps,h=c.revealOrder,p=c.tail;if(mt(i,r,c.children,o),c=it.current,c&2)c=c&1|2,r.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Wv(i,o,r);else if(i.tag===19)Wv(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(Ue(it,c),h){case"forwards":for(o=r.child,h=null;o!==null;)i=o.alternate,i!==null&&Xl(i)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),mf(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&Xl(i)===null){r.child=h;break}i=h.sibling,h.sibling=o,o=h,h=i}mf(r,!0,o,null,p);break;case"together":mf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yn(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Li|=r.lanes,!(o&r.childLanes))if(i!==null){if(Ga(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Mi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Mi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function pf(i,r){return i.lanes&r?!0:(i=i.dependencies,!!(i!==null&&lc(i)))}function tA(i,r,o){switch(r.tag){case 3:xl(r,r.stateNode.containerInfo),Ai(r,st,i.memoizedState.cache),Ia();break;case 27:case 5:sh(r);break;case 4:xl(r,r.stateNode.containerInfo);break;case 10:Ai(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Ti(r),r.flags|=128,null):o&r.child.childLanes?$v(i,r,o):(Ti(r),i=Yn(i,r,o),i!==null?i.sibling:null);Ti(r);break;case 19:var h=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Ga(i,r,o,!1),c=(o&r.childLanes)!==0),h){if(c)return Xv(i,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ue(it,it.current),c)break;return null;case 22:case 23:return r.lanes=0,Fv(i,r,o);case 24:Ai(r,st,i.memoizedState.cache)}return Yn(i,r,o)}function Qv(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)ot=!0;else{if(!pf(i,o)&&!(r.flags&128))return ot=!1,tA(i,r,o);ot=!!(i.flags&131072)}else ot=!1,Se&&r.flags&1048576&&Ly(r,Gl,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var c=r.elementType,h=c._init;if(c=h(c._payload),r.type=c,typeof c=="function")Nf(c)?(i=Ss(c,i),r.tag=1,r=Yv(null,r,c,i,o)):(r.tag=0,r=of(null,r,c,i,o));else{if(c!=null){if(h=c.$$typeof,h===T){r.tag=11,r=Bv(null,r,c,i,o);break e}else if(h===N){r.tag=14,r=zv(null,r,c,i,o);break e}}throw r=$(c)||c,Error(s(306,r,""))}}return r;case 0:return of(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,h=Ss(c,r.pendingProps),Yv(i,r,c,h,o);case 3:e:{if(xl(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var p=r.pendingProps;h=r.memoizedState,c=h.element,bf(i,r),$a(r,p,null,o);var _=r.memoizedState;if(p=_.cache,Ai(r,st,p),p!==h.cache&&vf(r,[st],o,!0),Ka(),p=_.element,h.isDehydrated)if(h={element:p,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Kv(i,r,p,o);break e}else if(p!==c){c=en(Error(s(424)),r),Ma(c),r=Kv(i,r,p,o);break e}else for(dt=gn(r.stateNode.containerInfo.firstChild),Ct=r,Se=!0,mn=null,An=!0,o=qy(r,null,p,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ia(),p===c){r=Yn(i,r,o);break e}mt(i,r,p,o)}r=r.child}return r;case 26:return qa(i,r),i===null?(o=e0(r.type,null,r.pendingProps,null))?r.memoizedState=o:Se||(o=r.type,i=r.pendingProps,c=xc(vi.current).createElement(o),c[vt]=r,c[kt]=i,pt(c,o,i),at(c),r.stateNode=c):r.memoizedState=e0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return sh(r),i===null&&Se&&(c=r.stateNode=Q_(r.type,r.pendingProps,vi.current),Ct=r,An=!0,dt=gn(c.firstChild)),c=r.pendingProps.children,i!==null||Se?mt(i,r,c,o):r.child=ys(r,null,c,o),qa(i,r),r.child;case 5:return i===null&&Se&&((h=c=dt)&&(c=OA(c,r.type,r.pendingProps,An),c!==null?(r.stateNode=c,Ct=r,dt=gn(c.firstChild),An=!1,h=!0):h=!1),h||gs(r)),sh(r),h=r.type,p=r.pendingProps,_=i!==null?i.memoizedProps:null,c=p.children,td(h,p)?c=null:_!==null&&td(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Hh(i,r,$C,null,null,o),co._currentValue=h),qa(i,r),mt(i,r,c,o),r.child;case 6:return i===null&&Se&&((i=o=dt)&&(o=kA(o,r.pendingProps,An),o!==null?(r.stateNode=o,Ct=r,dt=null,i=!0):i=!1),i||gs(r)),null;case 13:return $v(i,r,o);case 4:return xl(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=ys(r,null,c,o):mt(i,r,c,o),r.child;case 11:return Bv(i,r,r.type,r.pendingProps,o);case 7:return mt(i,r,r.pendingProps,o),r.child;case 8:return mt(i,r,r.pendingProps.children,o),r.child;case 12:return mt(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Ai(r,r.type,c.value),mt(i,r,c.children,o),r.child;case 9:return h=r.type._context,c=r.pendingProps.children,xs(r),h=_t(h),c=c(h),r.flags|=1,mt(i,r,c,o),r.child;case 14:return zv(i,r,r.type,r.pendingProps,o);case 15:return Hv(i,r,r.type,r.pendingProps,o);case 19:return Xv(i,r,o);case 22:return Fv(i,r,o);case 24:return xs(r),c=_t(st),i===null?(h=Bh(),h===null&&(h=ke,p=jh(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),r.memoizedState={parent:c,cache:h},_f(r),Ai(r,st,h)):(i.lanes&o&&(bf(i,r),$a(r,null,null,o),Ka()),h=i.memoizedState,p=r.memoizedState,h.parent!==c?(h={parent:c,cache:c},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ai(r,st,c)):(c=p.cache,Ai(r,st,c),c!==h.cache&&vf(r,[st],o,!0))),mt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var gf=Ce(null),Ts=null,Kn=null;function Ai(i,r,o){Ue(gf,r._currentValue),r._currentValue=o}function $n(i){i._currentValue=gf.current,Je(gf)}function yf(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function vf(i,r,o,c){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var p=h.dependencies;if(p!==null){var _=h.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=h;for(var x=0;x<r.length;x++)if(E.context===r[x]){p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),yf(p.return,o,i),c||(_=null);break e}p=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=o,p=_.alternate,p!==null&&(p.lanes|=o),yf(_,o,i),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===i){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ga(i,r,o,c){i=null;for(var h=r,p=!1;h!==null;){if(!p){if(h.flags&524288)p=!0;else if(h.flags&262144)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;Ht(h.pendingProps.value,_.value)||(i!==null?i.push(E):i=[E])}}else if(h===Tl.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(co):i=[co])}h=h.return}i!==null&&vf(r,i,o,c),r.flags|=262144}function lc(i){for(i=i.firstContext;i!==null;){if(!Ht(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function xs(i){Ts=i,Kn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _t(i){return Zv(Ts,i)}function cc(i,r){return Ts===null&&xs(i),Zv(i,r)}function Zv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Kn===null){if(i===null)throw Error(s(308));Kn=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Kn=Kn.next=r;return o}var Ri=!1;function _f(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ni(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Di(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,Ve&2){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,r=Fl(i),Iy(i,null,o),r}return Hl(i,c,r,o),Fl(i)}function Ya(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194176)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,zg(i,o)}}function Ef(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Sf=!1;function Ka(){if(Sf){var i=br;if(i!==null)throw i}}function $a(i,r,o,c){Sf=!1;var h=i.updateQueue;Ri=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,D=x.next;x.next=null,_===null?p=D:_.next=D,_=x;var j=i.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==_&&(E===null?j.firstBaseUpdate=D:E.next=D,j.lastBaseUpdate=x))}if(p!==null){var z=h.baseState;_=0,j=D=x=null,E=p;do{var P=E.lane&-536870913,U=P!==E.lane;if(U?(be&P)===P:(c&P)===P){P!==0&&P===_r&&(Sf=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Q=i,ce=E;P=r;var Ge=o;switch(ce.tag){case 1:if(Q=ce.payload,typeof Q=="function"){z=Q.call(Ge,z,P);break e}z=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=ce.payload,P=typeof Q=="function"?Q.call(Ge,z,P):Q,P==null)break e;z=ne({},z,P);break e;case 2:Ri=!0}}P=E.callback,P!==null&&(i.flags|=64,U&&(i.flags|=8192),U=h.callbacks,U===null?h.callbacks=[P]:U.push(P))}else U={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(D=j=U,x=z):j=j.next=U,_|=P;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;U=E,E=U.next,U.next=null,h.lastBaseUpdate=U,h.shared.pending=null}}while(!0);j===null&&(x=z),h.baseState=x,h.firstBaseUpdate=D,h.lastBaseUpdate=j,p===null&&(h.shared.lanes=0),Li|=_,i.lanes=_,i.memoizedState=z}}function Jv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function e_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Jv(o[i],r)}function Wa(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&i)===i){c=void 0;var p=o.create,_=o.inst;c=p(),_.destroy=c}o=o.next}while(o!==h)}}catch(E){De(r,r.return,E)}}function Oi(i,r,o){try{var c=r.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var p=h.next;c=p;do{if((c.tag&i)===i){var _=c.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=r;var x=o;try{E()}catch(D){De(h,x,D)}}}c=c.next}while(c!==p)}}catch(D){De(r,r.return,D)}}function t_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{e_(r,o)}catch(c){De(i,i.return,c)}}}function n_(i,r,o){o.props=Ss(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){De(i,r,c)}}function ws(i,r){try{var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var h=c;break;default:h=c}typeof o=="function"?i.refCleanup=o(h):o.current=h}}catch(p){De(i,r,p)}}function Ft(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){De(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){De(i,r,h)}else o.current=null}function i_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){De(i,i.return,h)}}function s_(i,r,o){try{var c=i.stateNode;CA(c,i.type,o,r),c[kt]=r}catch(h){De(i,i.return,h)}}function r_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Tf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||r_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function xf(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(i,r):o.insertBefore(i,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(i,o)):(r=o,r.appendChild(i)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Tc));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(xf(i,r,o),i=i.sibling;i!==null;)xf(i,r,o),i=i.sibling}function uc(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(uc(i,r,o),i=i.sibling;i!==null;)uc(i,r,o),i=i.sibling}var Wn=!1,Fe=!1,wf=!1,a_=typeof WeakSet=="function"?WeakSet:Set,lt=null,o_=!1;function nA(i,r){if(i=i.containerInfo,Jf=Dc,i=xy(i),Ch(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,E=-1,x=-1,D=0,j=0,z=i,P=null;t:for(;;){for(var U;z!==o||h!==0&&z.nodeType!==3||(E=_+h),z!==p||c!==0&&z.nodeType!==3||(x=_+c),z.nodeType===3&&(_+=z.nodeValue.length),(U=z.firstChild)!==null;)P=z,z=U;for(;;){if(z===i)break t;if(P===o&&++D===h&&(E=_),P===p&&++j===c&&(x=_),(U=z.nextSibling)!==null)break;z=P,P=z.parentNode}z=U}o=E===-1||x===-1?null:{start:E,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(ed={focusedElem:i,selectionRange:o},Dc=!1,lt=r;lt!==null;)if(r=lt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,lt=i;else for(;lt!==null;){switch(r=lt,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&p!==null){i=void 0,o=r,h=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var Q=Ss(o.type,h,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(Q,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(ce){De(o,o.return,ce)}}break;case 3:if(i&1024){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)sd(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":sd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,lt=i;break}lt=r.return}return Q=o_,o_=!1,Q}function l_(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Qn(i,o),c&4&&Wa(5,o);break;case 1:if(Qn(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){De(o,o.return,E)}else{var h=Ss(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){De(o,o.return,E)}}c&64&&t_(o),c&512&&ws(o,o.return);break;case 3:if(Qn(i,o),c&64&&(c=o.updateQueue,c!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{e_(c,i)}catch(E){De(o,o.return,E)}}break;case 26:Qn(i,o),c&512&&ws(o,o.return);break;case 27:case 5:Qn(i,o),r===null&&c&4&&i_(o),c&512&&ws(o,o.return);break;case 12:Qn(i,o);break;case 13:Qn(i,o),c&4&&h_(i,o);break;case 22:if(h=o.memoizedState!==null||Wn,!h){r=r!==null&&r.memoizedState!==null||Fe;var p=Wn,_=Fe;Wn=h,(Fe=r)&&!_?ki(i,o,(o.subtreeFlags&8772)!==0):Qn(i,o),Wn=p,Fe=_}c&512&&(o.memoizedProps.mode==="manual"?ws(o,o.return):Ft(o,o.return));break;default:Qn(i,o)}}function c_(i){var r=i.alternate;r!==null&&(i.alternate=null,c_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&uh(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var nt=null,qt=!1;function Xn(i,r,o){for(o=o.child;o!==null;)u_(i,r,o),o=o.sibling}function u_(i,r,o){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(va,o)}catch{}switch(o.tag){case 26:Fe||Ft(o,r),Xn(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Fe||Ft(o,r);var c=nt,h=qt;for(nt=o.stateNode,Xn(i,r,o),o=o.stateNode,r=o.attributes;r.length;)o.removeAttributeNode(r[0]);uh(o),nt=c,qt=h;break;case 5:Fe||Ft(o,r);case 6:h=nt;var p=qt;if(nt=null,Xn(i,r,o),nt=h,qt=p,nt!==null)if(qt)try{i=nt,c=o.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(_){De(o,r,_)}else try{nt.removeChild(o.stateNode)}catch(_){De(o,r,_)}break;case 18:nt!==null&&(qt?(r=nt,o=o.stateNode,r.nodeType===8?id(r.parentNode,o):r.nodeType===1&&id(r,o),mo(r)):id(nt,o.stateNode));break;case 4:c=nt,h=qt,nt=o.stateNode.containerInfo,qt=!0,Xn(i,r,o),nt=c,qt=h;break;case 0:case 11:case 14:case 15:Fe||Oi(2,o,r),Fe||Oi(4,o,r),Xn(i,r,o);break;case 1:Fe||(Ft(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&n_(o,r,c)),Xn(i,r,o);break;case 21:Xn(i,r,o);break;case 22:Fe||Ft(o,r),Fe=(c=Fe)||o.memoizedState!==null,Xn(i,r,o),Fe=c;break;default:Xn(i,r,o)}}function h_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{mo(i)}catch(o){De(r,r.return,o)}}function iA(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new a_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new a_),r;default:throw Error(s(435,i.tag))}}function Cf(i,r){var o=iA(i);r.forEach(function(c){var h=gA.bind(null,i,c);o.has(c)||(o.add(c),c.then(h,h))})}function rn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],p=i,_=r,E=_;e:for(;E!==null;){switch(E.tag){case 27:case 5:nt=E.stateNode,qt=!1;break e;case 3:nt=E.stateNode.containerInfo,qt=!0;break e;case 4:nt=E.stateNode.containerInfo,qt=!0;break e}E=E.return}if(nt===null)throw Error(s(160));u_(p,_,h),nt=null,qt=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)f_(r,i),r=r.sibling}var pn=null;function f_(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:rn(r,i),an(i),c&4&&(Oi(3,i,i.return),Wa(3,i),Oi(5,i,i.return));break;case 1:rn(r,i),an(i),c&512&&(Fe||o===null||Ft(o,o.return)),c&64&&Wn&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=pn;if(rn(r,i),an(i),c&512&&(Fe||o===null||Ft(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Ea]||p[vt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(c),h.head.insertBefore(p,h.querySelector("head > title"))),pt(p,c,o),p[vt]=i,at(p),c=p;break e;case"link":var _=i0("link","href",h).get(c+(o.href||""));if(_){for(var E=0;E<_.length;E++)if(p=_[E],p.getAttribute("href")===(o.href==null?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(E,1);break t}}p=h.createElement(c),pt(p,c,o),h.head.appendChild(p);break;case"meta":if(_=i0("meta","content",h).get(c+(o.content||""))){for(E=0;E<_.length;E++)if(p=_[E],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(E,1);break t}}p=h.createElement(c),pt(p,c,o),h.head.appendChild(p);break;default:throw Error(s(468,c))}p[vt]=i,at(p),c=p}i.stateNode=c}else s0(h,i.type,i.stateNode);else i.stateNode=n0(h,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?s0(h,i.type,i.stateNode):n0(h,c,i.memoizedProps)):c===null&&i.stateNode!==null&&s_(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){h=i.stateNode,p=i.memoizedProps;try{for(var x=h.firstChild;x;){var D=x.nextSibling,j=x.nodeName;x[Ea]||j==="HEAD"||j==="BODY"||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&x.rel.toLowerCase()==="stylesheet"||h.removeChild(x),x=D}for(var z=i.type,P=h.attributes;P.length;)h.removeAttributeNode(P[0]);pt(h,z,p),h[vt]=i,h[kt]=p}catch(Q){De(i,i.return,Q)}}case 5:if(rn(r,i),an(i),c&512&&(Fe||o===null||Ft(o,o.return)),i.flags&32){h=i.stateNode;try{or(h,"")}catch(Q){De(i,i.return,Q)}}c&4&&i.stateNode!=null&&(h=i.memoizedProps,s_(i,h,o!==null?o.memoizedProps:h)),c&1024&&(wf=!0);break;case 6:if(rn(r,i),an(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Q){De(i,i.return,Q)}}break;case 3:if(Ac=null,h=pn,pn=wc(r.containerInfo),rn(r,i),pn=h,an(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{mo(r.containerInfo)}catch(Q){De(i,i.return,Q)}wf&&(wf=!1,d_(i));break;case 4:c=pn,pn=wc(i.stateNode.containerInfo),rn(r,i),an(i),pn=c;break;case 12:rn(r,i),an(i);break;case 13:rn(r,i),an(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Lf=Cn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Cf(i,c)));break;case 22:if(c&512&&(Fe||o===null||Ft(o,o.return)),x=i.memoizedState!==null,D=o!==null&&o.memoizedState!==null,j=Wn,z=Fe,Wn=j||x,Fe=z||D,rn(r,i),Fe=z,Wn=j,an(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,c&8192&&(r._visibility=x?r._visibility&-2:r._visibility|1,x&&(r=Wn||Fe,o===null||D||r||xr(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(o===null){D=o=r;try{if(h=D.stateNode,x)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{_=D.stateNode,E=D.memoizedProps.style;var U=E!=null&&E.hasOwnProperty("display")?E.display:null;_.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(Q){De(D,D.return,Q)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=x?"":D.memoizedProps}catch(Q){De(D,D.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Cf(i,o))));break;case 19:rn(r,i),an(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Cf(i,c)));break;case 21:break;default:rn(r,i),an(i)}}function an(i){var r=i.flags;if(r&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(r_(o)){var c=o;break e}o=o.return}throw Error(s(160))}switch(c.tag){case 27:var h=c.stateNode,p=Tf(i);uc(i,p,h);break;case 5:var _=c.stateNode;c.flags&32&&(or(_,""),c.flags&=-33);var E=Tf(i);uc(i,E,_);break;case 3:case 4:var x=c.stateNode.containerInfo,D=Tf(i);xf(i,D,x);break;default:throw Error(s(161))}}}catch(j){De(i,i.return,j)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function d_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;d_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Qn(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)l_(i,r.alternate,r),r=r.sibling}function xr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Oi(4,r,r.return),xr(r);break;case 1:Ft(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&n_(r,r.return,o),xr(r);break;case 26:case 27:case 5:Ft(r,r.return),xr(r);break;case 22:Ft(r,r.return),r.memoizedState===null&&xr(r);break;default:xr(r)}i=i.sibling}}function ki(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,h=i,p=r,_=p.flags;switch(p.tag){case 0:case 11:case 15:ki(h,p,o),Wa(4,p);break;case 1:if(ki(h,p,o),c=p,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(D){De(c,c.return,D)}if(c=p,h=c.updateQueue,h!==null){var E=c.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Jv(x[h],E)}catch(D){De(c,c.return,D)}}o&&_&64&&t_(p),ws(p,p.return);break;case 26:case 27:case 5:ki(h,p,o),o&&c===null&&_&4&&i_(p),ws(p,p.return);break;case 12:ki(h,p,o);break;case 13:ki(h,p,o),o&&_&4&&h_(h,p);break;case 22:p.memoizedState===null&&ki(h,p,o),ws(p,p.return);break;default:ki(h,p,o)}r=r.sibling}}function Af(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Va(o))}function Rf(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Va(i))}function Ii(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)m_(i,r,o,c),r=r.sibling}function m_(i,r,o,c){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ii(i,r,o,c),h&2048&&Wa(9,r);break;case 3:Ii(i,r,o,c),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Va(i)));break;case 12:if(h&2048){Ii(i,r,o,c),i=r.stateNode;try{var p=r.memoizedProps,_=p.id,E=p.onPostCommit;typeof E=="function"&&E(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(x){De(r,r.return,x)}}else Ii(i,r,o,c);break;case 23:break;case 22:p=r.stateNode,r.memoizedState!==null?p._visibility&4?Ii(i,r,o,c):Xa(i,r):p._visibility&4?Ii(i,r,o,c):(p._visibility|=4,wr(i,r,o,c,(r.subtreeFlags&10256)!==0)),h&2048&&Af(r.alternate,r);break;case 24:Ii(i,r,o,c),h&2048&&Rf(r.alternate,r);break;default:Ii(i,r,o,c)}}function wr(i,r,o,c,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,_=r,E=o,x=c,D=_.flags;switch(_.tag){case 0:case 11:case 15:wr(p,_,E,x,h),Wa(8,_);break;case 23:break;case 22:var j=_.stateNode;_.memoizedState!==null?j._visibility&4?wr(p,_,E,x,h):Xa(p,_):(j._visibility|=4,wr(p,_,E,x,h)),h&&D&2048&&Af(_.alternate,_);break;case 24:wr(p,_,E,x,h),h&&D&2048&&Rf(_.alternate,_);break;default:wr(p,_,E,x,h)}r=r.sibling}}function Xa(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,h=c.flags;switch(c.tag){case 22:Xa(o,c),h&2048&&Af(c.alternate,c);break;case 24:Xa(o,c),h&2048&&Rf(c.alternate,c);break;default:Xa(o,c)}r=r.sibling}}var Qa=8192;function Cr(i){if(i.subtreeFlags&Qa)for(i=i.child;i!==null;)p_(i),i=i.sibling}function p_(i){switch(i.tag){case 26:Cr(i),i.flags&Qa&&i.memoizedState!==null&&GA(pn,i.memoizedState,i.memoizedProps);break;case 5:Cr(i);break;case 3:case 4:var r=pn;pn=wc(i.stateNode.containerInfo),Cr(i),pn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Qa,Qa=16777216,Cr(i),Qa=r):Cr(i));break;default:Cr(i)}}function g_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Za(i){var r=i.deletions;if(i.flags&16){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];lt=c,v_(c,i)}g_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)y_(i),i=i.sibling}function y_(i){switch(i.tag){case 0:case 11:case 15:Za(i),i.flags&2048&&Oi(9,i,i.return);break;case 3:Za(i);break;case 12:Za(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,hc(i)):Za(i);break;default:Za(i)}}function hc(i){var r=i.deletions;if(i.flags&16){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];lt=c,v_(c,i)}g_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Oi(8,r,r.return),hc(r);break;case 22:o=r.stateNode,o._visibility&4&&(o._visibility&=-5,hc(r));break;default:hc(r)}i=i.sibling}}function v_(i,r){for(;lt!==null;){var o=lt;switch(o.tag){case 0:case 11:case 15:Oi(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Va(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,lt=c;else e:for(o=i;lt!==null;){c=lt;var h=c.sibling,p=c.return;if(c_(c),c===o){lt=null;break e}if(h!==null){h.return=p,lt=h;break e}lt=p}}}function sA(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(i,r,o,c){return new sA(i,r,o,c)}function Nf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Mi(i,r){var o=i.alternate;return o===null?(o=on(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function __(i,r){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function fc(i,r,o,c,h,p){var _=0;if(c=i,typeof i=="function")Nf(i)&&(_=1);else if(typeof i=="string")_=FA(i,o,wn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return Cs(o.children,h,p,r);case m:_=8,h|=24;break;case g:return i=on(12,o,r,h|2),i.elementType=g,i.lanes=p,i;case C:return i=on(13,o,r,h),i.elementType=C,i.lanes=p,i;case O:return i=on(19,o,r,h),i.elementType=O,i.lanes=p,i;case k:return b_(o,h,p,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case y:case S:_=10;break e;case v:_=9;break e;case T:_=11;break e;case N:_=14;break e;case I:_=16,c=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=on(_,o,r,h),r.elementType=i,r.type=c,r.lanes=p,r}function Cs(i,r,o,c){return i=on(7,i,c,r),i.lanes=o,i}function b_(i,r,o,c){i=on(22,i,c,r),i.elementType=k,i.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=h._current;if(p===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var _=Si(p,2);_!==null&&(h._pendingVisibility|=2,At(_,p,2))}},attach:function(){var p=h._current;if(p===null)throw Error(s(456));if(h._pendingVisibility&2){var _=Si(p,2);_!==null&&(h._pendingVisibility&=-3,At(_,p,2))}}};return i.stateNode=h,i}function Df(i,r,o){return i=on(6,i,null,r),i.lanes=o,i}function Of(i,r,o){return r=on(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function Zn(i){i.flags|=4}function E_(i,r){if(r.type!=="stylesheet"||r.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!r0(r)){if(r=sn.current,r!==null&&((be&4194176)===be?Rn!==null:(be&62914560)!==be&&!(be&536870912)||r!==Rn))throw Pa=Lh,jy;i.flags|=8192}}function dc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Vg():536870912,i.lanes|=r,Rr|=r)}function Ja(i,r){if(!Se)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function je(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var h=i.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&31457280,c|=h.flags&31457280,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function rA(i,r,o){var c=r.pendingProps;switch(Ih(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(r),null;case 1:return je(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),$n(st),tr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ka(r)?Zn(r):i===null||i.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,mn!==null&&(Vf(mn),mn=null))),je(r),null;case 26:return o=r.memoizedState,i===null?(Zn(r),o!==null?(je(r),E_(r,o)):(je(r),r.flags&=-16777217)):o?o!==i.memoizedState?(Zn(r),je(r),E_(r,o)):(je(r),r.flags&=-16777217):(i.memoizedProps!==c&&Zn(r),je(r),r.flags&=-16777217),null;case 27:wl(r),o=vi.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Zn(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return je(r),null}i=wn.current,ka(r)?Py(r):(i=Q_(h,c,o),r.stateNode=i,Zn(r))}return je(r),null;case 5:if(wl(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Zn(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return je(r),null}if(i=wn.current,ka(r))Py(r);else{switch(h=xc(vi.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}i[vt]=r,i[kt]=c;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;e:switch(pt(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Zn(r)}}return je(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Zn(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=vi.current,ka(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,h=Ct,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}i[vt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||G_(i.nodeValue,o)),i||gs(r)}else i=xc(i).createTextNode(c),i[vt]=r,r.stateNode=i}return je(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=ka(r),c!==null&&c.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=r}else Ia(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;je(r),h=!1}else mn!==null&&(Vf(mn),mn=null),h=!0;if(!h)return r.flags&256?(qn(r),r):(qn(r),null)}if(qn(r),r.flags&128)return r.lanes=o,r;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=r.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),dc(r,r.updateQueue),je(r),null;case 4:return tr(),i===null&&Xf(r.stateNode.containerInfo),je(r),null;case 10:return $n(r.type),je(r),null;case 19:if(Je(it),h=r.memoizedState,h===null)return je(r),null;if(c=(r.flags&128)!==0,p=h.rendering,p===null)if(c)Ja(h,!1);else{if(qe!==0||i!==null&&i.flags&128)for(i=r.child;i!==null;){if(p=Xl(i),p!==null){for(r.flags|=128,Ja(h,!1),i=p.updateQueue,r.updateQueue=i,dc(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)__(o,i),o=o.sibling;return Ue(it,it.current&1|2),r.child}i=i.sibling}h.tail!==null&&Cn()>mc&&(r.flags|=128,c=!0,Ja(h,!1),r.lanes=4194304)}else{if(!c)if(i=Xl(p),i!==null){if(r.flags|=128,c=!0,i=i.updateQueue,r.updateQueue=i,dc(r,i),Ja(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Se)return je(r),null}else 2*Cn()-h.renderingStartTime>mc&&o!==536870912&&(r.flags|=128,c=!0,Ja(h,!1),r.lanes=4194304);h.isBackwards?(p.sibling=r.child,r.child=p):(i=h.last,i!==null?i.sibling=p:r.child=p,h.last=p)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Cn(),r.sibling=null,i=it.current,Ue(it,c?i&1|2:i&1),r):(je(r),null);case 22:case 23:return qn(r),Uh(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?o&536870912&&!(r.flags&128)&&(je(r),r.subtreeFlags&6&&(r.flags|=8192)):je(r),o=r.updateQueue,o!==null&&dc(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&Je(vs),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),$n(st),je(r),null;case 25:return null}throw Error(s(156,r.tag))}function aA(i,r){switch(Ih(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return $n(st),tr(),i=r.flags,i&65536&&!(i&128)?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return wl(r),null;case 13:if(qn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Je(it),null;case 4:return tr(),null;case 10:return $n(r.type),null;case 22:case 23:return qn(r),Uh(),i!==null&&Je(vs),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return $n(st),null;case 25:return null;default:return null}}function S_(i,r){switch(Ih(r),r.tag){case 3:$n(st),tr();break;case 26:case 27:case 5:wl(r);break;case 4:tr();break;case 13:qn(r);break;case 19:Je(it);break;case 10:$n(r.type);break;case 22:case 23:qn(r),Uh(),i!==null&&Je(vs);break;case 24:$n(st)}}var oA={getCacheForType:function(i){var r=_t(st),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},lA=typeof WeakMap=="function"?WeakMap:Map,Ve=0,ke=null,ge=null,be=0,Ie=0,Gt=null,Jn=!1,Ar=!1,kf=!1,ei=0,qe=0,Li=0,As=0,If=0,ln=0,Rr=0,eo=null,Dn=null,Mf=!1,Lf=0,mc=1/0,pc=null,Pi=null,gc=!1,Rs=null,to=0,Pf=0,Uf=null,no=0,jf=null;function Yt(){if(Ve&2&&be!==0)return be&-be;if(q.T!==null){var i=_r;return i!==0?i:Yf()}return Fg()}function T_(){ln===0&&(ln=!(be&536870912)||Se?jg():536870912);var i=sn.current;return i!==null&&(i.flags|=32),ln}function At(i,r,o){(i===ke&&Ie===2||i.cancelPendingCommit!==null)&&(Nr(i,0),ti(i,be,ln,!1)),ba(i,o),(!(Ve&2)||i!==ke)&&(i===ke&&(!(Ve&2)&&(As|=o),qe===4&&ti(i,be,ln,!1)),On(i))}function x_(i,r,o){if(Ve&6)throw Error(s(327));var c=!o&&(r&60)===0&&(r&i.expiredLanes)===0||_a(i,r),h=c?hA(i,r):Hf(i,r,!0),p=c;do{if(h===0){Ar&&!c&&ti(i,r,0,!1);break}else if(h===6)ti(i,r,0,!Jn);else{if(o=i.current.alternate,p&&!cA(o)){h=Hf(i,r,!1),p=!1;continue}if(h===2){if(p=r,i.errorRecoveryDisabledLanes&p)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var E=i;h=eo;var x=E.current.memoizedState.isDehydrated;if(x&&(Nr(E,_).flags|=256),_=Hf(E,_,!1),_!==2){if(kf&&!x){E.errorRecoveryDisabledLanes|=p,As|=p,h=4;break e}p=Dn,Dn=h,p!==null&&Vf(p)}h=_}if(p=!1,h!==2)continue}}if(h===1){Nr(i,0),ti(i,r,0,!0);break}e:{switch(c=i,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){ti(c,r,ln,!Jn);break e}break;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(c.finishedWork=o,c.finishedLanes=r,(r&62914560)===r&&(p=Lf+300-Cn(),10<p)){if(ti(c,r,ln,!Jn),Nl(c,0)!==0)break e;c.timeoutHandle=$_(w_.bind(null,c,o,Dn,pc,Mf,r,ln,As,Rr,Jn,2,-0,0),p);break e}w_(c,o,Dn,pc,Mf,r,ln,As,Rr,Jn,0,-0,0)}}break}while(!0);On(i)}function Vf(i){Dn===null?Dn=i:Dn.push.apply(Dn,i)}function w_(i,r,o,c,h,p,_,E,x,D,j,z,P){var U=r.subtreeFlags;if((U&8192||(U&16785408)===16785408)&&(lo={stylesheets:null,count:0,unsuspend:qA},p_(r),r=YA(),r!==null)){i.cancelPendingCommit=r(k_.bind(null,i,o,c,h,_,E,x,1,z,P)),ti(i,p,_,!D);return}k_(i,o,c,h,_,E,x,j,z,P)}function cA(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],p=h.getSnapshot;h=h.value;try{if(!Ht(p(),h))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ti(i,r,o,c){r&=~If,r&=~As,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var h=r;0<h;){var p=31-zt(h),_=1<<p;c[p]=-1,h&=~_}o!==0&&Bg(i,o,r)}function yc(){return Ve&6?!0:(io(0),!1)}function Bf(){if(ge!==null){if(Ie===0)var i=ge.return;else i=ge,Kn=Ts=null,Gh(i),yr=null,Ua=0,i=ge;for(;i!==null;)S_(i.alternate,i),i=i.return;ge=null}}function Nr(i,r){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,RA(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Bf(),ke=i,ge=o=Mi(i.current,null),be=r,Ie=0,Gt=null,Jn=!1,Ar=_a(i,r),kf=!1,Rr=ln=If=As=Li=qe=0,Dn=eo=null,Mf=!1,r&8&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var h=31-zt(c),p=1<<h;r|=i[h],c&=~p}return ei=r,zl(),o}function C_(i,r){fe=null,q.H=Nn,r===La?(r=zy(),Ie=3):r===jy?(r=zy(),Ie=4):Ie=r===Vv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Gt=r,ge===null&&(qe=1,oc(i,en(r,i.current)))}function A_(){var i=q.H;return q.H=Nn,i===null?Nn:i}function R_(){var i=q.A;return q.A=oA,i}function zf(){qe=4,Jn||(be&4194176)!==be&&sn.current!==null||(Ar=!0),!(Li&134217727)&&!(As&134217727)||ke===null||ti(ke,be,ln,!1)}function Hf(i,r,o){var c=Ve;Ve|=2;var h=A_(),p=R_();(ke!==i||be!==r)&&(pc=null,Nr(i,r)),r=!1;var _=qe;e:do try{if(Ie!==0&&ge!==null){var E=ge,x=Gt;switch(Ie){case 8:Bf(),_=6;break e;case 3:case 2:case 6:sn.current===null&&(r=!0);var D=Ie;if(Ie=0,Gt=null,Dr(i,E,x,D),o&&Ar){_=0;break e}break;default:D=Ie,Ie=0,Gt=null,Dr(i,E,x,D)}}uA(),_=qe;break}catch(j){C_(i,j)}while(!0);return r&&i.shellSuspendCounter++,Kn=Ts=null,Ve=c,q.H=h,q.A=p,ge===null&&(ke=null,be=0,zl()),_}function uA(){for(;ge!==null;)N_(ge)}function hA(i,r){var o=Ve;Ve|=2;var c=A_(),h=R_();ke!==i||be!==r?(pc=null,mc=Cn()+500,Nr(i,r)):Ar=_a(i,r);e:do try{if(Ie!==0&&ge!==null){r=ge;var p=Gt;t:switch(Ie){case 1:Ie=0,Gt=null,Dr(i,r,p,1);break;case 2:if(Vy(p)){Ie=0,Gt=null,D_(r);break}r=function(){Ie===2&&ke===i&&(Ie=7),On(i)},p.then(r,r);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Vy(p)?(Ie=0,Gt=null,D_(r)):(Ie=0,Gt=null,Dr(i,r,p,7));break;case 5:var _=null;switch(ge.tag){case 26:_=ge.memoizedState;case 5:case 27:var E=ge;if(!_||r0(_)){Ie=0,Gt=null;var x=E.sibling;if(x!==null)ge=x;else{var D=E.return;D!==null?(ge=D,vc(D)):ge=null}break t}}Ie=0,Gt=null,Dr(i,r,p,5);break;case 6:Ie=0,Gt=null,Dr(i,r,p,6);break;case 8:Bf(),qe=6;break e;default:throw Error(s(462))}}fA();break}catch(j){C_(i,j)}while(!0);return Kn=Ts=null,q.H=c,q.A=h,Ve=o,ge!==null?0:(ke=null,be=0,zl(),qe)}function fA(){for(;ge!==null&&!M1();)N_(ge)}function N_(i){var r=Qv(i.alternate,i,ei);i.memoizedProps=i.pendingProps,r===null?vc(i):ge=r}function D_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Gv(o,r,r.pendingProps,r.type,void 0,be);break;case 11:r=Gv(o,r,r.pendingProps,r.type.render,r.ref,be);break;case 5:Gh(r);default:S_(o,r),r=ge=__(r,ei),r=Qv(o,r,ei)}i.memoizedProps=i.pendingProps,r===null?vc(i):ge=r}function Dr(i,r,o,c){Kn=Ts=null,Gh(r),yr=null,Ua=0;var h=r.return;try{if(eA(i,h,r,o,be)){qe=1,oc(i,en(o,i.current)),ge=null;return}}catch(p){if(h!==null)throw ge=h,p;qe=1,oc(i,en(o,i.current)),ge=null;return}r.flags&32768?(Se||c===1?i=!0:Ar||be&536870912?i=!1:(Jn=i=!0,(c===2||c===3||c===6)&&(c=sn.current,c!==null&&c.tag===13&&(c.flags|=16384))),O_(r,i)):vc(r)}function vc(i){var r=i;do{if(r.flags&32768){O_(r,Jn);return}i=r.return;var o=rA(r.alternate,r,ei);if(o!==null){ge=o;return}if(r=r.sibling,r!==null){ge=r;return}ge=r=i}while(r!==null);qe===0&&(qe=5)}function O_(i,r){do{var o=aA(i.alternate,i);if(o!==null){o.flags&=32767,ge=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){ge=i;return}ge=i=o}while(i!==null);qe=6,ge=null}function k_(i,r,o,c,h,p,_,E,x,D){var j=q.T,z=W.p;try{W.p=2,q.T=null,dA(i,r,o,c,z,h,p,_,E,x,D)}finally{q.T=j,W.p=z}}function dA(i,r,o,c,h,p,_,E){do Or();while(Rs!==null);if(Ve&6)throw Error(s(327));var x=i.finishedWork;if(c=i.finishedLanes,x===null)return null;if(i.finishedWork=null,i.finishedLanes=0,x===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var D=x.lanes|x.childLanes;if(D|=Dh,G1(i,c,D,p,_,E),i===ke&&(ge=ke=null,be=0),!(x.subtreeFlags&10256)&&!(x.flags&10256)||gc||(gc=!0,Pf=D,Uf=o,yA(Cl,function(){return Or(),null})),o=(x.flags&15990)!==0,x.subtreeFlags&15990||o?(o=q.T,q.T=null,p=W.p,W.p=2,_=Ve,Ve|=4,nA(i,x),f_(x,i),UC(ed,i.containerInfo),Dc=!!Jf,ed=Jf=null,i.current=x,l_(i,x.alternate,x),L1(),Ve=_,W.p=p,q.T=o):i.current=x,gc?(gc=!1,Rs=i,to=c):I_(i,D),D=i.pendingLanes,D===0&&(Pi=null),B1(x.stateNode),On(i),r!==null)for(h=i.onRecoverableError,x=0;x<r.length;x++)D=r[x],h(D.value,{componentStack:D.stack});return to&3&&Or(),D=i.pendingLanes,c&4194218&&D&42?i===jf?no++:(no=0,jf=i):no=0,io(0),null}function I_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Va(r)))}function Or(){if(Rs!==null){var i=Rs,r=Pf;Pf=0;var o=Hg(to),c=q.T,h=W.p;try{if(W.p=32>o?32:o,q.T=null,Rs===null)var p=!1;else{o=Uf,Uf=null;var _=Rs,E=to;if(Rs=null,to=0,Ve&6)throw Error(s(331));var x=Ve;if(Ve|=4,y_(_.current),m_(_,_.current,E,o),Ve=x,io(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(va,_)}catch{}p=!0}return p}finally{W.p=h,q.T=c,I_(i,r)}}return!1}function M_(i,r,o){r=en(o,r),r=af(i.stateNode,r,2),i=Di(i,r,2),i!==null&&(ba(i,2),On(i))}function De(i,r,o){if(i.tag===3)M_(i,i,o);else for(;r!==null;){if(r.tag===3){M_(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Pi===null||!Pi.has(c))){i=en(o,i),o=Uv(2),c=Di(r,o,2),c!==null&&(jv(o,c,r,i),ba(c,2),On(c));break}}r=r.return}}function Ff(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new lA;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(o)||(kf=!0,h.add(o),i=mA.bind(null,i,r,o),r.then(i,i))}function mA(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ke===i&&(be&o)===o&&(qe===4||qe===3&&(be&62914560)===be&&300>Cn()-Lf?!(Ve&2)&&Nr(i,0):If|=o,Rr===be&&(Rr=0)),On(i)}function L_(i,r){r===0&&(r=Vg()),i=Si(i,r),i!==null&&(ba(i,r),On(i))}function pA(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),L_(i,o)}function gA(i,r){var o=0;switch(i.tag){case 13:var c=i.stateNode,h=i.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),L_(i,o)}function yA(i,r){return ah(i,r)}var _c=null,kr=null,qf=!1,bc=!1,Gf=!1,Ns=0;function On(i){i!==kr&&i.next===null&&(kr===null?_c=kr=i:kr=kr.next=i),bc=!0,qf||(qf=!0,_A(vA))}function io(i,r){if(!Gf&&bc){Gf=!0;do for(var o=!1,c=_c;c!==null;){if(i!==0){var h=c.pendingLanes;if(h===0)var p=0;else{var _=c.suspendedLanes,E=c.pingedLanes;p=(1<<31-zt(42|i)+1)-1,p&=h&~(_&~E),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(o=!0,j_(c,p))}else p=be,p=Nl(c,c===ke?p:0),!(p&3)||_a(c,p)||(o=!0,j_(c,p));c=c.next}while(o);Gf=!1}}function vA(){bc=qf=!1;var i=0;Ns!==0&&(AA()&&(i=Ns),Ns=0);for(var r=Cn(),o=null,c=_c;c!==null;){var h=c.next,p=P_(c,r);p===0?(c.next=null,o===null?_c=h:o.next=h,h===null&&(kr=o)):(o=c,(i!==0||p&3)&&(bc=!0)),c=h}io(i)}function P_(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,h=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var _=31-zt(p),E=1<<_,x=h[_];x===-1?(!(E&o)||E&c)&&(h[_]=q1(E,r)):x<=r&&(i.expiredLanes|=E),p&=~E}if(r=ke,o=be,o=Nl(i,i===r?o:0),c=i.callbackNode,o===0||i===r&&Ie===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&oh(c),i.callbackNode=null,i.callbackPriority=0;if(!(o&3)||_a(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&oh(c),Hg(o)){case 2:case 8:o=Pg;break;case 32:o=Cl;break;case 268435456:o=Ug;break;default:o=Cl}return c=U_.bind(null,i),o=ah(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&oh(c),i.callbackPriority=2,i.callbackNode=null,2}function U_(i,r){var o=i.callbackNode;if(Or()&&i.callbackNode!==o)return null;var c=be;return c=Nl(i,i===ke?c:0),c===0?null:(x_(i,c,r),P_(i,Cn()),i.callbackNode!=null&&i.callbackNode===o?U_.bind(null,i):null)}function j_(i,r){if(Or())return null;x_(i,r,!0)}function _A(i){NA(function(){Ve&6?ah(Lg,i):i()})}function Yf(){return Ns===0&&(Ns=jg()),Ns}function V_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ml(""+i)}function B_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function bA(i,r,o,c,h){if(r==="submit"&&o&&o.stateNode===h){var p=V_((h[kt]||null).action),_=c.submitter;_&&(r=(r=_[kt]||null)?V_(r.formAction):_.getAttribute("formAction"),r!==null&&(p=r,_=null));var E=new jl("action","action",null,c,h);i.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ns!==0){var x=_?B_(h,_):new FormData(h);ef(o,{pending:!0,data:x,method:h.method,action:p},null,x)}}else typeof p=="function"&&(E.preventDefault(),x=_?B_(h,_):new FormData(h),ef(o,{pending:!0,data:x,method:h.method,action:p},p,x))},currentTarget:h}]})}}for(var Kf=0;Kf<ky.length;Kf++){var $f=ky[Kf],EA=$f.toLowerCase(),SA=$f[0].toUpperCase()+$f.slice(1);dn(EA,"on"+SA)}dn(Ay,"onAnimationEnd"),dn(Ry,"onAnimationIteration"),dn(Ny,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(VC,"onTransitionRun"),dn(BC,"onTransitionStart"),dn(zC,"onTransitionCancel"),dn(Dy,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),us("onBeforeInput",["compositionend","keypress","textInput","paste"]),us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(so));function z_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],h=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var _=c.length-1;0<=_;_--){var E=c[_],x=E.instance,D=E.currentTarget;if(E=E.listener,x!==p&&h.isPropagationStopped())break e;p=E,h.currentTarget=D;try{p(h)}catch(j){ac(j)}h.currentTarget=null,p=x}else for(_=0;_<c.length;_++){if(E=c[_],x=E.instance,D=E.currentTarget,E=E.listener,x!==p&&h.isPropagationStopped())break e;p=E,h.currentTarget=D;try{p(h)}catch(j){ac(j)}h.currentTarget=null,p=x}}}}function ve(i,r){var o=r[ch];o===void 0&&(o=r[ch]=new Set);var c=i+"__bubble";o.has(c)||(H_(r,i,2,!1),o.add(c))}function Wf(i,r,o){var c=0;r&&(c|=4),H_(o,i,c,r)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Xf(i){if(!i[Ec]){i[Ec]=!0,Gg.forEach(function(o){o!=="selectionchange"&&(TA.has(o)||Wf(o,!1,i),Wf(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ec]||(r[Ec]=!0,Wf("selectionchange",!1,r))}}function H_(i,r,o,c){switch(h0(r)){case 2:var h=WA;break;case 8:h=XA;break;default:h=cd}o=h.bind(null,r,o,i),h=void 0,!yh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?i.addEventListener(r,o,{capture:!0,passive:h}):i.addEventListener(r,o,!0):h!==void 0?i.addEventListener(r,o,{passive:h}):i.addEventListener(r,o,!1)}function Qf(i,r,o,c,h){var p=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var E=c.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(_===4)for(_=c.return;_!==null;){var x=_.tag;if((x===3||x===4)&&(x=_.stateNode.containerInfo,x===h||x.nodeType===8&&x.parentNode===h))return;_=_.return}for(;E!==null;){if(_=cs(E),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){c=p=_;continue e}E=E.parentNode}}c=c.return}iy(function(){var D=p,j=ph(o),z=[];e:{var P=Oy.get(i);if(P!==void 0){var U=jl,Q=i;switch(i){case"keypress":if(Pl(o)===0)break e;case"keydown":case"keyup":U=gC;break;case"focusin":Q="focus",U=Eh;break;case"focusout":Q="blur",U=Eh;break;case"beforeblur":case"afterblur":U=Eh;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=ay;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=sC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=_C;break;case Ay:case Ry:case Ny:U=oC;break;case Dy:U=EC;break;case"scroll":case"scrollend":U=nC;break;case"wheel":U=TC;break;case"copy":case"cut":case"paste":U=cC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=ly;break;case"toggle":case"beforetoggle":U=wC}var ce=(r&4)!==0,Ge=!ce&&(i==="scroll"||i==="scrollend"),M=ce?P!==null?P+"Capture":null:P;ce=[];for(var R=D,L;R!==null;){var B=R;if(L=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||L===null||M===null||(B=Ta(R,M),B!=null&&ce.push(ro(R,B,L))),Ge)break;R=R.return}0<ce.length&&(P=new U(P,Q,null,o,j),z.push({event:P,listeners:ce}))}}if(!(r&7)){e:{if(P=i==="mouseover"||i==="pointerover",U=i==="mouseout"||i==="pointerout",P&&o!==mh&&(Q=o.relatedTarget||o.fromElement)&&(cs(Q)||Q[nr]))break e;if((U||P)&&(P=j.window===j?j:(P=j.ownerDocument)?P.defaultView||P.parentWindow:window,U?(Q=o.relatedTarget||o.toElement,U=D,Q=Q?cs(Q):null,Q!==null&&(Ge=J(Q),ce=Q.tag,Q!==Ge||ce!==5&&ce!==27&&ce!==6)&&(Q=null)):(U=null,Q=D),U!==Q)){if(ce=ay,B="onMouseLeave",M="onMouseEnter",R="mouse",(i==="pointerout"||i==="pointerover")&&(ce=ly,B="onPointerLeave",M="onPointerEnter",R="pointer"),Ge=U==null?P:Sa(U),L=Q==null?P:Sa(Q),P=new ce(B,R+"leave",U,o,j),P.target=Ge,P.relatedTarget=L,B=null,cs(j)===D&&(ce=new ce(M,R+"enter",Q,o,j),ce.target=L,ce.relatedTarget=Ge,B=ce),Ge=B,U&&Q)t:{for(ce=U,M=Q,R=0,L=ce;L;L=Ir(L))R++;for(L=0,B=M;B;B=Ir(B))L++;for(;0<R-L;)ce=Ir(ce),R--;for(;0<L-R;)M=Ir(M),L--;for(;R--;){if(ce===M||M!==null&&ce===M.alternate)break t;ce=Ir(ce),M=Ir(M)}ce=null}else ce=null;U!==null&&F_(z,P,U,ce,!1),Q!==null&&Ge!==null&&F_(z,Ge,Q,ce,!0)}}e:{if(P=D?Sa(D):window,U=P.nodeName&&P.nodeName.toLowerCase(),U==="select"||U==="input"&&P.type==="file")var X=gy;else if(my(P))if(yy)X=LC;else{X=IC;var de=kC}else U=P.nodeName,!U||U.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?D&&dh(D.elementType)&&(X=gy):X=MC;if(X&&(X=X(i,D))){py(z,X,o,j);break e}de&&de(i,P,D),i==="focusout"&&D&&P.type==="number"&&D.memoizedProps.value!=null&&fh(P,"number",P.value)}switch(de=D?Sa(D):window,i){case"focusin":(my(de)||de.contentEditable==="true")&&(hr=de,Ah=D,Oa=null);break;case"focusout":Oa=Ah=hr=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,wy(z,o,j);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":wy(z,o,j)}var ee;if(Th)e:{switch(i){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else ur?fy(i,o)&&(se="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(se="onCompositionStart");se&&(cy&&o.locale!=="ko"&&(ur||se!=="onCompositionStart"?se==="onCompositionEnd"&&ur&&(ee=sy()):(Ei=j,vh="value"in Ei?Ei.value:Ei.textContent,ur=!0)),de=Sc(D,se),0<de.length&&(se=new oy(se,i,null,o,j),z.push({event:se,listeners:de}),ee?se.data=ee:(ee=dy(o),ee!==null&&(se.data=ee)))),(ee=AC?RC(i,o):NC(i,o))&&(se=Sc(D,"onBeforeInput"),0<se.length&&(de=new oy("onBeforeInput","beforeinput",null,o,j),z.push({event:de,listeners:se}),de.data=ee)),bA(z,i,D,o,j)}z_(z,r)})}function ro(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Sc(i,r){for(var o=r+"Capture",c=[];i!==null;){var h=i,p=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Ta(i,o),h!=null&&c.unshift(ro(i,h,p)),h=Ta(i,r),h!=null&&c.push(ro(i,h,p))),i=i.return}return c}function Ir(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function F_(i,r,o,c,h){for(var p=r._reactName,_=[];o!==null&&o!==c;){var E=o,x=E.alternate,D=E.stateNode;if(E=E.tag,x!==null&&x===c)break;E!==5&&E!==26&&E!==27||D===null||(x=D,h?(D=Ta(o,p),D!=null&&_.unshift(ro(o,D,x))):h||(D=Ta(o,p),D!=null&&_.push(ro(o,D,x)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var xA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function q_(i){return(typeof i=="string"?i:""+i).replace(xA,`
`).replace(wA,"")}function G_(i,r){return r=q_(r),q_(i)===r}function Tc(){}function Re(i,r,o,c,h,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||or(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&or(i,""+c);break;case"className":Ol(i,"class",c);break;case"tabIndex":Ol(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(i,o,c);break;case"style":ty(i,c,p);break;case"data":if(r!=="object"){Ol(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ml(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Re(i,r,"name",h.name,h,null),Re(i,r,"formEncType",h.formEncType,h,null),Re(i,r,"formMethod",h.formMethod,h,null),Re(i,r,"formTarget",h.formTarget,h,null)):(Re(i,r,"encType",h.encType,h,null),Re(i,r,"method",h.method,h,null),Re(i,r,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ml(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Tc);break;case"onScroll":c!=null&&ve("scroll",i);break;case"onScrollEnd":c!=null&&ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ml(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ve("beforetoggle",i),ve("toggle",i),Dl(i,"popover",c);break;case"xlinkActuate":zn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":zn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":zn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":zn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":zn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":zn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":zn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":zn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":zn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Dl(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=eC.get(o)||o,Dl(i,o,c))}}function Zf(i,r,o,c,h,p){switch(o){case"style":ty(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?or(i,c):(typeof c=="number"||typeof c=="bigint")&&or(i,""+c);break;case"onScroll":c!=null&&ve("scroll",i);break;case"onScrollEnd":c!=null&&ve("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yg.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),r=o.slice(2,h?o.length-7:void 0),p=i[kt]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,h),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,h);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Dl(i,o,c)}}}function pt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",i),ve("load",i);var c=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var _=o[p];if(_!=null)switch(p){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Re(i,r,p,_,o,null)}}h&&Re(i,r,"srcSet",o.srcSet,o,null),c&&Re(i,r,"src",o.src,o,null);return;case"input":ve("invalid",i);var E=p=_=h=null,x=null,D=null;for(c in o)if(o.hasOwnProperty(c)){var j=o[c];if(j!=null)switch(c){case"name":h=j;break;case"type":_=j;break;case"checked":x=j;break;case"defaultChecked":D=j;break;case"value":p=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:Re(i,r,c,j,o,null)}}Qg(i,p,E,x,D,_,h,!1),kl(i);return;case"select":ve("invalid",i),c=_=p=null;for(h in o)if(o.hasOwnProperty(h)&&(E=o[h],E!=null))switch(h){case"value":p=E;break;case"defaultValue":_=E;break;case"multiple":c=E;default:Re(i,r,h,E,o,null)}r=p,o=_,i.multiple=!!c,r!=null?ar(i,!!c,r,!1):o!=null&&ar(i,!!c,o,!0);return;case"textarea":ve("invalid",i),p=h=c=null;for(_ in o)if(o.hasOwnProperty(_)&&(E=o[_],E!=null))switch(_){case"value":c=E;break;case"defaultValue":h=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Re(i,r,_,E,o,null)}Jg(i,c,h,p),kl(i);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(c=o[x],c!=null))switch(x){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Re(i,r,x,c,o,null)}return;case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":ve("load",i);break;case"video":case"audio":for(c=0;c<so.length;c++)ve(so[c],i);break;case"image":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"embed":case"source":case"link":ve("error",i),ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in o)if(o.hasOwnProperty(D)&&(c=o[D],c!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Re(i,r,D,c,o,null)}return;default:if(dh(r)){for(j in o)o.hasOwnProperty(j)&&(c=o[j],c!==void 0&&Zf(i,r,j,c,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(c=o[E],c!=null&&Re(i,r,E,c,o,null))}function CA(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,_=null,E=null,x=null,D=null,j=null;for(U in o){var z=o[U];if(o.hasOwnProperty(U)&&z!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":x=z;default:c.hasOwnProperty(U)||Re(i,r,U,null,c,z)}}for(var P in c){var U=c[P];if(z=o[P],c.hasOwnProperty(P)&&(U!=null||z!=null))switch(P){case"type":p=U;break;case"name":h=U;break;case"checked":D=U;break;case"defaultChecked":j=U;break;case"value":_=U;break;case"defaultValue":E=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,r));break;default:U!==z&&Re(i,r,P,U,c,z)}}hh(i,_,E,x,D,j,p,h);return;case"select":U=_=E=P=null;for(p in o)if(x=o[p],o.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":U=x;default:c.hasOwnProperty(p)||Re(i,r,p,null,c,x)}for(h in c)if(p=c[h],x=o[h],c.hasOwnProperty(h)&&(p!=null||x!=null))switch(h){case"value":P=p;break;case"defaultValue":E=p;break;case"multiple":_=p;default:p!==x&&Re(i,r,h,p,c,x)}r=E,o=_,c=U,P!=null?ar(i,!!o,P,!1):!!c!=!!o&&(r!=null?ar(i,!!o,r,!0):ar(i,!!o,o?[]:"",!1));return;case"textarea":U=P=null;for(E in o)if(h=o[E],o.hasOwnProperty(E)&&h!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Re(i,r,E,null,c,h)}for(_ in c)if(h=c[_],p=o[_],c.hasOwnProperty(_)&&(h!=null||p!=null))switch(_){case"value":P=h;break;case"defaultValue":U=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&Re(i,r,_,h,c,p)}Zg(i,P,U);return;case"option":for(var Q in o)if(P=o[Q],o.hasOwnProperty(Q)&&P!=null&&!c.hasOwnProperty(Q))switch(Q){case"selected":i.selected=!1;break;default:Re(i,r,Q,null,c,P)}for(x in c)if(P=c[x],U=o[x],c.hasOwnProperty(x)&&P!==U&&(P!=null||U!=null))switch(x){case"selected":i.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Re(i,r,x,P,c,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in o)P=o[ce],o.hasOwnProperty(ce)&&P!=null&&!c.hasOwnProperty(ce)&&Re(i,r,ce,null,c,P);for(D in c)if(P=c[D],U=o[D],c.hasOwnProperty(D)&&P!==U&&(P!=null||U!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,r));break;default:Re(i,r,D,P,c,U)}return;default:if(dh(r)){for(var Ge in o)P=o[Ge],o.hasOwnProperty(Ge)&&P!==void 0&&!c.hasOwnProperty(Ge)&&Zf(i,r,Ge,void 0,c,P);for(j in c)P=c[j],U=o[j],!c.hasOwnProperty(j)||P===U||P===void 0&&U===void 0||Zf(i,r,j,P,c,U);return}}for(var M in o)P=o[M],o.hasOwnProperty(M)&&P!=null&&!c.hasOwnProperty(M)&&Re(i,r,M,null,c,P);for(z in c)P=c[z],U=o[z],!c.hasOwnProperty(z)||P===U||P==null&&U==null||Re(i,r,z,P,c,U)}var Jf=null,ed=null;function xc(i){return i.nodeType===9?i:i.ownerDocument}function Y_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function td(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nd=null;function AA(){var i=window.event;return i&&i.type==="popstate"?i===nd?!1:(nd=i,!0):(nd=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,RA=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,NA=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(i){return W_.resolve(null).then(i).catch(DA)}:$_;function DA(i){setTimeout(function(){throw i})}function id(i,r){var o=r,c=0;do{var h=o.nextSibling;if(i.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(c===0){i.removeChild(h),mo(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=h}while(o);mo(r)}function sd(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":sd(o),uh(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function OA(i,r,o,c){for(;i.nodeType===1;){var h=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ea])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==h.rel||i.getAttribute("href")!==(h.href==null?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=gn(i.nextSibling),i===null)break}return null}function kA(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=gn(i.nextSibling),i===null))return null;return i}function gn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function X_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function Q_(i,r,o){switch(r=xc(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var cn=new Map,Z_=new Set;function wc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ni=W.d;W.d={f:IA,r:MA,D:LA,C:PA,L:UA,m:jA,X:BA,S:VA,M:zA};function IA(){var i=ni.f(),r=yc();return i||r}function MA(i){var r=ir(i);r!==null&&r.tag===5&&r.type==="form"?wv(r):ni.r(i)}var Mr=typeof document>"u"?null:document;function J_(i,r,o){var c=Mr;if(c&&typeof r=="string"&&r){var h=Zt(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Z_.has(h)||(Z_.add(h),i={rel:i,crossOrigin:o,href:r},c.querySelector(h)===null&&(r=c.createElement("link"),pt(r,"link",i),at(r),c.head.appendChild(r)))}}function LA(i){ni.D(i),J_("dns-prefetch",i,null)}function PA(i,r){ni.C(i,r),J_("preconnect",i,r)}function UA(i,r,o){ni.L(i,r,o);var c=Mr;if(c&&i&&r){var h='link[rel="preload"][as="'+Zt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Zt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Zt(o.imageSizes)+'"]')):h+='[href="'+Zt(i)+'"]';var p=h;switch(r){case"style":p=Lr(i);break;case"script":p=Pr(i)}cn.has(p)||(i=ne({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),cn.set(p,i),c.querySelector(h)!==null||r==="style"&&c.querySelector(ao(p))||r==="script"&&c.querySelector(oo(p))||(r=c.createElement("link"),pt(r,"link",i),at(r),c.head.appendChild(r)))}}function jA(i,r){ni.m(i,r);var o=Mr;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Zt(c)+'"][href="'+Zt(i)+'"]',p=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Pr(i)}if(!cn.has(p)&&(i=ne({rel:"modulepreload",href:i},r),cn.set(p,i),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(oo(p)))return}c=o.createElement("link"),pt(c,"link",i),at(c),o.head.appendChild(c)}}}function VA(i,r,o){ni.S(i,r,o);var c=Mr;if(c&&i){var h=sr(c).hoistableStyles,p=Lr(i);r=r||"default";var _=h.get(p);if(!_){var E={loading:0,preload:null};if(_=c.querySelector(ao(p)))E.loading=5;else{i=ne({rel:"stylesheet",href:i,"data-precedence":r},o),(o=cn.get(p))&&rd(i,o);var x=_=c.createElement("link");at(x),pt(x,"link",i),x._p=new Promise(function(D,j){x.onload=D,x.onerror=j}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cc(_,r,c)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(p,_)}}}function BA(i,r){ni.X(i,r);var o=Mr;if(o&&i){var c=sr(o).hoistableScripts,h=Pr(i),p=c.get(h);p||(p=o.querySelector(oo(h)),p||(i=ne({src:i,async:!0},r),(r=cn.get(h))&&ad(i,r),p=o.createElement("script"),at(p),pt(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function zA(i,r){ni.M(i,r);var o=Mr;if(o&&i){var c=sr(o).hoistableScripts,h=Pr(i),p=c.get(h);p||(p=o.querySelector(oo(h)),p||(i=ne({src:i,async:!0,type:"module"},r),(r=cn.get(h))&&ad(i,r),p=o.createElement("script"),at(p),pt(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function e0(i,r,o,c){var h=(h=vi.current)?wc(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Lr(o.href),o=sr(h).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Lr(o.href);var p=sr(h).hoistableStyles,_=p.get(i);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,_),(p=h.querySelector(ao(i)))&&!p._p&&(_.instance=p,_.state.loading=5),cn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cn.set(i,o),p||HA(h,i,o,_.state))),r&&c===null)throw Error(s(528,""));return _}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Pr(o),o=sr(h).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Lr(i){return'href="'+Zt(i)+'"'}function ao(i){return'link[rel="stylesheet"]['+i+"]"}function t0(i){return ne({},i,{"data-precedence":i.precedence,precedence:null})}function HA(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),pt(r,"link",o),at(r),i.head.appendChild(r))}function Pr(i){return'[src="'+Zt(i)+'"]'}function oo(i){return"script[async]"+i}function n0(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Zt(o.href)+'"]');if(c)return r.instance=c,at(c),c;var h=ne({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),at(c),pt(c,"style",h),Cc(c,o.precedence,i),r.instance=c;case"stylesheet":h=Lr(o.href);var p=i.querySelector(ao(h));if(p)return r.state.loading|=4,r.instance=p,at(p),p;c=t0(o),(h=cn.get(h))&&rd(c,h),p=(i.ownerDocument||i).createElement("link"),at(p);var _=p;return _._p=new Promise(function(E,x){_.onload=E,_.onerror=x}),pt(p,"link",c),r.state.loading|=4,Cc(p,o.precedence,i),r.instance=p;case"script":return p=Pr(o.src),(h=i.querySelector(oo(p)))?(r.instance=h,at(h),h):(c=o,(h=cn.get(p))&&(c=ne({},o),ad(c,h)),i=i.ownerDocument||i,h=i.createElement("script"),at(h),pt(h,"link",c),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(c=r.instance,r.state.loading|=4,Cc(c,o.precedence,i));return r.instance}function Cc(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,p=h,_=0;_<c.length;_++){var E=c[_];if(E.dataset.precedence===r)p=E;else if(p!==h)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function rd(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ad(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Ac=null;function i0(i,r,o){if(Ac===null){var c=new Map,h=Ac=new Map;h.set(o,c)}else h=Ac,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),h=0;h<o.length;h++){var p=o[h];if(!(p[Ea]||p[vt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(r)||"";_=i+_;var E=c.get(_);E?E.push(p):c.set(_,[p])}}return c}function s0(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function FA(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function r0(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var lo=null;function qA(){}function GA(i,r,o){if(lo===null)throw Error(s(475));var c=lo;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var h=Lr(o.href),p=i.querySelector(ao(h));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Rc.bind(c),i.then(c,c)),r.state.loading|=4,r.instance=p,at(p);return}p=i.ownerDocument||i,o=t0(o),(h=cn.get(h))&&rd(o,h),p=p.createElement("link"),at(p);var _=p;_._p=new Promise(function(E,x){_.onload=E,_.onerror=x}),pt(p,"link",o),r.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,i),(i=r.state.preload)&&!(r.state.loading&3)&&(c.count++,r=Rc.bind(c),i.addEventListener("load",r),i.addEventListener("error",r))}}function YA(){if(lo===null)throw Error(s(475));var i=lo;return i.stylesheets&&i.count===0&&od(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&od(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)od(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Nc=null;function od(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nc=new Map,r.forEach(KA,i),Nc=null,Rc.call(i))}function KA(i,r){if(!(r.state.loading&4)){var o=Nc.get(i);if(o)var c=o.get(null);else{o=new Map,Nc.set(i,o);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var _=h[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),c=_)}c&&o.set(null,c)}h=r.instance,_=h.getAttribute("data-precedence"),p=o.get(_)||c,p===c&&o.set(null,h),o.set(_,h),this.count++,c=Rc.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),p?p.parentNode.insertBefore(h,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var co={$$typeof:S,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function $A(i,r,o,c,h,p,_,E){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lh(0),this.hiddenUpdates=lh(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function a0(i,r,o,c,h,p,_,E,x,D,j,z){return i=new $A(i,r,o,_,E,x,D,z),r=1,p===!0&&(r|=24),p=on(3,null,null,r),i.current=p,p.stateNode=i,r=jh(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},_f(p),i}function o0(i){return i?(i=mr,i):mr}function l0(i,r,o,c,h,p){h=o0(h),c.context===null?c.context=h:c.pendingContext=h,c=Ni(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=Di(i,c,r),o!==null&&(At(o,i,r),Ya(o,i,r))}function c0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function ld(i,r){c0(i,r),(i=i.alternate)&&c0(i,r)}function u0(i){if(i.tag===13){var r=Si(i,67108864);r!==null&&At(r,i,67108864),ld(i,67108864)}}var Dc=!0;function WA(i,r,o,c){var h=q.T;q.T=null;var p=W.p;try{W.p=2,cd(i,r,o,c)}finally{W.p=p,q.T=h}}function XA(i,r,o,c){var h=q.T;q.T=null;var p=W.p;try{W.p=8,cd(i,r,o,c)}finally{W.p=p,q.T=h}}function cd(i,r,o,c){if(Dc){var h=ud(c);if(h===null)Qf(i,r,c,Oc,o),f0(i,c);else if(ZA(h,i,r,o,c))c.stopPropagation();else if(f0(i,c),r&4&&-1<QA.indexOf(i)){for(;h!==null;){var p=ir(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=ls(p.pendingLanes);if(_!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var x=1<<31-zt(_);E.entanglements[1]|=x,_&=~x}On(p),!(Ve&6)&&(mc=Cn()+500,io(0))}}break;case 13:E=Si(p,2),E!==null&&At(E,p,2),yc(),ld(p,2)}if(p=ud(c),p===null&&Qf(i,r,c,Oc,o),p===h)break;h=p}h!==null&&c.stopPropagation()}else Qf(i,r,c,null,o)}}function ud(i){return i=ph(i),hd(i)}var Oc=null;function hd(i){if(Oc=null,i=cs(i),i!==null){var r=J(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=we(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Oc=i,null}function h0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(P1()){case Lg:return 2;case Pg:return 8;case Cl:case U1:return 32;case Ug:return 268435456;default:return 32}default:return 32}}var fd=!1,Ui=null,ji=null,Vi=null,uo=new Map,ho=new Map,Bi=[],QA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f0(i,r){switch(i){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":uo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(r.pointerId)}}function fo(i,r,o,c,h,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},r!==null&&(r=ir(r),r!==null&&u0(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function ZA(i,r,o,c,h){switch(r){case"focusin":return Ui=fo(Ui,i,r,o,c,h),!0;case"dragenter":return ji=fo(ji,i,r,o,c,h),!0;case"mouseover":return Vi=fo(Vi,i,r,o,c,h),!0;case"pointerover":var p=h.pointerId;return uo.set(p,fo(uo.get(p)||null,i,r,o,c,h)),!0;case"gotpointercapture":return p=h.pointerId,ho.set(p,fo(ho.get(p)||null,i,r,o,c,h)),!0}return!1}function d0(i){var r=cs(i.target);if(r!==null){var o=J(r);if(o!==null){if(r=o.tag,r===13){if(r=we(o),r!==null){i.blockedOn=r,Y1(i.priority,function(){if(o.tag===13){var c=Yt(),h=Si(o,c);h!==null&&At(h,o,c),ld(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kc(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=ud(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);mh=c,o.target.dispatchEvent(c),mh=null}else return r=ir(o),r!==null&&u0(r),i.blockedOn=o,!1;r.shift()}return!0}function m0(i,r,o){kc(i)&&o.delete(r)}function JA(){fd=!1,Ui!==null&&kc(Ui)&&(Ui=null),ji!==null&&kc(ji)&&(ji=null),Vi!==null&&kc(Vi)&&(Vi=null),uo.forEach(m0),ho.forEach(m0)}function Ic(i,r){i.blockedOn===r&&(i.blockedOn=null,fd||(fd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,JA)))}var Mc=null;function p0(i){Mc!==i&&(Mc=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mc===i&&(Mc=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],h=i[r+2];if(typeof c!="function"){if(hd(c||o)===null)continue;break}var p=ir(o);p!==null&&(i.splice(r,3),r-=3,ef(p,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function mo(i){function r(x){return Ic(x,i)}Ui!==null&&Ic(Ui,i),ji!==null&&Ic(ji,i),Vi!==null&&Ic(Vi,i),uo.forEach(r),ho.forEach(r);for(var o=0;o<Bi.length;o++){var c=Bi[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Bi.length&&(o=Bi[0],o.blockedOn===null);)d0(o),o.blockedOn===null&&Bi.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],p=o[c+1],_=h[kt]||null;if(typeof p=="function")_||p0(o);else if(_){var E=null;if(p&&p.hasAttribute("formAction")){if(h=p,_=p[kt]||null)E=_.formAction;else if(hd(h)!==null)continue}else E=_.action;typeof E=="function"?o[c+1]=E:(o.splice(c,3),c-=3),p0(o)}}}function dd(i){this._internalRoot=i}Lc.prototype.render=dd.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Yt();l0(o,c,i,r,null,null)},Lc.prototype.unmount=dd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&Or(),l0(i.current,2,null,i,null,null),yc(),r[nr]=null}};function Lc(i){this._internalRoot=i}Lc.prototype.unstable_scheduleHydration=function(i){if(i){var r=Fg();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Bi.length&&r!==0&&r<Bi[o].priority;o++);Bi.splice(o,0,i),o===0&&d0(i)}};var g0=e.version;if(g0!=="19.0.0")throw Error(s(527,g0,"19.0.0"));W.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=F(r),i=i!==null?ae(i):null,i=i===null?null:i.stateNode,i};var eR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:q,findFiberByHostInstance:cs,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{va=Pc.inject(eR),Bt=Pc}catch{}}return go.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",h=Iv,p=Mv,_=Lv,E=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=a0(i,1,!1,null,null,o,c,h,p,_,E,null),i[nr]=r.current,Xf(i.nodeType===8?i.parentNode:i),new dd(r)},go.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,h="",p=Iv,_=Mv,E=Lv,x=null,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(x=o.unstable_transitionCallbacks),o.formState!==void 0&&(D=o.formState)),r=a0(i,1,!0,r,o??null,c,h,p,_,E,x,D),r.context=o0(null),o=r.current,c=Yt(),h=Ni(c),h.callback=null,Di(o,h,c),r.current.lanes=c,ba(r,c),On(r),i[nr]=r.current,Xf(i),new Lc(r)},go.version="19.0.0",go}var C0;function uR(){if(C0)return gd.exports;C0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gd.exports=cR(),gd.exports}var hR=uR(),yo={},A0;function fR(){if(A0)return yo;A0=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.parse=u,yo.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,S){const T=new l,C=v.length;if(C<2)return T;const O=(S==null?void 0:S.decode)||g;let N=0;do{const I=v.indexOf("=",N);if(I===-1)break;const k=v.indexOf(";",N),H=k===-1?C:k;if(I>H){N=v.lastIndexOf(";",I-1)+1;continue}const V=f(v,N,I),Y=d(v,I,V),te=v.slice(V,Y);if(T[te]===void 0){let $=f(v,I+1,H),q=d(v,H,$);const ne=O(v.slice($,q));T[te]=ne}N=H+1}while(N<C);return T}function f(v,S,T){do{const C=v.charCodeAt(S);if(C!==32&&C!==9)return S}while(++S<T);return T}function d(v,S,T){for(;S>T;){const C=v.charCodeAt(--S);if(C!==32&&C!==9)return S+1}return T}function m(v,S,T){const C=(T==null?void 0:T.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const O=C(S);if(!e.test(O))throw new TypeError(`argument val is invalid: ${S}`);let N=v+"="+O;if(!T)return N;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);N+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);N+="; Domain="+T.domain}if(T.path){if(!s.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);N+="; Path="+T.path}if(T.expires){if(!y(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);N+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(N+="; HttpOnly"),T.secure&&(N+="; Secure"),T.partitioned&&(N+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return N}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return a.call(v)==="[object Date]"}return yo}fR();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var R0="popstate";function dR(t={}){function e(a,l){let{pathname:u="/",search:f="",hash:d=""}=Ws(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Qd("",{pathname:u,search:f,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let d=a.location.href,m=d.indexOf("#");f=m===-1?d:d.slice(0,m)}return f+"#"+(typeof l=="string"?l:zo(l))}function s(a,l){Tn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return pR(e,n,s,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mR(){return Math.random().toString(36).substring(2,10)}function N0(t,e){return{usr:t.state,key:t.key,idx:e}}function Qd(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ws(e):e,state:n,key:e&&e.key||s||mR()}}function zo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ws(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function pR(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",d=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function y(){f="POP";let O=g(),N=O==null?null:O-m;m=O,d&&d({action:f,location:C.location,delta:N})}function v(O,N){f="PUSH";let I=Qd(C.location,O,N);n&&n(I,O),m=g()+1;let k=N0(I,m),H=C.createHref(I);try{u.pushState(k,"",H)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;a.location.assign(H)}l&&d&&d({action:f,location:C.location,delta:1})}function S(O,N){f="REPLACE";let I=Qd(C.location,O,N);n&&n(I,O),m=g();let k=N0(I,m),H=C.createHref(I);u.replaceState(k,"",H),l&&d&&d({action:f,location:C.location,delta:0})}function T(O){let N=a.location.origin!=="null"?a.location.origin:a.location.href,I=typeof O=="string"?O:zo(O);return I=I.replace(/ $/,"%20"),ze(N,`No window.location.(origin|href) available to create URL for href: ${I}`),new URL(I,N)}let C={get action(){return f},get location(){return t(a,u)},listen(O){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(R0,y),d=O,()=>{a.removeEventListener(R0,y),d=null}},createHref(O){return e(a,O)},createURL:T,encodeLocation(O){let N=T(O);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:S,go(O){return u.go(O)}};return C}function pS(t,e,n="/"){return gR(t,e,n,!1)}function gR(t,e,n,s){let a=typeof e=="string"?Ws(e):e,l=Ji(a.pathname||"/",n);if(l==null)return null;let u=gS(t);yR(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let m=RR(l);f=CR(u[d],m,s)}return f}function gS(t,e=[],n=[],s=""){let a=(l,u,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(ze(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let m=ai([s,d.relativePath]),g=n.concat(d);l.children&&l.children.length>0&&(ze(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),gS(l.children,e,g,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:xR(m,l.index),routesMeta:g})};return t.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,u);else for(let d of yS(l.path))a(l,u,d)}),e}function yS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=yS(s.join("/")),f=[];return f.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&f.push(...u),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function yR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vR=/^:[\w-]+$/,_R=3,bR=2,ER=1,SR=10,TR=-2,D0=t=>t==="*";function xR(t,e){let n=t.split("/"),s=n.length;return n.some(D0)&&(s+=TR),e&&(s+=bR),n.filter(a=>!D0(a)).reduce((a,l)=>a+(vR.test(l)?_R:l===""?ER:SR),s)}function wR(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function CR(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let d=s[f],m=f===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=nu({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),v=d.route;if(!y&&m&&n&&!s[s.length-1].route.index&&(y=nu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:ai([l,y.pathname]),pathnameBase:kR(ai([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=ai([l,y.pathnameBase]))}return u}function nu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=AR(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:y},v)=>{if(g==="*"){let T=f[v]||"";u=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const S=f[v];return y&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function AR(t,e=!1,n=!0){Tn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(s.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function RR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ji(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function NR(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Ws(t):t;return{pathname:n?n.startsWith("/")?n:DR(n,e):e,search:IR(s),hash:MR(a)}}function DR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function bd(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vS(t){let e=OR(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function _S(t,e,n,s=!1){let a;typeof t=="string"?a=Ws(t):(a={...t},ze(!a.pathname||!a.pathname.includes("?"),bd("?","pathname","search",a)),ze(!a.pathname||!a.pathname.includes("#"),bd("#","pathname","hash",a)),ze(!a.search||!a.search.includes("#"),bd("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let y=e.length-1;if(!s&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),y-=1;a.pathname=v.join("/")}f=y>=0?e[y]:"/"}let d=NR(a,f),m=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var ai=t=>t.join("/").replace(/\/\/+/g,"/"),kR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function LR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var bS=["POST","PUT","PATCH","DELETE"];new Set(bS);var PR=["GET",...bS];new Set(PR);var oa=w.createContext(null);oa.displayName="DataRouter";var Lu=w.createContext(null);Lu.displayName="DataRouterState";var ES=w.createContext({isTransitioning:!1});ES.displayName="ViewTransition";var UR=w.createContext(new Map);UR.displayName="Fetchers";var jR=w.createContext(null);jR.displayName="Await";var jn=w.createContext(null);jn.displayName="Navigation";var al=w.createContext(null);al.displayName="Location";var pi=w.createContext({outlet:null,matches:[],isDataRoute:!1});pi.displayName="Route";var Fm=w.createContext(null);Fm.displayName="RouteError";function VR(t,{relative:e}={}){ze(ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=w.useContext(jn),{hash:a,pathname:l,search:u}=ll(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:ai([n,l])),s.createHref({pathname:f,search:u,hash:a})}function ol(){return w.useContext(al)!=null}function Vn(){return ze(ol(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(al).location}var SS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TS(t){w.useContext(jn).static||w.useLayoutEffect(t)}function qm(){let{isDataRoute:t}=w.useContext(pi);return t?ZR():BR()}function BR(){ze(ol(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(oa),{basename:e,navigator:n}=w.useContext(jn),{matches:s}=w.useContext(pi),{pathname:a}=Vn(),l=JSON.stringify(vS(s)),u=w.useRef(!1);return TS(()=>{u.current=!0}),w.useCallback((d,m={})=>{if(Tn(u.current,SS),!u.current)return;if(typeof d=="number"){n.go(d);return}let g=_S(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ai([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}w.createContext(null);function ll(t,{relative:e}={}){let{matches:n}=w.useContext(pi),{pathname:s}=Vn(),a=JSON.stringify(vS(n));return w.useMemo(()=>_S(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function zR(t,e){return xS(t,e)}function xS(t,e,n,s){var I;ze(ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=w.useContext(jn),{matches:u}=w.useContext(pi),f=u[u.length-1],d=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",y=f&&f.route;{let k=y&&y.path||"";wS(m,!y||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=Vn(),S;if(e){let k=typeof e=="string"?Ws(e):e;ze(g==="/"||((I=k.pathname)==null?void 0:I.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${k.pathname}" was given in the \`location\` prop.`),S=k}else S=v;let T=S.pathname||"/",C=T;if(g!=="/"){let k=g.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(k.length).join("/")}let O=!l&&n&&n.matches&&n.matches.length>0?n.matches:pS(t,{pathname:C});Tn(y||O!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Tn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=YR(O&&O.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:ai([g,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:ai([g,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),u,n,s);return e&&N?w.createElement(al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},N):N}function HR(){let t=QR(),e=LR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,u)}var FR=w.createElement(HR,null),qR=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(pi.Provider,{value:this.props.routeContext},w.createElement(Fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GR({routeContext:t,match:e,children:n}){let s=w.useContext(oa);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(pi.Provider,{value:t},n)}function YR(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let d=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);ze(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,f=-1;if(n)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=d),m.route.id){let{loaderData:g,errors:y}=n,v=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||v){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((d,m,g)=>{let y,v=!1,S=null,T=null;n&&(y=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||FR,u&&(f<0&&g===0?(wS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,T=null):f===g&&(v=!0,T=m.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,g+1)),O=()=>{let N;return y?N=S:v?N=T:m.route.Component?N=w.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=d,w.createElement(GR,{match:m,routeContext:{outlet:d,matches:C,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?w.createElement(qR,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:O(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):O()},null)}function Gm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KR(t){let e=w.useContext(oa);return ze(e,Gm(t)),e}function $R(t){let e=w.useContext(Lu);return ze(e,Gm(t)),e}function WR(t){let e=w.useContext(pi);return ze(e,Gm(t)),e}function Ym(t){let e=WR(t),n=e.matches[e.matches.length-1];return ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function XR(){return Ym("useRouteId")}function QR(){var s;let t=w.useContext(Fm),e=$R("useRouteError"),n=Ym("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function ZR(){let{router:t}=KR("useNavigate"),e=Ym("useNavigate"),n=w.useRef(!1);return TS(()=>{n.current=!0}),w.useCallback(async(a,l={})=>{Tn(n.current,SS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var O0={};function wS(t,e,n){!e&&!O0[t]&&(O0[t]=!0,Tn(!1,n))}w.memo(JR);function JR({routes:t,future:e,state:n}){return xS(t,void 0,n,e)}function jr(t){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){ze(!ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Ws(n));let{pathname:d="/",search:m="",hash:g="",state:y=null,key:v="default"}=n,S=w.useMemo(()=>{let T=Ji(d,u);return T==null?null:{location:{pathname:T,search:m,hash:g,state:y,key:v},navigationType:s}},[u,d,m,g,y,v,s]);return Tn(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(jn.Provider,{value:f},w.createElement(al.Provider,{children:e,value:S}))}function tN({children:t,location:e}){return zR(Zd(t),e)}function Zd(t,e=[]){let n=[];return w.Children.forEach(t,(s,a)=>{if(!w.isValidElement(s))return;let l=[...e,a];if(s.type===w.Fragment){n.push.apply(n,Zd(s.props.children,l));return}ze(s.type===jr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Zd(s.props.children,l)),n.push(u)}),n}var Yc="get",Kc="application/x-www-form-urlencoded";function Pu(t){return t!=null&&typeof t.tagName=="string"}function nN(t){return Pu(t)&&t.tagName.toLowerCase()==="button"}function iN(t){return Pu(t)&&t.tagName.toLowerCase()==="form"}function sN(t){return Pu(t)&&t.tagName.toLowerCase()==="input"}function rN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aN(t,e){return t.button===0&&(!e||e==="_self")&&!rN(t)}var Uc=null;function oN(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var lN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ed(t){return t!=null&&!lN.has(t)?(Tn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):t}function cN(t,e){let n,s,a,l,u;if(iN(t)){let f=t.getAttribute("action");s=f?Ji(f,e):null,n=t.getAttribute("method")||Yc,a=Ed(t.getAttribute("enctype"))||Kc,l=new FormData(t)}else if(nN(t)||sN(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(s=d?Ji(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Yc,a=Ed(t.getAttribute("formenctype"))||Ed(f.getAttribute("enctype"))||Kc,l=new FormData(f,t),!oN()){let{name:m,type:g,value:y}=t;if(g==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,y)}}else{if(Pu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yc,s=null,a=Kc,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}function Km(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function uN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function fN(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await uN(l,n);return u.links?u.links():[]}return[]}));return gN(s.flat(1).filter(hN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function k0(t,e,n,s,a,l){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,f=(d,m)=>{var g;return n[m].pathname!==d.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,m)=>u(d,m)||f(d,m)):l==="data"?e.filter((d,m)=>{var y;let g=s.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,m)||f(d,m))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function dN(t,e,{includeHydrateFallback:n}={}){return mN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function mN(t){return[...new Set(t)]}function pN(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function gN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(pN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function yN(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function vN(){let t=w.useContext(oa);return Km(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _N(){let t=w.useContext(Lu);return Km(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $m=w.createContext(void 0);$m.displayName="FrameworkContext";function CS(){let t=w.useContext($m);return Km(t,"You must render this element inside a <HydratedRouter> element"),t}function bN(t,e){let n=w.useContext($m),[s,a]=w.useState(!1),[l,u]=w.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=e,v=w.useRef(null);w.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let C=N=>{N.forEach(I=>{u(I.isIntersecting)})},O=new IntersectionObserver(C,{threshold:.5});return v.current&&O.observe(v.current),()=>{O.disconnect()}}},[t]),w.useEffect(()=>{if(s){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[s]);let S=()=>{a(!0)},T=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:vo(f,S),onBlur:vo(d,T),onMouseEnter:vo(m,S),onMouseLeave:vo(g,T),onTouchStart:vo(y,S)}]:[!1,v,{}]}function vo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function EN({page:t,...e}){let{router:n}=vN(),s=w.useMemo(()=>pS(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?w.createElement(TN,{page:t,matches:s,...e}):null}function SN(t){let{manifest:e,routeModules:n}=CS(),[s,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return fN(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function TN({page:t,matches:e,...n}){let s=Vn(),{manifest:a,routeModules:l}=CS(),{loaderData:u,matches:f}=_N(),d=w.useMemo(()=>k0(t,e,f,a,s,"data"),[t,e,f,a,s]),m=w.useMemo(()=>k0(t,e,f,a,s,"assets"),[t,e,f,a,s]),g=w.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let S=new Set,T=!1;if(e.forEach(O=>{var I;let N=a.routes[O.route.id];!N||!N.hasLoader||(!d.some(k=>k.route.id===O.route.id)&&O.route.id in u&&((I=l[O.route.id])!=null&&I.shouldRevalidate)||N.hasClientLoader?T=!0:S.add(O.route.id))}),S.size===0)return[];let C=yN(t);return T&&S.size>0&&C.searchParams.set("_routes",e.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[C.pathname+C.search]},[u,s,a,d,e,t,l]),y=w.useMemo(()=>dN(m,a),[m,a]),v=SN(m);return w.createElement(w.Fragment,null,g.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),y.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),v.map(({key:S,link:T})=>w.createElement("link",{key:S,...T})))}function xN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AS&&(window.__reactRouterVersion="7.2.0")}catch{}function wN({basename:t,children:e,window:n}){let s=w.useRef();s.current==null&&(s.current=dR({window:n,v5Compat:!0}));let a=s.current,[l,u]=w.useState({action:a.action,location:a.location}),f=w.useCallback(d=>{w.startTransition(()=>u(d))},[u]);return w.useLayoutEffect(()=>a.listen(f),[a,f]),w.createElement(eN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var RS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NS=w.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:d,to:m,preventScrollReset:g,viewTransition:y,...v},S){let{basename:T}=w.useContext(jn),C=typeof m=="string"&&RS.test(m),O,N=!1;if(typeof m=="string"&&C&&(O=m,AS))try{let q=new URL(window.location.href),ne=m.startsWith("//")?new URL(q.protocol+m):new URL(m),He=Ji(ne.pathname,T);ne.origin===q.origin&&He!=null?m=He+ne.search+ne.hash:N=!0}catch{Tn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=VR(m,{relative:a}),[k,H,V]=bN(s,v),Y=RN(m,{replace:u,state:f,target:d,preventScrollReset:g,relative:a,viewTransition:y});function te(q){e&&e(q),q.defaultPrevented||Y(q)}let $=w.createElement("a",{...v,...V,href:O||I,onClick:N||l?e:te,ref:xN(S,H),target:d,"data-discover":!C&&n==="render"?"true":void 0});return k&&!C?w.createElement(w.Fragment,null,$,w.createElement(EN,{page:I})):$});NS.displayName="Link";var DS=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:d,...m},g){let y=ll(u,{relative:m.relative}),v=Vn(),S=w.useContext(Lu),{navigator:T,basename:C}=w.useContext(jn),O=S!=null&&IN(y)&&f===!0,N=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,I=v.pathname,k=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(I=I.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&C&&(k=Ji(k,C)||k);const H=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let V=I===N||!a&&I.startsWith(N)&&I.charAt(H)==="/",Y=k!=null&&(k===N||!a&&k.startsWith(N)&&k.charAt(N.length)==="/"),te={isActive:V,isPending:Y,isTransitioning:O},$=V?e:void 0,q;typeof s=="function"?q=s(te):q=[s,V?"active":null,Y?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let ne=typeof l=="function"?l(te):l;return w.createElement(NS,{...m,"aria-current":$,className:q,ref:g,style:ne,to:u,viewTransition:f},typeof d=="function"?d(te):d)});DS.displayName="NavLink";var CN=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Yc,action:f,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:y,...v},S)=>{let T=ON(),C=kN(f,{relative:m}),O=u.toLowerCase()==="get"?"get":"post",N=typeof f=="string"&&RS.test(f),I=k=>{if(d&&d(k),k.defaultPrevented)return;k.preventDefault();let H=k.nativeEvent.submitter,V=(H==null?void 0:H.getAttribute("formmethod"))||u;T(H||k.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:y})};return w.createElement("form",{ref:S,method:O,action:C,onSubmit:s?d:I,...v,"data-discover":!N&&t==="render"?"true":void 0})});CN.displayName="Form";function AN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OS(t){let e=w.useContext(oa);return ze(e,AN(t)),e}function RN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=qm(),d=Vn(),m=ll(t,{relative:l});return w.useCallback(g=>{if(aN(g,e)){g.preventDefault();let y=n!==void 0?n:zo(d)===zo(m);f(t,{replace:y,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[d,f,m,n,s,e,t,a,l,u])}var NN=0,DN=()=>`__${String(++NN)}__`;function ON(){let{router:t}=OS("useSubmit"),{basename:e}=w.useContext(jn),n=XR();return w.useCallback(async(s,a={})=>{let{action:l,method:u,encType:f,formData:d,body:m}=cN(s,e);if(a.navigate===!1){let g=a.fetcherKey||DN();await t.fetch(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function kN(t,{relative:e}={}){let{basename:n}=w.useContext(jn),s=w.useContext(pi);ze(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...ll(t||".",{relative:e})},u=Vn();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),d=f.getAll("index");if(d.some(g=>g==="")){f.delete("index"),d.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ai([n,l.pathname])),zo(l)}function IN(t,e={}){let n=w.useContext(ES);ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=OS("useViewTransitionState"),a=ll(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Ji(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Ji(n.nextLocation.pathname,s)||n.nextLocation.pathname;return nu(a.pathname,u)!=null||nu(a.pathname,l)!=null}new TextEncoder;const kS=w.createContext({});function MN(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wm=w.createContext(null),IS=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function LN(t=!0){const e=w.useContext(Wm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=w.useId();w.useEffect(()=>{if(t)return a(l)},[t]);const u=w.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Xm=typeof window<"u",PN=Xm?w.useLayoutEffect:w.useEffect,Kt=t=>t;let MS=Kt;function Qm(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jr=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},oi=t=>t*1e3,li=t=>t/1e3,UN={useManualTiming:!1},jc=["read","resolveKeyframes","update","preRender","render","postRender"],I0={value:null};function jN(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},d=0;function m(y){u.has(y)&&(g.schedule(y),t()),d++,y(f)}const g={schedule:(y,v=!1,S=!1)=>{const C=S&&a?n:s;return v&&u.add(y),C.has(y)||C.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),e&&I0.value&&I0.value.frameloop[e].push(d),d=0,n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const VN=40;function LS(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=jc.reduce((N,I)=>(N[I]=jN(l,e?I:void 0),N),{}),{read:f,resolveKeyframes:d,update:m,preRender:g,render:y,postRender:v}=u,S=()=>{const N=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(N-a.timestamp,VN),1),a.timestamp=N,a.isProcessing=!0,f.process(a),d.process(a),m.process(a),g.process(a),y.process(a),v.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(S))},T=()=>{n=!0,s=!0,a.isProcessing||t(S)};return{schedule:jc.reduce((N,I)=>{const k=u[I];return N[I]=(H,V=!1,Y=!1)=>(n||T(),k.schedule(H,V,Y)),N},{}),cancel:N=>{for(let I=0;I<jc.length;I++)u[jc[I]].cancel(N)},state:a,steps:u}}const{schedule:Le,cancel:es,state:gt,steps:Sd}=LS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kt,!0),PS=w.createContext({strict:!1}),M0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ea={};for(const t in M0)ea[t]={isEnabled:e=>M0[t].some(n=>!!e[n])};function BN(t){for(const e in t)ea[e]={...ea[e],...t[e]}}const zN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function iu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||zN.has(t)}let US=t=>!iu(t);function HN(t){t&&(US=e=>e.startsWith("on")?!iu(e):t(e))}try{HN(require("@emotion/is-prop-valid").default)}catch{}function FN(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(US(a)||n===!0&&iu(a)||!e&&!iu(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function qN(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Uu=w.createContext({});function ju(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ho(t){return typeof t=="string"||Array.isArray(t)}const Zm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jm=["initial",...Zm];function Vu(t){return ju(t.animate)||Jm.some(e=>Ho(t[e]))}function jS(t){return!!(Vu(t)||t.variants)}function GN(t,e){if(Vu(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ho(n)?n:void 0,animate:Ho(s)?s:void 0}}return t.inherit!==!1?e:{}}function YN(t){const{initial:e,animate:n}=GN(t,w.useContext(Uu));return w.useMemo(()=>({initial:e,animate:n}),[L0(e),L0(n)])}function L0(t){return Array.isArray(t)?t.join(" "):t}const KN=Symbol.for("motionComponentSymbol");function Vr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $N(t,e,n){return w.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Vr(n)&&(n.current=s))},[e])}const ep=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WN="framerAppearId",VS="data-"+ep(WN),{schedule:tp}=LS(queueMicrotask,!1),BS=w.createContext({});function XN(t,e,n,s,a){var l,u;const{visualElement:f}=w.useContext(Uu),d=w.useContext(PS),m=w.useContext(Wm),g=w.useContext(IS).reducedMotion,y=w.useRef(null);s=s||d.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:f,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const v=y.current,S=w.useContext(BS);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&QN(y.current,n,a,S);const T=w.useRef(!1);w.useInsertionEffect(()=>{v&&T.current&&v.update(n,m)});const C=n[VS],O=w.useRef(!!C&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,C))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,C)));return PN(()=>{v&&(T.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),tp.render(v.render),O.current&&v.animationState&&v.animationState.animateChanges())}),w.useEffect(()=>{v&&(!O.current&&v.animationState&&v.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,C)}),O.current=!1))}),v}function QN(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&Vr(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:m})}function zS(t){if(t)return t.options.allowProjection!==!1?t.projection:zS(t.parent)}function ZN({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){var l,u;t&&BN(t);function f(m,g){let y;const v={...w.useContext(IS),...m,layoutId:JN(m)},{isStatic:S}=v,T=YN(m),C=s(m,S);if(!S&&Xm){eD();const O=tD(v);y=O.MeasureLayout,T.visualElement=XN(a,C,v,e,O.ProjectionNode)}return b.jsxs(Uu.Provider,{value:T,children:[y&&T.visualElement?b.jsx(y,{visualElement:T.visualElement,...v}):null,n(a,m,$N(C,T.visualElement,g),C,S,T.visualElement)]})}f.displayName=`motion.${typeof a=="string"?a:`create(${(u=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&u!==void 0?u:""})`}`;const d=w.forwardRef(f);return d[KN]=a,d}function JN({layoutId:t}){const e=w.useContext(kS).id;return e&&t!==void 0?e+"-"+t:t}function eD(t,e){w.useContext(PS).strict}function tD(t){const{drag:e,layout:n}=ea;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const HS=t=>e=>typeof e=="string"&&e.startsWith(t),np=HS("--"),nD=HS("var(--"),ip=t=>nD(t)?iD.test(t.split("/*")[0].trim()):!1,iD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fo={};function sD(t){for(const e in t)Fo[e]=t[e],np(e)&&(Fo[e].isCSSVariable=!0)}const la=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xs=new Set(la);function FS(t,{layout:e,layoutId:n}){return Xs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fo[t]||t==="opacity")}const Tt=t=>!!(t&&t.getVelocity),qS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ui=(t,e,n)=>n>e?e:n<t?t:n,ca={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qo={...ca,transform:t=>ui(0,1,t)},Vc={...ca,default:1},cl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fi=cl("deg"),In=cl("%"),re=cl("px"),rD=cl("vh"),aD=cl("vw"),P0={...In,parse:t=>In.parse(t)/100,transform:t=>In.transform(t*100)},oD={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,backgroundPositionX:re,backgroundPositionY:re},lD={rotate:Fi,rotateX:Fi,rotateY:Fi,rotateZ:Fi,scale:Vc,scaleX:Vc,scaleY:Vc,scaleZ:Vc,skew:Fi,skewX:Fi,skewY:Fi,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:qo,originX:P0,originY:P0,originZ:re},U0={...ca,transform:Math.round},sp={...oD,...lD,zIndex:U0,size:re,fillOpacity:qo,strokeOpacity:qo,numOctaves:U0},cD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uD=la.length;function hD(t,e,n){let s="",a=!0;for(let l=0;l<uD;l++){const u=la[l],f=t[u];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(u.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const m=qS(f,sp[u]);if(!d){a=!1;const g=cD[u]||u;s+=`${g}(${m}) `}n&&(e[u]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function rp(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const d in e){const m=e[d];if(Xs.has(d)){u=!0;continue}else if(np(d)){a[d]=m;continue}else{const g=qS(m,sp[d]);d.startsWith("origin")?(f=!0,l[d]=g):s[d]=g}}if(e.transform||(u||n?s.transform=hD(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:d="50%",originY:m="50%",originZ:g=0}=l;s.transformOrigin=`${d} ${m} ${g}`}}const ap=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GS(t,e,n){for(const s in e)!Tt(e[s])&&!FS(s,n)&&(t[s]=e[s])}function fD({transformTemplate:t},e){return w.useMemo(()=>{const n=ap();return rp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function dD(t,e){const n=t.style||{},s={};return GS(s,n,t),Object.assign(s,fD(t,e)),s}function mD(t,e){const n={},s=dD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const pD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function op(t){return typeof t!="string"||t.includes("-")?!1:!!(pD.indexOf(t)>-1||/[A-Z]/u.test(t))}const gD={offset:"stroke-dashoffset",array:"stroke-dasharray"},yD={offset:"strokeDashoffset",array:"strokeDasharray"};function vD(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?gD:yD;t[l.offset]=re.transform(-s);const u=re.transform(e),f=re.transform(n);t[l.array]=`${u} ${f}`}function j0(t,e,n){return typeof t=="string"?t:re.transform(e+n*t)}function _D(t,e,n){const s=j0(e,t.x,t.width),a=j0(n,t.y,t.height);return`${s} ${a}`}function lp(t,{attrX:e,attrY:n,attrScale:s,originX:a,originY:l,pathLength:u,pathSpacing:f=1,pathOffset:d=0,...m},g,y){if(rp(t,m,y),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:S,dimensions:T}=t;v.transform&&(T&&(S.transform=v.transform),delete v.transform),T&&(a!==void 0||l!==void 0||S.transform)&&(S.transformOrigin=_D(T,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),u!==void 0&&vD(v,u,f,d,!1)}const YS=()=>({...ap(),attrs:{}}),cp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bD(t,e,n,s){const a=w.useMemo(()=>{const l=YS();return lp(l,e,cp(s),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};GS(l,t.style,t),a.style={...l,...a.style}}return a}function ED(t=!1){return(n,s,a,{latestValues:l},u)=>{const d=(op(n)?bD:mD)(s,l,u,n),m=FN(s,typeof n=="string",t),g=n!==w.Fragment?{...m,...d,ref:a}:{},{children:y}=s,v=w.useMemo(()=>Tt(y)?y.get():y,[y]);return w.createElement(n,{...g,children:v})}}function V0(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function up(t,e,n,s){if(typeof e=="function"){const[a,l]=V0(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=V0(s);e=e(n!==void 0?n:t.custom,a,l)}return e}const Jd=t=>Array.isArray(t),SD=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),TD=t=>Jd(t)?t[t.length-1]||0:t;function $c(t){const e=Tt(t)?t.get():t;return SD(e)?e.toValue():e}function xD({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,a,l){const u={latestValues:wD(s,a,l,t),renderState:e()};return n&&(u.onMount=f=>n({props:s,current:f,...u}),u.onUpdate=f=>n(f)),u}const KS=t=>(e,n)=>{const s=w.useContext(Uu),a=w.useContext(Wm),l=()=>xD(t,e,s,a);return n?l():MN(l)};function wD(t,e,n,s){const a={},l=s(t,{});for(const v in l)a[v]=$c(l[v]);let{initial:u,animate:f}=t;const d=Vu(t),m=jS(t);e&&m&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const y=g?f:u;if(y&&typeof y!="boolean"&&!ju(y)){const v=Array.isArray(y)?y:[y];for(let S=0;S<v.length;S++){const T=up(t,v[S]);if(T){const{transitionEnd:C,transition:O,...N}=T;for(const I in N){let k=N[I];if(Array.isArray(k)){const H=g?k.length-1:0;k=k[H]}k!==null&&(a[I]=k)}for(const I in C)a[I]=C[I]}}}return a}function hp(t,e,n){var s;const{style:a}=t,l={};for(const u in a)(Tt(a[u])||e.style&&Tt(e.style[u])||FS(u,t)||((s=n==null?void 0:n.getValue(u))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(l[u]=a[u]);return l}const CD={useVisualState:KS({scrapeMotionValuesFromProps:hp,createRenderState:ap})};function $S(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function WS(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const l in n)t.style.setProperty(l,n[l])}const XS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QS(t,e,n,s){WS(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(XS.has(a)?a:ep(a),e.attrs[a])}function ZS(t,e,n){const s=hp(t,e,n);for(const a in t)if(Tt(t[a])||Tt(e[a])){const l=la.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const B0=["x","y","width","height","cx","cy","r"],AD={useVisualState:KS({scrapeMotionValuesFromProps:ZS,createRenderState:YS,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:a})=>{if(!n)return;let l=!!t.drag;if(!l){for(const f in a)if(Xs.has(f)){l=!0;break}}if(!l)return;let u=!e;if(e)for(let f=0;f<B0.length;f++){const d=B0[f];t[d]!==e[d]&&(u=!0)}u&&Le.read(()=>{$S(n,s),Le.render(()=>{lp(s,a,cp(n.tagName),t.transformTemplate),QS(n,s)})})}})};function RD(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...op(s)?AD:CD,preloadedFeatures:t,useRender:ED(a),createVisualElement:e,Component:s};return ZN(u)}}function Go(t,e,n){const s=t.getProps();return up(s,e,n!==void 0?n:s.custom,t)}const ND=Qm(()=>window.ScrollTimeline!==void 0);class DD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(a=>{if(ND()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{s.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class OD extends DD{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function fp(t,e){return t?t[e]||t.default||t:void 0}const em=2e4;function JS(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<em;)e+=n,s=t.next(e);return e>=em?1/0:e}function dp(t){return typeof t=="function"}function z0(t,e){t.timeline=e,t.onfinish=null}const mp=t=>Array.isArray(t)&&typeof t[0]=="number",kD={linearEasing:void 0};function ID(t,e){const n=Qm(t);return()=>{var s;return(s=kD[e])!==null&&s!==void 0?s:n()}}const su=ID(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eT=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=t(Jr(0,a-1,l))+", ";return`linear(${s.substring(0,s.length-2)})`};function tT(t){return!!(typeof t=="function"&&su()||!t||typeof t=="string"&&(t in tm||su())||mp(t)||Array.isArray(t)&&t.every(tT))}const Co=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,tm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Co([0,.65,.55,1]),circOut:Co([.55,0,1,.45]),backIn:Co([.31,.01,.66,-.59]),backOut:Co([.33,1.53,.69,.99])};function nT(t,e){if(t)return typeof t=="function"&&su()?eT(t,e):mp(t)?Co(t):Array.isArray(t)?t.map(n=>nT(n,e)||tm.easeOut):tm[t]}const yn={x:!1,y:!1};function iT(){return yn.x||yn.y}function MD(t,e,n){var s;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const l=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function sT(t,e){const n=MD(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function H0(t){return!(t.pointerType==="touch"||iT())}function LD(t,e,n={}){const[s,a,l]=sT(t,n),u=f=>{if(!H0(f))return;const{target:d}=f,m=e(d,f);if(typeof m!="function"||!d)return;const g=y=>{H0(y)&&(m(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}function ru(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const rT=(t,e)=>e?t===e?!0:rT(t,e.parentElement):!1,pp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,PD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UD(t){return PD.has(t.tagName)||t.tabIndex!==-1}const Ao=new WeakSet;function F0(t){return e=>{e.key==="Enter"&&t(e)}}function Td(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jD=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=F0(()=>{if(Ao.has(n))return;Td(n,"down");const a=F0(()=>{Td(n,"up")}),l=()=>Td(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function q0(t){return pp(t)&&!iT()}function VD(t,e,n={}){const[s,a,l]=sT(t,n),u=f=>{const d=f.currentTarget;if(!d||!q0(f)||Ao.has(d))return;Ao.add(d),ru(f,"set");const m=e(d,f),g=(S,T)=>{d.removeEventListener("pointerup",y),d.removeEventListener("pointercancel",v),ru(S,"release"),!(!q0(S)||!Ao.has(d))&&(Ao.delete(d),typeof m=="function"&&m(S,{success:T}))},y=S=>{(S.isTrusted?BD(S,d instanceof Element?d.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(S,!1):g(S,!(d instanceof Element)||rT(d,S.target))},v=S=>{g(S,!1)};d.addEventListener("pointerup",y,a),d.addEventListener("pointercancel",v,a),d.addEventListener("lostpointercapture",v,a)};return s.forEach(f=>{f=n.useGlobalTarget?window:f;let d=!1;f instanceof HTMLElement&&(d=!0,!UD(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0)),f.addEventListener("pointerdown",u,a),d&&f.addEventListener("focus",m=>jD(m,a),a)}),l}function BD(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function zD(t){return t==="x"||t==="y"?yn[t]?null:(yn[t]=!0,()=>{yn[t]=!1}):yn.x||yn.y?null:(yn.x=yn.y=!0,()=>{yn.x=yn.y=!1})}const aT=new Set(["width","height","top","left","right","bottom",...la]);let Wc;function HD(){Wc=void 0}const Mn={now:()=>(Wc===void 0&&Mn.set(gt.isProcessing||UN.useManualTiming?gt.timestamp:performance.now()),Wc),set:t=>{Wc=t,queueMicrotask(HD)}};function gp(t,e){t.indexOf(e)===-1&&t.push(e)}function yp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class vp{constructor(){this.subscriptions=[]}add(e){return gp(this.subscriptions,e),()=>yp(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function oT(t,e){return e?t*(1e3/e):0}const G0=30,FD=t=>!isNaN(parseFloat(t));class qD{constructor(e,n={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const l=Mn.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=FD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new vp);const s=this.events[e].add(n);return e==="change"?()=>{s(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>G0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,G0);return oT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yo(t,e){return new qD(t,e)}function GD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yo(n))}function YD(t,e){const n=Go(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=TD(l[u]);GD(t,u,f)}}function KD(t){return!!(Tt(t)&&t.add)}function nm(t,e){const n=t.getValue("willChange");if(KD(n))return n.add(e)}function lT(t){return t.props[VS]}const cT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$D=1e-7,WD=12;function XD(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=cT(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>$D&&++f<WD);return u}function ul(t,e,n,s){if(t===e&&n===s)return Kt;const a=l=>XD(l,0,1,t,n);return l=>l===0||l===1?l:cT(a(l),e,s)}const uT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hT=t=>e=>1-t(1-e),fT=ul(.33,1.53,.69,.99),_p=hT(fT),dT=uT(_p),mT=t=>(t*=2)<1?.5*_p(t):.5*(2-Math.pow(2,-10*(t-1))),bp=t=>1-Math.sin(Math.acos(t)),pT=hT(bp),gT=uT(bp),yT=t=>/^0[^.\s]+$/u.test(t);function QD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||yT(t):!0}const Do=t=>Math.round(t*1e5)/1e5,Ep=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZD(t){return t==null}const JD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sp=(t,e)=>n=>!!(typeof n=="string"&&JD.test(n)&&n.startsWith(t)||e&&!ZD(n)&&Object.prototype.hasOwnProperty.call(n,e)),vT=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(Ep);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},eO=t=>ui(0,255,t),xd={...ca,transform:t=>Math.round(eO(t))},Ps={test:Sp("rgb","red"),parse:vT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+xd.transform(t)+", "+xd.transform(e)+", "+xd.transform(n)+", "+Do(qo.transform(s))+")"};function tO(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const im={test:Sp("#"),parse:tO,transform:Ps.transform},Br={test:Sp("hsl","hue"),parse:vT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+In.transform(Do(e))+", "+In.transform(Do(n))+", "+Do(qo.transform(s))+")"},Et={test:t=>Ps.test(t)||im.test(t)||Br.test(t),parse:t=>Ps.test(t)?Ps.parse(t):Br.test(t)?Br.parse(t):im.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ps.transform(t):Br.transform(t)},nO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iO(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ep))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(nO))===null||n===void 0?void 0:n.length)||0)>0}const _T="number",bT="color",sO="var",rO="var(",Y0="${}",aO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ko(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(aO,d=>(Et.test(d)?(s.color.push(l),a.push(bT),n.push(Et.parse(d))):d.startsWith(rO)?(s.var.push(l),a.push(sO),n.push(d)):(s.number.push(l),a.push(_T),n.push(parseFloat(d))),++l,Y0)).split(Y0);return{values:n,split:f,indexes:s,types:a}}function ET(t){return Ko(t).values}function ST(t){const{split:e,types:n}=Ko(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===_T?l+=Do(a[u]):f===bT?l+=Et.transform(a[u]):l+=a[u]}return l}}const oO=t=>typeof t=="number"?0:t;function lO(t){const e=ET(t);return ST(t)(e.map(oO))}const ts={test:iO,parse:ET,createTransformer:ST,getAnimatableNone:lO},cO=new Set(["brightness","contrast","saturate","opacity"]);function uO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Ep)||[];if(!s)return t;const a=n.replace(s,"");let l=cO.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const hO=/\b([a-z-]*)\(.*?\)/gu,sm={...ts,getAnimatableNone:t=>{const e=t.match(hO);return e?e.map(uO).join(" "):t}},fO={...sp,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:sm,WebkitFilter:sm},Tp=t=>fO[t];function TT(t,e){let n=Tp(t);return n!==sm&&(n=ts),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dO=new Set(["auto","none","0"]);function mO(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!dO.has(l)&&Ko(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=TT(n,a)}const K0=t=>t===ca||t===re,$0=(t,e)=>parseFloat(t.split(", ")[e]),W0=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return $0(a[1],e);{const l=s.match(/^matrix\((.+)\)$/u);return l?$0(l[1],t):0}},pO=new Set(["x","y","z"]),gO=la.filter(t=>!pO.has(t));function yO(t){const e=[];return gO.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ta={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:W0(4,13),y:W0(5,14)};ta.translateX=ta.x;ta.translateY=ta.y;const Vs=new Set;let rm=!1,am=!1;function xT(){if(am){const t=Array.from(Vs).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=yO(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{var f;(f=s.getValue(l))===null||f===void 0||f.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}am=!1,rm=!1,Vs.forEach(t=>t.complete()),Vs.clear()}function wT(){Vs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(am=!0)})}function vO(){wT(),xT()}class xp{constructor(e,n,s,a,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vs.add(this),rm||(rm=!0,Le.read(wT),Le.resolveKeyframes(xT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const u=a==null?void 0:a.get(),f=e[e.length-1];if(u!==void 0)e[0]=u;else if(s&&n){const d=s.readValue(n,f);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=f),a&&u===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const CT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),_O=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bO(t){const e=_O.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function AT(t,e,n=1){const[s,a]=bO(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return CT(u)?parseFloat(u):u}return ip(a)?AT(a,e,n+1):a}const RT=t=>e=>e.test(t),EO={test:t=>t==="auto",parse:t=>t},NT=[ca,re,In,Fi,aD,rD,EO],X0=t=>NT.find(RT(t));class DT extends xp{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),ip(m))){const g=AT(m,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!aT.has(s)||e.length!==2)return;const[a,l]=e,u=X0(a),f=X0(l);if(u!==f)if(K0(u)&&K0(f))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)QD(e[a])&&s.push(a);s.length&&mO(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ta[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const l=n.getValue(s);l&&l.jump(this.measuredOrigin,!1);const u=a.length-1,f=a[u];a[u]=ta[s](n.measureViewportBox(),window.getComputedStyle(n.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,m])=>{n.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const Q0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ts.test(t)||t==="0")&&!t.startsWith("url("));function SO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function TO(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Q0(a,e),f=Q0(l,e);return!u||!f?!1:SO(t)||(n==="spring"||dp(n))&&s}const xO=t=>t!==null;function Bu(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(xO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const wO=40;class OT{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mn.now(),this.options={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>wO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&vO(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Mn.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:l,delay:u,onComplete:f,onUpdate:d,isGenerator:m}=this.options;if(!m&&!TO(e,s,a,l))if(u)this.options.duration=0;else{d&&d(Bu(e,this.options,n)),f&&f(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Be=(t,e,n)=>t+(e-t)*n;function wd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function CO({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;a=wd(d,f,t+1/3),l=wd(d,f,t),u=wd(d,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function au(t,e){return n=>n>0?e:t}const Cd=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},AO=[im,Ps,Br],RO=t=>AO.find(e=>e.test(t));function Z0(t){const e=RO(t);if(!e)return!1;let n=e.parse(t);return e===Br&&(n=CO(n)),n}const J0=(t,e)=>{const n=Z0(t),s=Z0(e);if(!n||!s)return au(t,e);const a={...n};return l=>(a.red=Cd(n.red,s.red,l),a.green=Cd(n.green,s.green,l),a.blue=Cd(n.blue,s.blue,l),a.alpha=Be(n.alpha,s.alpha,l),Ps.transform(a))},NO=(t,e)=>n=>e(t(n)),hl=(...t)=>t.reduce(NO),om=new Set(["none","hidden"]);function DO(t,e){return om.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function OO(t,e){return n=>Be(t,e,n)}function wp(t){return typeof t=="number"?OO:typeof t=="string"?ip(t)?au:Et.test(t)?J0:MO:Array.isArray(t)?kT:typeof t=="object"?Et.test(t)?J0:kO:au}function kT(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>wp(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function kO(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=wp(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function IO(t,e){var n;const s=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],f=t.indexes[u][a[u]],d=(n=t.values[f])!==null&&n!==void 0?n:0;s[l]=d,a[u]++}return s}const MO=(t,e)=>{const n=ts.createTransformer(e),s=Ko(t),a=Ko(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?om.has(t)&&!a.values.length||om.has(e)&&!s.values.length?DO(t,e):hl(kT(IO(s,a),a.values),n):au(t,e)};function IT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Be(t,e,n):wp(t)(t,e)}const LO=5;function MT(t,e,n){const s=Math.max(e-LO,0);return oT(n-t(s),e-s)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eb=.001;function PO({duration:t=Ye.duration,bounce:e=Ye.bounce,velocity:n=Ye.velocity,mass:s=Ye.mass}){let a,l,u=1-e;u=ui(Ye.minDamping,Ye.maxDamping,u),t=ui(Ye.minDuration,Ye.maxDuration,li(t)),u<1?(a=m=>{const g=m*u,y=g*t,v=g-n,S=lm(m,u),T=Math.exp(-y);return eb-v/S*T},l=m=>{const y=m*u*t,v=y*n+n,S=Math.pow(u,2)*Math.pow(m,2)*t,T=Math.exp(-y),C=lm(Math.pow(m,2),u);return(-a(m)+eb>0?-1:1)*((v-S)*T)/C}):(a=m=>{const g=Math.exp(-m*t),y=(m-n)*t+1;return-.001+g*y},l=m=>{const g=Math.exp(-m*t),y=(n-m)*(t*t);return g*y});const f=5/t,d=jO(a,l,f);if(t=oi(t),isNaN(d))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:t};{const m=Math.pow(d,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:t}}}const UO=12;function jO(t,e,n){let s=n;for(let a=1;a<UO;a++)s=s-t(s)/e(s);return s}function lm(t,e){return t*Math.sqrt(1-e*e)}const VO=["duration","bounce"],BO=["stiffness","damping","mass"];function tb(t,e){return e.some(n=>t[n]!==void 0)}function zO(t){let e={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...t};if(!tb(t,BO)&&tb(t,VO))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*ui(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ye.mass,stiffness:a,damping:l}}else{const n=PO(t);e={...e,...n,mass:Ye.mass},e.isResolvedFromDuration=!0}return e}function LT(t=Ye.visualDuration,e=Ye.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:d,damping:m,mass:g,duration:y,velocity:v,isResolvedFromDuration:S}=zO({...n,velocity:-li(n.velocity||0)}),T=v||0,C=m/(2*Math.sqrt(d*g)),O=u-l,N=li(Math.sqrt(d/g)),I=Math.abs(O)<5;s||(s=I?Ye.restSpeed.granular:Ye.restSpeed.default),a||(a=I?Ye.restDelta.granular:Ye.restDelta.default);let k;if(C<1){const V=lm(N,C);k=Y=>{const te=Math.exp(-C*N*Y);return u-te*((T+C*N*O)/V*Math.sin(V*Y)+O*Math.cos(V*Y))}}else if(C===1)k=V=>u-Math.exp(-N*V)*(O+(T+N*O)*V);else{const V=N*Math.sqrt(C*C-1);k=Y=>{const te=Math.exp(-C*N*Y),$=Math.min(V*Y,300);return u-te*((T+C*N*O)*Math.sinh($)+V*O*Math.cosh($))/V}}const H={calculatedDuration:S&&y||null,next:V=>{const Y=k(V);if(S)f.done=V>=y;else{let te=0;C<1&&(te=V===0?oi(T):MT(k,V,Y));const $=Math.abs(te)<=s,q=Math.abs(u-Y)<=a;f.done=$&&q}return f.value=f.done?u:Y,f},toString:()=>{const V=Math.min(JS(H),em),Y=eT(te=>H.next(V*te).value,V,30);return V+"ms "+Y}};return H}function nb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:d,restDelta:m=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},S=$=>f!==void 0&&$<f||d!==void 0&&$>d,T=$=>f===void 0?d:d===void 0||Math.abs(f-$)<Math.abs(d-$)?f:d;let C=n*e;const O=y+C,N=u===void 0?O:u(O);N!==O&&(C=N-y);const I=$=>-C*Math.exp(-$/s),k=$=>N+I($),H=$=>{const q=I($),ne=k($);v.done=Math.abs(q)<=m,v.value=v.done?N:ne};let V,Y;const te=$=>{S(v.value)&&(V=$,Y=LT({keyframes:[v.value,T(v.value)],velocity:MT(k,$,v.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return te(0),{calculatedDuration:null,next:$=>{let q=!1;return!Y&&V===void 0&&(q=!0,H($),te($)),V!==void 0&&$>=V?Y.next($-V):(!q&&H($),v)}}}const HO=ul(.42,0,1,1),FO=ul(0,0,.58,1),PT=ul(.42,0,.58,1),qO=t=>Array.isArray(t)&&typeof t[0]!="number",GO={linear:Kt,easeIn:HO,easeInOut:PT,easeOut:FO,circIn:bp,circInOut:gT,circOut:pT,backIn:_p,backInOut:dT,backOut:fT,anticipate:mT},ib=t=>{if(mp(t)){MS(t.length===4);const[e,n,s,a]=t;return ul(e,n,s,a)}else if(typeof t=="string")return GO[t];return t};function YO(t,e,n){const s=[],a=n||IT,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||Kt:e;f=hl(d,f)}s.push(f)}return s}function KO(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(MS(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=YO(e,s,a),d=f.length,m=g=>{if(u&&g<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=Jr(t[y],t[y+1],g);return f[y](v)};return n?g=>m(ui(t[0],t[l-1],g)):m}function $O(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Jr(0,e,s);t.push(Be(n,1,a))}}function WO(t){const e=[0];return $O(e,t.length-1),e}function XO(t,e){return t.map(n=>n*e)}function QO(t,e){return t.map(()=>e||PT).splice(0,t.length-1)}function ou({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=qO(s)?s.map(ib):ib(s),l={done:!1,value:e[0]},u=XO(n&&n.length===e.length?n:WO(e),t),f=KO(u,e,{ease:Array.isArray(a)?a:QO(e,a)});return{calculatedDuration:t,next:d=>(l.value=f(d),l.done=d>=t,l)}}const ZO=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Le.update(e,!0),stop:()=>es(e),now:()=>gt.isProcessing?gt.timestamp:Mn.now()}},JO={decay:nb,inertia:nb,tween:ou,keyframes:ou,spring:LT},e2=t=>t/100;class Cp extends OT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:s,element:a,keyframes:l}=this.options,u=(a==null?void 0:a.KeyframeResolver)||xp,f=(d,m)=>this.onKeyframesResolved(d,m);this.resolver=new u(l,f,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=this.options,f=dp(n)?n:JO[n]||ou;let d,m;f!==ou&&typeof e[0]!="number"&&(d=hl(e2,IT(e[0],e[1])),e=[0,100]);const g=f({...this.options,keyframes:e});l==="mirror"&&(m=f({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=JS(g));const{calculatedDuration:y}=g,v=y+a,S=v*(s+1)-a;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:d,calculatedDuration:y,resolvedDuration:v,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:$}=this.options;return{done:!0,value:$[$.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:u,mapPercentToKeyframes:f,keyframes:d,calculatedDuration:m,totalDuration:g,resolvedDuration:y}=s;if(this.startTime===null)return l.next(0);const{delay:v,repeat:S,repeatType:T,repeatDelay:C,onUpdate:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-v*(this.speed>=0?1:-1),I=this.speed>=0?N<0:N>g;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let k=this.currentTime,H=l;if(S){const $=Math.min(this.currentTime,g)/y;let q=Math.floor($),ne=$%1;!ne&&$>=1&&(ne=1),ne===1&&q--,q=Math.min(q,S+1),!!(q%2)&&(T==="reverse"?(ne=1-ne,C&&(ne-=C/y)):T==="mirror"&&(H=u)),k=ui(0,1,ne)*y}const V=I?{done:!1,value:d[0]}:H.next(k);f&&(V.value=f(V.value));let{done:Y}=V;!I&&m!==null&&(Y=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const te=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return te&&a!==void 0&&(V.value=Bu(d,this.options,a)),O&&O(V.value),te&&this.finish(),V}get duration(){const{resolved:e}=this;return e?li(e.calculatedDuration):0}get time(){return li(this.currentTime)}set time(e){e=oi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=li(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ZO,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const t2=new Set(["opacity","clipPath","filter","transform"]);function n2(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeInOut",times:d}={}){const m={[e]:n};d&&(m.offset=d);const g=nT(f,a);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:s,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}const i2=Qm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lu=10,s2=2e4;function r2(t){return dp(t.type)||t.type==="spring"||!tT(t.ease)}function a2(t,e){const n=new Cp({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const a=[];let l=0;for(;!s.done&&l<s2;)s=n.sample(l),a.push(s.value),l+=lu;return{times:void 0,keyframes:a,duration:l-lu,ease:"linear"}}const UT={anticipate:mT,backInOut:dT,circInOut:gT};function o2(t){return t in UT}class sb extends OT{constructor(e){super(e);const{name:n,motionValue:s,element:a,keyframes:l}=this.options;this.resolver=new DT(l,(u,f)=>this.onKeyframesResolved(u,f),n,s,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:a,ease:l,type:u,motionValue:f,name:d,startTime:m}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&su()&&o2(l)&&(l=UT[l]),r2(this.options)){const{onComplete:y,onUpdate:v,motionValue:S,element:T,...C}=this.options,O=a2(e,C);e=O.keyframes,e.length===1&&(e[1]=e[0]),s=O.duration,a=O.times,l=O.ease,u="keyframes"}const g=n2(f.owner.current,d,e,{...this.options,duration:s,times:a,ease:l});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(z0(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;f.set(Bu(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:s,times:a,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return li(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return li(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=oi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Kt;const{animation:s}=n;z0(s,e)}return Kt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:a,type:l,ease:u,times:f}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:y,element:v,...S}=this.options,T=new Cp({...S,keyframes:s,duration:a,type:l,ease:u,times:f,isGenerator:!0}),C=oi(this.time);m.setWithVelocity(T.sample(C-lu).value,T.sample(C).value,lu)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:a,repeatType:l,damping:u,type:f}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=n.owner.getProps();return i2()&&s&&t2.has(s)&&!d&&!m&&!a&&l!=="mirror"&&u!==0&&f!=="inertia"}}const l2={type:"spring",stiffness:500,damping:25,restSpeed:10},c2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),u2={type:"keyframes",duration:.8},h2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f2=(t,{keyframes:e})=>e.length>2?u2:Xs.has(t)?t.startsWith("scale")?c2(e[1]):l2:h2;function d2({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const Ap=(t,e,n,s={},a,l)=>u=>{const f=fp(s,t)||{},d=f.delay||s.delay||0;let{elapsed:m=0}=s;m=m-oi(d);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-m,onUpdate:v=>{e.set(v),f.onUpdate&&f.onUpdate(v)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};d2(f)||(g={...g,...f2(t,g)}),g.duration&&(g.duration=oi(g.duration)),g.repeatDelay&&(g.repeatDelay=oi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!l&&e.get()!==void 0){const v=Bu(g.keyframes,f);if(v!==void 0)return Le.update(()=>{g.onUpdate(v),g.onComplete()}),new OD([])}return!l&&sb.supports(g)?new sb(g):new Cp(g)};function m2({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function jT(t,e,{delay:n=0,transitionOverride:s,type:a}={}){var l;let{transition:u=t.getDefaultTransition(),transitionEnd:f,...d}=e;s&&(u=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const v=t.getValue(y,(l=t.latestValues[y])!==null&&l!==void 0?l:null),S=d[y];if(S===void 0||g&&m2(g,y))continue;const T={delay:n,...fp(u||{},y)};let C=!1;if(window.MotionHandoffAnimation){const N=lT(t);if(N){const I=window.MotionHandoffAnimation(N,y,Le);I!==null&&(T.startTime=I,C=!0)}}nm(t,y),v.start(Ap(y,v,S,t.shouldReduceMotion&&aT.has(y)?{type:!1}:T,t,C));const O=v.animation;O&&m.push(O)}return f&&Promise.all(m).then(()=>{Le.update(()=>{f&&YD(t,f)})}),m}function cm(t,e,n={}){var s;const a=Go(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(l=n.transitionOverride);const u=a?()=>Promise.all(jT(t,a,n)):()=>Promise.resolve(),f=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=l;return p2(t,e,g+m,y,v,n)}:()=>Promise.resolve(),{when:d}=l;if(d){const[m,g]=d==="beforeChildren"?[u,f]:[f,u];return m().then(()=>g())}else return Promise.all([u(),f(n.delay)])}function p2(t,e,n=0,s=0,a=1,l){const u=[],f=(t.variantChildren.size-1)*s,d=a===1?(m=0)=>m*s:(m=0)=>f-m*s;return Array.from(t.variantChildren).sort(g2).forEach((m,g)=>{m.notify("AnimationStart",e),u.push(cm(m,e,{...l,delay:n+d(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function g2(t,e){return t.sortNodePosition(e)}function y2(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>cm(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=cm(t,e,n);else{const a=typeof e=="function"?Go(t,e,n.custom):e;s=Promise.all(jT(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function VT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const v2=Jm.length;function BT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?BT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<v2;n++){const s=Jm[n],a=t.props[s];(Ho(a)||a===!1)&&(e[s]=a)}return e}const _2=[...Zm].reverse(),b2=Zm.length;function E2(t){return e=>Promise.all(e.map(({animation:n,options:s})=>y2(t,n,s)))}function S2(t){let e=E2(t),n=rb(),s=!0;const a=d=>(m,g)=>{var y;const v=Go(t,g,d==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(v){const{transition:S,transitionEnd:T,...C}=v;m={...m,...C,...T}}return m};function l(d){e=d(t)}function u(d){const{props:m}=t,g=BT(t.parent)||{},y=[],v=new Set;let S={},T=1/0;for(let O=0;O<b2;O++){const N=_2[O],I=n[N],k=m[N]!==void 0?m[N]:g[N],H=Ho(k),V=N===d?I.isActive:null;V===!1&&(T=O);let Y=k===g[N]&&k!==m[N]&&H;if(Y&&s&&t.manuallyAnimateOnMount&&(Y=!1),I.protectedKeys={...S},!I.isActive&&V===null||!k&&!I.prevProp||ju(k)||typeof k=="boolean")continue;const te=T2(I.prevProp,k);let $=te||N===d&&I.isActive&&!Y&&H||O>T&&H,q=!1;const ne=Array.isArray(k)?k:[k];let He=ne.reduce(a(N),{});V===!1&&(He={});const{prevResolvedValues:$t={}}=I,Wt={...$t,...He},Xt=Z=>{$=!0,v.has(Z)&&(q=!0,v.delete(Z)),I.needsAnimating[Z]=!0;const J=t.getValue(Z);J&&(J.liveStyle=!1)};for(const Z in Wt){const J=He[Z],we=$t[Z];if(S.hasOwnProperty(Z))continue;let A=!1;Jd(J)&&Jd(we)?A=!VT(J,we):A=J!==we,A?J!=null?Xt(Z):v.add(Z):J!==void 0&&v.has(Z)?Xt(Z):I.protectedKeys[Z]=!0}I.prevProp=k,I.prevResolvedValues=He,I.isActive&&(S={...S,...He}),s&&t.blockInitialAnimation&&($=!1),$&&(!(Y&&te)||q)&&y.push(...ne.map(Z=>({animation:Z,options:{type:N}})))}if(v.size){const O={};if(typeof m.initial!="boolean"){const N=Go(t,Array.isArray(m.initial)?m.initial[0]:m.initial);N&&N.transition&&(O.transition=N.transition)}v.forEach(N=>{const I=t.getBaseTarget(N),k=t.getValue(N);k&&(k.liveStyle=!0),O[N]=I??null}),y.push({animation:O})}let C=!!y.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(C=!1),s=!1,C?e(y):Promise.resolve()}function f(d,m){var g;if(n[d].isActive===m)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(v=>{var S;return(S=v.animationState)===null||S===void 0?void 0:S.setActive(d,m)}),n[d].isActive=m;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=rb(),s=!0}}}function T2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VT(e,t):!1}function Ds(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rb(){return{animate:Ds(!0),whileInView:Ds(),whileHover:Ds(),whileTap:Ds(),whileDrag:Ds(),whileFocus:Ds(),exit:Ds()}}class rs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class x2 extends rs{constructor(e){super(e),e.animationState||(e.animationState=S2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ju(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let w2=0;class C2 extends rs{constructor(){super(...arguments),this.id=w2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const A2={animation:{Feature:x2},exit:{Feature:C2}};function $o(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function fl(t){return{point:{x:t.pageX,y:t.pageY}}}const R2=t=>e=>pp(e)&&t(e,fl(e));function zr(t,e,n,s){return $o(t,e,R2(n),s)}function zT({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function N2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function D2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const HT=1e-4,O2=1-HT,k2=1+HT,FT=.01,I2=0-FT,M2=0+FT;function Nt(t){return t.max-t.min}function L2(t,e,n){return Math.abs(t-e)<=n}function ab(t,e,n,s=.5){t.origin=s,t.originPoint=Be(e.min,e.max,t.origin),t.scale=Nt(n)/Nt(e),t.translate=Be(n.min,n.max,t.origin)-t.originPoint,(t.scale>=O2&&t.scale<=k2||isNaN(t.scale))&&(t.scale=1),(t.translate>=I2&&t.translate<=M2||isNaN(t.translate))&&(t.translate=0)}function Oo(t,e,n,s){ab(t.x,e.x,n.x,s?s.originX:void 0),ab(t.y,e.y,n.y,s?s.originY:void 0)}function ob(t,e,n){t.min=n.min+e.min,t.max=t.min+Nt(e)}function P2(t,e,n){ob(t.x,e.x,n.x),ob(t.y,e.y,n.y)}function lb(t,e,n){t.min=e.min-n.min,t.max=t.min+Nt(e)}function ko(t,e,n){lb(t.x,e.x,n.x),lb(t.y,e.y,n.y)}const cb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hr=()=>({x:cb(),y:cb()}),ub=()=>({min:0,max:0}),Qe=()=>({x:ub(),y:ub()});function hn(t){return[t("x"),t("y")]}function Ad(t){return t===void 0||t===1}function um({scale:t,scaleX:e,scaleY:n}){return!Ad(t)||!Ad(e)||!Ad(n)}function ks(t){return um(t)||qT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function qT(t){return hb(t.x)||hb(t.y)}function hb(t){return t&&t!=="0%"}function cu(t,e,n){const s=t-n,a=e*s;return n+a}function fb(t,e,n,s,a){return a!==void 0&&(t=cu(t,a,s)),cu(t,n,s)+e}function hm(t,e=0,n=1,s,a){t.min=fb(t.min,e,n,s,a),t.max=fb(t.max,e,n,s,a)}function GT(t,{x:e,y:n}){hm(t.x,e.translate,e.scale,e.originPoint),hm(t.y,n.translate,n.scale,n.originPoint)}const db=.999999999999,mb=1.0000000000001;function U2(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&qr(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,GT(t,u)),s&&ks(l.latestValues)&&qr(t,l.latestValues))}e.x<mb&&e.x>db&&(e.x=1),e.y<mb&&e.y>db&&(e.y=1)}function Fr(t,e){t.min=t.min+e,t.max=t.max+e}function pb(t,e,n,s,a=.5){const l=Be(t.min,t.max,a);hm(t,e,n,l,s)}function qr(t,e){pb(t.x,e.x,e.scaleX,e.scale,e.originX),pb(t.y,e.y,e.scaleY,e.scale,e.originY)}function YT(t,e){return zT(D2(t.getBoundingClientRect(),e))}function j2(t,e,n){const s=YT(t,n),{scroll:a}=e;return a&&(Fr(s.x,a.offset.x),Fr(s.y,a.offset.y)),s}const gb=(t,e)=>Math.abs(t-e);function V2(t,e){const n=gb(t.x,e.x),s=gb(t.y,e.y);return Math.sqrt(n**2+s**2)}class KT{constructor(e,n,{transformPagePoint:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Nd(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=V2(g.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:S}=g,{timestamp:T}=gt;this.history.push({...S,timestamp:T});const{onStart:C,onMove:O}=this.handlers;y||(C&&C(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{if(g.target instanceof Element&&g.target.hasPointerCapture&&g.pointerId!==void 0)try{if(!g.target.hasPointerCapture(g.pointerId))return}catch{}this.lastMoveEvent=g,this.lastMoveEventInfo=Rd(y,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{ru(g,"release"),this.end();const{onEnd:v,onSessionEnd:S,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Nd(g.type==="pointercancel"||g.type==="lostpointercapture"?this.lastMoveEventInfo:Rd(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,C),S&&S(g,C)},!pp(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s;const l=fl(e),u=Rd(l,this.transformPagePoint),{point:f}=u,{timestamp:d}=gt;this.history=[{...f,timestamp:d}];const{onSessionStart:m}=n;m&&m(e,Nd(u,this.history)),ru(e,"set"),this.removeListeners=hl(zr(e.currentTarget,"pointermove",this.handlePointerMove),zr(e.currentTarget,"pointerup",this.handlePointerUp),zr(e.currentTarget,"pointercancel",this.handlePointerUp),zr(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),es(this.updatePoint)}}function Rd(t,e){return e?{point:e(t.point)}:t}function yb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Nd({point:t},e){return{point:t,delta:yb(t,$T(e)),offset:yb(t,B2(e)),velocity:z2(e,.1)}}function B2(t){return t[0]}function $T(t){return t[t.length-1]}function z2(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=$T(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>oi(e)));)n--;if(!s)return{x:0,y:0};const l=li(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function H2(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Be(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Be(n,t,s.max):Math.min(t,n)),t}function vb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function F2(t,{top:e,left:n,bottom:s,right:a}){return{x:vb(t.x,n,a),y:vb(t.y,e,s)}}function _b(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function q2(t,e){return{x:_b(t.x,e.x),y:_b(t.y,e.y)}}function G2(t,e){let n=.5;const s=Nt(t),a=Nt(e);return a>s?n=Jr(e.min,e.max-s,t.min):s>a&&(n=Jr(t.min,t.max-a,e.min)),ui(0,1,n)}function Y2(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const fm=.35;function K2(t=fm){return t===!1?t=0:t===!0&&(t=fm),{x:bb(t,"left","right"),y:bb(t,"top","bottom")}}function bb(t,e,n){return{min:Eb(t,e),max:Eb(t,n)}}function Eb(t,e){return typeof t=="number"?t:t[e]||0}const $2=new WeakMap;class W2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fl(g).point)},l=(g,y)=>{const{drag:v,dragPropagation:S,onDragStart:T}=this.getProps();if(v&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zD(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(O=>{let N=this.getAxisMotionValue(O).get()||0;if(In.test(N)){const{projection:I}=this.visualElement;if(I&&I.layout){const k=I.layout.layoutBox[O];k&&(N=Nt(k)*(parseFloat(N)/100))}}this.originPoint[O]=N}),T&&Le.postRender(()=>T(g,y)),nm(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},u=(g,y)=>{const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:T,onDrag:C}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:O}=y;if(S&&this.currentDirection===null){this.currentDirection=X2(O),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",y.point,O),this.updateAxis("y",y.point,O),this.visualElement.render(),C&&C(g,y)},f=(g,y)=>this.stop(g,y),d=()=>hn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new KT(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Le.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Bc(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=H2(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Vr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=F2(a.layoutBox,n):this.constraints=!1,this.elastic=K2(s),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&hn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=Y2(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Vr(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=j2(s,a.root,this.visualElement.getTransformPagePoint());let u=q2(a.layout.layoutBox,l);if(n){const f=n(N2(u));this.hasMutatedConstraints=!!f,f&&(u=zT(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},m=hn(g=>{if(!Bc(g,n,this.currentDirection))return;let y=d&&d[g]||{};u&&(y={min:0,max:0});const v=a?200:1e6,S=a?40:1e7,T={type:"inertia",velocity:s?e[g]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,T)});return Promise.all(m).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return nm(this.visualElement,e),s.start(Ap(e,s,0,n,this.visualElement,!1))}stopAnimation(){hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){hn(n=>{const{drag:s}=this.getProps();if(!Bc(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(e[n]-Be(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Vr(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};hn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const d=f.get();a[u]=G2({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),hn(u=>{if(!Bc(u,e,null))return;const f=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];f.set(Be(d,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;$2.set(this.visualElement,this);const e=this.visualElement.current,n=zr(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();Vr(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Le.read(s);const u=$o(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(hn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=fm,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Bc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function X2(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Q2 extends rs{constructor(e){super(e),this.removeGroupControls=Kt,this.removeListeners=Kt,this.controls=new W2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Sb=t=>(e,n)=>{t&&Le.postRender(()=>t(e,n))};class Z2 extends rs{constructor(){super(...arguments),this.removePointerDownListener=Kt}onPointerDown(e){this.session=new KT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Sb(e),onStart:Sb(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&Le.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=zr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _o={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=Tb(t,e.target.x),s=Tb(t,e.target.y);return`${n}% ${s}%`}},J2={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ts.parse(t);if(a.length>5)return s;const l=ts.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=d;const m=Be(f,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),l(a)}};class ek extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;sD(tk),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Xc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,u=s.projection;return u&&(u.isPresent=l,a||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Le.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function WT(t){const[e,n]=LN(),s=w.useContext(kS);return b.jsx(ek,{...t,layoutGroup:s,switchLayoutGroup:w.useContext(BS),isPresent:e,safeToRemove:n})}const tk={borderRadius:{..._o,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_o,borderTopRightRadius:_o,borderBottomLeftRadius:_o,borderBottomRightRadius:_o,boxShadow:J2};function nk(t,e,n){const s=Tt(t)?t:Yo(t);return s.start(Ap("",s,e,n)),s.animation}function ik(t){return t instanceof SVGElement&&t.tagName!=="svg"}const sk=(t,e)=>t.depth-e.depth;class rk{constructor(){this.children=[],this.isDirty=!1}add(e){gp(this.children,e),this.isDirty=!0}remove(e){yp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sk),this.isDirty=!1,this.children.forEach(e)}}function ak(t,e){const n=Mn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(es(s),t(l-e))};return Le.read(s,!0),()=>es(s)}const XT=["TopLeft","TopRight","BottomLeft","BottomRight"],ok=XT.length,xb=t=>typeof t=="string"?parseFloat(t):t,wb=t=>typeof t=="number"||re.test(t);function lk(t,e,n,s,a,l){a?(t.opacity=Be(0,n.opacity!==void 0?n.opacity:1,ck(s)),t.opacityExit=Be(e.opacity!==void 0?e.opacity:1,0,uk(s))):l&&(t.opacity=Be(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let u=0;u<ok;u++){const f=`border${XT[u]}Radius`;let d=Cb(e,f),m=Cb(n,f);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||wb(d)===wb(m)?(t[f]=Math.max(Be(xb(d),xb(m),s),0),(In.test(m)||In.test(d))&&(t[f]+="%")):t[f]=m}(e.rotate||n.rotate)&&(t.rotate=Be(e.rotate||0,n.rotate||0,s))}function Cb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ck=QT(0,.5,pT),uk=QT(.5,.95,Kt);function QT(t,e,n){return s=>s<t?0:s>e?1:n(Jr(t,e,s))}function Ab(t,e){t.min=e.min,t.max=e.max}function un(t,e){Ab(t.x,e.x),Ab(t.y,e.y)}function Rb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Nb(t,e,n,s,a){return t-=e,t=cu(t,1/n,s),a!==void 0&&(t=cu(t,1/a,s)),t}function hk(t,e=0,n=1,s=.5,a,l=t,u=t){if(In.test(e)&&(e=parseFloat(e),e=Be(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Be(l.min,l.max,s);t===l&&(f-=e),t.min=Nb(t.min,e,n,f,a),t.max=Nb(t.max,e,n,f,a)}function Db(t,e,[n,s,a],l,u){hk(t,e[n],e[s],e[a],e.scale,l,u)}const fk=["x","scaleX","originX"],dk=["y","scaleY","originY"];function Ob(t,e,n,s){Db(t.x,e,fk,n?n.x:void 0,s?s.x:void 0),Db(t.y,e,dk,n?n.y:void 0,s?s.y:void 0)}function kb(t){return t.translate===0&&t.scale===1}function ZT(t){return kb(t.x)&&kb(t.y)}function Ib(t,e){return t.min===e.min&&t.max===e.max}function mk(t,e){return Ib(t.x,e.x)&&Ib(t.y,e.y)}function Mb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function JT(t,e){return Mb(t.x,e.x)&&Mb(t.y,e.y)}function Lb(t){return Nt(t.x)/Nt(t.y)}function Pb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class pk{constructor(){this.members=[]}add(e){gp(this.members,e),e.scheduleRender()}remove(e){if(yp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gk(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:v,skewX:S,skewY:T}=n;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),y&&(s+=`rotateX(${y}deg) `),v&&(s+=`rotateY(${v}deg) `),S&&(s+=`skewX(${S}deg) `),T&&(s+=`skewY(${T}deg) `)}const f=t.x.scale*e.x,d=t.y.scale*e.y;return(f!==1||d!==1)&&(s+=`scale(${f}, ${d})`),s||"none"}const Dd=["","X","Y","Z"],yk={visibility:"hidden"},Ub=1e3;let vk=0;function Od(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function ex(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Le,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&ex(s)}function tx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e==null?void 0:e()){this.id=vk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ek),this.nodes.forEach(Ck),this.nodes.forEach(Ak),this.nodes.forEach(Sk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new rk)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new vp),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const d=this.eventHandlers.get(u);d&&d.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ik(u),this.instance=u;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(m||d)&&(this.isLayoutDirty=!0),t){let y;const v=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=ak(v,250),Xc.hasAnimatedSinceResize&&(Xc.hasAnimatedSinceResize=!1,this.nodes.forEach(Vb))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:S,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||kk,{onLayoutAnimationStart:O,onLayoutAnimationComplete:N}=g.getProps(),I=!this.targetLayout||!JT(this.targetLayout,T),k=!v&&S;if(this.options.layoutRoot||this.resumeFrom||k||v&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,k);const H={...fp(C,"layout"),onPlay:O,onComplete:N};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else v||Vb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,es(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Rk),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ex(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jb);return}this.isUpdating||this.nodes.forEach(xk),this.isUpdating=!1,this.nodes.forEach(wk),this.nodes.forEach(_k),this.nodes.forEach(bk),this.clearAllSnapshots();const f=Mn.now();gt.delta=ui(0,1e3/60,f-gt.timestamp),gt.timestamp=f,gt.isProcessing=!0,Sd.update.process(gt),Sd.preRender.process(gt),Sd.render.process(gt),gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Tk),this.sharedNodes.forEach(Nk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nt(this.snapshot.measuredBox.x)&&!Nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!ZT(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&(f||ks(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return u&&(d=this.removeTransform(d)),Ik(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:f}=this.options;if(!f)return Qe();const d=f.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(Mk))){const{scroll:g}=this.root;g&&(Fr(d.x,g.offset.x),Fr(d.y,g.offset.y))}return d}removeElementScroll(u){var f;const d=Qe();if(un(d,u),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&un(d,u),Fr(d.x,y.offset.x),Fr(d.y,y.offset.y))}return d}applyTransform(u,f=!1){const d=Qe();un(d,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&qr(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ks(g.latestValues)&&qr(d,g.latestValues)}return ks(this.latestValues)&&qr(d,this.latestValues),d}removeTransform(u){const f=Qe();un(f,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!ks(m.latestValues))continue;um(m.latestValues)&&m.updateSnapshot();const g=Qe(),y=m.measurePageBox();un(g,y),Ob(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return ks(this.latestValues)&&Ob(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var f;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=gt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),ko(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),P2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):un(this.target,this.layout.layoutBox),GT(this.target,this.targetDelta)):un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),ko(this.relativeTargetOrigin,this.target,S.target),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||um(this.parent.latestValues)||qT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const f=this.getLead(),d=!!this.resumingFrom||this!==f;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===gt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;un(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,S=this.treeScale.y;U2(this.layoutCorrected,this.treeScale,this.path,d),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=Qe());const{target:T}=f;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Rb(this.prevProjectionDelta.x,this.projectionDelta.x),Rb(this.prevProjectionDelta.y,this.projectionDelta.y)),Oo(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==S||!Pb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Pb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hr(),this.projectionDelta=Hr(),this.projectionDeltaWithTransform=Hr()}setAnimationOrigin(u,f=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},y=Hr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=Qe(),S=d?d.source:void 0,T=this.layout?this.layout.source:void 0,C=S!==T,O=this.getStack(),N=!O||O.members.length<=1,I=!!(C&&!N&&this.options.crossfade===!0&&!this.path.some(Ok));this.animationProgress=0;let k;this.mixTargetDelta=H=>{const V=H/1e3;Bb(y.x,u.x,V),Bb(y.y,u.y,V),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ko(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dk(this.relativeTarget,this.relativeTargetOrigin,v,V),k&&mk(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Qe()),un(k,this.relativeTarget)),C&&(this.animationValues=g,lk(g,m,this.latestValues,V,I,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(es(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{Xc.hasAnimatedSinceResize=!0,this.currentAnimation=nk(0,Ub,{...u,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ub),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:d,layout:m,latestValues:g}=u;if(!(!f||!d||!m)){if(this!==u&&this.layout&&m&&nx(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Qe();const y=Nt(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+y;const v=Nt(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+v}un(f,d),qr(f,g),Oo(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new pk),this.sharedNodes.get(u).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:f}=this.options;return f?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:f}=this.options;return f?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const m={};d.z&&Od("z",u,m,this.animationValues);for(let g=0;g<Dd.length;g++)Od(`rotate${Dd[g]}`,u,m,this.animationValues),Od(`skew${Dd[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}getProjectionStyles(u){var f,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yk;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=$c(u==null?void 0:u.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=$c(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ks(this.latestValues)&&(C.transform=g?g({},""):"none",this.hasProjected=!1),C}const v=y.animationValues||y.latestValues;this.applyTransformsToTarget(),m.transform=gk(this.projectionDeltaWithTransform,this.treeScale,v),g&&(m.transform=g(v,m.transform));const{x:S,y:T}=this.projectionDelta;m.transformOrigin=`${S.origin*100}% ${T.origin*100}% 0`,y.animationValues?m.opacity=y===this?(d=(f=v.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:m.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const C in Fo){if(v[C]===void 0)continue;const{correct:O,applyTo:N,isCSSVariable:I}=Fo[C],k=m.transform==="none"?v[C]:O(v[C],y);if(N){const H=N.length;for(let V=0;V<H;V++)m[N[V]]=k}else I?this.options.visualElement.renderState.vars[C]=k:m[C]=k}return this.options.layoutId&&(m.pointerEvents=y===this?$c(u==null?void 0:u.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(jb),this.root.sharedNodes.clear()}}}function _k(t){t.updateLayout()}function bk(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,u=n.source!==t.layout.source;l==="size"?hn(y=>{const v=u?n.measuredBox[y]:n.layoutBox[y],S=Nt(v);v.min=s[y].min,v.max=v.min+S}):nx(l,n.layoutBox,s)&&hn(y=>{const v=u?n.measuredBox[y]:n.layoutBox[y],S=Nt(s[y]);v.max=v.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+S)});const f=Hr();Oo(f,s,n.layoutBox);const d=Hr();u?Oo(d,t.applyTransform(a,!0),n.measuredBox):Oo(d,s,n.layoutBox);const m=!ZT(f);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:S}=y;if(v&&S){const T=Qe();ko(T,n.layoutBox,v.layoutBox);const C=Qe();ko(C,s,S.layoutBox),JT(T,C)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=T,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:d,layoutDelta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Ek(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Sk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Tk(t){t.clearSnapshot()}function jb(t){t.clearMeasurements()}function xk(t){t.isLayoutDirty=!1}function wk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Vb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ck(t){t.resolveTargetDelta()}function Ak(t){t.calcProjection()}function Rk(t){t.resetSkewAndRotation()}function Nk(t){t.removeLeadSnapshot()}function Bb(t,e,n){t.translate=Be(e.translate,0,n),t.scale=Be(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zb(t,e,n,s){t.min=Be(e.min,n.min,s),t.max=Be(e.max,n.max,s)}function Dk(t,e,n,s){zb(t.x,e.x,n.x,s),zb(t.y,e.y,n.y,s)}function Ok(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kk={duration:.45,ease:[.4,0,.1,1]},Hb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Fb=Hb("applewebkit/")&&!Hb("chrome/")?Math.round:Kt;function qb(t){t.min=Fb(t.min),t.max=Fb(t.max)}function Ik(t){qb(t.x),qb(t.y)}function nx(t,e,n){return t==="position"||t==="preserve-aspect"&&!L2(Lb(e),Lb(n),.2)}function Mk(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Lk=tx({attachResizeListener:(t,e)=>$o(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kd={current:void 0},ix=tx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kd.current){const t=new Lk({});t.mount(window),t.setOptions({layoutScroll:!0}),kd.current=t}return kd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Pk={pan:{Feature:Z2},drag:{Feature:Q2,ProjectionNode:ix,MeasureLayout:WT}};function Gb(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Le.postRender(()=>l(e,fl(e)))}class Uk extends rs{mount(){const{current:e}=this.node;e&&(this.unmount=LD(e,(n,s)=>(Gb(this.node,s,"Start"),a=>Gb(this.node,a,"End"))))}unmount(){}}class jk extends rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hl($o(this.node.current,"focus",()=>this.onFocus()),$o(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Yb(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Le.postRender(()=>l(e,fl(e)))}class Vk extends rs{mount(){const{current:e}=this.node;e&&(this.unmount=VD(e,(n,s)=>(Yb(this.node,s,"Start"),(a,{success:l})=>Yb(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dm=new WeakMap,Id=new WeakMap,Bk=t=>{const e=dm.get(t.target);e&&e(t)},zk=t=>{t.forEach(Bk)};function Hk({root:t,...e}){const n=t||document;Id.has(n)||Id.set(n,{});const s=Id.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(zk,{root:t,...e})),s[a]}function Fk(t,e,n){const s=Hk(e);return dm.set(t,n),s.observe(t),()=>{dm.delete(t),s.unobserve(t)}}const qk={some:0,all:1};class Gk extends rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:qk[a]},f=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=m?g:y;v&&v(d)};return Fk(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Yk(e,n))&&this.startObserver()}unmount(){}}function Yk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Kk={inView:{Feature:Gk},tap:{Feature:Vk},focus:{Feature:jk},hover:{Feature:Uk}},$k={layout:{ProjectionNode:ix,MeasureLayout:WT}},mm={current:null},sx={current:!1};function Wk(){if(sx.current=!0,!!Xm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mm.current=t.matches;t.addListener(e),e()}else mm.current=!1}const Xk=[...NT,Et,ts],Qk=t=>Xk.find(RT(t)),Zk=new WeakMap;function Jk(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Tt(a))t.addValue(s,a);else if(Tt(l))t.addValue(s,Yo(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Yo(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Kb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class eI{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Mn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Le.render(this.render,!1,!0))};const{latestValues:d,renderState:m,onUpdate:g}=u;this.onUpdate=g,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Vu(n),this.isVariantNode=jS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in v){const T=v[S];d[S]!==void 0&&Tt(T)&&T.set(d[S],!1)}}mount(e){this.current=e,Zk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),sx.current||Wk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),es(this.notifyUpdate),es(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Xs.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&Le.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ea){const n=ea[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Kb.length;s++){const a=Kb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=Jk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Yo(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(CT(a)||yT(a))?a=parseFloat(a):!Qk(a)&&ts.test(n)&&(a=TT(e,n)),this.setBaseTarget(e,Tt(a)?a.get():a)),Tt(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const u=up(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(a=u[e])}if(s&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Tt(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new vp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class rx extends eI{constructor(){super(...arguments),this.KeyframeResolver=DT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function tI(t){return window.getComputedStyle(t)}class nI extends rx{constructor(){super(...arguments),this.type="html",this.renderInstance=WS}readValueFromInstance(e,n){if(Xs.has(n)){const s=Tp(n);return s&&s.default||0}else{const s=tI(e),a=(np(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YT(e,n)}build(e,n,s){rp(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return hp(e,n,s)}}class iI extends rx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&$S(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xs.has(n)){const s=Tp(n);return s&&s.default||0}return n=XS.has(n)?n:ep(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return ZS(e,n,s)}onBindTransform(){this.current&&!this.renderState.dimensions&&Le.postRender(this.updateDimensions)}build(e,n,s){lp(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,a){QS(e,n,s,a)}mount(e){this.isSVGTag=cp(e.tagName),super.mount(e)}}const sI=(t,e)=>op(t)?new iI(e):new nI(e,{allowProjection:t!==w.Fragment}),rI=RD({...A2,...Kk,...Pk,...$k},sI),Ee=qN(rI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ax=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},d)=>w.createElement("svg",{ref:d,...oI,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:ax("lucide",a),...f},[...u.map(([m,g])=>w.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=(t,e)=>{const n=w.forwardRef(({className:s,...a},l)=>w.createElement(lI,{ref:l,iconNode:e,className:ax(`lucide-${aI(t)}`,s),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ox=Vt("ArrowRight",cI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hI=Vt("ChevronLeft",uI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Is=Vt("ChevronRight",fI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mI=Vt("Eye",dI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],gI=Vt("Instagram",pI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Wo=Vt("Loader",yI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],_I=Vt("Mail",vI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],EI=Vt("MapPin",bI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],TI=Vt("Phone",SI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wI=Vt("Plus",xI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],AI=Vt("Star",CI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],NI=Vt("Trash2",RI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],OI=Vt("Upload",DI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rp=Vt("X",kI);function uu(t,e=800){const n=document.getElementById(t);if(!n)return;const s=window.scrollY,l=n.getBoundingClientRect().top+s-s;let u=null,f=null,d=!1;function m(){d=!0,f&&cancelAnimationFrame(f),window.removeEventListener("wheel",g,{passive:!0}),window.removeEventListener("touchstart",g,{passive:!0}),window.removeEventListener("keydown",g,{passive:!0})}function g(v){v.type==="keydown"&&!["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"," "].includes(v.key)||m()}window.addEventListener("wheel",g,{passive:!0}),window.addEventListener("touchstart",g,{passive:!0}),window.addEventListener("keydown",g,{passive:!0});function y(v){if(d)return;u||(u=v);const S=v-u,T=Math.min(S/e,1),C=1-Math.pow(1-T,5);window.scrollTo(0,s+l*C),S<e?f=requestAnimationFrame(y):m()}f=requestAnimationFrame(y)}const II=()=>{const[t,e]=w.useState({name:"",email:"",message:""}),[n,s]=w.useState(!1),[a,l]=w.useState(""),u=d=>{e({...t,[d.target.name]:d.target.value})},f=async()=>{if(!t.name||!t.email||!t.message){l("Please fill in all fields");return}s(!0),l("");try{if((await fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:"service_et71par",template_id:"template_9jjgnog",user_id:"mFxKhq0zMQ6F6Ivj5",template_params:{name:t.name,from_name:t.name,from_email:t.email,email:t.email,message:t.message}})})).ok)l("Message sent successfully!"),e({name:"",email:"",message:""});else throw new Error("Failed to send message")}catch(d){l("To enable email sending, please set up EmailJS or a backend service. For now, use WhatsApp below."),console.error("Error:",d)}finally{s(!1)}};return b.jsx("section",{id:"contact",className:"py-24 bg-gray-50 text-gray-900",children:b.jsx("div",{className:"max-w-7xl mx-auto px-6",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-4xl md:text-4xl font-extralight mb-12 mt-10 text-gray-900 font-bodoni-moda",children:["LET'S CREATE",b.jsx("span",{className:"block text-[#CFB53B]",children:"SOMETHING BEAUTIFUL"})]}),b.jsx("p",{className:"text-gray-600 font-light mb-12 text-md leading-relaxed font-sans text-lg",children:"Ready to elevate your style? Book a consultation and let's bring your nail vision to life."}),b.jsx("div",{className:"space-y-6 mb-12 mt-10",children:[{icon:b.jsx(TI,{className:"w-5 h-5"}),label:"Phone",value:"+27 66 104 3677",href:"tel:+27661043677"},{icon:b.jsx(_I,{className:"w-5 h-5"}),label:"Email",value:"danielaalves3677@gmail.com",href:"mailto:danielaalves3677@gmail.com"},{icon:b.jsx(EI,{className:"w-5 h-5"}),label:"Location",value:"Vanderbijlpark, SE3, South Africa",href:"https://www.google.com/maps/search/?api=1&query=Vanderbijlpark+SE3+%2C+South+Africa"},{icon:b.jsx(gI,{className:"w-5 h-5"}),label:"Instagram",value:"@nails_by_danielaalves",href:"https://instagram.com/nails_by_danielaalves"}].map((d,m)=>b.jsx("a",{href:d.href,target:d.href.startsWith("http")?"_blank":void 0,rel:d.href.startsWith("http")?"noopener noreferrer":void 0,className:"flex items-center space-x-4 hover:underline text-gray-700 hover:text-gray-900",children:b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider font-sans",children:d.label}),b.jsx("div",{className:"text-gray-800 font-sans",children:d.value})]})},m))})]}),b.jsxs("div",{id:"book-form",className:"bg-white border border-gray-200 shadow-sm p-8",children:[b.jsx("h3",{className:"text-2xl font-light mb-8 text-gray-900",children:"BOOK CONSULTATION"}),a&&b.jsx("div",{className:`p-4 mb-6 text-center rounded ${a.includes("successfully")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:a}),b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{children:b.jsx("input",{type:"text",name:"name",value:t.name,onChange:u,placeholder:"Your Name",className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors"})}),b.jsx("div",{children:b.jsx("input",{type:"email",name:"email",value:t.email,onChange:u,placeholder:"Email Address",className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors"})}),b.jsx("div",{children:b.jsx("textarea",{name:"message",value:t.message,onChange:u,placeholder:"Tell me about your vision...",rows:4,className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors resize-none"})}),b.jsx("button",{onClick:f,disabled:n,className:"w-full bg-gray-900 text-white p-4 font-light hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Sending...":"Send Email"})]}),b.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:b.jsx("a",{href:"https://wa.me/27661043677",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-gray-100 text-gray-900 p-4 font-light hover:bg-gray-200 transition-colors text-center border border-gray-300",children:"Or Send via WhatsApp"})})]})]})})})},lx=[{question:"How long do gel nails last?",answer:"Gel nails typically last 2-4 weeks with proper care. The longevity depends on your lifestyle, nail growth rate, and aftercare routine. Most clients book touch-ups every 3 weeks to maintain that fresh, salon-perfect look."},{question:"What's the difference between gel and regular polish?",answer:"Gel polish is cured under UV/LED light, making it chip-resistant and long-lasting for weeks. Regular polish air-dries and typically lasts 3-7 days. Gel provides a glossy, durable finish that maintains its shine throughout wear."},{question:"How should I prepare for my nail appointment?",answer:"Remove any existing polish, keep your cuticles moisturized, and avoid cutting your nails too short beforehand. If you have design inspiration, bring photos! Also, let me know about any allergies or sensitivities during booking."},{question:"Can you work on damaged or weak nails?",answer:"Absolutely! I specialize in nail rehabilitation and strengthening treatments. We can build up weak spots, repair breaks, and use strengthening base coats to improve your natural nail health while creating beautiful manicures."},{question:"How do I make my manicure last longer?",answer:"Wear gloves when cleaning, use cuticle oil daily, avoid using nails as tools, and book regular touch-ups. I'll provide specific aftercare instructions and recommend products to extend your manicure's lifespan."}],Os={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.22,1,.36,1]}}},Md={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.05}}},MI={hidden:{opacity:0,x:-30},visible:{opacity:1,x:0,transition:{duration:.5,ease:[.22,1,.36,1]}}},LI={hidden:{opacity:0,x:30},visible:{opacity:1,x:0,transition:{duration:.5,ease:[.22,1,.36,1]}}},PI={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.4,ease:[.22,1,.36,1]}}};function UI(){const[t,e]=w.useState(null),n=qm(),s=a=>{e(l=>l===a?null:a)};return b.jsxs("div",{className:"w-full bg-white",children:[b.jsxs("section",{className:"relative h-screen w-full flex items-center justify-center bg-white overflow-hidden",children:[b.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.22,1,.36,1]},className:"relative z-10 text-center px-4 sm:px-6 max-w-5xl w-full",children:[b.jsx(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"inline-flex items-center mb-6 px-4 py-2 bg-white bg-opacity-80",children:b.jsx("p",{className:"text-xs text-gray-600 font-medium uppercase tracking-widest",children:"Certified Nail Technician"})}),b.jsxs(Ee.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.3},className:"font-bodoni-moda text-6xl sm:text-6xl lg:text-8xl font-light text-gray-900 mb-8 tracking-tight leading-none",children:["PRECISION",b.jsxs(Ee.span,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},className:"block mt-2 sm:mt-3",children:["& ",b.jsx("span",{style:{color:"#CFB53B"},children:"ELEGANCE"})]})]}),b.jsx(Ee.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"font-sans text-md sm:text-lg text-gray-600 mb-12 max-w-2xl mx-auto leading-relaxed font-light",children:"Transforming your nails into works of art with meticulous attention to detail and contemporary elegance."}),b.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"flex flex-col sm:flex-row gap-4 sm:gap-6 mt-14 justify-center items-center",children:[b.jsxs(Ee.button,{whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:17},onClick:()=>uu("contact",1500),className:"bg-gray-900 text-white px-12 sm:px-14 py-4 text-sm font-medium uppercase tracking-wider hover:bg-gray-800 transition-colors duration-200 flex items-center justify-center w-full sm:w-auto",children:[b.jsx("span",{className:"relative z-10",children:"Book Now"}),b.jsx(ox,{className:"ml-3 w-4 h-4"})]}),b.jsx(Ee.button,{whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:17},onClick:()=>n("/designs"),className:"text-gray-700 hover:text-gray-900 transition-colors duration-200 text-sm font-medium uppercase tracking-wider px-12 sm:px-14 py-4 border border-gray-200 hover:border-gray-400 flex items-center justify-center bg-white w-full sm:w-auto",children:b.jsx("span",{className:"relative z-10",children:"View Gallery"})})]})]}),b.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.8},className:"hidden md:block absolute bottom-8 left-1/2 transform -translate-x-1/2",children:b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("span",{className:"text-xs text-gray-500 mb-3 uppercase tracking-widest",children:"Scroll Down"}),b.jsx(Ee.div,{animate:{y:[0,8,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"w-px h-12 bg-gradient-to-b from-gray-400 to-transparent"})]})}),b.jsx(Ee.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.9},className:"hidden lg:block absolute top-24 left-8 w-8 h-8 border-l border-t border-gray-200"}),b.jsx(Ee.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.95},className:"hidden lg:block absolute top-24 right-8 w-8 h-8 border-r border-t border-gray-200"}),b.jsx(Ee.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.3,delay:1},className:"hidden lg:block absolute bottom-8 left-8 w-8 h-8 border-l border-b border-gray-200"}),b.jsx(Ee.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.3,delay:1.05},className:"hidden lg:block absolute bottom-8 right-8 w-8 h-8 border-r border-b border-gray-200"})]}),b.jsx("section",{className:"py-24 sm:py-32 bg-white w-full",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:Os,className:"text-center mb-20 sm:mb-24",children:[b.jsx("h2",{className:"text-4xl sm:text-5xl lg:text-6xl font-light text-black mb-8 tracking-tight",children:"Professional Services"}),b.jsx("p",{className:"text-gray-600 font-light max-w-2xl mx-auto text-base sm:text-lg leading-relaxed",children:"Expert nail care and artistry with premium products and meticulous attention to detail."})]}),b.jsx(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:Md,className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[{title:"Gel & Acrylic Overlays",description:"Professional overlays on your natural nails for strength and lasting beauty.",price:"FROM R160",discount:"20% OFF",categoryIndex:0},{title:"Extensions & Sculptures",description:"Expert extension services to create perfect length and elegant shape.",price:"FROM R210",discount:"25% OFF",popular:!0,categoryIndex:1},{title:"Nail Art & Services",description:"Custom nail art, professional fills, repairs and maintenance services.",price:"FROM R5",discount:"67% OFF",categoryIndex:3}].map((a,l)=>{const u=()=>{n(`/services?category=${a.categoryIndex}`)};return b.jsxs(Ee.div,{variants:PI,whileHover:{y:-6},transition:{duration:.2,ease:"easeOut"},onClick:u,className:"group bg-white p-8 sm:p-12 cursor-pointer transition-all duration-300 relative border border-gray-100 hover:border-gray-200",children:[a.popular&&b.jsxs(Ee.div,{initial:{opacity:0,y:-10},whileInView:{opacity:1,y:0},transition:{delay:.5},className:"absolute -top-4 left-0 right-0 z-10 flex justify-center",children:[b.jsx("div",{className:"bg-black text-white px-4 sm:px-6 py-2 text-xs uppercase tracking-widest font-medium whitespace-nowrap",children:"Most Popular"}),b.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 sm:border-l-6 sm:border-r-6 sm:border-t-6 border-l-transparent border-r-transparent border-t-black"})]}),b.jsxs("div",{className:"h-full flex flex-col",children:[b.jsx("div",{className:"mb-2",children:b.jsx("span",{className:"text-sm sm:text-base text-gray-400 uppercase tracking-widest",children:String(l+1).padStart(2,"0")})}),b.jsx("h3",{className:"text-lg sm:text-xl font-light text-black mb-4 sm:mb-6 leading-tight",children:a.title}),b.jsx("p",{className:"text-gray-500 leading-relaxed mb-auto text-sm sm:text-base font-sans",children:a.description}),b.jsx("div",{className:"mt-8 sm:mt-12 pt-6 sm:pt-8 border-t border-gray-100",children:b.jsxs("div",{className:"flex items-end justify-between",children:[b.jsx("div",{className:"text-xl sm:text-2xl font-light text-black",children:a.price}),b.jsx("div",{className:"text-xs sm:text-sm font-medium text-black",children:a.discount})]})})]})]},l)})}),b.jsx(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Os,className:"text-center mt-16 sm:mt-20",children:b.jsx(Ee.button,{whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:17},onClick:()=>n("/services"),className:"text-black border border-black px-12 sm:px-16 py-4 font-light text-sm uppercase tracking-widest hover:bg-black hover:text-white transition-colors duration-200 bg-white",children:"View All Services"})})]})}),b.jsx("section",{className:"py-20 sm:py-24 bg-gradient-to-br from-gray-50 to-white w-full",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsx(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:Os,className:"text-center mb-16 sm:mb-20",children:b.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-light text-gray-900 mb-6",children:"Client Stories"})}),b.jsx(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:Md,className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[{name:"Ruben",text:"Daniela's artistry in nail design is truly inspiring. Every detail reflects her passion and innovative approach, leaving me feeling confident and uniquely styled."},{name:"Sophia",text:"I was amazed by the intricate designs and attention to detail. Daniela transformed my nails into a work of art that I proudly showcase every day."},{name:"James",text:"From start to finish, my experience was top-notch. Daniela's creativity and professionalism made me feel like a star."}].map((a,l)=>b.jsxs(Ee.div,{variants:l%2===0?MI:LI,whileHover:{y:-3},transition:{duration:.2,ease:"easeOut"},className:"bg-white p-6 sm:p-8 border border-gray-100",children:[b.jsx(Ee.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.3},className:"flex mb-4",children:[...Array(5)].map((u,f)=>b.jsx(AI,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},f))}),b.jsxs("p",{className:"text-gray-600 font-light text-sm leading-relaxed italic mb-6",children:['"',a.text,'"']}),b.jsxs("div",{className:"text-gray-900 font-light text-sm",children:[" ",a.name]})]},l))})]})}),b.jsx("section",{className:"py-20 sm:py-24 bg-white w-full",children:b.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsx(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:Os,className:"text-center mb-16 sm:mb-20",children:b.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-light text-gray-900 mb-6",children:"Frequently Asked"})}),b.jsx(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:Md,className:"space-y-2",children:lx.map((a,l)=>{const u=t===l;return b.jsxs(Ee.div,{variants:Os,className:"bg-white border border-gray-100 overflow-hidden",children:[b.jsxs(Ee.button,{whileHover:{backgroundColor:"rgba(249, 250, 251, 1)"},transition:{duration:.15},onClick:()=>s(l),className:"w-full flex justify-between items-center p-6 sm:p-8 text-left transition-colors duration-200",children:[b.jsx("span",{className:"text-gray-900 font-light text-base sm:text-lg pr-4",children:a.question}),b.jsxs(Ee.div,{animate:{rotate:u?45:0},transition:{duration:.15,ease:[.22,1,.36,1]},className:"w-6 h-6 flex items-center justify-center flex-shrink-0",children:[b.jsx("div",{className:"w-4 h-px bg-gray-400"}),b.jsx("div",{className:"w-px h-4 bg-gray-400 absolute"})]})]}),b.jsx(Ee.div,{initial:!1,animate:{height:u?"auto":0,opacity:u?1:0},transition:{duration:.2,ease:[.22,1,.36,1]},className:"overflow-hidden",children:b.jsx("div",{className:"px-6 sm:px-8 pb-6 sm:pb-8",children:b.jsx("p",{className:"text-gray-600 font-light leading-relaxed text-sm sm:text-base",children:a.answer})})})]},l)})})]})}),b.jsx(Ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Os,id:"contact",children:b.jsx(II,{})}),b.jsx(Ee.footer,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Os,className:"py-12 bg-gray-900 text-gray-400 w-full",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[b.jsx(Ee.div,{transition:{type:"spring",stiffness:400,damping:17},className:"text-xl sm:text-2xl text-white font-light cursor-pointer",onClick:()=>uu("hero",1500),children:"Daniela Alves"}),b.jsxs("div",{className:"text-xs sm:text-sm font-light text-center",children:[" ",new Date().getFullYear()," Daniela Alves. All rights reserved."]})]})})})]})}function jI(){const t=qm(),e=Vn(),[n,s]=w.useState(!1),[a,l]=w.useState(!0),[u,f]=w.useState(0);w.useEffect(()=>{const v=document.createElement("style");return v.textContent=`
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
    `,document.head.appendChild(v),()=>document.head.removeChild(v)},[]),w.useEffect(()=>{const v=()=>{const S=window.scrollY;S<10?l(!0):S>u&&S>0?l(!1):S<u&&l(!0),f(S)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[u]),w.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]);const d=()=>{s(!n)},m=v=>{typeof v=="function"&&v(),s(!1)},g=(v,S=2500)=>{e.pathname==="/"?uu(v,S):(t("/"),setTimeout(()=>{uu(v,S)},300))},y=()=>{t("/designs")};return b.jsxs(b.Fragment,{children:[b.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-lg border-b border-stone-200 transition-transform duration-300 ease-in-out ${a?"translate-y-0":"-translate-y-full"}`,children:b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[b.jsx(DS,{to:"/",className:"text-2xl font-dancing-script text-gray-900 font-bold mt-2",children:"Daniela Alves"}),b.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[b.jsx("a",{href:"#",className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Home"}),b.jsx("button",{onClick:()=>g("services"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Services"}),b.jsx("button",{onClick:y,className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Gallery"}),b.jsx("button",{onClick:()=>g("testimonials"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Client Stories"}),b.jsx("button",{onClick:()=>g("faq"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"FAQ"}),b.jsx("button",{onClick:()=>g("book-form"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Contact"}),b.jsx("a",{href:"https://wa.me/27661043677?text=Hi%20Daniela!%20I'd%20like%20to%20book%20an%20appointment.%20My%20name%20is%20____%20and%20I'm%20interested%20in%20____.",target:"_blank",rel:"noopener noreferrer",className:"bg-stone-900 text-white px-6 py-2 text-sm font-light hover:bg-stone-800 transition-colors uppercase",children:"Book Now"})]}),b.jsxs("button",{className:"md:hidden relative w-6 h-6 flex flex-col justify-center items-center z-50",onClick:d,"aria-label":"Toggle menu",children:[b.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out absolute ${n?"rotate-45":"translate-y-[-4px]"}`}),b.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out ${n?"opacity-0":"opacity-100"}`}),b.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out absolute ${n?"-rotate-45":"translate-y-[4px]"}`})]})]})}),b.jsxs("div",{className:`fixed inset-0 z-40 md:hidden transition-all duration-300 ease-in-out top-[73px] ${n?"opacity-100 visible":"opacity-0 invisible"}`,children:[b.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:()=>s(!1)}),b.jsx("div",{className:`absolute top-0 right-0 h-full w-80 max-w-[85vw] bg-white shadow-2xl transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"translate-x-full"}`,children:b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsx("div",{className:"flex-1 py-6",children:b.jsxs("nav",{className:"space-y-1",children:[b.jsxs("a",{href:"/",onClick:()=>m(),className:"flex items-center px-6 py-3 text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Home"}),b.jsx(Is,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(()=>g("services")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Services"}),b.jsx(Is,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(y),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Gallery"}),b.jsx(Is,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(()=>g("testimonials")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Client Stories"}),b.jsx(Is,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(()=>g("faq")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"FAQ"}),b.jsx(Is,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(()=>g("book-form")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Contact"}),b.jsx(Is,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]})]})}),b.jsx("div",{className:"p-6 border-t border-stone-100",children:b.jsx("a",{href:"https://wa.me/27661043677?text=Hi%20Daniela!%20I'd%20like%20to%20book%20an%20appointment.%20My%20name%20is%20____%20and%20I'm%20interested%20in%20____.",onClick:()=>s(!1),target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-stone-900 text-white px-6 py-3 text-center font-medium hover:bg-stone-800 transition-colors uppercase",children:"Book Now"})})]})})]})]})}const VI=()=>{};var $b={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw ua(e)},ua=function(t){return new Error("Firebase Database ("+cx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},BI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Np={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=l>>2,y=(l&3)<<4|f>>4;let v=(f&15)<<2|m>>6,S=m&63;d||(S=64,u||(v=64)),s.push(n[g],n[y],n[v],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ux(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||m==null||y==null)throw new zI;const v=l<<2|f>>4;if(s.push(v),m!==64){const S=f<<4&240|m>>2;if(s.push(S),y!==64){const T=m<<6&192|y;s.push(T)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hx=function(t){const e=ux(t);return Np.encodeByteArray(e,!0)},hu=function(t){return hx(t).replace(/\./g,"")},fu=function(t){try{return Np.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){return fx(void 0,t)}function fx(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!FI(n)||(t[n]=fx(t[n],e[n]));return t}function FI(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=()=>qI().__FIREBASE_DEFAULTS__,YI=()=>{if(typeof process>"u"||typeof $b>"u")return;const t=$b.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fu(t[1]);return e&&JSON.parse(e)},Dp=()=>{try{return VI()||GI()||YI()||KI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dx=t=>{var e,n;return(n=(e=Dp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mx=t=>{const e=dx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},px=()=>{var t;return(t=Dp())===null||t===void 0?void 0:t.config},gx=t=>{var e;return(e=Dp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t){return t.endsWith(".cloudworkstations.dev")}async function Op(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hu(JSON.stringify(n)),hu(JSON.stringify(u)),""].join(".")}const Io={};function $I(){const t={prod:[],emulator:[]};for(const e of Object.keys(Io))Io[e]?t.emulator.push(e):t.prod.push(e);return t}function WI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Wb=!1;function kp(t,e){if(typeof window>"u"||typeof document>"u"||!Qs(window.location.host)||Io[t]===e||Io[t]||Wb)return;Io[t]=e;function n(v){return`__firebase__banner__${v}`}const s="__firebase__banner",l=$I().prod.length>0;function u(){const v=document.getElementById(s);v&&v.remove()}function f(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,S){v.setAttribute("width","24"),v.setAttribute("id",S),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Wb=!0,u()},v}function g(v,S){v.setAttribute("id",S),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=WI(s),S=n("text"),T=document.getElementById(S)||document.createElement("span"),C=n("learnmore"),O=document.getElementById(C)||document.createElement("a"),N=n("preprendIcon"),I=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const k=v.element;f(k),g(O,C);const H=m();d(I,N),k.append(I,T,O,H),document.body.appendChild(k)}l?(T.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ip(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function XI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZI(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JI(){return cx.NODE_ADMIN===!0}function eM(){try{return typeof indexedDB=="object"}catch{return!1}}function tM(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="FirebaseError";class gi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=nM,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dl.prototype.create)}}class dl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?iM(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new gi(a,f,s)}}function iM(t,e){return t.replace(sM,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const sM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){return JSON.parse(t)}function ft(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=function(t){let e={},n={},s={},a="";try{const l=t.split(".");e=Xo(fu(l[0])||""),n=Xo(fu(l[1])||""),a=l[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:a}},rM=function(t){const e=_x(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},aM=function(t){const e=_x(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function na(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function pm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function du(t,e,n){const s={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=e.call(n,t[a],a,t));return s}function zs(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Xb(l)&&Xb(u)){if(!zs(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Xb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ro(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function No(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)s[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const v=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(v<<1|v>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],f=this.chain_[3],d=this.chain_[4],m,g;for(let y=0;y<80;y++){y<40?y<20?(m=f^l&(u^f),g=1518500249):(m=l^u^f,g=1859775393):y<60?(m=l&u|f&(l|u),g=2400959708):(m=l^u^f,g=3395469782);const v=(a<<5|a>>>27)+m+d+g+s[y]&4294967295;d=f,f=u,u=(l<<30|l>>>2)&4294967295,l=a,a=v}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let a=0;const l=this.buf_;let u=this.inbuf_;for(;a<n;){if(u===0)for(;a<=s;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<n;)if(l[u]=e.charCodeAt(a),++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}else for(;a<n;)if(l[u]=e[a],++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)e[s]=this.chain_[a]>>l&255,++s;return e}}function lM(t,e){const n=new cM(t,e);return n.subscribe.bind(n)}class cM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");uM(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Ld),a.error===void 0&&(a.error=Ld),a.complete===void 0&&(a.complete=Ld);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ld(){}function Mp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);if(a>=55296&&a<=56319){const l=a-55296;s++,G(s<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(s)-56320;a=65536+(l<<10)+u}a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):a<65536?(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Hu=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class ns{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new zu;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mM(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dM(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dM(t){return t===Ms?void 0:t}function mM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const gM={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},yM=Ne.INFO,vM={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},_M=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=vM[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lp{constructor(e){this.name=e,this._logLevel=yM,this._logHandler=_M,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const bM=(t,e)=>e.some(n=>t instanceof n);let Qb,Zb;function EM(){return Qb||(Qb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SM(){return Zb||(Zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bx=new WeakMap,gm=new WeakMap,Ex=new WeakMap,Pd=new WeakMap,Pp=new WeakMap;function TM(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Wi(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&bx.set(n,t)}).catch(()=>{}),Pp.set(e,t),e}function xM(t){if(gm.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});gm.set(t,e)}let ym={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ex.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wM(t){ym=t(ym)}function CM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ud(this),e,...n);return Ex.set(s,e.sort?e.sort():[e]),Wi(s)}:SM().includes(t)?function(...e){return t.apply(Ud(this),e),Wi(bx.get(this))}:function(...e){return Wi(t.apply(Ud(this),e))}}function AM(t){return typeof t=="function"?CM(t):(t instanceof IDBTransaction&&xM(t),bM(t,EM())?new Proxy(t,ym):t)}function Wi(t){if(t instanceof IDBRequest)return TM(t);if(Pd.has(t))return Pd.get(t);const e=AM(t);return e!==t&&(Pd.set(t,e),Pp.set(e,t)),e}const Ud=t=>Pp.get(t);function RM(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Wi(u);return s&&u.addEventListener("upgradeneeded",d=>{s(Wi(u.result),d.oldVersion,d.newVersion,Wi(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const NM=["get","getKey","getAll","getAllKeys","count"],DM=["put","add","delete","clear"],jd=new Map;function Jb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=DM.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||NM.includes(n)))return;const l=async function(u,...f){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return s&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),a&&d.done]))[0]};return jd.set(e,l),l}wM(t=>({...t,get:(e,n,s)=>Jb(e,n)||t.get(e,n,s),has:(e,n)=>!!Jb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kM(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vm="@firebase/app",eE="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Lp("@firebase/app"),IM="@firebase/app-compat",MM="@firebase/analytics-compat",LM="@firebase/analytics",PM="@firebase/app-check-compat",UM="@firebase/app-check",jM="@firebase/auth",VM="@firebase/auth-compat",BM="@firebase/database",zM="@firebase/data-connect",HM="@firebase/database-compat",FM="@firebase/functions",qM="@firebase/functions-compat",GM="@firebase/installations",YM="@firebase/installations-compat",KM="@firebase/messaging",$M="@firebase/messaging-compat",WM="@firebase/performance",XM="@firebase/performance-compat",QM="@firebase/remote-config",ZM="@firebase/remote-config-compat",JM="@firebase/storage",eL="@firebase/storage-compat",tL="@firebase/firestore",nL="@firebase/ai",iL="@firebase/firestore-compat",sL="firebase",rL="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",aL={[vm]:"fire-core",[IM]:"fire-core-compat",[LM]:"fire-analytics",[MM]:"fire-analytics-compat",[UM]:"fire-app-check",[PM]:"fire-app-check-compat",[jM]:"fire-auth",[VM]:"fire-auth-compat",[BM]:"fire-rtdb",[zM]:"fire-data-connect",[HM]:"fire-rtdb-compat",[FM]:"fire-fn",[qM]:"fire-fn-compat",[GM]:"fire-iid",[YM]:"fire-iid-compat",[KM]:"fire-fcm",[$M]:"fire-fcm-compat",[WM]:"fire-perf",[XM]:"fire-perf-compat",[QM]:"fire-rc",[ZM]:"fire-rc-compat",[JM]:"fire-gcs",[eL]:"fire-gcs-compat",[tL]:"fire-fst",[iL]:"fire-fst-compat",[nL]:"fire-vertex","fire-js":"fire-js",[sL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Map,oL=new Map,bm=new Map;function tE(t,e){try{t.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hs(t){const e=t.name;if(bm.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,t);for(const n of mu.values())tE(n,t);for(const n of oL.values())tE(n,t);return!0}function Fu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new dl("app","Firebase",lL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=rL;function Up(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_m,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw Xi.create("bad-app-name",{appName:String(a)});if(n||(n=px()),!n)throw Xi.create("no-options");const l=mu.get(a);if(l){if(zs(n,l.options)&&zs(s,l.config))return l;throw Xi.create("duplicate-app",{appName:a})}const u=new pM(a);for(const d of bm.values())u.addComponent(d);const f=new cL(n,s,u);return mu.set(a,f),f}function jp(t=_m){const e=mu.get(t);if(!e&&t===_m&&px())return Up();if(!e)throw Xi.create("no-app",{appName:t});return e}function Ln(t,e,n){var s;let a=(s=aL[t])!==null&&s!==void 0?s:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(f.join(" "));return}Hs(new ns(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="firebase-heartbeat-database",hL=1,Qo="firebase-heartbeat-store";let Vd=null;function Sx(){return Vd||(Vd=RM(uL,hL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),Vd}async function fL(t){try{const n=(await Sx()).transaction(Qo),s=await n.objectStore(Qo).get(Tx(t));return await n.done,s}catch(e){if(e instanceof gi)hi.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(n.message)}}}async function nE(t,e){try{const s=(await Sx()).transaction(Qo,"readwrite");await s.objectStore(Qo).put(e,Tx(t)),await s.done}catch(n){if(n instanceof gi)hi.warn(n.message);else{const s=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(s.message)}}}function Tx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=1024,mL=30;class pL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yL(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=iE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>mL){const u=vL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){hi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iE(),{heartbeatsToSend:s,unsentEntries:a}=gL(this._heartbeatsCache.heartbeats),l=hu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return hi.warn(n),""}}}function iE(){return new Date().toISOString().substring(0,10)}function gL(t,e=dL){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),sE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),sE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eM()?tM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return nE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return nE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function sE(t){return hu(JSON.stringify({version:2,heartbeats:t})).length}function vL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){Hs(new ns("platform-logger",e=>new OM(e),"PRIVATE")),Hs(new ns("heartbeat",e=>new pL(e),"PRIVATE")),Ln(vm,eE,t),Ln(vm,eE,"esm2017"),Ln("fire-js","")}_L("");var bL="firebase",EL="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(bL,EL,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="firebasestorage.googleapis.com",wx="storageBucket",SL=2*60*1e3,TL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends gi{constructor(e,n,s=0){super(Bd(e),`Firebase Storage: ${n} (${Bd(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,We.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $e;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($e||($e={}));function Bd(t){return"storage/"+t}function Vp(){const t="An unknown error occurred, please check the error payload for server response.";return new We($e.UNKNOWN,t)}function xL(t){return new We($e.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function wL(t){return new We($e.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new We($e.UNAUTHENTICATED,t)}function AL(){return new We($e.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RL(t){return new We($e.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function NL(){return new We($e.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DL(){return new We($e.CANCELED,"User canceled the upload/download.")}function OL(t){return new We($e.INVALID_URL,"Invalid URL '"+t+"'.")}function kL(t){return new We($e.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function IL(){return new We($e.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wx+"' property when initializing the app?")}function ML(){return new We($e.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function LL(){return new We($e.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function PL(t){return new We($e.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Em(t){return new We($e.INVALID_ARGUMENT,t)}function Cx(){return new We($e.APP_DELETED,"The Firebase app was deleted.")}function UL(t){return new We($e.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mo(t,e){return new We($e.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function bo(t){throw new We($e.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Dt.makeFromUrl(e,n)}catch{return new Dt(e,"")}if(s.path==="")return s;throw kL(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function m(H){H.path_=decodeURIComponent(H.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",S=new RegExp(`^https?://${y}/${g}/b/${a}/o${v}`,"i"),T={bucket:1,path:3},C=n===xx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",N=new RegExp(`^https?://${C}/${a}/${O}`,"i"),k=[{regex:f,indices:d,postModify:l},{regex:S,indices:T,postModify:m},{regex:N,indices:{bucket:1,path:2},postModify:m}];for(let H=0;H<k.length;H++){const V=k[H],Y=V.regex.exec(e);if(Y){const te=Y[V.indices.bucket];let $=Y[V.indices.path];$||($=""),s=new Dt(te,$),V.postModify(s);break}}if(s==null)throw OL(e);return s}}class jL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function d(){return f===2}let m=!1;function g(...O){m||(m=!0,e.apply(null,O))}function y(O){a=setTimeout(()=>{a=null,t(S,d())},O)}function v(){l&&clearTimeout(l)}function S(O,...N){if(m){v();return}if(O){v(),g.call(null,O,...N);return}if(d()||u){v(),g.call(null,O,...N);return}s<64&&(s*=2);let k;f===1?(f=2,k=0):k=(s+Math.random())*1e3,y(k)}let T=!1;function C(O){T||(T=!0,v(),!m&&(a!==null?(O||(f=2),clearTimeout(a),y(0)):O||(f=1)))}return y(0),l=setTimeout(()=>{u=!0,C(!0)},n),C}function BL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){return t!==void 0}function HL(t){return typeof t=="object"&&!Array.isArray(t)}function Bp(t){return typeof t=="string"||t instanceof String}function rE(t){return zp()&&t instanceof Blob}function zp(){return typeof Blob<"u"}function Sm(t,e,n,s){if(s<e)throw Em(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Em(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function Ax(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Bs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bs||(Bs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n,s,a,l,u,f,d,m,g,y,v=!0,S=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=y,this.retry=v,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,C)=>{this.resolve_=T,this.reject_=C,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new zc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const d=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Bs.NO_ERROR,d=l.getStatus();if(!f||FL(d,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===Bs.ABORT;s(!1,new zc(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;s(!0,new zc(m,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(f,f.getResponse());zL(d)?l(d):l()}catch(d){u(d)}else if(f!==null){const d=Vp();d.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,d)):u(d)}else if(a.canceled){const d=this.appDelete_?Cx():DL();u(d)}else{const d=NL();u(d)}};this.canceled_?n(!1,new zc(!1,null,!0)):this.backoffId_=VL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function GL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function YL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $L(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function WL(t,e,n,s,a,l,u=!0,f=!1){const d=Ax(t.urlParams),m=t.url+d,g=Object.assign({},t.headers);return KL(g,e),GL(g,n),YL(g,l),$L(g,s),new qL(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function QL(...t){const e=XL();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(zp())return new Blob(t);throw new We($e.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ZL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){if(typeof atob>"u")throw PL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zd{constructor(e,n){this.data=e,this.contentType=n||null}}function eP(t,e){switch(t){case kn.RAW:return new zd(Rx(e));case kn.BASE64:case kn.BASE64URL:return new zd(Nx(t,e));case kn.DATA_URL:return new zd(nP(e),iP(e))}throw Vp()}function Rx(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=t.charCodeAt(++n);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function tP(t){let e;try{e=decodeURIComponent(t)}catch{throw Mo(kn.DATA_URL,"Malformed data URL.")}return Rx(e)}function Nx(t,e){switch(t){case kn.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Mo(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case kn.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Mo(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=JL(e)}catch(a){throw a.message.includes("polyfill")?a:Mo(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class Dx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Mo(kn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=sP(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function nP(t){const e=new Dx(t);return e.base64?Nx(kn.BASE64,e.rest):tP(e.rest)}function iP(t){return new Dx(t).contentType}function sP(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){let s=0,a="";rE(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(rE(this.data_)){const s=this.data_,a=ZL(s,e,n);return a===null?null:new qi(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new qi(s,!0)}}static getBlob(...e){if(zp()){const n=e.map(s=>s instanceof qi?s.data_:s);return new qi(QL.apply(null,n))}else{const n=e.map(u=>Bp(u)?eP(kn.RAW,u).data:u.data_);let s=0;n.forEach(u=>{s+=u.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(u=>{for(let f=0;f<u.length;f++)a[l++]=u[f]}),new qi(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t){let e;try{e=JSON.parse(t)}catch{return null}return HL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function aP(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function Ox(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t,e){return e}class Rt{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||oP}}let Hc=null;function lP(t){return!Bp(t)||t.length<2?t:Ox(t)}function kx(){if(Hc)return Hc;const t=[];t.push(new Rt("bucket")),t.push(new Rt("generation")),t.push(new Rt("metageneration")),t.push(new Rt("name","fullPath",!0));function e(l,u){return lP(u)}const n=new Rt("name");n.xform=e,t.push(n);function s(l,u){return u!==void 0?Number(u):u}const a=new Rt("size");return a.xform=s,t.push(a),t.push(new Rt("timeCreated")),t.push(new Rt("updated")),t.push(new Rt("md5Hash",null,!0)),t.push(new Rt("cacheControl",null,!0)),t.push(new Rt("contentDisposition",null,!0)),t.push(new Rt("contentEncoding",null,!0)),t.push(new Rt("contentLanguage",null,!0)),t.push(new Rt("contentType",null,!0)),t.push(new Rt("metadata","customMetadata",!0)),Hc=t,Hc}function cP(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new Dt(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function uP(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const u=n[l];s[u.local]=u.xform(s,e[u.server])}return cP(s,t),s}function Ix(t,e,n){const s=Hp(e);return s===null?null:uP(t,s,n)}function hP(t,e,n,s){const a=Hp(e);if(a===null||!Bp(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(m=>{const g=t.bucket,y=t.fullPath,v="/b/"+u(g)+"/o/"+u(y),S=ml(v,n,s),T=Ax({alt:"media",token:m});return S+T})[0]}function fP(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="prefixes",oE="items";function dP(t,e,n){const s={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[aE])for(const a of n[aE]){const l=a.replace(/\/$/,""),u=t._makeStorageReference(new Dt(e,l));s.prefixes.push(u)}if(n[oE])for(const a of n[oE]){const l=t._makeStorageReference(new Dt(e,a.name));s.items.push(l)}return s}function mP(t,e,n){const s=Hp(n);return s===null?null:dP(t,e,s)}class qu{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t){if(!t)throw Vp()}function pP(t,e){function n(s,a){const l=Ix(t,a,e);return Fp(l!==null),l}return n}function gP(t,e){function n(s,a){const l=mP(t,e,a);return Fp(l!==null),l}return n}function yP(t,e){function n(s,a){const l=Ix(t,a,e);return Fp(l!==null),hP(l,a,t.host,t._protocol)}return n}function qp(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=AL():a=CL():n.getStatus()===402?a=wL(t.bucket):n.getStatus()===403?a=RL(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function Mx(t){const e=qp(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=xL(t.path)),l.serverResponse=a.serverResponse,l}return n}function vP(t,e,n,s,a){const l={};e.isRoot?l.prefix="":l.prefix=e.path+"/",n.length>0&&(l.delimiter=n),s&&(l.pageToken=s),a&&(l.maxResults=a);const u=e.bucketOnlyServerUrl(),f=ml(u,t.host,t._protocol),d="GET",m=t.maxOperationRetryTime,g=new qu(f,d,gP(t,e.bucket),m);return g.urlParams=l,g.errorHandler=qp(e),g}function _P(t,e,n){const s=e.fullServerUrl(),a=ml(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,f=new qu(a,l,yP(t,n),u);return f.errorHandler=Mx(e),f}function bP(t,e){const n=e.fullServerUrl(),s=ml(n,t.host,t._protocol),a="DELETE",l=t.maxOperationRetryTime;function u(d,m){}const f=new qu(s,a,u,l);return f.successCodes=[200,204],f.errorHandler=Mx(e),f}function EP(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function SP(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=EP(null,e)),s}function TP(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let k="";for(let H=0;H<2;H++)k=k+Math.random().toString().slice(2);return k}const d=f();u["Content-Type"]="multipart/related; boundary="+d;const m=SP(e,s,a),g=fP(m,n),y="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+m.contentType+`\r
\r
`,v=`\r
--`+d+"--",S=qi.getBlob(y,s,v);if(S===null)throw ML();const T={name:m.fullPath},C=ml(l,t.host,t._protocol),O="POST",N=t.maxUploadRetryTime,I=new qu(C,O,pP(t,n),N);return I.urlParams=T,I.headers=u,I.body=S.uploadData(),I.errorHandler=qp(e),I}class xP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw bo("cannot .send() more than once");if(Qs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wP extends xP{initXhr(){this.xhr_.responseType="text"}}function Gu(){return new wP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){this._service=e,n instanceof Dt?this._location=n:this._location=Dt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fs(e,n)}get root(){const e=new Dt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ox(this._location.path)}get storage(){return this._service}get parent(){const e=rP(this._location.path);if(e===null)return null;const n=new Dt(this._location.bucket,e);return new Fs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw UL(e)}}function CP(t,e,n){t._throwIfRoot("uploadBytes");const s=TP(t.storage,t._location,kx(),new qi(e,!0),n);return t.storage.makeRequestWithTokens(s,Gu).then(a=>({metadata:a,ref:t}))}function AP(t){const e={prefixes:[],items:[]};return Lx(t,e).then(()=>e)}async function Lx(t,e,n){const a=await RP(t,{pageToken:n});e.prefixes.push(...a.prefixes),e.items.push(...a.items),a.nextPageToken!=null&&await Lx(t,e,a.nextPageToken)}function RP(t,e){e!=null&&typeof e.maxResults=="number"&&Sm("options.maxResults",1,1e3,e.maxResults);const n=e||{},s=vP(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(s,Gu)}function NP(t){t._throwIfRoot("getDownloadURL");const e=_P(t.storage,t._location,kx());return t.storage.makeRequestWithTokens(e,Gu).then(n=>{if(n===null)throw LL();return n})}function DP(t){t._throwIfRoot("deleteObject");const e=bP(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Gu)}function OP(t,e){const n=aP(t._location.path,e),s=new Dt(t._location.bucket,n);return new Fs(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t){return/^[A-Za-z]+:\/\//.test(t)}function IP(t,e){return new Fs(t,e)}function Px(t,e){if(t instanceof Gp){const n=t;if(n._bucket==null)throw IL();const s=new Fs(n,n._bucket);return e!=null?Px(s,e):s}else return e!==void 0?OP(t,e):t}function MP(t,e){if(e&&kP(e)){if(t instanceof Gp)return IP(t,e);throw Em("To use ref(service, url), the first argument must be a Storage instance.")}else return Px(t,e)}function lE(t,e){const n=e==null?void 0:e[wx];return n==null?null:Dt.makeFromBucketSpec(n,t)}function LP(t,e,n,s={}){t.host=`${e}:${n}`;const a=Qs(e);a&&(Op(`https://${t.host}`),kp("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:yx(l,t.app.options.projectId))}class Gp{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=xx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SL,this._maxUploadRetryTime=TL,this._requests=new Set,a!=null?this._bucket=Dt.makeFromBucketSpec(a,this._host):this._bucket=lE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dt.makeFromBucketSpec(this._url,e):this._bucket=lE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fs(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new jL(Cx());{const u=WL(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const cE="@firebase/storage",uE="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="storage";function PP(t,e,n){return t=Ze(t),CP(t,e,n)}function jx(t){return t=Ze(t),AP(t)}function Vx(t){return t=Ze(t),NP(t)}function UP(t){return t=Ze(t),DP(t)}function pu(t,e){return t=Ze(t),MP(t,e)}function Bx(t=jp(),e){t=Ze(t);const s=Fu(t,Ux).getImmediate({identifier:e}),a=mx("storage");return a&&jP(s,...a),s}function jP(t,e,n,s={}){LP(t,e,n,s)}function VP(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Gp(n,s,a,e,Zs)}function BP(){Hs(new ns(Ux,VP,"PUBLIC").setMultipleInstances(!0)),Ln(cE,uE,""),Ln(cE,uE,"esm2017")}BP();const zP={apiKey:"AIzaSyAafDSvuHq7bb9F3-SdVpwM2NTNNtymT_o",authDomain:"nailsbydani-6082b.firebaseapp.com",databaseURL:"https://nailsbydani-6082b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nailsbydani-6082b",storageBucket:"nailsbydani-6082b.firebasestorage.app",messagingSenderId:"438345951991",appId:"1:438345951991:web:335b18a1bca6fa1a75c1f2",measurementId:"G-6R161TJXN6"};let hE,Tm;try{hE=Up(zP),Tm=Bx(hE)}catch(t){console.error("Firebase initialization error:",t)}const HP=({design:t,index:e,imageURL:n,openLightbox:s,inView:a})=>{const[l,u]=w.useState(!1),[f,d]=w.useState(!1),m=()=>u(!0),g=()=>{d(!0),u(!0)};return b.jsx("div",{className:"group cursor-pointer relative overflow-hidden bg-white border border-gray-100 transition-all duration-300 break-inside-avoid mb-6","data-index":e,style:{animationName:a?"slideInUp":"none",animationDuration:"0.8s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",animationFillMode:"forwards",animationDelay:`${e*50}ms`,opacity:a?1:0,transform:a?"translateY(0)":"translateY(30px)"},children:b.jsxs("div",{className:"relative overflow-hidden h-full",children:[!l&&b.jsx("div",{className:"w-full h-72 bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:b.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-black rounded-full animate-spin"})}),n?b.jsx("img",{src:n,alt:t.title,className:`w-full h-full object-cover transition-all duration-500 group-hover:scale-110 ${l?"opacity-100":"opacity-0 absolute inset-0"}`,loading:"lazy",onLoad:m,onError:g,onClick:()=>s(t)}):b.jsx("div",{className:"w-full h-72 bg-gray-50 flex items-center justify-center",children:b.jsx("span",{className:"text-gray-400 text-sm",children:"Loading..."})}),f&&b.jsx("div",{className:"w-full h-72 bg-gray-50 flex items-center justify-center",children:b.jsxs("div",{className:"text-gray-400 text-center",children:[b.jsx("div",{className:"text-lg mb-1",children:""}),b.jsxs("div",{className:"text-xs",children:["Design #",t.id]})]})})]})})};function FP(){const[t,e]=w.useState(null),[n,s]=w.useState(20),[a,l]=w.useState({}),[u,f]=w.useState(!0),[d,m]=w.useState([]),[g,y]=w.useState(new Set),v=d.slice(0,n);w.useEffect(()=>{const N=new IntersectionObserver(k=>{k.forEach(H=>{if(H.isIntersecting){const V=parseInt(H.target.dataset.index);y(Y=>new Set([...Y,V]))}})},{threshold:.1,rootMargin:"50px"});return document.querySelectorAll("[data-index]").forEach(k=>N.observe(k)),()=>N.disconnect()},[v]),w.useEffect(()=>{(async()=>{if(!Tm){f(!1);return}try{const I=pu(Tm,"Designs/"),H=(await jx(I)).items.map((Y,te)=>{const $=Y.name,q=parseInt($.split(".")[0])||te+1;return{id:q,title:`Design ${q}`,storageRef:Y}});H.sort((Y,te)=>Y.id-te.id),m(H);const V=H.map(async Y=>{try{const te=await Vx(Y.storageRef);l($=>({...$,[Y.id]:te}))}catch{console.warn(`Failed to get URL for design ${Y.id}`)}});await Promise.all(V),f(!1)}catch(I){console.error("Error discovering images:",I),f(!1)}})()},[]);const S=(N,I)=>{I&&I.stopPropagation(),e(N)},T=()=>e(null),C=N=>{const I=d.findIndex(H=>H.id===t.id);let k;N==="next"?k=(I+1)%d.length:k=I-1<0?d.length-1:I-1,e(d[k])},O=()=>s(N=>N+20);return b.jsxs("div",{className:"min-h-screen bg-white pt-[60px]",children:[b.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-b from-gray-50 to-white",children:[b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-100 via-white to-white"}),b.jsx("div",{className:"relative text-center mt-20",children:b.jsx("div",{className:"max-w-4xl mx-auto px-6",children:u?b.jsx(b.Fragment,{}):b.jsx(b.Fragment,{children:b.jsx("h2",{className:"text-4xl md:text-5xl font-extralight text-stone-900 mb-3",children:"Portfolio Designs"})})})})]}),b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[u?b.jsx("div",{className:"columns-2 sm:columns-3 lg:columns-4 xl:columns-5 gap-6",children:Array.from({length:20}).map((N,I)=>b.jsx("div",{className:"break-inside-avoid mb-6",children:b.jsx("div",{className:"bg-white border border-gray-100 overflow-hidden",children:b.jsx("div",{className:"w-full h-72 bg-gradient-to-br from-gray-100 to-gray-200 animate-pulse"})})},I))}):b.jsx("div",{className:"columns-2 sm:columns-3 lg:columns-4 xl:columns-5 gap-6",children:v.map((N,I)=>b.jsx(HP,{design:N,index:I,imageURL:a[N.id],openLightbox:S,inView:g.has(I)},N.id))}),!u&&n<d.length&&b.jsx("div",{className:"text-center mt-16",children:b.jsxs("button",{onClick:O,className:"group relative px-12 py-4 border-2 border-black text-black hover:text-white transition-all duration-500 text-sm uppercase tracking-widest font-medium overflow-hidden",children:[b.jsx("span",{className:"absolute inset-0 bg-black transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500"}),b.jsxs("span",{className:"relative z-10",children:["Load More (",d.length-n," remaining)"]})]})})]}),t&&b.jsxs("div",{onClick:T,className:"fixed inset-0 bg-white/70 backdrop-blur-sm z-50 flex items-center justify-center",children:[b.jsx("button",{onClick:T,className:"absolute top-8 right-8 w-12 h-12 rounded-full bg-gray-100 hover:bg-black hover:text-white transition-all duration-300 flex items-center justify-center z-20",children:b.jsx(Rp,{size:20})}),b.jsx("button",{onClick:()=>C("prev"),className:"absolute left-8 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-gray-100/25 hover:bg-black/25 hover:text-white transition-all duration-300 flex items-center justify-center z-20",children:b.jsx(hI,{size:20})}),b.jsx("button",{onClick:()=>C("next"),className:"absolute right-8 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-gray-100/25 hover:bg-black/25 hover:text-white transition-all duration-300 flex items-center justify-center z-20",children:b.jsx(Is,{size:20})}),b.jsxs("div",{className:" mx-auto px-20 text-center",children:[b.jsx("img",{src:a[t.id],alt:t.title,className:"w-full h-auto max-h-[50vh] object-contain mb-8 shadow-2xl"}),b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{className:"text-xs uppercase tracking-widest text-black",children:["Design Collection  ",new Date().getFullYear()]})})]})]}),b.jsx("style",{jsx:!0,children:`
        @keyframes slideInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes shimmer {
          0% {
            background-position: -200% 0;
          }
          100% {
            background-position: 200% 0;
          }
        }
        
        .animate-shimmer {
          animation: shimmer 2s infinite;
        }
        
        .columns-2 > div,
        .columns-3 > div,
        .columns-4 > div,
        .columns-5 > div {
          break-inside: avoid;
        }
      `})]})}function qP(){const[t,e]=w.useState(null),n=s=>{e(a=>a===s?null:s)};return b.jsx("div",{children:b.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-16","data-aos":"fade-up",children:[b.jsx("h2",{className:"text-3xl font-bodoni-moda text-center text-gray-900 mb-12",children:"Frequently Asked Questions"}),b.jsx("div",{className:"space-y-4",children:lx.map((s,a)=>{const l=t===a;return b.jsxs("div",{className:"w-full bg-white border border-gray-200 overflow-hidden transition-all duration-200 ease-in-out",children:[b.jsxs("button",{onClick:()=>n(a),className:"w-full flex justify-between items-center p-8 transition-colors duration-200",children:[b.jsx("span",{className:"font-bodoni-moda text-xl text-gray-900 text-left",children:s.question}),b.jsx(wI,{size:24,className:`text-black transition-transform duration-200 ease-in-out flex-shrink-0 ml-4 ${l?"rotate-45":""}`})]}),b.jsx("div",{className:`transition-all duration-300 ease-in-out ${l?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"}`,style:{maxHeight:l?"fit-content":"0px",overflow:l?"visible":"hidden"},children:b.jsx("div",{className:"px-8 pb-8",children:b.jsx("p",{className:"text-gray-600/70 font-montserrat leading-relaxed text-sm",children:s.answer})})})]},a)})})]})})}function Yp(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function zx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GP=zx,Hx=new dl("auth","Firebase",zx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=new Lp("@firebase/auth");function YP(t,...e){gu.logLevel<=Ne.WARN&&gu.warn(`Auth (${Zs}): ${t}`,...e)}function Qc(t,...e){gu.logLevel<=Ne.ERROR&&gu.error(`Auth (${Zs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,...e){throw Kp(t,...e)}function Pn(t,...e){return Kp(t,...e)}function Fx(t,e,n){const s=Object.assign(Object.assign({},GP()),{[e]:n});return new dl("auth","Firebase",s).create(e,{appName:t.name})}function Qi(t){return Fx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kp(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Hx.create(t,...e)}function oe(t,e,...n){if(!t)throw Kp(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qc(e),new Error(e)}function fi(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KP(){return fE()==="http:"||fE()==="https:"}function fE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KP()||QI()||"connection"in navigator)?navigator.onLine:!0}function WP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=Ip()||vx()}get(){return $P()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t,e){fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZP=new pl(3e4,6e4);function Js(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function as(t,e,n,s,a={}){return Gx(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=ha(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:d},l);return XI()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Qs(t.emulatorConfig.host)&&(m.credentials="include"),qx.fetch()(await Yx(t,t.config.apiHost,n,f),m)})}async function Gx(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},XP),e);try{const a=new e6(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Fc(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[d,m]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Fc(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Fc(t,"user-disabled",u);const g=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Fx(t,g,m);xn(t,g)}}catch(a){if(a instanceof gi)throw a;xn(t,"network-request-failed",{message:String(a)})}}async function Yu(t,e,n,s,a={}){const l=await as(t,e,n,s,a);return"mfaPendingCredential"in l&&xn(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Yx(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?$p(t.config,a):`${t.config.apiScheme}://${a}`;return QP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function JP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pn(this.auth,"network-request-failed")),ZP.get())})}}function Fc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Pn(t,e,s);return a.customData._tokenResponse=n,a}function dE(t){return t!==void 0&&t.enterprise!==void 0}class t6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n6(t,e){return as(t,"GET","/v2/recaptchaConfig",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(t,e){return as(t,"POST","/v1/accounts:delete",e)}async function yu(t,e){return as(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s6(t,e=!1){const n=Ze(t),s=await n.getIdToken(e),a=Wp(s);oe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Lo(Hd(a.auth_time)),issuedAtTime:Lo(Hd(a.iat)),expirationTime:Lo(Hd(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Hd(t){return Number(t)*1e3}function Wp(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const a=fu(n);return a?JSON.parse(a):(Qc("Failed to decode base64 JWT payload"),null)}catch(a){return Qc("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function mE(t){const e=Wp(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gi&&r6(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function r6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t){var e;const n=t.auth,s=await t.getIdToken(),a=await Zo(t,yu(n,{idToken:s}));oe(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Kx(l.providerUserInfo):[],f=l6(t.providerData,u),d=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),g=d?m:!1,y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new wm(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function o6(t){const e=Ze(t);await vu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l6(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function Kx(t){return t.map(e=>{var{providerId:n}=e,s=Yp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t,e){const n=await Gx(t,{},async()=>{const s=ha({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await Yx(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",qx.fetch()(u,{method:"POST",headers:f,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u6(t,e){return as(t,"POST","/v2/accounts:revokeToken",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=mE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await c6(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Kr;return s&&(oe(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(oe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(oe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kr,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _n{constructor(e){var{uid:n,auth:s,stsTokenManager:a}=e,l=Yp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new wm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Zo(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s6(this,e)}reload(){return o6(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await vu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(Qi(this.auth));const e=await this.getIdToken();return await Zo(this,i6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,a,l,u,f,d,m,g;const y=(s=n.displayName)!==null&&s!==void 0?s:void 0,v=(a=n.email)!==null&&a!==void 0?a:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,T=(u=n.photoURL)!==null&&u!==void 0?u:void 0,C=(f=n.tenantId)!==null&&f!==void 0?f:void 0,O=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,N=(m=n.createdAt)!==null&&m!==void 0?m:void 0,I=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:k,emailVerified:H,isAnonymous:V,providerData:Y,stsTokenManager:te}=n;oe(k&&te,e,"internal-error");const $=Kr.fromJSON(this.name,te);oe(typeof k=="string",e,"internal-error"),Hi(y,e.name),Hi(v,e.name),oe(typeof H=="boolean",e,"internal-error"),oe(typeof V=="boolean",e,"internal-error"),Hi(S,e.name),Hi(T,e.name),Hi(C,e.name),Hi(O,e.name),Hi(N,e.name),Hi(I,e.name);const q=new _n({uid:k,auth:e,email:v,emailVerified:H,displayName:y,isAnonymous:V,photoURL:T,phoneNumber:S,tenantId:C,stsTokenManager:$,createdAt:N,lastLoginAt:I});return Y&&Array.isArray(Y)&&(q.providerData=Y.map(ne=>Object.assign({},ne))),O&&(q._redirectEventId=O),q}static async _fromIdTokenResponse(e,n,s=!1){const a=new Kr;a.updateFromServerResponse(n);const l=new _n({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await vu(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];oe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Kx(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Kr;f.updateFromIdToken(s);const d=new _n({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new wm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;function si(t){fi(t instanceof Function,"Expected a class definition");let e=pE.get(t);return e?(fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$x.type="NONE";const Cm=$x;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t,e,n){return`firebase:${t}:${e}:${n}`}class $r{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Zc(this.userKey,a.apiKey,l),this.fullPersistenceKey=Zc("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yu(this.auth,{idToken:e}).catch(()=>{});return n?_n._fromGetAccountInfoResponse(this.auth,n,e):null}return _n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new $r(si(Cm),e,s);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||si(Cm);const u=Zc(s,e.config.apiKey,e.name);let f=null;for(const m of n)try{const g=await m._get(u);if(g){let y;if(typeof g=="string"){const v=await yu(e,{idToken:g}).catch(()=>{});if(!v)break;y=await _n._fromGetAccountInfoResponse(e,v,g)}else y=_n._fromJSON(e,g);m!==l&&(f=y),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new $r(l,e,s):(l=d[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new $r(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ew(e))return"Blackberry";if(tw(e))return"Webos";if(Xx(e))return"Safari";if((e.includes("chrome/")||Qx(e))&&!e.includes("edge/"))return"Chrome";if(Jx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Wx(t=Ot()){return/firefox\//i.test(t)}function Xx(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qx(t=Ot()){return/crios\//i.test(t)}function Zx(t=Ot()){return/iemobile/i.test(t)}function Jx(t=Ot()){return/android/i.test(t)}function ew(t=Ot()){return/blackberry/i.test(t)}function tw(t=Ot()){return/webos/i.test(t)}function Xp(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function h6(t=Ot()){var e;return Xp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function f6(){return ZI()&&document.documentMode===10}function nw(t=Ot()){return Xp(t)||Jx(t)||tw(t)||ew(t)||/windows phone/i.test(t)||Zx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t,e=[]){let n;switch(t){case"Browser":n=gE(Ot());break;case"Worker":n=`${gE(Ot())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zs}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const d=e(l);u(d)}catch(d){f(d)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(t,e={}){return as(t,"GET","/v2/passwordPolicy",Js(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=6;class g6{constructor(e){var n,s,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:p6,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,a,l,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yE(this),this.idTokenSubscription=new yE(this),this.beforeStateQueue=new d6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await $r.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yu(this,{idToken:e}),s=await _n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fn(this.app))return Promise.reject(Qi(this));const n=e?Ze(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fn(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m6(this),n=new g6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await u6(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await $r.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&YP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fa(t){return Ze(t)}class yE{constructor(e){this.auth=e,this.observer=null,this.addObserver=lM(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v6(t){Ku=t}function sw(t){return Ku.loadJS(t)}function _6(){return Ku.recaptchaEnterpriseScript}function b6(){return Ku.gapiScript}function E6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class S6{constructor(){this.enterprise=new T6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class T6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const x6="recaptcha-enterprise",rw="NO_RECAPTCHA";class w6{constructor(e){this.type=x6,this.auth=fa(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{n6(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new t6(d);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(d=>{f(d)})})}function a(l,u,f){const d=window.grecaptcha;dE(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(rw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S6().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(f=>{if(!n&&dE(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=_6();d.length!==0&&(d+=f),sw(d).then(()=>{a(f,l,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function vE(t,e,n,s=!1,a=!1){const l=new w6(t);let u;if(a)u=rw;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function _E(t,e,n,s,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await vE(t,e,n,n==="getOobCode");return s(t,u)}else return s(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await vE(t,e,n,n==="getOobCode");return s(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t,e){const n=Fu(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(zs(l,e??{}))return a;xn(a,"already-initialized")}return n.initialize({options:e})}function A6(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function R6(t,e,n){const s=fa(t);oe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=aw(e),{host:u,port:f}=N6(e),d=f===null?"":`:${f}`,m={url:`${l}//${u}${d}/`},g=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){oe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),oe(zs(m,s.config.emulator)&&zs(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,Qs(u)?(Op(`${l}//${u}${d}`),kp("Auth",!0)):D6()}function aw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N6(t){const e=aw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:bE(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:bE(u)}}}function bE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function O6(t,e){return as(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t,e){return Yu(t,"POST","/v1/accounts:signInWithPassword",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(t,e){return Yu(t,"POST","/v1/accounts:signInWithEmailLink",Js(t,e))}async function M6(t,e){return Yu(t,"POST","/v1/accounts:signInWithEmailLink",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Qp{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Jo(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Jo(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _E(e,n,"signInWithPassword",k6);case"emailLink":return I6(e,{email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _E(e,s,"signUpPassword",O6);case"emailLink":return M6(e,{idToken:n,email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wr(t,e){return Yu(t,"POST","/v1/accounts:signInWithIdp",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="http://localhost";class qs extends Qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=n,l=Yp(n,["providerId","signInMethod"]);if(!s||!a)return null;const u=new qs(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Wr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Wr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wr(e,n)}buildRequest(){const e={requestUri:L6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ha(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function U6(t){const e=Ro(No(t)).link,n=e?Ro(No(e)).deep_link_id:null,s=Ro(No(t)).deep_link_id;return(s?Ro(No(s)).link:null)||s||n||e||t}class Zp{constructor(e){var n,s,a,l,u,f;const d=Ro(No(e)),m=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(s=d.oobCode)!==null&&s!==void 0?s:null,y=P6((a=d.mode)!==null&&a!==void 0?a:null);oe(m&&g&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=g,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=d.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=U6(e);try{return new Zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.providerId=da.PROVIDER_ID}static credential(e,n){return Jo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Zp.parseLink(n);return oe(s,"argument-error"),Jo._fromEmailAndCode(e,s.code,s.tenantId)}}da.PROVIDER_ID="password";da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends ow{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends gl{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Yi.credential(n,s)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends gl{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends gl{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return $i.credential(n,s)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await _n._fromIdTokenResponse(e,s,a),u=EE(s);return new ia({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=EE(s);return new ia({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function EE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends gi{constructor(e,n,s,a){var l;super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,_u.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new _u(e,n,s,a)}}function lw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?_u._fromErrorAndOperation(t,l,e,s):l})}async function j6(t,e,n=!1){const s=await Zo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ia._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(t,e,n=!1){const{auth:s}=t;if(fn(s.app))return Promise.reject(Qi(s));const a="reauthenticate";try{const l=await Zo(t,lw(s,a,e,t),n);oe(l.idToken,s,"internal-error");const u=Wp(l.idToken);oe(u,s,"internal-error");const{sub:f}=u;return oe(t.uid===f,s,"user-mismatch"),ia._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&xn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(t,e,n=!1){if(fn(t.app))return Promise.reject(Qi(t));const s="signIn",a=await lw(t,s,e),l=await ia._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function B6(t,e){return cw(fa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6(t){const e=fa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function H6(t,e,n){return fn(t.app)?Promise.reject(Qi(t)):B6(Ze(t),da.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&z6(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t,e){return Ze(t).setPersistence(e)}function q6(t,e,n,s){return Ze(t).onIdTokenChanged(e,n,s)}function G6(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function Y6(t,e,n,s){return Ze(t).onAuthStateChanged(e,n,s)}function SE(t){return Ze(t).signOut()}const bu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bu,"1"),this.storage.removeItem(bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=1e3,$6=10;class hw extends uw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);f6()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,$6):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},K6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hw.type="LOCAL";const W6=hw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends uw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fw.type="SESSION";const dw=fw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new $u(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async m=>m(n.origin,l)),d=await X6(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$u.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,d)=>{const m=Jp("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(y){const v=y;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(v.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function Z6(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function J6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function tU(){return mw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="firebaseLocalStorageDb",nU=1,Eu="firebaseLocalStorage",gw="fbase_key";class yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wu(t,e){return t.transaction([Eu],e?"readwrite":"readonly").objectStore(Eu)}function iU(){const t=indexedDB.deleteDatabase(pw);return new yl(t).toPromise()}function Am(){const t=indexedDB.open(pw,nU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Eu,{keyPath:gw})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Eu)?e(s):(s.close(),await iU(),e(await Am()))})})}async function TE(t,e,n){const s=Wu(t,!0).put({[gw]:e,value:n});return new yl(s).toPromise()}async function sU(t,e){const n=Wu(t,!1).get(e),s=await new yl(n).toPromise();return s===void 0?null:s.value}function xE(t,e){const n=Wu(t,!0).delete(e);return new yl(n).toPromise()}const rU=800,aU=3;class yw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>aU)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$u._getInstance(tU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await J6(),!this.activeServiceWorker)return;this.sender=new Q6(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await TE(e,bu,"1"),await xE(e,bu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>TE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>sU(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Wu(a,!1).getAll();return new yl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yw.type="LOCAL";const oU=yw;new pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t,e){return e?si(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends Qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cU(t){return cw(t.auth,new eg(t),t.bypassAuthState)}function uU(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),V6(n,new eg(t),t.bypassAuthState)}async function hU(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),j6(n,new eg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cU;case"linkViaPopup":case"linkViaRedirect":return hU;case"reauthViaPopup":case"reauthViaRedirect":return uU;default:xn(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new pl(2e3,1e4);class Gr extends vw{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Gr.currentPopupAction&&Gr.currentPopupAction.cancel(),Gr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fU.get())};e()}}Gr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="pendingRedirect",Jc=new Map;class mU extends vw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const s=await pU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pU(t,e){const n=vU(e),s=yU(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function gU(t,e){Jc.set(t._key(),e)}function yU(t){return si(t._redirectPersistence)}function vU(t){return Zc(dU,t.config.apiKey,t.name)}async function _U(t,e,n=!1){if(fn(t.app))return Promise.reject(Qi(t));const s=fa(t),a=lU(s,e),u=await new mU(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=10*60*1e3;class EU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!_w(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bU&&this.cachedEventUids.clear(),this.cachedEventUids.has(wE(e))}saveEventToCache(e){this.cachedEventUids.add(wE(e)),this.lastProcessedEventTime=Date.now()}}function wE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _w({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _w(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,e={}){return as(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wU=/^https?/;async function CU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TU(t);for(const n of e)try{if(AU(n))return}catch{}xn(t,"unauthorized-domain")}function AU(t){const e=xm(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!wU.test(n))return!1;if(xU.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=new pl(3e4,6e4);function CE(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NU(t){return new Promise((e,n)=>{var s,a,l;function u(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),n(Pn(t,"network-request-failed"))},timeout:RU.get()})}if(!((a=(s=Un().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Un().gapi)===null||l===void 0)&&l.load)u();else{const f=E6("iframefcb");return Un()[f]=()=>{gapi.load?u():n(Pn(t,"network-request-failed"))},sw(`${b6()}?onload=${f}`).catch(d=>n(d))}}).catch(e=>{throw eu=null,e})}let eu=null;function DU(t){return eu=eu||NU(t),eu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=new pl(5e3,15e3),kU="__/auth/iframe",IU="emulator/auth/iframe",MU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PU(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$p(e,IU):`https://${t.config.authDomain}/${kU}`,s={apiKey:e.apiKey,appName:t.name,v:Zs},a=LU.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${ha(s).slice(1)}`}async function UU(t){const e=await DU(t),n=Un().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:PU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MU,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Pn(t,"network-request-failed"),f=Un().setTimeout(()=>{l(u)},OU.get());function d(){Un().clearTimeout(f),a(s)}s.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VU=500,BU=600,zU="_blank",HU="http://localhost";class AE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FU(t,e,n,s=VU,a=BU){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const d=Object.assign(Object.assign({},jU),{width:s.toString(),height:a.toString(),top:l,left:u}),m=Ot().toLowerCase();n&&(f=Qx(m)?zU:n),Wx(m)&&(e=e||HU,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[S,T])=>`${v}${S}=${T},`,"");if(h6(m)&&f!=="_self")return qU(e||"",f),new AE(null);const y=window.open(e||"",f,g);oe(y,t,"popup-blocked");try{y.focus()}catch{}return new AE(y)}function qU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU="__/auth/handler",YU="emulator/auth/handler",KU=encodeURIComponent("fac");async function RE(t,e,n,s,a,l){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Zs,eventId:a};if(e instanceof ow){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",pm(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(e instanceof gl){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const d=await t._getAppCheckToken(),m=d?`#${KU}=${encodeURIComponent(d)}`:"";return`${$U(t)}?${ha(f).slice(1)}${m}`}function $U({config:t}){return t.emulator?$p(t,YU):`https://${t.authDomain}/${GU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="webStorageSupport";class WU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dw,this._completeRedirectFn=_U,this._overrideRedirectResult=gU}async _openPopup(e,n,s,a){var l;fi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await RE(e,n,s,xm(),a);return FU(e,u,Jp())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await RE(e,n,s,xm(),a);return Z6(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(fi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await UU(e),s=new EU(e);return n.register("authEvent",a=>(oe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fd,{type:Fd},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Fd];u!==void 0&&n(!!u),xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nw()||Xx()||Xp()}}const XU=WU;var NE="@firebase/auth",DE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JU(t){Hs(new ns("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;oe(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iw(t)},m=new y6(s,a,l,d);return A6(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Hs(new ns("auth-internal",e=>{const n=fa(e.getProvider("auth").getImmediate());return(s=>new QU(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(NE,DE,ZU(t)),Ln(NE,DE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=5*60,t3=gx("authIdTokenMaxAge")||e3;let OE=null;const n3=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>t3)return;const a=n==null?void 0:n.token;OE!==a&&(OE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function i3(t=jp()){const e=Fu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=C6(t,{popupRedirectResolver:XU,persistence:[oU,W6,dw]}),s=gx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=n3(l.toString());G6(n,u,()=>u(n.currentUser)),q6(n,f=>u(f))}}const a=dx("auth");return a&&R6(n,`http://${a}`),n}function s3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}v6({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Pn("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",s3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JU("Browser");var kE={};const IE="@firebase/database",ME="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bw="";function r3(t){bw=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ft(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Xo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return yi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new a3(e)}}catch{}return new o3},Us=Ew("localStorage"),l3=Ew("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Lp("@firebase/database"),c3=function(){let t=1;return function(){return t++}}(),Sw=function(t){const e=hM(t),n=new oM;n.update(e);const s=n.digest();return Np.encodeByteArray(s)},vl=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=vl.apply(null,s):typeof s=="object"?e+=ft(s):e+=s,e+=" "}return e};let Po=null,LE=!0;const u3=function(t,e){G(!0,"Can't turn on custom loggers persistently."),Xr.logLevel=Ne.VERBOSE,Po=Xr.log.bind(Xr)},St=function(...t){if(LE===!0&&(LE=!1,Po===null&&l3.get("logging_enabled")===!0&&u3()),Po){const e=vl.apply(null,t);Po(e)}},_l=function(t){return function(...e){St(t,...e)}},Rm=function(...t){const e="FIREBASE INTERNAL ERROR: "+vl(...t);Xr.error(e)},di=function(...t){const e=`FIREBASE FATAL ERROR: ${vl(...t)}`;throw Xr.error(e),new Error(e)},Ut=function(...t){const e="FIREBASE WARNING: "+vl(...t);Xr.warn(e)},h3=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Tw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},f3=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},sa="[MIN_NAME]",Gs="[MAX_NAME]",ma=function(t,e){if(t===e)return 0;if(t===sa||e===Gs)return-1;if(e===sa||t===Gs)return 1;{const n=PE(t),s=PE(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},d3=function(t,e){return t===e?0:t<e?-1:1},Eo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ft(e))},tg=function(t){if(typeof t!="object"||t===null)return ft(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=ft(e[s]),n+=":",n+=tg(t[e[s]]);return n+="}",n},xw=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let a=0;a<n;a+=e)a+e>n?s.push(t.substring(a,n)):s.push(t.substring(a,a+e));return s};function jt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ww=function(t){G(!Tw(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let a,l,u,f,d;t===0?(l=0,u=0,a=1/t===-1/0?1:0):(a=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),s),l=f+s,u=Math.round(t*Math.pow(2,n-f)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-s-n))));const m=[];for(d=n;d;d-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(d=e;d;d-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(a?1:0),m.reverse();const g=m.join("");let y="";for(d=0;d<64;d+=8){let v=parseInt(g.substr(d,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},m3=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},p3=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function g3(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const y3=new RegExp("^-?(0*)\\d{1,10}$"),v3=-2147483648,_3=2147483647,PE=function(t){if(y3.test(t)){const e=Number(t);if(e>=v3&&e<=_3)return e}return null},pa=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ut("Exception was thrown by user callback.",n),e},Math.floor(0))}},b3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,fn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Ut(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(St("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ut(e)}}class tu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}tu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="5",Cw="v",Aw="s",Rw="r",Nw="f",Dw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ow="ls",kw="p",Nm="ac",Iw="websocket",Mw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,s,a,l=!1,u="",f=!1,d=!1,m=null){this.secure=n,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=d,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Us.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Us.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function T3(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Pw(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let s;if(e===Iw)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Mw)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);T3(t)&&(n.ns=t.namespace);const a=[];return jt(n,(l,u)=>{a.push(l+"="+u)}),s+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.counters_={}}incrementCounter(e,n=1){yi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return HI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd={},Gd={};function ig(t){const e=t.toString();return qd[e]||(qd[e]=new x3),qd[e]}function w3(t,e){const n=t.toString();return Gd[n]||(Gd[n]=e()),Gd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&pa(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="start",A3="close",R3="pLPCommand",N3="pRTLPCB",Uw="id",jw="pw",Vw="ser",D3="cb",O3="seg",k3="ts",I3="d",M3="dframe",Bw=1870,zw=30,L3=Bw-zw,P3=25e3,U3=3e4;class Yr{constructor(e,n,s,a,l,u,f){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=a,this.authToken=l,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_l(e),this.stats_=ig(n),this.urlFn=d=>(this.appCheckToken&&(d[Nm]=this.appCheckToken),Pw(n,Mw,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new C3(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(U3)),f3(()=>{if(this.isClosed_)return;this.scriptTagHolder=new sg((...l)=>{const[u,f,d,m,g]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===UE)this.id=f,this.password=d;else if(u===A3)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,f]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const s={};s[UE]="t",s[Vw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[D3]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Cw]=ng,this.transportSessionId&&(s[Aw]=this.transportSessionId),this.lastSessionId&&(s[Ow]=this.lastSessionId),this.applicationId&&(s[kw]=this.applicationId),this.appCheckToken&&(s[Nm]=this.appCheckToken),typeof location<"u"&&location.hostname&&Dw.test(location.hostname)&&(s[Rw]=Nw);const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yr.forceAllow_=!0}static forceDisallow(){Yr.forceDisallow_=!0}static isAvailable(){return Yr.forceAllow_?!0:!Yr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!m3()&&!p3()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ft(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=hx(n),a=xw(s,L3);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[M3]="t",s[Uw]=e,s[jw]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ft(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class sg{constructor(e,n,s,a){this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=c3(),window[R3+this.uniqueCallbackIdentifier]=e,window[N3+this.uniqueCallbackIdentifier]=n,this.myIFrame=sg.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){St("frame writing exception"),f.stack&&St(f.stack),St(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||St("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Uw]=this.myID,e[jw]=this.myPW,e[Vw]=this.currentSerial;let n=this.urlFn(e),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zw+s.length<=Bw;){const u=this.pendingSegs.shift();s=s+"&"+O3+a+"="+u.seg+"&"+k3+a+"="+u.ts+"&"+I3+a+"="+u.d,a++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(s,Math.floor(P3)),l=()=>{clearTimeout(a),s()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||a==="loaded"||a==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{St("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=16384,V3=45e3;let Su=null;typeof MozWebSocket<"u"?Su=MozWebSocket:typeof WebSocket<"u"&&(Su=WebSocket);class vn{constructor(e,n,s,a,l,u,f){this.connId=e,this.applicationId=s,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_l(this.connId),this.stats_=ig(n),this.connURL=vn.connectionURL_(n,u,f,a,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,a,l){const u={};return u[Cw]=ng,typeof location<"u"&&location.hostname&&Dw.test(location.hostname)&&(u[Rw]=Nw),n&&(u[Aw]=n),s&&(u[Ow]=s),a&&(u[Nm]=a),l&&(u[kw]=l),Pw(e,Iw,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Us.set("previous_websocket_failure",!0);try{let s;JI(),this.mySock=new Su(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){vn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Su!==null&&!vn.forceDisallow_}static previouslyFailed(){return Us.isInMemoryStorage||Us.get("previous_websocket_failure")===!0}markConnectionHealthy(){Us.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Xo(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=ft(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=xw(n,j3);s.length>1&&this.sendString_(String(s.length));for(let a=0;a<s.length;a++)this.sendString_(s[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(V3))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}vn.responsesRequiredToBeHealthy=2;vn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static get ALL_TRANSPORTS(){return[Yr,vn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=vn&&vn.isAvailable();let s=n&&!vn.previouslyFailed();if(e.webSocketOnly&&(n||Ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[vn];else{const a=this.transports_=[];for(const l of el.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);el.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}el.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=6e4,z3=5e3,H3=10*1024,F3=100*1024,Yd="t",jE="d",q3="s",VE="r",G3="e",BE="o",zE="a",HE="n",FE="p",Y3="h";class K3{constructor(e,n,s,a,l,u,f,d,m,g){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=d,this.onKill_=m,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_l("c:"+this.id+":"),this.transportManager_=new el(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=Uo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>F3?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>H3?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Yd in e){const n=e[Yd];n===zE?this.upgradeIfSecondaryHealthy_():n===VE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===BE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Eo("t",e),s=Eo("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:FE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:HE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Eo("t",e),s=Eo("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Eo(Yd,e);if(jE in e){const s=e[jE];if(n===Y3){const a=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===HE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===q3?this.onConnectionShutdown_(s):n===VE?this.onReset_(s):n===G3?Rm("Server Error: "+s):n===BE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ng!==s&&Ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Uo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(B3))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(z3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:FE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Us.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{put(e,n,s,a){}merge(e,n,s,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const a=this.getInitialEvent(e);a&&n.apply(s,a)}off(e,n,s){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===n&&(!s||s===a[l].context)){a.splice(l,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Fw{static getInstance(){return new Tu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ip()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=32,GE=768;class Oe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function xe(){return new Oe("")}function me(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function is(t){return t.pieces_.length-t.pieceNum_}function Me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Oe(t.pieces_,e)}function qw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function $3(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Gw(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Yw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Oe(e,0)}function rt(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Oe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&n.push(s[a])}return new Oe(n,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function Lt(t,e){const n=me(t),s=me(e);if(n===null)return e;if(n===s)return Lt(Me(t),Me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function rg(t,e){if(is(t)!==is(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function bn(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(is(t)>is(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class W3{constructor(e,n){this.errorPrefix_=n,this.parts_=Gw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Hu(this.parts_[s]);Kw(this)}}function X3(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Hu(e),Kw(t)}function Q3(t){const e=t.parts_.pop();t.byteLength_-=Hu(e),t.parts_.length>0&&(t.byteLength_-=1)}function Kw(t){if(t.byteLength_>GE)throw new Error(t.errorPrefix_+"has a key path longer than "+GE+" bytes ("+t.byteLength_+").");if(t.parts_.length>qE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qE+") or object contains a cycle "+Ls(t))}function Ls(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends Fw{static getInstance(){return new ag}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=1e3,Z3=60*5*1e3,YE=30*1e3,J3=1.3,e4=3e4,t4="server_kill",KE=3;class ci extends Hw{constructor(e,n,s,a,l,u,f,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=d,this.id=ci.nextPersistentConnectionId_++,this.log_=_l("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=So,this.maxReconnectDelay_=Z3,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ag.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Tu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const a=++this.requestNumber_,l={r:a,a:e,b:n};this.log_(ft(l)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),s&&(this.requestCBHash_[a]=s)}get(e){this.initConnection_();const n=new zu,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;u.s==="ok"?n.resolve(f):n.reject(f)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,s,a){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const f={onComplete:a,hashFn:n,query:e,tag:s};this.listens.get(u).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+s+" for "+a);const l={p:s},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,f=>{const d=f.d,m=f.s;ci.warnOnListenWarnings_(d,n),(this.listens.get(s)&&this.listens.get(s).get(a))===e&&(this.log_("listen response",f),m!=="ok"&&this.removeListen_(s,a),e.onComplete&&e.onComplete(m,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&yi(e,"w")){const s=na(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||aM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=YE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=rM(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,a=>{const l=a.s,u=a.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+a),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,a)&&this.connected_&&this.sendUnlisten_(s,a,e._queryObject,n)}sendUnlisten_(e,n,s,a){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";a&&(l.q=s,l.t=a),this.sendRequest(u,l)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,a){const l={p:n,d:s};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{a&&setTimeout(()=>{a(u.s,u.d)},Math.floor(0))})}put(e,n,s,a){this.putInternal("p",e,n,s,a)}merge(e,n,s,a){this.putInternal("m",e,n,s,a)}putInternal(e,n,s,a,l){this.initConnection_();const u={p:n,d:s};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:a}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const l=s.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ft(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Rm("Unrecognized action received from server: "+ft(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=So,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=So,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>e4&&(this.reconnectDelay_=So),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*J3)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+ci.nextConnectionId_++,l=this.lastSessionId;let u=!1,f=null;const d=function(){f?f.close():(u=!0,s())},m=function(y){G(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(y)};this.realtime_={close:d,sendRequest:m};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?St("getToken() completed but was canceled"):(St("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,f=new K3(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,S=>{Ut(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(t4)},l))}catch(y){this.log_("Failed to get token: "+y),u||(this.repoInfo_.nodeAdmin&&Ut(y),d())}}}interrupt(e){St("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){St("Resuming connection for reason: "+e),delete this.interruptReasons_[e],pm(this.interruptReasons_)&&(this.reconnectDelay_=So,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(l=>tg(l)).join("$"):s="default";const a=this.removeListen_(e,s);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,n){const s=new Oe(e).toString();let a;if(this.listens.has(s)){const l=this.listens.get(s);a=l.get(n),l.delete(n),l.size===0&&this.listens.delete(s)}else a=void 0;return a}onAuthRevoked_(e,n){St("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=KE&&(this.reconnectDelay_=YE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){St("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=KE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+bw.replace(/\./g,"-")]=1,Ip()?e["framework.cordova"]=1:vx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Tu.getInstance().currentlyOnline();return pm(this.interruptReasons_)&&e}}ci.nextPersistentConnectionId_=0;ci.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new pe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new pe(sa,e),a=new pe(sa,n);return this.compare(s,a)!==0}minPost(){return pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc;class $w extends Xu{static get __EMPTY_NODE(){return qc}static set __EMPTY_NODE(e){qc=e}compare(e,n){return ma(e.name,n.name)}isDefinedOn(e){throw ua("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return pe.MIN}maxPost(){return new pe(Gs,qc)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new pe(e,qc)}toString(){return".key"}}const Qr=new $w;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,s,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?s(e.key,n):1,a&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ht{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??ht.RED,this.left=a??Pt.EMPTY_NODE,this.right=l??Pt.EMPTY_NODE}copy(e,n,s,a,l){return new ht(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,a;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Pt.EMPTY_NODE;a=s.right.min_(),s=s.copy(a.key,a.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ht.RED=!0;ht.BLACK=!1;class n4{copy(e,n,s,a,l){return this}insert(e,n,s){return new ht(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Pt{constructor(e,n=Pt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Pt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ht.BLACK,null,null))}remove(e){return new Pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ht.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,a=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(a=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Gc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Gc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Gc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Gc(this.root_,null,this.comparator_,!0,e)}}Pt.EMPTY_NODE=new n4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t,e){return ma(t.name,e.name)}function og(t,e){return ma(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm;function s4(t){Dm=t}const Ww=function(t){return typeof t=="number"?"number:"+ww(t):"string:"+t},Xw=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&yi(e,".sv"),"Priority must be a string or number.")}else G(t===Dm||t.isEmpty(),"priority of unexpected type.");G(t===Dm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $E;class ut{static set __childrenNodeConstructor(e){$E=e}static get __childrenNodeConstructor(){return $E}constructor(e,n=ut.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Xw(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ut(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:me(e)===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ut.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=me(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(G(s!==".priority"||is(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,ut.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ww(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ww(this.value_):e+=this.value_,this.lazyHash_=Sw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ut.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ut.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,a=ut.VALUE_TYPE_ORDER.indexOf(n),l=ut.VALUE_TYPE_ORDER.indexOf(s);return G(a>=0,"Unknown leaf type: "+n),G(l>=0,"Unknown leaf type: "+s),a===l?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qw,Zw;function r4(t){Qw=t}function a4(t){Zw=t}class o4 extends Xu{compare(e,n){const s=e.node.getPriority(),a=n.node.getPriority(),l=s.compareTo(a);return l===0?ma(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return pe.MIN}maxPost(){return new pe(Gs,new ut("[PRIORITY-POST]",Zw))}makePost(e,n){const s=Qw(e);return new pe(n,new ut("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ke=new o4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=Math.log(2);class c4{constructor(e){const n=l=>parseInt(Math.log(l)/l4,10),s=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const a=s(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const xu=function(t,e,n,s){t.sort(e);const a=function(d,m){const g=m-d;let y,v;if(g===0)return null;if(g===1)return y=t[d],v=n?n(y):y,new ht(v,y.node,ht.BLACK,null,null);{const S=parseInt(g/2,10)+d,T=a(d,S),C=a(S+1,m);return y=t[S],v=n?n(y):y,new ht(v,y.node,ht.BLACK,T,C)}},l=function(d){let m=null,g=null,y=t.length;const v=function(T,C){const O=y-T,N=y;y-=T;const I=a(O+1,N),k=t[O],H=n?n(k):k;S(new ht(H,k.node,C,null,I))},S=function(T){m?(m.left=T,m=T):(g=T,m=T)};for(let T=0;T<d.count;++T){const C=d.nextBitIsOne(),O=Math.pow(2,d.count-(T+1));C?v(O,ht.BLACK):(v(O,ht.BLACK),v(O,ht.RED))}return g},u=new c4(t.length),f=l(u);return new Pt(s||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd;const Ur={};class ri{static get Default(){return G(Ur&&Ke,"ChildrenNode.ts has not been loaded"),Kd=Kd||new ri({".priority":Ur},{".priority":Ke}),Kd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=na(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Pt?n:null}hasIndex(e){return yi(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Qr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const l=n.getIterator(pe.Wrap);let u=l.getNext();for(;u;)a=a||e.isDefinedOn(u.node),s.push(u),u=l.getNext();let f;a?f=xu(s,e.getCompare()):f=Ur;const d=e.toString(),m=Object.assign({},this.indexSet_);m[d]=e;const g=Object.assign({},this.indexes_);return g[d]=f,new ri(g,m)}addToIndexes(e,n){const s=du(this.indexes_,(a,l)=>{const u=na(this.indexSet_,l);if(G(u,"Missing index implementation for "+l),a===Ur)if(u.isDefinedOn(e.node)){const f=[],d=n.getIterator(pe.Wrap);let m=d.getNext();for(;m;)m.name!==e.name&&f.push(m),m=d.getNext();return f.push(e),xu(f,u.getCompare())}else return Ur;else{const f=n.get(e.name);let d=a;return f&&(d=d.remove(new pe(e.name,f))),d.insert(e,e.node)}});return new ri(s,this.indexSet_)}removeFromIndexes(e,n){const s=du(this.indexes_,a=>{if(a===Ur)return a;{const l=n.get(e.name);return l?a.remove(new pe(e.name,l)):a}});return new ri(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To;class le{static get EMPTY_NODE(){return To||(To=new le(new Pt(og),null,ri.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Xw(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||To}updatePriority(e){return this.children_.isEmpty()?this:new le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?To:n}}getChild(e){const n=me(e);return n===null?this:this.getImmediateChild(n).getChild(Me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new pe(e,n);let a,l;n.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(s,this.children_)):(a=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(s,this.children_));const u=a.isEmpty()?To:this.priorityNode_;return new le(a,u,l)}}updateChild(e,n){const s=me(e);if(s===null)return n;{G(me(e)!==".priority"||is(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(s).updateChild(Me(e),n);return this.updateImmediateChild(s,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,a=0,l=!0;if(this.forEachChild(Ke,(u,f)=>{n[u]=f.val(e),s++,l&&le.INTEGER_REGEXP_.test(u)?a=Math.max(a,Number(u)):l=!1}),!e&&l&&a<2*s){const u=[];for(const f in n)u[f]=n[f];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ww(this.getPriority().val())+":"),this.forEachChild(Ke,(n,s)=>{const a=s.hash();a!==""&&(e+=":"+n+":"+a)}),this.lazyHash_=e===""?"":Sw(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const a=this.resolveIndex_(s);if(a){const l=a.getPredecessorKey(new pe(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new pe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new pe(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,pe.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,pe.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bl?-1:0}withIndex(e){if(e===Qr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Qr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Ke),a=n.getIterator(Ke);let l=s.getNext(),u=a.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=s.getNext(),u=a.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===Qr?null:this.indexMap_.get(e.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class u4 extends le{constructor(){super(new Pt(og),le.EMPTY_NODE,ri.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const bl=new u4;Object.defineProperties(pe,{MIN:{value:new pe(sa,le.EMPTY_NODE)},MAX:{value:new pe(Gs,bl)}});$w.__EMPTY_NODE=le.EMPTY_NODE;ut.__childrenNodeConstructor=le;s4(bl);a4(bl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=!0;function yt(t,e=null){if(t===null)return le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ut(n,yt(e))}if(!(t instanceof Array)&&h4){const n=[];let s=!1;if(jt(t,(u,f)=>{if(u.substring(0,1)!=="."){const d=yt(f);d.isEmpty()||(s=s||!d.getPriority().isEmpty(),n.push(new pe(u,d)))}}),n.length===0)return le.EMPTY_NODE;const l=xu(n,i4,u=>u.name,og);if(s){const u=xu(n,Ke.getCompare());return new le(l,yt(e),new ri({".priority":u},{".priority":Ke}))}else return new le(l,yt(e),ri.Default)}else{let n=le.EMPTY_NODE;return jt(t,(s,a)=>{if(yi(t,s)&&s.substring(0,1)!=="."){const l=yt(a);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(s,l))}}),n.updatePriority(yt(e))}}r4(yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4 extends Xu{constructor(e){super(),this.indexPath_=e,G(!ye(e)&&me(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),a=this.extractChild(n.node),l=s.compareTo(a);return l===0?ma(e.name,n.name):l}makePost(e,n){const s=yt(e),a=le.EMPTY_NODE.updateChild(this.indexPath_,s);return new pe(n,a)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,bl);return new pe(Gs,e)}toString(){return Gw(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4 extends Xu{compare(e,n){const s=e.node.compareTo(n.node);return s===0?ma(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return pe.MIN}maxPost(){return pe.MAX}makePost(e,n){const s=yt(e);return new pe(n,s)}toString(){return".value"}}const m4=new d4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t){return{type:"value",snapshotNode:t}}function ra(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function tl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function nl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function p4(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.index_=e}updateChild(e,n,s,a,l,u){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(a).equals(s.getChild(a))&&f.isEmpty()===s.isEmpty()||(u!=null&&(s.isEmpty()?e.hasChild(n)?u.trackChildChange(tl(n,f)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(ra(n,s)):u.trackChildChange(nl(n,s,f))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ke,(a,l)=>{n.hasChild(a)||s.trackChildChange(tl(a,l))}),n.isLeafNode()||n.forEachChild(Ke,(a,l)=>{if(e.hasChild(a)){const u=e.getImmediateChild(a);u.equals(l)||s.trackChildChange(nl(a,l,u))}else s.trackChildChange(ra(a,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?le.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.indexedFilter_=new lg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=il.getStartPost_(e),this.endPost_=il.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,a,l,u){return this.matches(new pe(n,s))||(s=le.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,a,l,u)}updateFullNode(e,n,s){n.isLeafNode()&&(n=le.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(le.EMPTY_NODE);const l=this;return n.forEachChild(Ke,(u,f)=>{l.matches(new pe(u,f))||(a=a.updateImmediateChild(u,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new il(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,a,l,u){return this.rangedFilter_.matches(new pe(n,s))||(s=le.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,a,l,u):this.fullLimitUpdateChild_(e,n,s,l,u)}updateFullNode(e,n,s){let a;if(n.isLeafNode()||n.isEmpty())a=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=le.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const f=l.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))a=a.updateImmediateChild(f.name,f.node),u++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(le.EMPTY_NODE);let l;this.reverse_?l=a.getReverseIterator(this.index_):l=a.getIterator(this.index_);let u=0;for(;l.hasNext();){const f=l.getNext();u<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?u++:a=a.updateImmediateChild(f.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,a,l){let u;if(this.reverse_){const y=this.index_.getCompare();u=(v,S)=>y(S,v)}else u=this.index_.getCompare();const f=e;G(f.numChildren()===this.limit_,"");const d=new pe(n,s),m=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(f.hasChild(n)){const y=f.getImmediateChild(n);let v=a.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===n||f.hasChild(v.name));)v=a.getChildAfterChild(this.index_,v,this.reverse_);const S=v==null?1:u(v,d);if(g&&!s.isEmpty()&&S>=0)return l!=null&&l.trackChildChange(nl(n,s,y)),f.updateImmediateChild(n,s);{l!=null&&l.trackChildChange(tl(n,y));const C=f.updateImmediateChild(n,le.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(l!=null&&l.trackChildChange(ra(v.name,v.node)),C.updateImmediateChild(v.name,v.node)):C}}else return s.isEmpty()?e:g&&u(m,d)>=0?(l!=null&&(l.trackChildChange(tl(m.name,m.node)),l.trackChildChange(ra(n,s))),f.updateImmediateChild(n,s).updateImmediateChild(m.name,le.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sa}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ke}copy(){const e=new cg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function y4(t){return t.loadsAllData()?new lg(t.getIndex()):t.hasLimit()?new g4(t):new il(t)}function WE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ke?n="$priority":t.index_===m4?n="$value":t.index_===Qr?n="$key":(G(t.index_ instanceof f4,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ft(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=ft(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+ft(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=ft(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+ft(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function XE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ke&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Hw{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,a){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=_l("p:rest:"),this.listens_={}}listen(e,n,s,a){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=wu.getListenId_(e,s),f={};this.listens_[u]=f;const d=WE(e._queryParams);this.restRequest_(l+".json",d,(m,g)=>{let y=g;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(l,y,!1,s),na(this.listens_,u)===f){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",a(v,null)}})}unlisten(e,n){const s=wu.getListenId_(e,n);delete this.listens_[s]}get(e){const n=WE(e._queryParams),s=e._path.toString(),a=new zu;return this.restRequest_(s+".json",n,(l,u)=>{let f=u;l===404&&(f=null,l=null),l===null?(this.onDataUpdate_(s,f,!1,null),a.resolve(f)):a.reject(new Error(f))}),a.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(n.auth=a.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ha(n);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(s&&f.readyState===4){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let d=null;if(f.status>=200&&f.status<300){try{d=Xo(f.responseText)}catch{Ut("Failed to parse JSON response for "+u+": "+f.responseText)}s(null,d)}else f.status!==401&&f.status!==404&&Ut("Got unsuccessful REST response for "+u+" Status: "+f.status),s(f.status);s=null}},f.open("GET",u,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(){return{value:null,children:new Map}}function e1(t,e,n){if(ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=me(e);t.children.has(s)||t.children.set(s,Cu());const a=t.children.get(s);e=Me(e),e1(a,e,n)}}function Om(t,e,n){t.value!==null?n(e,t.value):_4(t,(s,a)=>{const l=new Oe(e.toString()+"/"+s);Om(a,l,n)})}function _4(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&jt(this.last_,(s,a)=>{n[s]=n[s]-a}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=10*1e3,E4=30*1e3,S4=5*60*1e3;class T4{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new b4(e);const s=QE+(E4-QE)*Math.random();Uo(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;jt(e,(a,l)=>{l>0&&yi(this.statsToReport_,a)&&(n[a]=l,s=!0)}),s&&this.server_.reportStats(n),Uo(this.reportStats_.bind(this),Math.floor(Math.random()*2*S4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(En||(En={}));function t1(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ug(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=En.ACK_USER_WRITE,this.source=t1()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Oe(e));return new Au(xe(),n,this.revert)}}else return G(me(this.path)===e,"operationForChild called for unrelated child."),new Au(Me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.source=e,this.path=n,this.type=En.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new sl(this.source,xe()):new sl(this.source,Me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=En.OVERWRITE}operationForChild(e){return ye(this.path)?new Ys(this.source,xe(),this.snap.getImmediateChild(e)):new Ys(this.source,Me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=En.MERGE}operationForChild(e){if(ye(this.path)){const n=this.children.subtree(new Oe(e));return n.isEmpty()?null:n.value?new Ys(this.source,xe(),n.value):new rl(this.source,xe(),n)}else return G(me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rl(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=me(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function w4(t,e,n,s){const a=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(p4(u.childName,u.snapshotNode))}),xo(t,a,"child_removed",e,s,n),xo(t,a,"child_added",e,s,n),xo(t,a,"child_moved",l,s,n),xo(t,a,"child_changed",e,s,n),xo(t,a,"value",e,s,n),a}function xo(t,e,n,s,a,l){const u=s.filter(f=>f.type===n);u.sort((f,d)=>A4(t,f,d)),u.forEach(f=>{const d=C4(t,f,l);a.forEach(m=>{m.respondsTo(f.type)&&e.push(m.createEvent(d,t.query_))})})}function C4(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function A4(t,e,n){if(e.childName==null||n.childName==null)throw ua("Should only compare child_ events.");const s=new pe(e.childName,e.snapshotNode),a=new pe(n.childName,n.snapshotNode);return t.index_.compare(s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t,e){return{eventCache:t,serverCache:e}}function jo(t,e,n,s){return Qu(new Ks(e,n,s),t.serverCache)}function n1(t,e,n,s){return Qu(t.eventCache,new Ks(e,n,s))}function km(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function $s(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d;const R4=()=>($d||($d=new Pt(d3)),$d);class Pe{static fromObject(e){let n=new Pe(null);return jt(e,(s,a)=>{n=n.set(new Oe(s),a)}),n}constructor(e,n=R4()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:xe(),value:this.value};if(ye(e))return null;{const s=me(e),a=this.children.get(s);if(a!==null){const l=a.findRootMostMatchingPathAndValue(Me(e),n);return l!=null?{path:rt(new Oe(s),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const n=me(e),s=this.children.get(n);return s!==null?s.subtree(Me(e)):new Pe(null)}}set(e,n){if(ye(e))return new Pe(n,this.children);{const s=me(e),l=(this.children.get(s)||new Pe(null)).set(Me(e),n),u=this.children.insert(s,l);return new Pe(this.value,u)}}remove(e){if(ye(e))return this.children.isEmpty()?new Pe(null):new Pe(null,this.children);{const n=me(e),s=this.children.get(n);if(s){const a=s.remove(Me(e));let l;return a.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,a),this.value===null&&l.isEmpty()?new Pe(null):new Pe(this.value,l)}else return this}}get(e){if(ye(e))return this.value;{const n=me(e),s=this.children.get(n);return s?s.get(Me(e)):null}}setTree(e,n){if(ye(e))return n;{const s=me(e),l=(this.children.get(s)||new Pe(null)).setTree(Me(e),n);let u;return l.isEmpty()?u=this.children.remove(s):u=this.children.insert(s,l),new Pe(this.value,u)}}fold(e){return this.fold_(xe(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((a,l)=>{s[a]=l.fold_(rt(e,a),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,xe(),n)}findOnPath_(e,n,s){const a=this.value?s(n,this.value):!1;if(a)return a;if(ye(e))return null;{const l=me(e),u=this.children.get(l);return u?u.findOnPath_(Me(e),rt(n,l),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,xe(),n)}foreachOnPath_(e,n,s){if(ye(e))return this;{this.value&&s(n,this.value);const a=me(e),l=this.children.get(a);return l?l.foreachOnPath_(Me(e),rt(n,a),s):new Pe(null)}}foreach(e){this.foreach_(xe(),e)}foreach_(e,n){this.children.inorderTraversal((s,a)=>{a.foreach_(rt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.writeTree_=e}static empty(){return new Sn(new Pe(null))}}function Vo(t,e,n){if(ye(e))return new Sn(new Pe(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const a=s.path;let l=s.value;const u=Lt(a,e);return l=l.updateChild(u,n),new Sn(t.writeTree_.set(a,l))}else{const a=new Pe(n),l=t.writeTree_.setTree(e,a);return new Sn(l)}}}function ZE(t,e,n){let s=t;return jt(n,(a,l)=>{s=Vo(s,rt(e,a),l)}),s}function JE(t,e){if(ye(e))return Sn.empty();{const n=t.writeTree_.setTree(e,new Pe(null));return new Sn(n)}}function Im(t,e){return er(t,e)!=null}function er(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Lt(n.path,e)):null}function eS(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ke,(s,a)=>{e.push(new pe(s,a))}):t.writeTree_.children.inorderTraversal((s,a)=>{a.value!=null&&e.push(new pe(s,a.value))}),e}function Zi(t,e){if(ye(e))return t;{const n=er(t,e);return n!=null?new Sn(new Pe(n)):new Sn(t.writeTree_.subtree(e))}}function Mm(t){return t.writeTree_.isEmpty()}function aa(t,e){return i1(xe(),t.writeTree_,e)}function i1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((a,l)=>{a===".priority"?(G(l.value!==null,"Priority writes must always be leaf nodes"),s=l.value):n=i1(rt(t,a),l,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(rt(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e){return o1(e,t)}function N4(t,e,n,s,a){G(s>t.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:a}),a&&(t.visibleWrites=Vo(t.visibleWrites,e,n)),t.lastWriteId=s}function D4(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function O4(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let a=s.visible,l=!1,u=t.allWrites.length-1;for(;a&&u>=0;){const f=t.allWrites[u];f.visible&&(u>=n&&k4(f,s.path)?a=!1:bn(s.path,f.path)&&(l=!0)),u--}if(a){if(l)return I4(t),!0;if(s.snap)t.visibleWrites=JE(t.visibleWrites,s.path);else{const f=s.children;jt(f,d=>{t.visibleWrites=JE(t.visibleWrites,rt(s.path,d))})}return!0}else return!1}function k4(t,e){if(t.snap)return bn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&bn(rt(t.path,n),e))return!0;return!1}function I4(t){t.visibleWrites=s1(t.allWrites,M4,xe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function M4(t){return t.visible}function s1(t,e,n){let s=Sn.empty();for(let a=0;a<t.length;++a){const l=t[a];if(e(l)){const u=l.path;let f;if(l.snap)bn(n,u)?(f=Lt(n,u),s=Vo(s,f,l.snap)):bn(u,n)&&(f=Lt(u,n),s=Vo(s,xe(),l.snap.getChild(f)));else if(l.children){if(bn(n,u))f=Lt(n,u),s=ZE(s,f,l.children);else if(bn(u,n))if(f=Lt(u,n),ye(f))s=ZE(s,xe(),l.children);else{const d=na(l.children,me(f));if(d){const m=d.getChild(Me(f));s=Vo(s,xe(),m)}}}else throw ua("WriteRecord should have .snap or .children")}}return s}function r1(t,e,n,s,a){if(!s&&!a){const l=er(t.visibleWrites,e);if(l!=null)return l;{const u=Zi(t.visibleWrites,e);if(Mm(u))return n;if(n==null&&!Im(u,xe()))return null;{const f=n||le.EMPTY_NODE;return aa(u,f)}}}else{const l=Zi(t.visibleWrites,e);if(!a&&Mm(l))return n;if(!a&&n==null&&!Im(l,xe()))return null;{const u=function(m){return(m.visible||a)&&(!s||!~s.indexOf(m.writeId))&&(bn(m.path,e)||bn(e,m.path))},f=s1(t.allWrites,u,e),d=n||le.EMPTY_NODE;return aa(f,d)}}}function L4(t,e,n){let s=le.EMPTY_NODE;const a=er(t.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(Ke,(l,u)=>{s=s.updateImmediateChild(l,u)}),s;if(n){const l=Zi(t.visibleWrites,e);return n.forEachChild(Ke,(u,f)=>{const d=aa(Zi(l,new Oe(u)),f);s=s.updateImmediateChild(u,d)}),eS(l).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}else{const l=Zi(t.visibleWrites,e);return eS(l).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}}function P4(t,e,n,s,a){G(s||a,"Either existingEventSnap or existingServerSnap must exist");const l=rt(e,n);if(Im(t.visibleWrites,l))return null;{const u=Zi(t.visibleWrites,l);return Mm(u)?a.getChild(n):aa(u,a.getChild(n))}}function U4(t,e,n,s){const a=rt(e,n),l=er(t.visibleWrites,a);if(l!=null)return l;if(s.isCompleteForChild(n)){const u=Zi(t.visibleWrites,a);return aa(u,s.getNode().getImmediateChild(n))}else return null}function j4(t,e){return er(t.visibleWrites,e)}function V4(t,e,n,s,a,l,u){let f;const d=Zi(t.visibleWrites,e),m=er(d,xe());if(m!=null)f=m;else if(n!=null)f=aa(d,n);else return[];if(f=f.withIndex(u),!f.isEmpty()&&!f.isLeafNode()){const g=[],y=u.getCompare(),v=l?f.getReverseIteratorFrom(s,u):f.getIteratorFrom(s,u);let S=v.getNext();for(;S&&g.length<a;)y(S,s)!==0&&g.push(S),S=v.getNext();return g}else return[]}function B4(){return{visibleWrites:Sn.empty(),allWrites:[],lastWriteId:-1}}function Ru(t,e,n,s){return r1(t.writeTree,t.treePath,e,n,s)}function dg(t,e){return L4(t.writeTree,t.treePath,e)}function tS(t,e,n,s){return P4(t.writeTree,t.treePath,e,n,s)}function Nu(t,e){return j4(t.writeTree,rt(t.treePath,e))}function z4(t,e,n,s,a,l){return V4(t.writeTree,t.treePath,e,n,s,a,l)}function mg(t,e,n){return U4(t.writeTree,t.treePath,e,n)}function a1(t,e){return o1(rt(t.treePath,e),t.writeTree)}function o1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(s!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const l=a.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(s,nl(s,e.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(s,tl(s,a.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(s,ra(s,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(s,nl(s,e.snapshotNode,a.oldSnap));else throw ua("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const l1=new F4;class pg{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Ks(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mg(this.writes_,e,s)}}getChildAfterChild(e,n,s){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$s(this.viewCache_),l=z4(this.writes_,a,n,1,s,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){return{filter:t}}function G4(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Y4(t,e,n,s,a){const l=new H4;let u,f;if(n.type===En.OVERWRITE){const m=n;m.source.fromUser?u=Lm(t,e,m.path,m.snap,s,a,l):(G(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered()&&!ye(m.path),u=Du(t,e,m.path,m.snap,s,a,f,l))}else if(n.type===En.MERGE){const m=n;m.source.fromUser?u=$4(t,e,m.path,m.children,s,a,l):(G(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered(),u=Pm(t,e,m.path,m.children,s,a,f,l))}else if(n.type===En.ACK_USER_WRITE){const m=n;m.revert?u=Q4(t,e,m.path,s,a,l):u=W4(t,e,m.path,m.affectedTree,s,a,l)}else if(n.type===En.LISTEN_COMPLETE)u=X4(t,e,n.path,s,l);else throw ua("Unknown operation type: "+n.type);const d=l.getChanges();return K4(e,u,d),{viewCache:u,changes:d}}function K4(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),l=km(t);(n.length>0||!t.eventCache.isFullyInitialized()||a&&!s.getNode().equals(l)||!s.getNode().getPriority().equals(l.getPriority()))&&n.push(Jw(km(e)))}}function c1(t,e,n,s,a,l){const u=e.eventCache;if(Nu(s,n)!=null)return e;{let f,d;if(ye(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=$s(e),g=m instanceof le?m:le.EMPTY_NODE,y=dg(s,g);f=t.filter.updateFullNode(e.eventCache.getNode(),y,l)}else{const m=Ru(s,$s(e));f=t.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=me(n);if(m===".priority"){G(is(n)===1,"Can't have a priority with additional path components");const g=u.getNode();d=e.serverCache.getNode();const y=tS(s,n,g,d);y!=null?f=t.filter.updatePriority(g,y):f=u.getNode()}else{const g=Me(n);let y;if(u.isCompleteForChild(m)){d=e.serverCache.getNode();const v=tS(s,n,u.getNode(),d);v!=null?y=u.getNode().getImmediateChild(m).updateChild(g,v):y=u.getNode().getImmediateChild(m)}else y=mg(s,m,e.serverCache);y!=null?f=t.filter.updateChild(u.getNode(),m,y,g,a,l):f=u.getNode()}}return jo(e,f,u.isFullyInitialized()||ye(n),t.filter.filtersNodes())}}function Du(t,e,n,s,a,l,u,f){const d=e.serverCache;let m;const g=u?t.filter:t.filter.getIndexedFilter();if(ye(n))m=g.updateFullNode(d.getNode(),s,null);else if(g.filtersNodes()&&!d.isFiltered()){const S=d.getNode().updateChild(n,s);m=g.updateFullNode(d.getNode(),S,null)}else{const S=me(n);if(!d.isCompleteForPath(n)&&is(n)>1)return e;const T=Me(n),O=d.getNode().getImmediateChild(S).updateChild(T,s);S===".priority"?m=g.updatePriority(d.getNode(),O):m=g.updateChild(d.getNode(),S,O,T,l1,null)}const y=n1(e,m,d.isFullyInitialized()||ye(n),g.filtersNodes()),v=new pg(a,y,l);return c1(t,y,n,a,v,f)}function Lm(t,e,n,s,a,l,u){const f=e.eventCache;let d,m;const g=new pg(a,e,l);if(ye(n))m=t.filter.updateFullNode(e.eventCache.getNode(),s,u),d=jo(e,m,!0,t.filter.filtersNodes());else{const y=me(n);if(y===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),s),d=jo(e,m,f.isFullyInitialized(),f.isFiltered());else{const v=Me(n),S=f.getNode().getImmediateChild(y);let T;if(ye(v))T=s;else{const C=g.getCompleteChild(y);C!=null?qw(v)===".priority"&&C.getChild(Yw(v)).isEmpty()?T=C:T=C.updateChild(v,s):T=le.EMPTY_NODE}if(S.equals(T))d=e;else{const C=t.filter.updateChild(f.getNode(),y,T,v,g,u);d=jo(e,C,f.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function nS(t,e){return t.eventCache.isCompleteForChild(e)}function $4(t,e,n,s,a,l,u){let f=e;return s.foreach((d,m)=>{const g=rt(n,d);nS(e,me(g))&&(f=Lm(t,f,g,m,a,l,u))}),s.foreach((d,m)=>{const g=rt(n,d);nS(e,me(g))||(f=Lm(t,f,g,m,a,l,u))}),f}function iS(t,e,n){return n.foreach((s,a)=>{e=e.updateChild(s,a)}),e}function Pm(t,e,n,s,a,l,u,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,m;ye(n)?m=s:m=new Pe(null).setTree(n,s);const g=e.serverCache.getNode();return m.children.inorderTraversal((y,v)=>{if(g.hasChild(y)){const S=e.serverCache.getNode().getImmediateChild(y),T=iS(t,S,v);d=Du(t,d,new Oe(y),T,a,l,u,f)}}),m.children.inorderTraversal((y,v)=>{const S=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!g.hasChild(y)&&!S){const T=e.serverCache.getNode().getImmediateChild(y),C=iS(t,T,v);d=Du(t,d,new Oe(y),C,a,l,u,f)}}),d}function W4(t,e,n,s,a,l,u){if(Nu(a,n)!=null)return e;const f=e.serverCache.isFiltered(),d=e.serverCache;if(s.value!=null){if(ye(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Du(t,e,n,d.getNode().getChild(n),a,l,f,u);if(ye(n)){let m=new Pe(null);return d.getNode().forEachChild(Qr,(g,y)=>{m=m.set(new Oe(g),y)}),Pm(t,e,n,m,a,l,f,u)}else return e}else{let m=new Pe(null);return s.foreach((g,y)=>{const v=rt(n,g);d.isCompleteForPath(v)&&(m=m.set(g,d.getNode().getChild(v)))}),Pm(t,e,n,m,a,l,f,u)}}function X4(t,e,n,s,a){const l=e.serverCache,u=n1(e,l.getNode(),l.isFullyInitialized()||ye(n),l.isFiltered());return c1(t,u,n,s,l1,a)}function Q4(t,e,n,s,a,l){let u;if(Nu(s,n)!=null)return e;{const f=new pg(s,e,a),d=e.eventCache.getNode();let m;if(ye(n)||me(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Ru(s,$s(e));else{const y=e.serverCache.getNode();G(y instanceof le,"serverChildren would be complete if leaf node"),g=dg(s,y)}g=g,m=t.filter.updateFullNode(d,g,l)}else{const g=me(n);let y=mg(s,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=d.getImmediateChild(g)),y!=null?m=t.filter.updateChild(d,g,y,Me(n),f,l):e.eventCache.getNode().hasChild(g)?m=t.filter.updateChild(d,g,le.EMPTY_NODE,Me(n),f,l):m=d,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Ru(s,$s(e)),u.isLeafNode()&&(m=t.filter.updateFullNode(m,u,l)))}return u=e.serverCache.isFullyInitialized()||Nu(s,xe())!=null,jo(e,m,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new lg(s.getIndex()),l=y4(s);this.processor_=q4(l);const u=n.serverCache,f=n.eventCache,d=a.updateFullNode(le.EMPTY_NODE,u.getNode(),null),m=l.updateFullNode(le.EMPTY_NODE,f.getNode(),null),g=new Ks(d,u.isFullyInitialized(),a.filtersNodes()),y=new Ks(m,f.isFullyInitialized(),l.filtersNodes());this.viewCache_=Qu(y,g),this.eventGenerator_=new x4(this.query_)}get query(){return this.query_}}function J4(t){return t.viewCache_.serverCache.getNode()}function ej(t,e){const n=$s(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ye(e)&&!n.getImmediateChild(me(e)).isEmpty())?n.getChild(e):null}function sS(t){return t.eventRegistrations_.length===0}function tj(t,e){t.eventRegistrations_.push(e)}function rS(t,e,n){const s=[];if(n){G(e==null,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,a);u&&s.push(u)})}if(e){let a=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))a.push(u);else if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=a}else t.eventRegistrations_=[];return s}function aS(t,e,n,s){e.type===En.MERGE&&e.source.queryId!==null&&(G($s(t.viewCache_),"We should always have a full cache before handling merges"),G(km(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,l=Y4(t.processor_,a,e,n,s);return G4(t.processor_,l.viewCache),G(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,u1(t,l.changes,l.viewCache.eventCache.getNode(),null)}function nj(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ke,(l,u)=>{s.push(ra(l,u))}),n.isFullyInitialized()&&s.push(Jw(n.getNode())),u1(t,s,n.getNode(),e)}function u1(t,e,n,s){const a=s?[s]:t.eventRegistrations_;return w4(t.eventGenerator_,e,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou;class ij{constructor(){this.views=new Map}}function sj(t){G(!Ou,"__referenceConstructor has already been defined"),Ou=t}function rj(){return G(Ou,"Reference.ts has not been loaded"),Ou}function aj(t){return t.views.size===0}function gg(t,e,n,s){const a=e.source.queryId;if(a!==null){const l=t.views.get(a);return G(l!=null,"SyncTree gave us an op for an invalid query."),aS(l,e,n,s)}else{let l=[];for(const u of t.views.values())l=l.concat(aS(u,e,n,s));return l}}function oj(t,e,n,s,a){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let f=Ru(n,a?s:null),d=!1;f?d=!0:s instanceof le?(f=dg(n,s),d=!1):(f=le.EMPTY_NODE,d=!1);const m=Qu(new Ks(f,d,!1),new Ks(s,a,!1));return new Z4(e,m)}return u}function lj(t,e,n,s,a,l){const u=oj(t,e,s,a,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),tj(u,n),nj(u,n)}function cj(t,e,n,s){const a=e._queryIdentifier,l=[];let u=[];const f=ss(t);if(a==="default")for(const[d,m]of t.views.entries())u=u.concat(rS(m,n,s)),sS(m)&&(t.views.delete(d),m.query._queryParams.loadsAllData()||l.push(m.query));else{const d=t.views.get(a);d&&(u=u.concat(rS(d,n,s)),sS(d)&&(t.views.delete(a),d.query._queryParams.loadsAllData()||l.push(d.query)))}return f&&!ss(t)&&l.push(new(rj())(e._repo,e._path)),{removed:l,events:u}}function h1(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Zr(t,e){let n=null;for(const s of t.views.values())n=n||ej(s,e);return n}function f1(t,e){if(e._queryParams.loadsAllData())return Zu(t);{const s=e._queryIdentifier;return t.views.get(s)}}function d1(t,e){return f1(t,e)!=null}function ss(t){return Zu(t)!=null}function Zu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku;function uj(t){G(!ku,"__referenceConstructor has already been defined"),ku=t}function hj(){return G(ku,"Reference.ts has not been loaded"),ku}let fj=1;class oS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pe(null),this.pendingWriteTree_=B4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function m1(t,e,n,s,a){return N4(t.pendingWriteTree_,e,n,s,a),a?El(t,new Ys(t1(),e,n)):[]}function js(t,e,n=!1){const s=D4(t.pendingWriteTree_,e);if(O4(t.pendingWriteTree_,e)){let l=new Pe(null);return s.snap!=null?l=l.set(xe(),!0):jt(s.children,u=>{l=l.set(new Oe(u),!0)}),El(t,new Au(s.path,l,n))}else return[]}function Ju(t,e,n){return El(t,new Ys(ug(),e,n))}function dj(t,e,n){const s=Pe.fromObject(n);return El(t,new rl(ug(),e,s))}function mj(t,e){return El(t,new sl(ug(),e))}function pj(t,e,n){const s=vg(t,n);if(s){const a=_g(s),l=a.path,u=a.queryId,f=Lt(l,e),d=new sl(hg(u),f);return bg(t,l,d)}else return[]}function Um(t,e,n,s,a=!1){const l=e._path,u=t.syncPointTree_.get(l);let f=[];if(u&&(e._queryIdentifier==="default"||d1(u,e))){const d=cj(u,e,n,s);aj(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const m=d.removed;if(f=d.events,!a){const g=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(l,(v,S)=>ss(S));if(g&&!y){const v=t.syncPointTree_.subtree(l);if(!v.isEmpty()){const S=vj(v);for(let T=0;T<S.length;++T){const C=S[T],O=C.query,N=y1(t,C);t.listenProvider_.startListening(Bo(O),Iu(t,O),N.hashFn,N.onComplete)}}}!y&&m.length>0&&!s&&(g?t.listenProvider_.stopListening(Bo(e),null):m.forEach(v=>{const S=t.queryToTagMap.get(eh(v));t.listenProvider_.stopListening(Bo(v),S)}))}_j(t,m)}return f}function gj(t,e,n,s){const a=vg(t,s);if(a!=null){const l=_g(a),u=l.path,f=l.queryId,d=Lt(u,e),m=new Ys(hg(f),d,n);return bg(t,u,m)}else return[]}function yj(t,e,n,s){const a=vg(t,s);if(a){const l=_g(a),u=l.path,f=l.queryId,d=Lt(u,e),m=Pe.fromObject(n),g=new rl(hg(f),d,m);return bg(t,u,g)}else return[]}function lS(t,e,n,s=!1){const a=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(a,(v,S)=>{const T=Lt(v,a);l=l||Zr(S,T),u=u||ss(S)});let f=t.syncPointTree_.get(a);f?(u=u||ss(f),l=l||Zr(f,xe())):(f=new ij,t.syncPointTree_=t.syncPointTree_.set(a,f));let d;l!=null?d=!0:(d=!1,l=le.EMPTY_NODE,t.syncPointTree_.subtree(a).foreachChild((S,T)=>{const C=Zr(T,xe());C&&(l=l.updateImmediateChild(S,C))}));const m=d1(f,e);if(!m&&!e._queryParams.loadsAllData()){const v=eh(e);G(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const S=bj();t.queryToTagMap.set(v,S),t.tagToQueryMap.set(S,v)}const g=fg(t.pendingWriteTree_,a);let y=lj(f,e,n,g,l,d);if(!m&&!u&&!s){const v=f1(f,e);y=y.concat(Ej(t,e,v))}return y}function yg(t,e,n){const a=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,f)=>{const d=Lt(u,e),m=Zr(f,d);if(m)return m});return r1(a,e,l,n,!0)}function El(t,e){return p1(e,t.syncPointTree_,null,fg(t.pendingWriteTree_,xe()))}function p1(t,e,n,s){if(ye(t.path))return g1(t,e,n,s);{const a=e.get(xe());n==null&&a!=null&&(n=Zr(a,xe()));let l=[];const u=me(t.path),f=t.operationForChild(u),d=e.children.get(u);if(d&&f){const m=n?n.getImmediateChild(u):null,g=a1(s,u);l=l.concat(p1(f,d,m,g))}return a&&(l=l.concat(gg(a,t,s,n))),l}}function g1(t,e,n,s){const a=e.get(xe());n==null&&a!=null&&(n=Zr(a,xe()));let l=[];return e.children.inorderTraversal((u,f)=>{const d=n?n.getImmediateChild(u):null,m=a1(s,u),g=t.operationForChild(u);g&&(l=l.concat(g1(g,f,d,m)))}),a&&(l=l.concat(gg(a,t,s,n))),l}function y1(t,e){const n=e.query,s=Iu(t,n);return{hashFn:()=>(J4(e)||le.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return s?pj(t,n._path,s):mj(t,n._path);{const l=g3(a,n);return Um(t,n,null,l)}}}}function Iu(t,e){const n=eh(e);return t.queryToTagMap.get(n)}function eh(t){return t._path.toString()+"$"+t._queryIdentifier}function vg(t,e){return t.tagToQueryMap.get(e)}function _g(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Oe(t.substr(0,e))}}function bg(t,e,n){const s=t.syncPointTree_.get(e);G(s,"Missing sync point for query tag that we're tracking");const a=fg(t.pendingWriteTree_,e);return gg(s,n,a,null)}function vj(t){return t.fold((e,n,s)=>{if(n&&ss(n))return[Zu(n)];{let a=[];return n&&(a=h1(n)),jt(s,(l,u)=>{a=a.concat(u)}),a}})}function Bo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(hj())(t._repo,t._path):t}function _j(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const a=eh(s),l=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(l)}}}function bj(){return fj++}function Ej(t,e,n){const s=e._path,a=Iu(t,e),l=y1(t,n),u=t.listenProvider_.startListening(Bo(e),a,l.hashFn,l.onComplete),f=t.syncPointTree_.subtree(s);if(a)G(!ss(f.value),"If we're adding a query, it shouldn't be shadowed");else{const d=f.fold((m,g,y)=>{if(!ye(m)&&g&&ss(g))return[Zu(g).query];{let v=[];return g&&(v=v.concat(h1(g).map(S=>S.query))),jt(y,(S,T)=>{v=v.concat(T)}),v}});for(let m=0;m<d.length;++m){const g=d[m];t.listenProvider_.stopListening(Bo(g),Iu(t,g))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Eg(n)}node(){return this.node_}}class Sg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=rt(this.path_,e);return new Sg(this.syncTree_,n)}node(){return yg(this.syncTree_,this.path_)}}const Sj=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},cS=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Tj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return xj(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Tj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},xj=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&G(!1,"Unexpected increment value: "+s);const a=e.node();if(G(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const u=a.getValue();return typeof u!="number"?s:u+s},wj=function(t,e,n,s){return Tg(e,new Sg(n,t),s)},v1=function(t,e,n){return Tg(t,new Eg(e),n)};function Tg(t,e,n){const s=t.getPriority().val(),a=cS(s,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,f=cS(u.getValue(),e,n);return f!==u.getValue()||a!==u.getPriority().val()?new ut(f,yt(a)):t}else{const u=t;return l=u,a!==u.getPriority().val()&&(l=l.updatePriority(new ut(a))),u.forEachChild(Ke,(f,d)=>{const m=Tg(d,e.getImmediateChild(f),n);m!==d&&(l=l.updateImmediateChild(f,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function wg(t,e){let n=e instanceof Oe?e:new Oe(e),s=t,a=me(n);for(;a!==null;){const l=na(s.node.children,a)||{children:{},childCount:0};s=new xg(a,s,l),n=Me(n),a=me(n)}return s}function ga(t){return t.node.value}function _1(t,e){t.node.value=e,jm(t)}function b1(t){return t.node.childCount>0}function Cj(t){return ga(t)===void 0&&!b1(t)}function th(t,e){jt(t.node.children,(n,s)=>{e(new xg(n,t,s))})}function E1(t,e,n,s){n&&e(t),th(t,a=>{E1(a,e,!0)})}function Aj(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Sl(t){return new Oe(t.parent===null?t.name:Sl(t.parent)+"/"+t.name)}function jm(t){t.parent!==null&&Rj(t.parent,t.name,t)}function Rj(t,e,n){const s=Cj(n),a=yi(t.node.children,e);s&&a?(delete t.node.children[e],t.node.childCount--,jm(t)):!s&&!a&&(t.node.children[e]=n.node,t.node.childCount++,jm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=/[\[\].#$\/\u0000-\u001F\u007F]/,Dj=/[\[\].#$\u0000-\u001F\u007F]/,Wd=10*1024*1024,S1=function(t){return typeof t=="string"&&t.length!==0&&!Nj.test(t)},T1=function(t){return typeof t=="string"&&t.length!==0&&!Dj.test(t)},Oj=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),T1(t)},kj=function(t,e,n,s){Cg(Mp(t,"value"),e,n)},Cg=function(t,e,n){const s=n instanceof Oe?new W3(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ls(s));if(typeof e=="function")throw new Error(t+"contains a function "+Ls(s)+" with contents = "+e.toString());if(Tw(e))throw new Error(t+"contains "+e.toString()+" "+Ls(s));if(typeof e=="string"&&e.length>Wd/3&&Hu(e)>Wd)throw new Error(t+"contains a string greater than "+Wd+" utf8 bytes "+Ls(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,l=!1;if(jt(e,(u,f)=>{if(u===".value")a=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!S1(u)))throw new Error(t+" contains an invalid key ("+u+") "+Ls(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);X3(s,u),Cg(t,f,s),Q3(s)}),a&&l)throw new Error(t+' contains ".value" child '+Ls(s)+" in addition to actual children.")}},x1=function(t,e,n,s){if(!T1(n))throw new Error(Mp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Ij=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),x1(t,e,n)},w1=function(t,e){if(me(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Mj=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!S1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Oj(n))throw new Error(Mp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ag(t,e){let n=null;for(let s=0;s<e.length;s++){const a=e[s],l=a.getPath();n!==null&&!rg(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(a)}n&&t.eventLists_.push(n)}function C1(t,e,n){Ag(t,n),A1(t,s=>rg(s,e))}function mi(t,e,n){Ag(t,n),A1(t,s=>bn(s,e)||bn(e,s))}function A1(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const a=t.eventLists_[s];if(a){const l=a.path;e(l)?(Pj(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Pj(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Po&&St("event: "+n.toString()),pa(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="repo_interrupt",jj=25;class Vj{constructor(e,n,s,a){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cu(),this.transactionQueueTree_=new xg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Bj(t,e,n){if(t.stats_=ig(t.repoInfo_),t.forceRestClient_||b3())t.server_=new wu(t.repoInfo_,(s,a,l,u)=>{uS(t,s,a,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>hS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ft(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new ci(t.repoInfo_,e,(s,a,l,u)=>{uS(t,s,a,l,u)},s=>{hS(t,s)},s=>{Hj(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=w3(t.repoInfo_,()=>new T4(t.stats_,t.server_)),t.infoData_=new v4,t.infoSyncTree_=new oS({startListening:(s,a,l,u)=>{let f=[];const d=t.infoData_.getNode(s._path);return d.isEmpty()||(f=Ju(t.infoSyncTree_,s._path,d),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),Ng(t,"connected",!1),t.serverSyncTree_=new oS({startListening:(s,a,l,u)=>(t.server_.listen(s,l,a,(f,d)=>{const m=u(f,d);mi(t.eventQueue_,s._path,m)}),[]),stopListening:(s,a)=>{t.server_.unlisten(s,a)}})}function zj(t){const n=t.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Rg(t){return Sj({timestamp:zj(t)})}function uS(t,e,n,s,a){t.dataUpdateCount++;const l=new Oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(a)if(s){const d=du(n,m=>yt(m));u=yj(t.serverSyncTree_,l,d,a)}else{const d=yt(n);u=gj(t.serverSyncTree_,l,d,a)}else if(s){const d=du(n,m=>yt(m));u=dj(t.serverSyncTree_,l,d)}else{const d=yt(n);u=Ju(t.serverSyncTree_,l,d)}let f=l;u.length>0&&(f=nh(t,l)),mi(t.eventQueue_,f,u)}function hS(t,e){Ng(t,"connected",e),e===!1&&qj(t)}function Hj(t,e){jt(e,(n,s)=>{Ng(t,n,s)})}function Ng(t,e,n){const s=new Oe("/.info/"+e),a=yt(n);t.infoData_.updateSnapshot(s,a);const l=Ju(t.infoSyncTree_,s,a);mi(t.eventQueue_,s,l)}function R1(t){return t.nextWriteId_++}function Fj(t,e,n,s,a){Dg(t,"set",{path:e.toString(),value:n,priority:s});const l=Rg(t),u=yt(n,s),f=yg(t.serverSyncTree_,e),d=v1(u,f,l),m=R1(t),g=m1(t.serverSyncTree_,e,d,m,!0);Ag(t.eventQueue_,g),t.server_.put(e.toString(),u.val(!0),(v,S)=>{const T=v==="ok";T||Ut("set at "+e+" failed: "+v);const C=js(t.serverSyncTree_,m,!T);mi(t.eventQueue_,e,C),$j(t,a,v,S)});const y=I1(t,e);nh(t,y),mi(t.eventQueue_,y,[])}function qj(t){Dg(t,"onDisconnectEvents");const e=Rg(t),n=Cu();Om(t.onDisconnect_,xe(),(a,l)=>{const u=wj(a,l,t.serverSyncTree_,e);e1(n,a,u)});let s=[];Om(n,xe(),(a,l)=>{s=s.concat(Ju(t.serverSyncTree_,a,l));const u=I1(t,a);nh(t,u)}),t.onDisconnect_=Cu(),mi(t.eventQueue_,xe(),s)}function Gj(t,e,n){let s;me(e._path)===".info"?s=lS(t.infoSyncTree_,e,n):s=lS(t.serverSyncTree_,e,n),C1(t.eventQueue_,e._path,s)}function Yj(t,e,n){let s;me(e._path)===".info"?s=Um(t.infoSyncTree_,e,n):s=Um(t.serverSyncTree_,e,n),C1(t.eventQueue_,e._path,s)}function Kj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Uj)}function Dg(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),St(n,...e)}function $j(t,e,n,s){e&&pa(()=>{if(n==="ok")e(null);else{const a=(n||"error").toUpperCase();let l=a;s&&(l+=": "+s);const u=new Error(l);u.code=a,e(u)}})}function N1(t,e,n){return yg(t.serverSyncTree_,e,n)||le.EMPTY_NODE}function Og(t,e=t.transactionQueueTree_){if(e||ih(t,e),ga(e)){const n=O1(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&Wj(t,Sl(e),n)}else b1(e)&&th(e,n=>{Og(t,n)})}function Wj(t,e,n){const s=n.map(m=>m.currentWriteId),a=N1(t,e,s);let l=a;const u=a.hash();for(let m=0;m<n.length;m++){const g=n[m];G(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Lt(e,g.path);l=l.updateChild(y,g.currentOutputSnapshotRaw)}const f=l.val(!0),d=e;t.server_.put(d.toString(),f,m=>{Dg(t,"transaction put response",{path:d.toString(),status:m});let g=[];if(m==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(js(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();ih(t,wg(t.transactionQueueTree_,e)),Og(t,t.transactionQueueTree_),mi(t.eventQueue_,e,g);for(let v=0;v<y.length;v++)pa(y[v])}else{if(m==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{Ut("transaction at "+d.toString()+" failed: "+m);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=m}nh(t,e)}},u)}function nh(t,e){const n=D1(t,e),s=Sl(n),a=O1(t,n);return Xj(t,a,s),s}function Xj(t,e,n){if(e.length===0)return;const s=[];let a=[];const u=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const d=e[f],m=Lt(n,d.path);let g=!1,y;if(G(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,a=a.concat(js(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=jj)g=!0,y="maxretry",a=a.concat(js(t.serverSyncTree_,d.currentWriteId,!0));else{const v=N1(t,d.path,u);d.currentInputSnapshot=v;const S=e[f].update(v.val());if(S!==void 0){Cg("transaction failed: Data returned ",S,d.path);let T=yt(S);typeof S=="object"&&S!=null&&yi(S,".priority")||(T=T.updatePriority(v.getPriority()));const O=d.currentWriteId,N=Rg(t),I=v1(T,v,N);d.currentOutputSnapshotRaw=T,d.currentOutputSnapshotResolved=I,d.currentWriteId=R1(t),u.splice(u.indexOf(O),1),a=a.concat(m1(t.serverSyncTree_,d.path,I,d.currentWriteId,d.applyLocally)),a=a.concat(js(t.serverSyncTree_,O,!0))}else g=!0,y="nodata",a=a.concat(js(t.serverSyncTree_,d.currentWriteId,!0))}mi(t.eventQueue_,n,a),a=[],g&&(e[f].status=2,function(v){setTimeout(v,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(y==="nodata"?s.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):s.push(()=>e[f].onComplete(new Error(y),!1,null))))}ih(t,t.transactionQueueTree_);for(let f=0;f<s.length;f++)pa(s[f]);Og(t,t.transactionQueueTree_)}function D1(t,e){let n,s=t.transactionQueueTree_;for(n=me(e);n!==null&&ga(s)===void 0;)s=wg(s,n),e=Me(e),n=me(e);return s}function O1(t,e){const n=[];return k1(t,e,n),n.sort((s,a)=>s.order-a.order),n}function k1(t,e,n){const s=ga(e);if(s)for(let a=0;a<s.length;a++)n.push(s[a]);th(e,a=>{k1(t,a,n)})}function ih(t,e){const n=ga(e);if(n){let s=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[s]=n[a],s++);n.length=s,_1(e,n.length>0?n:void 0)}th(e,s=>{ih(t,s)})}function I1(t,e){const n=Sl(D1(t,e)),s=wg(t.transactionQueueTree_,e);return Aj(s,a=>{Xd(t,a)}),Xd(t,s),E1(s,a=>{Xd(t,a)}),n}function Xd(t,e){const n=ga(e);if(n){const s=[];let a=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(G(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(G(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),a=a.concat(js(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&s.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?_1(e,void 0):n.length=l+1,mi(t.eventQueue_,Sl(e),a);for(let u=0;u<s.length;u++)pa(s[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let a=n[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function Zj(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ut(`Invalid query segment '${n}' in query '${t}'`)}return e}const fS=function(t,e){const n=Jj(t),s=n.namespace;n.domain==="firebase.com"&&di(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&di("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||h3();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Lw(n.host,n.secure,s,a,e,"",s!==n.subdomain),path:new Oe(n.pathString)}},Jj=function(t){let e="",n="",s="",a="",l="",u=!0,f="https",d=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(f=t.substring(0,m-1),t=t.substring(m+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(a=Qj(t.substring(g,y)));const v=Zj(t.substring(Math.min(t.length,y)));m=e.indexOf(":"),m>=0?(u=f==="https"||f==="wss",d=parseInt(e.substring(m+1),10)):m=e.length;const S=e.slice(0,m);if(S.toLowerCase()==="localhost")n="localhost";else if(S.split(".").length<=2)n=S;else{const T=e.indexOf(".");s=e.substring(0,T).toLowerCase(),n=e.substring(T+1),l=s}"ns"in v&&(l=v.ns)}return{host:e,port:d,domain:n,subdomain:s,secure:u,scheme:f,pathString:a,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n,s,a){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ft(this.snapshot.exportVal())}}class t5{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,s,a){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=a}get key(){return ye(this._path)?null:qw(this._path)}get ref(){return new os(this._repo,this._path)}get _queryIdentifier(){const e=XE(this._queryParams),n=tg(e);return n==="{}"?"default":n}get _queryObject(){return XE(this._queryParams)}isEqual(e){if(e=Ze(e),!(e instanceof kg))return!1;const n=this._repo===e._repo,s=rg(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return n&&s&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+$3(this._path)}}class os extends kg{constructor(e,n){super(e,n,new cg,!1)}get parent(){const e=Yw(this._path);return e===null?null:new os(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Mu{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Oe(e),s=Vm(this.ref,e);return new Mu(this._node.getChild(n),s,Ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,a)=>e(new Mu(a,Vm(this.ref,s),Ke)))}hasChild(e){const n=new Oe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dS(t,e){return t=Ze(t),t._checkNotDeleted("ref"),e!==void 0?Vm(t._root,e):t._root}function Vm(t,e){return t=Ze(t),me(t._path)===null?Ij("child","path",e):x1("child","path",e),new os(t._repo,rt(t._path,e))}function i5(t){return w1("remove",t._path),s5(t,null)}function s5(t,e){t=Ze(t),w1("set",t._path),kj("set",e,t._path);const n=new zu;return Fj(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class Ig{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new e5("value",this,new Mu(e.snapshotNode,new os(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new t5(this,e,n):null}matches(e){return e instanceof Ig?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function r5(t,e,n,s,a){const l=new n5(n,void 0),u=new Ig(l);return Gj(t._repo,t,u),()=>Yj(t._repo,t,u)}function a5(t,e,n,s){return r5(t,"value",e)}sj(os);uj(os);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="FIREBASE_DATABASE_EMULATOR_HOST",Bm={};let l5=!1;function c5(t,e,n,s){const a=e.lastIndexOf(":"),l=e.substring(0,a),u=Qs(l);t.repoInfo_=new Lw(e,u,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function u5(t,e,n,s,a){let l=s||t.options.databaseURL;l===void 0&&(t.options.projectId||di("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),St("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=fS(l,a),f=u.repoInfo,d;typeof process<"u"&&kE&&(d=kE[o5]),d?(l=`http://${d}?ns=${f.namespace}`,u=fS(l,a),f=u.repoInfo):u.repoInfo.secure;const m=new S3(t.name,t.options,e);Mj("Invalid Firebase Database URL",u),ye(u.path)||di("Database URL must point to the root of a Firebase Database (not including a child path).");const g=f5(f,t,m,new E3(t,n));return new d5(g,t)}function h5(t,e){const n=Bm[e];(!n||n[t.key]!==t)&&di(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Kj(t),delete n[t.key]}function f5(t,e,n,s){let a=Bm[e.name];a||(a={},Bm[e.name]=a);let l=a[t.toURLString()];return l&&di("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new Vj(t,l5,n,s),a[t.toURLString()]=l,l}class d5{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Bj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new os(this._repo,xe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(h5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&di("Cannot call "+e+" on a deleted database.")}}function m5(t=jp(),e){const n=Fu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=mx("database");s&&p5(n,...s)}return n}function p5(t,e,n,s={}){t=Ze(t),t._checkNotDeleted("useEmulator");const a=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(a===t._repoInternal.repoInfo_.host&&zs(s,l.repoInfo_.emulatorOptions))return;di("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&di('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new tu(tu.OWNER);else if(s.mockUserToken){const f=typeof s.mockUserToken=="string"?s.mockUserToken:yx(s.mockUserToken,t.app.options.projectId);u=new tu(f)}Qs(e)&&(Op(e),kp("Database",!0)),c5(l,a,s,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t){r3(Zs),Hs(new ns("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return u5(s,a,l,n)},"PUBLIC").setMultipleInstances(!0)),Ln(IE,ME,t),Ln(IE,ME,"esm2017")}ci.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ci.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};g5();const y5={apiKey:"AIzaSyAafDSvuHq7bb9F3-SdVpwM2NTNNtymT_o",authDomain:"nailsbydani-6082b.firebaseapp.com",databaseURL:"https://nailsbydani-6082b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nailsbydani-6082b",storageBucket:"nailsbydani-6082b.firebasestorage.app",messagingSenderId:"438345951991",appId:"1:438345951991:web:335b18a1bca6fa1a75c1f2",measurementId:"G-6R161TJXN6"},Mg=Up(y5),wo=i3(Mg),mS=m5(Mg),zm=Bx(Mg),v5=({children:t})=>{const[e,n]=w.useState(""),[s,a]=w.useState(""),[l,u]=w.useState(""),[f,d]=w.useState(!1),[m,g]=w.useState(!0);w.useEffect(()=>{SE(wo).catch(k=>{console.error("Error signing out on mount:",k)})},[]);const y=w.useRef(null);w.useEffect(()=>{const k=Y6(wo,H=>{d(!!H),g(!1)});return()=>k()},[]),w.useEffect(()=>{if(!f){T(),N();return}return S(),O(),()=>{T(),N()}},[f]);const v=5*60*1e3,S=()=>{T(),y.current=window.setTimeout(()=>{SE(wo).catch(k=>{console.error("Auto-logout error:",k)})},v)},T=()=>{y.current!==null&&(clearTimeout(y.current),y.current=null)},C=["mousemove","mousedown","keydown","touchstart","scroll"],O=()=>{C.forEach(k=>{window.addEventListener(k,S)})},N=()=>{C.forEach(k=>{window.removeEventListener(k,S)})},I=async k=>{k.preventDefault(),u("");try{await F6(wo,Cm),await H6(wo,e,s)}catch(H){console.error("Firebase signIn error:",H),u("Invalid email or password")}};return m?b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsx(Wo,{className:"h-6 w-6 animate-spin"})}):f?b.jsx(b.Fragment,{children:t}):b.jsx("div",{className:"mt-20 bg-white flex items-center justify-center",children:b.jsxs("div",{className:"border border-gray-300 p-6 w-full max-w-sm",children:[b.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:"Admin Sign In"}),b.jsxs("form",{onSubmit:I,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:e,onChange:k=>n(k.target.value),placeholder:"you@domain.com",className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,autoComplete:"username"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),b.jsx("input",{type:"password",value:s,onChange:k=>a(k.target.value),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,autoComplete:"current-password"})]}),l&&b.jsx("div",{className:"p-2 bg-red-50 border border-red-200 text-red-700 text-sm",children:l}),b.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 px-3 hover:bg-gray-800",children:"Sign In"})]})]})})},_5=({onUploadSuccess:t,showModal:e,setShowModal:n})=>{const[s,a]=w.useState(!1),[l,u]=w.useState(null),[f,d]=w.useState(""),[m,g]=w.useState(null);w.useEffect(()=>{e||(u(null),d(""),m&&(URL.revokeObjectURL(m),g(null)))},[e,m]);const y=T=>{const C=T.target.files[0];if(C){u(C);const O=URL.createObjectURL(C);g(O)}},v=async T=>{if(T.preventDefault(),!l||!f){alert("Please select a file and enter a design ID");return}a(!0);try{const C=pu(zm,`Designs/${f}.jpg`);await PP(C,l),u(null),d(""),g(null),n(!1),t(f)}catch(C){console.error("Upload failed:",C),alert("Upload failed. Please try again.")}finally{a(!1)}},S=()=>{u(null),d(""),g(null),n(!1),m&&URL.revokeObjectURL(m)};return b.jsx(b.Fragment,{children:e&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white border border-gray-300 p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload New Design"}),b.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",children:b.jsx(Rp,{size:20})})]}),b.jsxs("form",{onSubmit:v,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Design ID"}),b.jsx("input",{type:"number",value:f,onChange:T=>d(T.target.value),placeholder:"Enter design ID (e.g., 15)",className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,disabled:s})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image File"}),b.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:y,className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,disabled:s}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: JPG, JPEG, PNG"})]}),m&&b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview"}),b.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:b.jsx("img",{src:m,alt:"Upload preview",className:"w-full h-48 object-cover"})})]}),b.jsxs("div",{className:"flex space-x-3 pt-4",children:[b.jsx("button",{type:"button",onClick:S,className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 hover:bg-gray-50",disabled:s,children:"Cancel"}),b.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-black text-white hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",disabled:s||!l||!f,children:s?b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx(Wo,{size:16,className:"animate-spin mr-2"}),"Uploading..."]}):b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx(OI,{size:16,className:"mr-2"}),"Upload"]})})]})]})]})})})},b5=({design:t,imageURL:e,likesCount:n,onDelete:s})=>{const[a,l]=w.useState(!1),[u,f]=w.useState(!1),[d,m]=w.useState(!1),g=async()=>{f(!0);try{await s(t.id),m(!1)}catch(y){console.error("Delete failed:",y)}finally{f(!1)}};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden group transition-all duration-200",children:[b.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[e?b.jsx("img",{src:e,alt:`Design ${t.id}`,className:"w-full h-full object-cover"}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No image"}),b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200",children:b.jsxs("div",{className:"flex space-x-3",children:[e&&b.jsx("button",{onClick:()=>l(!0),className:"p-3 bg-white text-black hover:bg-gray-100 rounded-full transition-colors duration-150",title:"Preview",children:b.jsx(mI,{size:16,color:"black"})}),e&&b.jsx("button",{onClick:()=>m(!0),className:"p-3 bg-red-600 text-white hover:bg-red-700 rounded-full transition-colors duration-150",title:"Delete",disabled:u,children:u?b.jsx(Wo,{size:16,className:"animate-spin"}):b.jsx(NI,{size:16})})]})})]}),b.jsx("div",{className:"p-3 bg-white group-hover:bg-gray-50 transition-colors duration-200",children:b.jsxs("div",{className:"flex justify-between items-center text-sm",children:[b.jsxs("span",{className:"font-medium",children:["Design ",t.id]}),b.jsxs("span",{className:"text-gray-500",children:[(n||0).toLocaleString()," likes"]})]})})]}),a&&e&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[b.jsx("button",{onClick:()=>l(!1),className:"absolute -top-10 right-0 text-white hover:text-gray-300",children:b.jsx(Rp,{size:24})}),b.jsx("img",{src:e,alt:`Design ${t.id}`,className:"max-w-full max-h-full object-contain"})]})}),d&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white border border-gray-300 p-6 max-w-md w-full",children:[b.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Delete Design ",t.id,"?"]}),b.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"This will permanently delete the image and all likes data."}),b.jsxs("div",{className:"flex space-x-3",children:[b.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 hover:bg-gray-50",disabled:u,children:"Cancel"}),b.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",disabled:u,children:u?b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx(Wo,{size:16,className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})})]})},E5=()=>{const[t,e]=w.useState([]),[n,s]=w.useState({}),[a,l]=w.useState({}),[u,f]=w.useState(!0),[d,m]=w.useState(null),[g,y]=w.useState(!1),[v,S]=w.useState([]),T=async()=>{try{const I=pu(zm,"Designs/"),k=await jx(I),H={},V=[];return await Promise.all(k.items.map(async Y=>{try{const te=Y.name,$=parseInt(te.split(".")[0]);if(!isNaN($)){const q=await Vx(Y);H[$]=q,V.push({id:$,title:"",category:"classic",description:""})}}catch(te){console.log(`Error processing file ${Y.name}:`,te)}})),V.sort((Y,te)=>Y.id-te.id),{urls:H,designs:V}}catch(I){return console.error("Error discovering designs:",I),{urls:{},designs:[]}}};w.useEffect(()=>{(async()=>{try{const k=dS(mS,"likes");a5(k,Y=>{const te=Y.val()||{};l(te)});const{urls:H,designs:V}=await T();s(H),e(V),S(V),f(!1)}catch(k){console.error("Error fetching data:",k),f(!1)}})()},[]);const C=(I,k="success")=>{m({message:I,type:k}),setTimeout(()=>m(null),3e3)},O=async I=>{try{const{urls:k,designs:H}=await T();s(k),e(H),S(H),C(`Design ${I} uploaded successfully`)}catch(k){console.error("Error refreshing after upload:",k),C("Upload completed but failed to refresh","error")}},N=async I=>{try{const k=pu(zm,`Designs/${I}.jpg`);await UP(k);const H=dS(mS,`likes/${I}`);await i5(H),s(V=>{const Y={...V};return delete Y[I],Y}),l(V=>{const Y={...V};return delete Y[I],Y}),C(`Design ${I} deleted`)}catch(k){throw console.error("Error deleting design:",k),C(`Failed to delete design ${I}`,"error"),k}};return u?b.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx(Wo,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),b.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):b.jsxs("div",{className:"min-h-screen bg-white",children:[b.jsx("div",{className:"border-b border-gray-200",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"Admin Panel"}),b.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Object.keys(n).length," images,"," ",Object.values(a).reduce((I,k)=>I+k,0).toLocaleString()," ","total likes"]})]}),b.jsx("button",{onClick:()=>y(!0),className:"bg-black text-white px-4 py-2 hover:bg-gray-800 transition-colors duration-200 flex items-center space-x-2 text-xs",children:b.jsx("span",{children:"Upload Design"})})]})}),d&&b.jsx("div",{className:"fixed top-4 right-4 z-50",children:b.jsx("div",{className:`p-3 border text-sm ${d.type==="error"?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:d.message})}),b.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:t.map(I=>b.jsx(b5,{design:I,imageURL:n[I.id],likesCount:a[I.id],onDelete:N},I.id))})}),b.jsx(_5,{onUploadSuccess:O,showModal:g,setShowModal:y})]})};function S5(){return b.jsx(v5,{children:b.jsx(E5,{})})}const T5=()=>{const[t,e]=w.useState(new Set),n=Vn(),s=(l,u,f="")=>{const d="27661043677",m=`Hey Daniela!

I'm interested in booking the ${l} service for ${u}${f?` ${f}`:""}

Could we please schedule an appointment? Let me know your available times.

Thank you!`,g=encodeURIComponent(m);return`https://wa.me/${d}?text=${g}`};w.useEffect(()=>{const l=new IntersectionObserver(f=>{f.forEach(d=>{if(d.isIntersecting){const m=d.target.getAttribute("data-item-id");m&&e(g=>new Set([...g,m]))}})},{threshold:.2,rootMargin:"50px"}),u=setTimeout(()=>{document.querySelectorAll("[data-item-id]").forEach(d=>l.observe(d))},100);return()=>{clearTimeout(u),l.disconnect()}},[]),w.useEffect(()=>{const u=new URLSearchParams(n.search).get("category");if(u!==null){const f=parseInt(u),d=()=>{const m=document.getElementById(`category-${f}`);return m?(m.style.opacity="1",m.style.transform="translateX(0)",m.scrollIntoView({behavior:"smooth",block:"center"}),!0):!1};setTimeout(()=>d(),100),setTimeout(()=>d(),300)}},[n]);const a=[{categoryName:"Gel & Acrylic Overlays",services:[{price:"R160",name:"Gel Overlay",description:"Professional gel overlay on your natural nails for strength and durability. Includes base coat, gel application, cuticle care, shaping, and high-gloss top coat finish."},{price:"R180",name:"Acrylic Overlay",description:"Strong acrylic overlay system providing excellent durability and smooth finish. Includes nail preparation, acrylic application, shaping, buffing, and cuticle care."}]},{categoryName:"Extensions & Sculptures",services:[{price:"R210",name:"Gel Extensions - Short",description:"Professional gel extensions for added length and strength. Perfect for everyday wear with a natural look. Includes nail preparation, extension application, shaping, and finishing."},{price:"R230",name:"Gel Extensions - Medium",description:"Medium length extensions providing the perfect balance between practicality and elegance."},{price:"R250",name:"Gel Extensions - Long",description:"Dramatic long extensions for those who want to make a statement with their nails."},{price:"R230",name:"Acrylic Sculptures - Short",description:"Hand-sculpted acrylic nails with superior strength and durability in a short, practical length."},{price:"R250",name:"Acrylic Sculptures - Medium",description:"Medium length acrylic sculptures offering the perfect combination of style and functionality."},{price:"R270",name:"Acrylic Sculptures - Long",description:"Long acrylic sculptures for maximum impact and glamour. Perfect for special occasions or everyday elegance."}]},{categoryName:"Maintenance & Repairs",services:[{price:"R120",name:"Gel Fill",description:"Maintain your gel nails with professional fill service. Keeps your nails looking fresh and extends their lifespan. Includes growth area fill, reshaping, and cuticle care."},{price:"R120",name:"Acrylic Fill",description:"Professional acrylic fill service to maintain the strength and appearance of your acrylic nails."},{price:"R20",name:"Broken Nail Repair",description:"Quick and effective repair for broken or damaged nails. Restore your nail to its original beauty."},{price:"R50",name:"Soak Off Service",description:"Safe and gentle removal of gel or acrylic nails without damage to your natural nails. Includes professional removal process and nail conditioning treatment."}]},{categoryName:"Add-Ons",services:[{price:"R5",priceNote:"per nail",name:"Nail Art",description:"Custom nail art designs to express your personal style. From simple accents to intricate patterns. Can be added to any nail service for personalized flair.",note:"*Our most popular add-on"}]}];return b.jsxs("div",{className:"min-h-screen bg-white",children:[b.jsx("div",{className:"text-center py-32 mt-20 transition-all duration-1000 opacity-100 translate-y-0",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-light text-stone-900 mb-8",children:"Nail Services"}),b.jsx("p",{className:"text-stone-600 font-light leading-relaxed font-sans",children:"Professional nail preparation, cuticle care, shaping, filing, buffing, and application with premium products. Each service includes meticulous attention to detail and personalized care for optimal results."}),b.jsx("p",{className:"text-stone-600 font-light text-sm mt-4 italic",children:"[ Additional services and nail art available upon request. ]"})]})}),b.jsxs("div",{className:"max-w-6xl mx-auto px-6 pb-24",children:[a.map((l,u)=>b.jsx("div",{className:"mb-20",children:b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start",children:[b.jsx("div",{id:`category-${u}`,"data-item-id":`category-${u}`,className:`category-${u} transition-all duration-600 ease-out ${t.has(`category-${u}`)?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}`,children:b.jsx("h2",{className:"text-4xl font-light text-stone-900",children:l.categoryName})}),b.jsx("div",{className:"space-y-8",children:l.services.map((f,d)=>{const m=`service-${u}-${d}`;return b.jsxs("a",{"data-item-id":m,href:s(f.name,f.price,f.priceNote),target:"_blank",rel:"noopener noreferrer",className:`block p-6 border border-transparent hover:border-stone-300 transition-all duration-300 ease-out cursor-pointer ${t.has(m)?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,style:{transitionDelay:t.has(m)?"0ms":`${d*100}ms`},children:[b.jsxs("div",{className:"mb-2",children:[b.jsx("span",{className:"text-sm text-stone-600 font-montserrat",children:f.price}),f.priceNote&&b.jsx("span",{className:"text-sm text-stone-600 ml-2",children:f.priceNote})]}),b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("h3",{className:"text-lg text-stone-900 uppercase tracking-wide",children:f.name}),b.jsx(ox,{size:18,className:"text-stone-400"})]}),b.jsx("p",{className:"text-stone-600 font-light leading-relaxed mb-4 font-montserrat text-sm",children:f.description}),f.note&&b.jsx("p",{className:"text-stone-600 font-light text-sm italic",children:f.note})]},d)})})]})},u)),b.jsx("div",{"data-item-id":"contact-section",className:`border-t border-stone-200 pt-12 transition-all duration-700 ease-out ${t.has("contact-section")?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"text-2xl font-light text-stone-900 mb-4",children:"Have Questions About Our Services?"}),b.jsx("p",{className:"text-stone-600 font-light mb-8",children:"Contact me for consultations, custom requests, or any questions about treatments."}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[b.jsx("a",{href:s("General Consultation","Free",""),target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-stone-900 text-white px-8 py-3 hover:bg-stone-800 transition-colors duration-300 font-light w-full sm:w-auto text-center",children:"Chat on WhatsApp"}),b.jsx("a",{href:"tel:0661043677",className:"inline-block bg-stone-100 text-stone-900 px-8 py-3 hover:bg-stone-200 transition-colors duration-300 font-light w-full sm:w-auto text-center",children:"Call +27 66 104 3677"})]}),b.jsx("p",{className:"text-stone-500 text-sm",children:"Professional nail services  Expert care  Premium products"})]})]})})]})]})};function x5(){const t=Vn();return w.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]),b.jsxs(b.Fragment,{children:[b.jsx(jI,{}),b.jsxs(tN,{children:[b.jsx(jr,{path:"/",element:b.jsx(UI,{})}),b.jsx(jr,{path:"/designs",element:b.jsx(FP,{})}),b.jsx(jr,{path:"/faq",element:b.jsx(qP,{})}),b.jsx(jr,{path:"/admin",element:b.jsx(S5,{})}),b.jsx(jr,{path:"/services",element:b.jsx(T5,{})})]})]})}hR.createRoot(document.getElementById("root")).render(b.jsx(w.StrictMode,{children:b.jsx(wN,{children:b.jsx(x5,{})})}));
