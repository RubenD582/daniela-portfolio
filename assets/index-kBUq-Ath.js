(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();var ih={exports:{}},Aa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function F1(){if(ey)return Aa;ey=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:i,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Aa.Fragment=e,Aa.jsx=s,Aa.jsxs=s,Aa}var ty;function G1(){return ty||(ty=1,ih.exports=F1()),ih.exports}var _=G1(),sh={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function Y1(){if(ny)return oe;ny=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function b(T){return T===null||typeof T!="object"?null:(T=E&&T[E]||T["@@iterator"],typeof T=="function"?T:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function k(T,B,ne){this.props=T,this.context=B,this.refs=D,this.updater=ne||w}k.prototype.isReactComponent={},k.prototype.setState=function(T,B){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,B,"setState")},k.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function L(){}L.prototype=k.prototype;function P(T,B,ne){this.props=T,this.context=B,this.refs=D,this.updater=ne||w}var M=P.prototype=new L;M.constructor=P,C(M,k.prototype),M.isPureReactComponent=!0;var G=Array.isArray,Y={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function be(T,B,ne,J,$,ye){return ne=ye.ref,{$$typeof:i,type:T,key:B,ref:ne!==void 0?ne:null,props:ye}}function Q(T,B){return be(T.type,B,void 0,void 0,void 0,T.props)}function q(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function Z(T){var B={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ne){return B[ne]})}var _e=/\/+/g;function Tt(T,B){return typeof T=="object"&&T!==null&&T.key!=null?Z(""+T.key):B.toString(36)}function Ue(){}function It(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Ue,Ue):(T.status="pending",T.then(function(B){T.status==="pending"&&(T.status="fulfilled",T.value=B)},function(B){T.status==="pending"&&(T.status="rejected",T.reason=B)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Be(T,B,ne,J,$){var ye=typeof T;(ye==="undefined"||ye==="boolean")&&(T=null);var ce=!1;if(T===null)ce=!0;else switch(ye){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(T.$$typeof){case i:case e:ce=!0;break;case y:return ce=T._init,Be(ce(T._payload),B,ne,J,$)}}if(ce)return $=$(T),ce=J===""?"."+Tt(T,0):J,G($)?(ne="",ce!=null&&(ne=ce.replace(_e,"$&/")+"/"),Be($,B,ne,"",function(Ke){return Ke})):$!=null&&(q($)&&($=Q($,ne+($.key==null||T&&T.key===$.key?"":(""+$.key).replace(_e,"$&/")+"/")+ce)),B.push($)),1;ce=0;var _t=J===""?".":J+":";if(G(T))for(var Te=0;Te<T.length;Te++)J=T[Te],ye=_t+Tt(J,Te),ce+=Be(J,B,ne,ye,$);else if(Te=b(T),typeof Te=="function")for(T=Te.call(T),Te=0;!(J=T.next()).done;)J=J.value,ye=_t+Tt(J,Te++),ce+=Be(J,B,ne,ye,$);else if(ye==="object"){if(typeof T.then=="function")return Be(It(T),B,ne,J,$);throw B=String(T),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ce}function F(T,B,ne){if(T==null)return T;var J=[],$=0;return Be(T,J,"","",function(ye){return B.call(ne,ye,$++)}),J}function le(T){if(T._status===-1){var B=T._result;B=B(),B.then(function(ne){(T._status===0||T._status===-1)&&(T._status=1,T._result=ne)},function(ne){(T._status===0||T._status===-1)&&(T._status=2,T._result=ne)}),T._status===-1&&(T._status=0,T._result=B)}if(T._status===1)return T._result.default;throw T._result}var re=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Oe(){}return oe.Children={map:F,forEach:function(T,B,ne){F(T,function(){B.apply(this,arguments)},ne)},count:function(T){var B=0;return F(T,function(){B++}),B},toArray:function(T){return F(T,function(B){return B})||[]},only:function(T){if(!q(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},oe.Component=k,oe.Fragment=s,oe.Profiler=l,oe.PureComponent=P,oe.StrictMode=r,oe.Suspense=m,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},oe.cache=function(T){return function(){return T.apply(null,arguments)}},oe.cloneElement=function(T,B,ne){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var J=C({},T.props),$=T.key,ye=void 0;if(B!=null)for(ce in B.ref!==void 0&&(ye=void 0),B.key!==void 0&&($=""+B.key),B)!ee.call(B,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&B.ref===void 0||(J[ce]=B[ce]);var ce=arguments.length-2;if(ce===1)J.children=ne;else if(1<ce){for(var _t=Array(ce),Te=0;Te<ce;Te++)_t[Te]=arguments[Te+2];J.children=_t}return be(T.type,$,void 0,void 0,ye,J)},oe.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:c,_context:T},T},oe.createElement=function(T,B,ne){var J,$={},ye=null;if(B!=null)for(J in B.key!==void 0&&(ye=""+B.key),B)ee.call(B,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&($[J]=B[J]);var ce=arguments.length-2;if(ce===1)$.children=ne;else if(1<ce){for(var _t=Array(ce),Te=0;Te<ce;Te++)_t[Te]=arguments[Te+2];$.children=_t}if(T&&T.defaultProps)for(J in ce=T.defaultProps,ce)$[J]===void 0&&($[J]=ce[J]);return be(T,ye,void 0,void 0,null,$)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(T){return{$$typeof:f,render:T}},oe.isValidElement=q,oe.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:le}},oe.memo=function(T,B){return{$$typeof:p,type:T,compare:B===void 0?null:B}},oe.startTransition=function(T){var B=Y.T,ne={};Y.T=ne;try{var J=T(),$=Y.S;$!==null&&$(ne,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Oe,re)}catch(ye){re(ye)}finally{Y.T=B}},oe.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},oe.use=function(T){return Y.H.use(T)},oe.useActionState=function(T,B,ne){return Y.H.useActionState(T,B,ne)},oe.useCallback=function(T,B){return Y.H.useCallback(T,B)},oe.useContext=function(T){return Y.H.useContext(T)},oe.useDebugValue=function(){},oe.useDeferredValue=function(T,B){return Y.H.useDeferredValue(T,B)},oe.useEffect=function(T,B){return Y.H.useEffect(T,B)},oe.useId=function(){return Y.H.useId()},oe.useImperativeHandle=function(T,B,ne){return Y.H.useImperativeHandle(T,B,ne)},oe.useInsertionEffect=function(T,B){return Y.H.useInsertionEffect(T,B)},oe.useLayoutEffect=function(T,B){return Y.H.useLayoutEffect(T,B)},oe.useMemo=function(T,B){return Y.H.useMemo(T,B)},oe.useOptimistic=function(T,B){return Y.H.useOptimistic(T,B)},oe.useReducer=function(T,B,ne){return Y.H.useReducer(T,B,ne)},oe.useRef=function(T){return Y.H.useRef(T)},oe.useState=function(T){return Y.H.useState(T)},oe.useSyncExternalStore=function(T,B,ne){return Y.H.useSyncExternalStore(T,B,ne)},oe.useTransition=function(){return Y.H.useTransition()},oe.version="19.0.0",oe}var iy;function nf(){return iy||(iy=1,sh.exports=Y1()),sh.exports}var N=nf(),rh={exports:{}},Oa={},ah={exports:{}},lh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function $1(){return sy||(sy=1,function(i){function e(F,le){var re=F.length;F.push(le);e:for(;0<re;){var Oe=re-1>>>1,T=F[Oe];if(0<l(T,le))F[Oe]=le,F[re]=T,re=Oe;else break e}}function s(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var le=F[0],re=F.pop();if(re!==le){F[0]=re;e:for(var Oe=0,T=F.length,B=T>>>1;Oe<B;){var ne=2*(Oe+1)-1,J=F[ne],$=ne+1,ye=F[$];if(0>l(J,re))$<T&&0>l(ye,J)?(F[Oe]=ye,F[$]=re,Oe=$):(F[Oe]=J,F[ne]=re,Oe=ne);else if($<T&&0>l(ye,re))F[Oe]=ye,F[$]=re,Oe=$;else break e}}return le}function l(F,le){var re=F.sortIndex-le.sortIndex;return re!==0?re:F.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();i.unstable_now=function(){return d.now()-f}}var m=[],p=[],y=1,E=null,b=3,w=!1,C=!1,D=!1,k=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function M(F){for(var le=s(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=F)r(p),le.sortIndex=le.expirationTime,e(m,le);else break;le=s(p)}}function G(F){if(D=!1,M(F),!C)if(s(m)!==null)C=!0,It();else{var le=s(p);le!==null&&Be(G,le.startTime-F)}}var Y=!1,ee=-1,be=5,Q=-1;function q(){return!(i.unstable_now()-Q<be)}function Z(){if(Y){var F=i.unstable_now();Q=F;var le=!0;try{e:{C=!1,D&&(D=!1,L(ee),ee=-1),w=!0;var re=b;try{t:{for(M(F),E=s(m);E!==null&&!(E.expirationTime>F&&q());){var Oe=E.callback;if(typeof Oe=="function"){E.callback=null,b=E.priorityLevel;var T=Oe(E.expirationTime<=F);if(F=i.unstable_now(),typeof T=="function"){E.callback=T,M(F),le=!0;break t}E===s(m)&&r(m),M(F)}else r(m);E=s(m)}if(E!==null)le=!0;else{var B=s(p);B!==null&&Be(G,B.startTime-F),le=!1}}break e}finally{E=null,b=re,w=!1}le=void 0}}finally{le?_e():Y=!1}}}var _e;if(typeof P=="function")_e=function(){P(Z)};else if(typeof MessageChannel<"u"){var Tt=new MessageChannel,Ue=Tt.port2;Tt.port1.onmessage=Z,_e=function(){Ue.postMessage(null)}}else _e=function(){k(Z,0)};function It(){Y||(Y=!0,_e())}function Be(F,le){ee=k(function(){F(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_continueExecution=function(){C||w||(C=!0,It())},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_getFirstCallbackNode=function(){return s(m)},i.unstable_next=function(F){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var re=b;b=le;try{return F()}finally{b=re}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(F,le){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var re=b;b=F;try{return le()}finally{b=re}},i.unstable_scheduleCallback=function(F,le,re){var Oe=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Oe+re:Oe):re=Oe,F){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=re+T,F={id:y++,callback:le,priorityLevel:F,startTime:re,expirationTime:T,sortIndex:-1},re>Oe?(F.sortIndex=re,e(p,F),s(m)===null&&F===s(p)&&(D?(L(ee),ee=-1):D=!0,Be(G,re-Oe))):(F.sortIndex=T,e(m,F),C||w||(C=!0,It())),F},i.unstable_shouldYield=q,i.unstable_wrapCallback=function(F){var le=b;return function(){var re=b;b=le;try{return F.apply(this,arguments)}finally{b=re}}}}(lh)),lh}var ry;function W1(){return ry||(ry=1,ah.exports=$1()),ah.exports}var oh={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function K1(){if(ay)return pt;ay=1;var i=nf();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,p,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:m,containerInfo:p,implementation:y}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pt.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(m,p,null,y)},pt.flushSync=function(m){var p=d.T,y=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=p,r.p=y,r.d.f()}},pt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},pt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},pt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,E=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:w}):y==="script"&&r.d.X(m,{crossOrigin:E,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},pt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,E=f(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pt.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},pt.requestFormReset=function(m){r.d.r(m)},pt.unstable_batchedUpdates=function(m,p){return m(p)},pt.useFormState=function(m,p,y){return d.H.useFormState(m,p,y)},pt.useFormStatus=function(){return d.H.useHostTransitionStatus()},pt.version="19.0.0",pt}var ly;function Q1(){if(ly)return oh.exports;ly=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),oh.exports=K1(),oh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function X1(){if(oy)return Oa;oy=1;var i=W1(),e=nf(),s=Q1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),G=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function ee(t){return t===null||typeof t!="object"?null:(t=Y&&t[Y]||t["@@iterator"],typeof t=="function"?t:null)}var be=Symbol.for("react.client.reference");function Q(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===be?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case m:return"Fragment";case f:return"Portal";case y:return"Profiler";case p:return"StrictMode";case D:return"Suspense";case k:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case w:return(t.displayName||"Context")+".Provider";case b:return(t._context.displayName||"Context")+".Consumer";case C:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return n=t.displayName||null,n!==null?n:Q(t.type)||"Memo";case P:n=t._payload,t=t._init;try{return Q(t(n))}catch{}}return null}var q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=Object.assign,_e,Tt;function Ue(t){if(_e===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);_e=n&&n[1]||"",Tt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+t+Tt}var It=!1;function Be(t,n){if(!t||It)return"";It=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(U){var I=U}Reflect.construct(t,[],H)}else{try{H.call()}catch(U){I=U}t.call(H.prototype)}}else{try{throw Error()}catch(U){I=U}(H=t())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(U){if(U&&I&&typeof U.stack=="string")return[U.stack,I.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),g=h[0],v=h[1];if(g&&v){var S=g.split(`
`),R=v.split(`
`);for(u=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(o===S.length||u===R.length)for(o=S.length-1,u=R.length-1;1<=o&&0<=u&&S[o]!==R[u];)u--;for(;1<=o&&0<=u;o--,u--)if(S[o]!==R[u]){if(o!==1||u!==1)do if(o--,u--,0>u||S[o]!==R[u]){var j=`
`+S[o].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=o&&0<=u);break}}}finally{It=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ue(a):""}function F(t){switch(t.tag){case 26:case 27:case 5:return Ue(t.type);case 16:return Ue("Lazy");case 13:return Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return t=Be(t.type,!1),t;case 11:return t=Be(t.type.render,!1),t;case 1:return t=Be(t.type,!0),t;default:return""}}function le(t){try{var n="";do n+=F(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function re(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function Oe(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function T(t){if(re(t)!==t)throw Error(r(188))}function B(t){var n=t.alternate;if(!n){if(n=re(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var u=a.return;if(u===null)break;var h=u.alternate;if(h===null){if(o=u.return,o!==null){a=o;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===a)return T(u),t;if(h===o)return T(u),n;h=h.sibling}throw Error(r(188))}if(a.return!==o.return)a=u,o=h;else{for(var g=!1,v=u.child;v;){if(v===a){g=!0,a=u,o=h;break}if(v===o){g=!0,o=u,a=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===a){g=!0,a=h,o=u;break}if(v===o){g=!0,o=h,a=u;break}v=v.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function ne(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ne(t),n!==null)return n;t=t.sibling}return null}var J=Array.isArray,$=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ce=[],_t=-1;function Te(t){return{current:t}}function Ke(t){0>_t||(t.current=ce[_t],ce[_t]=null,_t--)}function Le(t,n){_t++,ce[_t]=t.current,t.current=n}var hn=Te(null),Ir=Te(null),ei=Te(null),Sl=Te(null);function wl(t,n){switch(Le(ei,n),Le(Ir,t),Le(hn,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?A_(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=A_(t),n=O_(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Ke(hn),Le(hn,n)}function Ns(){Ke(hn),Ke(Ir),Ke(ei)}function Wc(t){t.memoizedState!==null&&Le(Sl,t);var n=hn.current,a=O_(n,t.type);n!==a&&(Le(Ir,t),Le(hn,a))}function Tl(t){Ir.current===t&&(Ke(hn),Ke(Ir)),Sl.current===t&&(Ke(Sl),Ta._currentValue=ye)}var Kc=Object.prototype.hasOwnProperty,Qc=i.unstable_scheduleCallback,Xc=i.unstable_cancelCallback,SE=i.unstable_shouldYield,wE=i.unstable_requestPaint,fn=i.unstable_now,TE=i.unstable_getCurrentPriorityLevel,ym=i.unstable_ImmediatePriority,vm=i.unstable_UserBlockingPriority,xl=i.unstable_NormalPriority,xE=i.unstable_LowPriority,bm=i.unstable_IdlePriority,CE=i.log,RE=i.unstable_setDisableYieldValue,kr=null,kt=null;function NE(t){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(kr,t,void 0,(t.current.flags&128)===128)}catch{}}function ti(t){if(typeof CE=="function"&&RE(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(kr,t)}catch{}}var Mt=Math.clz32?Math.clz32:DE,AE=Math.log,OE=Math.LN2;function DE(t){return t>>>=0,t===0?32:31-(AE(t)/OE|0)|0}var Cl=128,Rl=4194304;function zi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nl(t,n){var a=t.pendingLanes;if(a===0)return 0;var o=0,u=t.suspendedLanes,h=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var v=a&134217727;return v!==0?(a=v&~u,a!==0?o=zi(a):(h&=v,h!==0?o=zi(h):t||(g=v&~g,g!==0&&(o=zi(g))))):(v=a&~u,v!==0?o=zi(v):h!==0?o=zi(h):t||(g=a&~g,g!==0&&(o=zi(g)))),o===0?0:n!==0&&n!==o&&!(n&u)&&(u=o&-o,g=n&-n,u>=g||u===32&&(g&4194176)!==0)?n:o}function Mr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function IE(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Em(){var t=Cl;return Cl<<=1,!(Cl&4194176)&&(Cl=128),t}function Sm(){var t=Rl;return Rl<<=1,!(Rl&62914560)&&(Rl=4194304),t}function Zc(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Lr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kE(t,n,a,o,u,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,S=t.expirationTimes,R=t.hiddenUpdates;for(a=g&~a;0<a;){var j=31-Mt(a),H=1<<j;v[j]=0,S[j]=-1;var I=R[j];if(I!==null)for(R[j]=null,j=0;j<I.length;j++){var U=I[j];U!==null&&(U.lane&=-536870913)}a&=~H}o!==0&&wm(t,o,0),h!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function wm(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Mt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194218}function Tm(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Mt(a),u=1<<o;u&n|t[o]&n&&(t[o]|=n),a&=~u}}function xm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Cm(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:W_(t.type))}function ME(t,n){var a=$.p;try{return $.p=t,n()}finally{$.p=a}}var ni=Math.random().toString(36).slice(2),ft="__reactFiber$"+ni,xt="__reactProps$"+ni,As="__reactContainer$"+ni,Jc="__reactEvents$"+ni,LE="__reactListeners$"+ni,UE="__reactHandles$"+ni,Rm="__reactResources$"+ni,Ur="__reactMarker$"+ni;function eu(t){delete t[ft],delete t[xt],delete t[Jc],delete t[LE],delete t[UE]}function Hi(t){var n=t[ft];if(n)return n;for(var a=t.parentNode;a;){if(n=a[As]||a[ft]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=k_(t);t!==null;){if(a=t[ft])return a;t=k_(t)}return n}t=a,a=t.parentNode}return null}function Os(t){if(t=t[ft]||t[As]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function jr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ds(t){var n=t[Rm];return n||(n=t[Rm]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function nt(t){t[Ur]=!0}var Nm=new Set,Am={};function Bi(t,n){Is(t,n),Is(t+"Capture",n)}function Is(t,n){for(Am[t]=n,t=0;t<n.length;t++)Nm.add(n[t])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Om={},Dm={};function PE(t){return Kc.call(Dm,t)?!0:Kc.call(Om,t)?!1:jE.test(t)?Dm[t]=!0:(Om[t]=!0,!1)}function Al(t,n,a){if(PE(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Ol(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Cn(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Im(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zE(t){var n=Im(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,h=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){o=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Dl(t){t._valueTracker||(t._valueTracker=zE(t))}function km(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Im(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Il(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var HE=/[\n"\\]/g;function Bt(t){return t.replace(HE,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function tu(t,n,a,o,u,h,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ht(n)):t.value!==""+Ht(n)&&(t.value=""+Ht(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?nu(t,g,Ht(n)):a!=null?nu(t,g,Ht(a)):o!=null&&t.removeAttribute("value"),u==null&&h!=null&&(t.defaultChecked=!!h),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+Ht(v):t.removeAttribute("name")}function Mm(t,n,a,o,u,h,g,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;a=a!=null?""+Ht(a):"",n=n!=null?""+Ht(n):a,v||n===t.value||(t.value=n),t.defaultValue=n}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=v?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function nu(t,n,a){n==="number"&&Il(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ks(t,n,a,o){if(t=t.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=n.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),n=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function Lm(t,n,a){if(n!=null&&(n=""+Ht(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ht(a):""}function Um(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(J(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ht(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Ms(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var BE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jm(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||BE.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Pm(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in n)o=n[u],n.hasOwnProperty(u)&&a[u]!==o&&jm(t,u,o)}else for(var h in n)n.hasOwnProperty(h)&&jm(t,h,n[h])}function iu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),VE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kl(t){return VE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var su=null;function ru(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ls=null,Us=null;function zm(t){var n=Os(t);if(n&&(t=n.stateNode)){var a=t[xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(tu(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Bt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var u=o[xt]||null;if(!u)throw Error(r(90));tu(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&km(o)}break e;case"textarea":Lm(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ks(t,!!a.multiple,n,!1)}}}var au=!1;function Hm(t,n,a){if(au)return t(n,a);au=!0;try{var o=t(n);return o}finally{if(au=!1,(Ls!==null||Us!==null)&&(_o(),Ls&&(n=Ls,t=Us,Us=Ls=null,zm(n),t)))for(n=0;n<t.length;n++)zm(t[n])}}function Pr(t,n){var a=t.stateNode;if(a===null)return null;var o=a[xt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var lu=!1;if(xn)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){lu=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{lu=!1}var ii=null,ou=null,Ml=null;function Bm(){if(Ml)return Ml;var t,n=ou,a=n.length,o,u="value"in ii?ii.value:ii.textContent,h=u.length;for(t=0;t<a&&n[t]===u[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===u[h-o];o++);return Ml=u.slice(t,1<o?1-o:void 0)}function Ll(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ul(){return!0}function qm(){return!1}function Ct(t){function n(a,o,u,h,g){this._reactName=a,this._targetInst=u,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ul:qm,this.isPropagationStopped=qm,this}return Z(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Ct(qi),Hr=Z({},qi,{view:0,detail:0}),FE=Ct(Hr),cu,uu,Br,Pl=Z({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(cu=t.screenX-Br.screenX,uu=t.screenY-Br.screenY):uu=cu=0,Br=t),cu)},movementY:function(t){return"movementY"in t?t.movementY:uu}}),Vm=Ct(Pl),GE=Z({},Pl,{dataTransfer:0}),YE=Ct(GE),$E=Z({},Hr,{relatedTarget:0}),du=Ct($E),WE=Z({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),KE=Ct(WE),QE=Z({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XE=Ct(QE),ZE=Z({},qi,{data:0}),Fm=Ct(ZE),JE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nS(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=tS[t])?!!n[t]:!1}function hu(){return nS}var iS=Z({},Hr,{key:function(t){if(t.key){var n=JE[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(t){return t.type==="keypress"?Ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sS=Ct(iS),rS=Z({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gm=Ct(rS),aS=Z({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),lS=Ct(aS),oS=Z({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),cS=Ct(oS),uS=Z({},Pl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dS=Ct(uS),hS=Z({},qi,{newState:0,oldState:0}),fS=Ct(hS),mS=[9,13,27,32],fu=xn&&"CompositionEvent"in window,qr=null;xn&&"documentMode"in document&&(qr=document.documentMode);var pS=xn&&"TextEvent"in window&&!qr,Ym=xn&&(!fu||qr&&8<qr&&11>=qr),$m=" ",Wm=!1;function Km(t,n){switch(t){case"keyup":return mS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var js=!1;function gS(t,n){switch(t){case"compositionend":return Qm(n);case"keypress":return n.which!==32?null:(Wm=!0,$m);case"textInput":return t=n.data,t===$m&&Wm?null:t;default:return null}}function _S(t,n){if(js)return t==="compositionend"||!fu&&Km(t,n)?(t=Bm(),Ml=ou=ii=null,js=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ym&&n.locale!=="ko"?null:n.data;default:return null}}var yS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!yS[t.type]:n==="textarea"}function Zm(t,n,a,o){Ls?Us?Us.push(o):Us=[o]:Ls=o,n=So(n,"onChange"),0<n.length&&(a=new jl("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Vr=null,Fr=null;function vS(t){T_(t,0)}function zl(t){var n=jr(t);if(km(n))return t}function Jm(t,n){if(t==="change")return n}var ep=!1;if(xn){var mu;if(xn){var pu="oninput"in document;if(!pu){var tp=document.createElement("div");tp.setAttribute("oninput","return;"),pu=typeof tp.oninput=="function"}mu=pu}else mu=!1;ep=mu&&(!document.documentMode||9<document.documentMode)}function np(){Vr&&(Vr.detachEvent("onpropertychange",ip),Fr=Vr=null)}function ip(t){if(t.propertyName==="value"&&zl(Fr)){var n=[];Zm(n,Fr,t,ru(t)),Hm(vS,n)}}function bS(t,n,a){t==="focusin"?(np(),Vr=n,Fr=a,Vr.attachEvent("onpropertychange",ip)):t==="focusout"&&np()}function ES(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zl(Fr)}function SS(t,n){if(t==="click")return zl(n)}function wS(t,n){if(t==="input"||t==="change")return zl(n)}function TS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Lt=typeof Object.is=="function"?Object.is:TS;function Gr(t,n){if(Lt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var u=a[o];if(!Kc.call(n,u)||!Lt(t[u],n[u]))return!1}return!0}function sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rp(t,n){var a=sp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sp(a)}}function ap(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ap(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function lp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Il(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Il(t.document)}return n}function gu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function xS(t,n){var a=lp(n);n=t.focusedElem;var o=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&ap(n.ownerDocument.documentElement,n)){if(o!==null&&gu(n)){if(t=o.start,a=o.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var u=n.textContent.length,h=Math.min(o.start,u);o=o.end===void 0?h:Math.min(o.end,u),!a.extend&&h>o&&(u=o,o=h,h=u),u=rp(n,h);var g=rp(n,o);u&&g&&(a.rangeCount!==1||a.anchorNode!==u.node||a.anchorOffset!==u.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),a.removeAllRanges(),h>o?(a.addRange(t),a.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var CS=xn&&"documentMode"in document&&11>=document.documentMode,Ps=null,_u=null,Yr=null,yu=!1;function op(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yu||Ps==null||Ps!==Il(o)||(o=Ps,"selectionStart"in o&&gu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yr&&Gr(Yr,o)||(Yr=o,o=So(_u,"onSelect"),0<o.length&&(n=new jl("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Ps)))}function Vi(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var zs={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},vu={},cp={};xn&&(cp=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Fi(t){if(vu[t])return vu[t];if(!zs[t])return t;var n=zs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in cp)return vu[t]=n[a];return t}var up=Fi("animationend"),dp=Fi("animationiteration"),hp=Fi("animationstart"),RS=Fi("transitionrun"),NS=Fi("transitionstart"),AS=Fi("transitioncancel"),fp=Fi("transitionend"),mp=new Map,pp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Jt(t,n){mp.set(t,n),Bi(n,[t])}var qt=[],Hs=0,bu=0;function Hl(){for(var t=Hs,n=bu=Hs=0;n<t;){var a=qt[n];qt[n++]=null;var o=qt[n];qt[n++]=null;var u=qt[n];qt[n++]=null;var h=qt[n];if(qt[n++]=null,o!==null&&u!==null){var g=o.pending;g===null?u.next=u:(u.next=g.next,g.next=u),o.pending=u}h!==0&&gp(a,u,h)}}function Bl(t,n,a,o){qt[Hs++]=t,qt[Hs++]=n,qt[Hs++]=a,qt[Hs++]=o,bu|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Eu(t,n,a,o){return Bl(t,n,a,o),ql(t)}function si(t,n){return Bl(t,null,null,n),ql(t)}function gp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var u=!1,h=t.return;h!==null;)h.childLanes|=a,o=h.alternate,o!==null&&(o.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(u=!0)),t=h,h=h.return;u&&n!==null&&t.tag===3&&(h=t.stateNode,u=31-Mt(a),h=h.hiddenUpdates,t=h[u],t===null?h[u]=[n]:t.push(n),n.lane=a|536870912)}function ql(t){if(50<_a)throw _a=0,Rd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Bs={},_p=new WeakMap;function Vt(t,n){if(typeof t=="object"&&t!==null){var a=_p.get(t);return a!==void 0?a:(n={value:t,source:n,stack:le(n)},_p.set(t,n),n)}return{value:t,source:n,stack:le(n)}}var qs=[],Vs=0,Vl=null,Fl=0,Ft=[],Gt=0,Gi=null,Rn=1,Nn="";function Yi(t,n){qs[Vs++]=Fl,qs[Vs++]=Vl,Vl=t,Fl=n}function yp(t,n,a){Ft[Gt++]=Rn,Ft[Gt++]=Nn,Ft[Gt++]=Gi,Gi=t;var o=Rn;t=Nn;var u=32-Mt(o)-1;o&=~(1<<u),a+=1;var h=32-Mt(n)+u;if(30<h){var g=u-u%5;h=(o&(1<<g)-1).toString(32),o>>=g,u-=g,Rn=1<<32-Mt(n)+u|a<<u|o,Nn=h+t}else Rn=1<<h|a<<u|o,Nn=t}function Su(t){t.return!==null&&(Yi(t,1),yp(t,1,0))}function wu(t){for(;t===Vl;)Vl=qs[--Vs],qs[Vs]=null,Fl=qs[--Vs],qs[Vs]=null;for(;t===Gi;)Gi=Ft[--Gt],Ft[Gt]=null,Nn=Ft[--Gt],Ft[Gt]=null,Rn=Ft[--Gt],Ft[Gt]=null}var yt=null,ut=null,Ee=!1,en=null,mn=!1,Tu=Error(r(519));function $i(t){var n=Error(r(418,""));throw Kr(Vt(n,t)),Tu}function vp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[ft]=t,n[xt]=o,a){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(a=0;a<va.length;a++)ge(va[a],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":ge("invalid",n),Mm(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Dl(n);break;case"select":ge("invalid",n);break;case"textarea":ge("invalid",n),Um(n,o.value,o.defaultValue,o.children),Dl(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||N_(n.textContent,a)?(o.popover!=null&&(ge("beforetoggle",n),ge("toggle",n)),o.onScroll!=null&&ge("scroll",n),o.onScrollEnd!=null&&ge("scrollend",n),o.onClick!=null&&(n.onclick=wo),n=!0):n=!1,n||$i(t)}function bp(t){for(yt=t.return;yt;)switch(yt.tag){case 3:case 27:mn=!0;return;case 5:case 13:mn=!1;return;default:yt=yt.return}}function $r(t){if(t!==yt)return!1;if(!Ee)return bp(t),Ee=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Fd(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&ut&&$i(t),bp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){ut=nn(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}ut=null}}else ut=yt?nn(t.stateNode.nextSibling):null;return!0}function Wr(){ut=yt=null,Ee=!1}function Kr(t){en===null?en=[t]:en.push(t)}var Qr=Error(r(460)),Ep=Error(r(474)),xu={then:function(){}};function Sp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gl(){}function wp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Gl,Gl),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Qr?Error(r(483)):t;default:if(typeof n.status=="string")n.then(Gl,Gl);else{if(t=De,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=o}},function(o){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Qr?Error(r(483)):t}throw Xr=n,Qr}}var Xr=null;function Tp(){if(Xr===null)throw Error(r(459));var t=Xr;return Xr=null,t}var Fs=null,Zr=0;function Yl(t){var n=Zr;return Zr+=1,Fs===null&&(Fs=[]),wp(Fs,t,n)}function Jr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $l(t,n){throw n.$$typeof===c?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function xp(t){var n=t._init;return n(t._payload)}function Cp(t){function n(A,x){if(t){var O=A.deletions;O===null?(A.deletions=[x],A.flags|=16):O.push(x)}}function a(A,x){if(!t)return null;for(;x!==null;)n(A,x),x=x.sibling;return null}function o(A){for(var x=new Map;A!==null;)A.key!==null?x.set(A.key,A):x.set(A.index,A),A=A.sibling;return x}function u(A,x){return A=gi(A,x),A.index=0,A.sibling=null,A}function h(A,x,O){return A.index=O,t?(O=A.alternate,O!==null?(O=O.index,O<x?(A.flags|=33554434,x):O):(A.flags|=33554434,x)):(A.flags|=1048576,x)}function g(A){return t&&A.alternate===null&&(A.flags|=33554434),A}function v(A,x,O,z){return x===null||x.tag!==6?(x=vd(O,A.mode,z),x.return=A,x):(x=u(x,O),x.return=A,x)}function S(A,x,O,z){var W=O.type;return W===m?j(A,x,O.props.children,z,O.key):x!==null&&(x.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===P&&xp(W)===x.type)?(x=u(x,O.props),Jr(x,O),x.return=A,x):(x=ho(O.type,O.key,O.props,null,A.mode,z),Jr(x,O),x.return=A,x)}function R(A,x,O,z){return x===null||x.tag!==4||x.stateNode.containerInfo!==O.containerInfo||x.stateNode.implementation!==O.implementation?(x=bd(O,A.mode,z),x.return=A,x):(x=u(x,O.children||[]),x.return=A,x)}function j(A,x,O,z,W){return x===null||x.tag!==7?(x=is(O,A.mode,z,W),x.return=A,x):(x=u(x,O),x.return=A,x)}function H(A,x,O){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=vd(""+x,A.mode,O),x.return=A,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case d:return O=ho(x.type,x.key,x.props,null,A.mode,O),Jr(O,x),O.return=A,O;case f:return x=bd(x,A.mode,O),x.return=A,x;case P:var z=x._init;return x=z(x._payload),H(A,x,O)}if(J(x)||ee(x))return x=is(x,A.mode,O,null),x.return=A,x;if(typeof x.then=="function")return H(A,Yl(x),O);if(x.$$typeof===w)return H(A,oo(A,x),O);$l(A,x)}return null}function I(A,x,O,z){var W=x!==null?x.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return W!==null?null:v(A,x,""+O,z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case d:return O.key===W?S(A,x,O,z):null;case f:return O.key===W?R(A,x,O,z):null;case P:return W=O._init,O=W(O._payload),I(A,x,O,z)}if(J(O)||ee(O))return W!==null?null:j(A,x,O,z,null);if(typeof O.then=="function")return I(A,x,Yl(O),z);if(O.$$typeof===w)return I(A,x,oo(A,O),z);$l(A,O)}return null}function U(A,x,O,z,W){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return A=A.get(O)||null,v(x,A,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case d:return A=A.get(z.key===null?O:z.key)||null,S(x,A,z,W);case f:return A=A.get(z.key===null?O:z.key)||null,R(x,A,z,W);case P:var de=z._init;return z=de(z._payload),U(A,x,O,z,W)}if(J(z)||ee(z))return A=A.get(O)||null,j(x,A,z,W,null);if(typeof z.then=="function")return U(A,x,O,Yl(z),W);if(z.$$typeof===w)return U(A,x,O,oo(x,z),W);$l(x,z)}return null}function K(A,x,O,z){for(var W=null,de=null,X=x,te=x=0,rt=null;X!==null&&te<O.length;te++){X.index>te?(rt=X,X=null):rt=X.sibling;var Se=I(A,X,O[te],z);if(Se===null){X===null&&(X=rt);break}t&&X&&Se.alternate===null&&n(A,X),x=h(Se,x,te),de===null?W=Se:de.sibling=Se,de=Se,X=rt}if(te===O.length)return a(A,X),Ee&&Yi(A,te),W;if(X===null){for(;te<O.length;te++)X=H(A,O[te],z),X!==null&&(x=h(X,x,te),de===null?W=X:de.sibling=X,de=X);return Ee&&Yi(A,te),W}for(X=o(X);te<O.length;te++)rt=U(X,A,te,O[te],z),rt!==null&&(t&&rt.alternate!==null&&X.delete(rt.key===null?te:rt.key),x=h(rt,x,te),de===null?W=rt:de.sibling=rt,de=rt);return t&&X.forEach(function(wi){return n(A,wi)}),Ee&&Yi(A,te),W}function ae(A,x,O,z){if(O==null)throw Error(r(151));for(var W=null,de=null,X=x,te=x=0,rt=null,Se=O.next();X!==null&&!Se.done;te++,Se=O.next()){X.index>te?(rt=X,X=null):rt=X.sibling;var wi=I(A,X,Se.value,z);if(wi===null){X===null&&(X=rt);break}t&&X&&wi.alternate===null&&n(A,X),x=h(wi,x,te),de===null?W=wi:de.sibling=wi,de=wi,X=rt}if(Se.done)return a(A,X),Ee&&Yi(A,te),W;if(X===null){for(;!Se.done;te++,Se=O.next())Se=H(A,Se.value,z),Se!==null&&(x=h(Se,x,te),de===null?W=Se:de.sibling=Se,de=Se);return Ee&&Yi(A,te),W}for(X=o(X);!Se.done;te++,Se=O.next())Se=U(X,A,te,Se.value,z),Se!==null&&(t&&Se.alternate!==null&&X.delete(Se.key===null?te:Se.key),x=h(Se,x,te),de===null?W=Se:de.sibling=Se,de=Se);return t&&X.forEach(function(V1){return n(A,V1)}),Ee&&Yi(A,te),W}function Fe(A,x,O,z){if(typeof O=="object"&&O!==null&&O.type===m&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case d:e:{for(var W=O.key;x!==null;){if(x.key===W){if(W=O.type,W===m){if(x.tag===7){a(A,x.sibling),z=u(x,O.props.children),z.return=A,A=z;break e}}else if(x.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===P&&xp(W)===x.type){a(A,x.sibling),z=u(x,O.props),Jr(z,O),z.return=A,A=z;break e}a(A,x);break}else n(A,x);x=x.sibling}O.type===m?(z=is(O.props.children,A.mode,z,O.key),z.return=A,A=z):(z=ho(O.type,O.key,O.props,null,A.mode,z),Jr(z,O),z.return=A,A=z)}return g(A);case f:e:{for(W=O.key;x!==null;){if(x.key===W)if(x.tag===4&&x.stateNode.containerInfo===O.containerInfo&&x.stateNode.implementation===O.implementation){a(A,x.sibling),z=u(x,O.children||[]),z.return=A,A=z;break e}else{a(A,x);break}else n(A,x);x=x.sibling}z=bd(O,A.mode,z),z.return=A,A=z}return g(A);case P:return W=O._init,O=W(O._payload),Fe(A,x,O,z)}if(J(O))return K(A,x,O,z);if(ee(O)){if(W=ee(O),typeof W!="function")throw Error(r(150));return O=W.call(O),ae(A,x,O,z)}if(typeof O.then=="function")return Fe(A,x,Yl(O),z);if(O.$$typeof===w)return Fe(A,x,oo(A,O),z);$l(A,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,x!==null&&x.tag===6?(a(A,x.sibling),z=u(x,O),z.return=A,A=z):(a(A,x),z=vd(O,A.mode,z),z.return=A,A=z),g(A)):a(A,x)}return function(A,x,O,z){try{Zr=0;var W=Fe(A,x,O,z);return Fs=null,W}catch(X){if(X===Qr)throw X;var de=Kt(29,X,null,A.mode);return de.lanes=z,de.return=A,de}finally{}}}var Wi=Cp(!0),Rp=Cp(!1),Gs=Te(null),Wl=Te(0);function Np(t,n){t=zn,Le(Wl,t),Le(Gs,n),zn=t|n.baseLanes}function Cu(){Le(Wl,zn),Le(Gs,Gs.current)}function Ru(){zn=Wl.current,Ke(Gs),Ke(Wl)}var Yt=Te(null),pn=null;function ri(t){var n=t.alternate;Le(Je,Je.current&1),Le(Yt,t),pn===null&&(n===null||Gs.current!==null||n.memoizedState!==null)&&(pn=t)}function Ap(t){if(t.tag===22){if(Le(Je,Je.current),Le(Yt,t),pn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(pn=t)}}else ai()}function ai(){Le(Je,Je.current),Le(Yt,Yt.current)}function An(t){Ke(Yt),pn===t&&(pn=null),Ke(Je)}var Je=Te(0);function Kl(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var OS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},DS=i.unstable_scheduleCallback,IS=i.unstable_NormalPriority,et={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nu(){return{controller:new OS,data:new Map,refCount:0}}function ea(t){t.refCount--,t.refCount===0&&DS(IS,function(){t.controller.abort()})}var ta=null,Au=0,Ys=0,$s=null;function kS(t,n){if(ta===null){var a=ta=[];Au=0,Ys=Ld(),$s={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Au++,n.then(Op,Op),n}function Op(){if(--Au===0&&ta!==null){$s!==null&&($s.status="fulfilled");var t=ta;ta=null,Ys=0,$s=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function MS(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var u=0;u<a.length;u++)(0,a[u])(n)},function(u){for(o.status="rejected",o.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),o}var Dp=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&kS(t,n),Dp!==null&&Dp(t,n)};var Ki=Te(null);function Ou(){var t=Ki.current;return t!==null?t:De.pooledCache}function Ql(t,n){n===null?Le(Ki,Ki.current):Le(Ki,n.pool)}function Ip(){var t=Ou();return t===null?null:{parent:et._currentValue,pool:t}}var li=0,ue=null,xe=null,Qe=null,Xl=!1,Ws=!1,Qi=!1,Zl=0,na=0,Ks=null,LS=0;function We(){throw Error(r(321))}function Du(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Lt(t[a],n[a]))return!1;return!0}function Iu(t,n,a,o,u,h){return li=h,ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Xi:oi,Qi=!1,h=a(o,u),Qi=!1,Ws&&(h=Mp(n,a,o,u)),kp(t),h}function kp(t){q.H=gn;var n=xe!==null&&xe.next!==null;if(li=0,Qe=xe=ue=null,Xl=!1,na=0,Ks=null,n)throw Error(r(300));t===null||it||(t=t.dependencies,t!==null&&lo(t)&&(it=!0))}function Mp(t,n,a,o){ue=t;var u=0;do{if(Ws&&(Ks=null),na=0,Ws=!1,25<=u)throw Error(r(301));if(u+=1,Qe=xe=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}q.H=Zi,h=n(a,o)}while(Ws);return h}function US(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?ia(n):n,t=t.useState()[0],(xe!==null?xe.memoizedState:null)!==t&&(ue.flags|=1024),n}function ku(){var t=Zl!==0;return Zl=0,t}function Mu(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Lu(t){if(Xl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Xl=!1}li=0,Qe=xe=ue=null,Ws=!1,na=Zl=0,Ks=null}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?ue.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Xe(){if(xe===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var n=Qe===null?ue.memoizedState:Qe.next;if(n!==null)Qe=n,xe=t;else{if(t===null)throw ue.alternate===null?Error(r(467)):Error(r(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Qe===null?ue.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}var Jl;Jl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ia(t){var n=na;return na+=1,Ks===null&&(Ks=[]),t=wp(Ks,t,n),n=ue,(Qe===null?n.memoizedState:Qe.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Xi:oi),t}function eo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ia(t);if(t.$$typeof===w)return mt(t)}throw Error(r(438,String(t)))}function Uu(t){var n=null,a=ue.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=ue.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Jl(),ue.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=G;return n.index++,a}function On(t,n){return typeof n=="function"?n(t):n}function to(t){var n=Xe();return ju(n,xe,t)}function ju(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var u=t.baseQueue,h=o.pending;if(h!==null){if(u!==null){var g=u.next;u.next=h.next,h.next=g}n.baseQueue=u=h,o.pending=null}if(h=t.baseState,u===null)t.memoizedState=h;else{n=u.next;var v=g=null,S=null,R=n,j=!1;do{var H=R.lane&-536870913;if(H!==R.lane?(ve&H)===H:(li&H)===H){var I=R.revertLane;if(I===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),H===Ys&&(j=!0);else if((li&I)===I){R=R.next,I===Ys&&(j=!0);continue}else H={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(v=S=H,g=h):S=S.next=H,ue.lanes|=I,_i|=I;H=R.action,Qi&&a(h,H),h=R.hasEagerState?R.eagerState:a(h,H)}else I={lane:H,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(v=S=I,g=h):S=S.next=I,ue.lanes|=H,_i|=H;R=R.next}while(R!==null&&R!==n);if(S===null?g=h:S.next=v,!Lt(h,t.memoizedState)&&(it=!0,j&&(a=$s,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=S,o.lastRenderedState=h}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Pu(t){var n=Xe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,u=a.pending,h=n.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do h=t(h,g.action),g=g.next;while(g!==u);Lt(h,n.memoizedState)||(it=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,o]}function Lp(t,n,a){var o=ue,u=Xe(),h=Ee;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Lt((xe||u).memoizedState,a);if(g&&(u.memoizedState=a,it=!0),u=u.queue,Bu(Pp.bind(null,o,u,t),[t]),u.getSnapshot!==n||g||Qe!==null&&Qe.memoizedState.tag&1){if(o.flags|=2048,Qs(9,jp.bind(null,o,u,a,n),{destroy:void 0},null),De===null)throw Error(r(349));h||li&60||Up(o,n,a)}return a}function Up(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=ue.updateQueue,n===null?(n=Jl(),ue.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function jp(t,n,a,o){n.value=a,n.getSnapshot=o,zp(n)&&Hp(t)}function Pp(t,n,a){return a(function(){zp(n)&&Hp(t)})}function zp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Lt(t,a)}catch{return!0}}function Hp(t){var n=si(t,2);n!==null&&vt(n,t,2)}function zu(t){var n=Rt();if(typeof t=="function"){var a=t;if(t=a(),Qi){ti(!0);try{a()}finally{ti(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:t},n}function Bp(t,n,a,o){return t.baseState=a,ju(t,xe,typeof o=="function"?o:On)}function jS(t,n,a,o,u){if(so(t))throw Error(r(485));if(t=n.action,t!==null){var h={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};q.T!==null?a(!0):h.isTransition=!1,o(h),a=n.pending,a===null?(h.next=n.pending=h,qp(n,h)):(h.next=a.next,n.pending=a.next=h)}}function qp(t,n){var a=n.action,o=n.payload,u=t.state;if(n.isTransition){var h=q.T,g={};q.T=g;try{var v=a(u,o),S=q.S;S!==null&&S(g,v),Vp(t,n,v)}catch(R){Hu(t,n,R)}finally{q.T=h}}else try{h=a(u,o),Vp(t,n,h)}catch(R){Hu(t,n,R)}}function Vp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Fp(t,n,o)},function(o){return Hu(t,n,o)}):Fp(t,n,a)}function Fp(t,n,a){n.status="fulfilled",n.value=a,Gp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,qp(t,a)))}function Hu(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Gp(n),n=n.next;while(n!==o)}t.action=null}function Gp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Yp(t,n){return n}function $p(t,n){if(Ee){var a=De.formState;if(a!==null){e:{var o=ue;if(Ee){if(ut){t:{for(var u=ut,h=mn;u.nodeType!==8;){if(!h){u=null;break t}if(u=nn(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){ut=nn(u.nextSibling),o=u.data==="F!";break e}}$i(o)}o=!1}o&&(n=a[0])}}return a=Rt(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:n},a.queue=o,a=dg.bind(null,ue,o),o.dispatch=a,o=zu(!1),h=Yu.bind(null,ue,!1,o.queue),o=Rt(),u={state:n,dispatch:null,action:t,pending:null},o.queue=u,a=jS.bind(null,ue,u,h,a),u.dispatch=a,o.memoizedState=t,[n,a,!1]}function Wp(t){var n=Xe();return Kp(n,xe,t)}function Kp(t,n,a){n=ju(t,n,Yp)[0],t=to(On)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?ia(n):n;var o=Xe(),u=o.queue,h=u.dispatch;return a!==o.memoizedState&&(ue.flags|=2048,Qs(9,PS.bind(null,u,a),{destroy:void 0},null)),[n,h,t]}function PS(t,n){t.action=n}function Qp(t){var n=Xe(),a=xe;if(a!==null)return Kp(n,a,t);Xe(),n=n.memoizedState,a=Xe();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Qs(t,n,a,o){return t={tag:t,create:n,inst:a,deps:o,next:null},n=ue.updateQueue,n===null&&(n=Jl(),ue.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Xp(){return Xe().memoizedState}function no(t,n,a,o){var u=Rt();ue.flags|=t,u.memoizedState=Qs(1|n,a,{destroy:void 0},o===void 0?null:o)}function io(t,n,a,o){var u=Xe();o=o===void 0?null:o;var h=u.memoizedState.inst;xe!==null&&o!==null&&Du(o,xe.memoizedState.deps)?u.memoizedState=Qs(n,a,h,o):(ue.flags|=t,u.memoizedState=Qs(1|n,a,h,o))}function Zp(t,n){no(8390656,8,t,n)}function Bu(t,n){io(2048,8,t,n)}function Jp(t,n){return io(4,2,t,n)}function eg(t,n){return io(4,4,t,n)}function tg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ng(t,n,a){a=a!=null?a.concat([t]):null,io(4,4,tg.bind(null,n,t),a)}function qu(){}function ig(t,n){var a=Xe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Du(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function sg(t,n){var a=Xe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Du(n,o[1]))return o[0];if(o=t(),Qi){ti(!0);try{t()}finally{ti(!1)}}return a.memoizedState=[o,n],o}function Vu(t,n,a){return a===void 0||li&1073741824?t.memoizedState=n:(t.memoizedState=a,t=a_(),ue.lanes|=t,_i|=t,a)}function rg(t,n,a,o){return Lt(a,n)?a:Gs.current!==null?(t=Vu(t,a,o),Lt(t,n)||(it=!0),t):li&42?(t=a_(),ue.lanes|=t,_i|=t,n):(it=!0,t.memoizedState=a)}function ag(t,n,a,o,u){var h=$.p;$.p=h!==0&&8>h?h:8;var g=q.T,v={};q.T=v,Yu(t,!1,n,a);try{var S=u(),R=q.S;if(R!==null&&R(v,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var j=MS(S,o);sa(t,n,j,zt(t))}else sa(t,n,o,zt(t))}catch(H){sa(t,n,{then:function(){},status:"rejected",reason:H},zt())}finally{$.p=h,q.T=g}}function zS(){}function Fu(t,n,a,o){if(t.tag!==5)throw Error(r(476));var u=lg(t).queue;ag(t,u,n,ye,a===null?zS:function(){return og(t),a(o)})}function lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function og(t){var n=lg(t).next.queue;sa(t,n,{},zt())}function Gu(){return mt(Ta)}function cg(){return Xe().memoizedState}function ug(){return Xe().memoizedState}function HS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=zt();t=di(a);var o=hi(n,t,a);o!==null&&(vt(o,n,a),la(o,n,a)),n={cache:Nu()},t.payload=n;return}n=n.return}}function BS(t,n,a){var o=zt();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},so(t)?hg(n,a):(a=Eu(t,n,a,o),a!==null&&(vt(a,t,o),fg(a,n,o)))}function dg(t,n,a){var o=zt();sa(t,n,a,o)}function sa(t,n,a,o){var u={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(so(t))hg(n,u);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,v=h(g,a);if(u.hasEagerState=!0,u.eagerState=v,Lt(v,g))return Bl(t,n,u,0),De===null&&Hl(),!1}catch{}finally{}if(a=Eu(t,n,u,o),a!==null)return vt(a,t,o),fg(a,n,o),!0}return!1}function Yu(t,n,a,o){if(o={lane:2,revertLane:Ld(),action:o,hasEagerState:!1,eagerState:null,next:null},so(t)){if(n)throw Error(r(479))}else n=Eu(t,a,o,2),n!==null&&vt(n,t,2)}function so(t){var n=t.alternate;return t===ue||n!==null&&n===ue}function hg(t,n){Ws=Xl=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function fg(t,n,a){if(a&4194176){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Tm(t,a)}}var gn={readContext:mt,use:eo,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We};gn.useCacheRefresh=We,gn.useMemoCache=We,gn.useHostTransitionStatus=We,gn.useFormState=We,gn.useActionState=We,gn.useOptimistic=We;var Xi={readContext:mt,use:eo,useCallback:function(t,n){return Rt().memoizedState=[t,n===void 0?null:n],t},useContext:mt,useEffect:Zp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,no(4194308,4,tg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return no(4194308,4,t,n)},useInsertionEffect:function(t,n){no(4,2,t,n)},useMemo:function(t,n){var a=Rt();n=n===void 0?null:n;var o=t();if(Qi){ti(!0);try{t()}finally{ti(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=Rt();if(a!==void 0){var u=a(n);if(Qi){ti(!0);try{a(n)}finally{ti(!1)}}}else u=n;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=BS.bind(null,ue,t),[o.memoizedState,t]},useRef:function(t){var n=Rt();return t={current:t},n.memoizedState=t},useState:function(t){t=zu(t);var n=t.queue,a=dg.bind(null,ue,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:qu,useDeferredValue:function(t,n){var a=Rt();return Vu(a,t,n)},useTransition:function(){var t=zu(!1);return t=ag.bind(null,ue,t.queue,!0,!1),Rt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=ue,u=Rt();if(Ee){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),De===null)throw Error(r(349));ve&60||Up(o,n,a)}u.memoizedState=a;var h={value:a,getSnapshot:n};return u.queue=h,Zp(Pp.bind(null,o,h,t),[t]),o.flags|=2048,Qs(9,jp.bind(null,o,h,a,n),{destroy:void 0},null),a},useId:function(){var t=Rt(),n=De.identifierPrefix;if(Ee){var a=Nn,o=Rn;a=(o&~(1<<32-Mt(o)-1)).toString(32)+a,n=":"+n+"R"+a,a=Zl++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=LS++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return Rt().memoizedState=HS.bind(null,ue)}};Xi.useMemoCache=Uu,Xi.useHostTransitionStatus=Gu,Xi.useFormState=$p,Xi.useActionState=$p,Xi.useOptimistic=function(t){var n=Rt();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Yu.bind(null,ue,!0,a),a.dispatch=n,[t,n]};var oi={readContext:mt,use:eo,useCallback:ig,useContext:mt,useEffect:Bu,useImperativeHandle:ng,useInsertionEffect:Jp,useLayoutEffect:eg,useMemo:sg,useReducer:to,useRef:Xp,useState:function(){return to(On)},useDebugValue:qu,useDeferredValue:function(t,n){var a=Xe();return rg(a,xe.memoizedState,t,n)},useTransition:function(){var t=to(On)[0],n=Xe().memoizedState;return[typeof t=="boolean"?t:ia(t),n]},useSyncExternalStore:Lp,useId:cg};oi.useCacheRefresh=ug,oi.useMemoCache=Uu,oi.useHostTransitionStatus=Gu,oi.useFormState=Wp,oi.useActionState=Wp,oi.useOptimistic=function(t,n){var a=Xe();return Bp(a,xe,t,n)};var Zi={readContext:mt,use:eo,useCallback:ig,useContext:mt,useEffect:Bu,useImperativeHandle:ng,useInsertionEffect:Jp,useLayoutEffect:eg,useMemo:sg,useReducer:Pu,useRef:Xp,useState:function(){return Pu(On)},useDebugValue:qu,useDeferredValue:function(t,n){var a=Xe();return xe===null?Vu(a,t,n):rg(a,xe.memoizedState,t,n)},useTransition:function(){var t=Pu(On)[0],n=Xe().memoizedState;return[typeof t=="boolean"?t:ia(t),n]},useSyncExternalStore:Lp,useId:cg};Zi.useCacheRefresh=ug,Zi.useMemoCache=Uu,Zi.useHostTransitionStatus=Gu,Zi.useFormState=Qp,Zi.useActionState=Qp,Zi.useOptimistic=function(t,n){var a=Xe();return xe!==null?Bp(a,xe,t,n):(a.baseState=t,[t,a.queue.dispatch])};function $u(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:Z({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Wu={isMounted:function(t){return(t=t._reactInternals)?re(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var o=zt(),u=di(o);u.payload=n,a!=null&&(u.callback=a),n=hi(t,u,o),n!==null&&(vt(n,t,o),la(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=zt(),u=di(o);u.tag=1,u.payload=n,a!=null&&(u.callback=a),n=hi(t,u,o),n!==null&&(vt(n,t,o),la(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=zt(),o=di(a);o.tag=2,n!=null&&(o.callback=n),n=hi(t,o,a),n!==null&&(vt(n,t,a),la(n,t,a))}};function mg(t,n,a,o,u,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,g):n.prototype&&n.prototype.isPureReactComponent?!Gr(a,o)||!Gr(u,h):!0}function pg(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Wu.enqueueReplaceState(n,n.state,null)}function Ji(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=Z({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}var ro=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function gg(t){ro(t)}function _g(t){console.error(t)}function yg(t){ro(t)}function ao(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function vg(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Ku(t,n,a){return a=di(a),a.tag=3,a.payload={element:null},a.callback=function(){ao(t,n)},a}function bg(t){return t=di(t),t.tag=3,t}function Eg(t,n,a,o){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var h=o.value;t.payload=function(){return u(h)},t.callback=function(){vg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){vg(n,a,o),typeof u!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function qS(t,n,a,o,u){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&aa(n,a,u,!0),a=Yt.current,a!==null){switch(a.tag){case 13:return pn===null?Od():a.alternate===null&&Ve===0&&(Ve=3),a.flags&=-257,a.flags|=65536,a.lanes=u,o===xu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Id(t,o,u)),!1;case 22:return a.flags|=65536,o===xu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Id(t,o,u)),!1}throw Error(r(435,a.tag))}return Id(t,o,u),Od(),!1}if(Ee)return n=Yt.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=u,o!==Tu&&(t=Error(r(422),{cause:o}),Kr(Vt(t,a)))):(o!==Tu&&(n=Error(r(423),{cause:o}),Kr(Vt(n,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=Vt(o,a),u=Ku(t.stateNode,o,u),ud(t,u),Ve!==4&&(Ve=2)),!1;var h=Error(r(520),{cause:o});if(h=Vt(h,a),pa===null?pa=[h]:pa.push(h),Ve!==4&&(Ve=2),n===null)return!0;o=Vt(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=Ku(a.stateNode,o,t),ud(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(yi===null||!yi.has(h))))return a.flags|=65536,u&=-u,a.lanes|=u,u=bg(u),Eg(u,t,a,o),ud(a,u),!1}a=a.return}while(a!==null);return!1}var Sg=Error(r(461)),it=!1;function dt(t,n,a,o){n.child=t===null?Rp(n,null,a,o):Wi(n,t.child,a,o)}function wg(t,n,a,o,u){a=a.render;var h=n.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return ts(n),o=Iu(t,n,a,g,h,u),v=ku(),t!==null&&!it?(Mu(t,n,u),Dn(t,n,u)):(Ee&&v&&Su(n),n.flags|=1,dt(t,n,o,u),n.child)}function Tg(t,n,a,o,u){if(t===null){var h=a.type;return typeof h=="function"&&!yd(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,xg(t,n,h,o,u)):(t=ho(a.type,null,o,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!sd(t,u)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:Gr,a(g,o)&&t.ref===n.ref)return Dn(t,n,u)}return n.flags|=1,t=gi(h,o),t.ref=n.ref,t.return=n,n.child=t}function xg(t,n,a,o,u){if(t!==null){var h=t.memoizedProps;if(Gr(h,o)&&t.ref===n.ref)if(it=!1,n.pendingProps=o=h,sd(t,u))t.flags&131072&&(it=!0);else return n.lanes=t.lanes,Dn(t,n,u)}return Qu(t,n,a,o,u)}function Cg(t,n,a){var o=n.pendingProps,u=o.children,h=(n.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(ra(t,n),o.mode==="hidden"||h){if(n.flags&128){if(o=g!==null?g.baseLanes|a:a,t!==null){for(u=n.child=t.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;n.childLanes=h&~o}else n.childLanes=0,n.child=null;return Rg(t,n,o,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ql(n,g!==null?g.cachePool:null),g!==null?Np(n,g):Cu(),Ap(n);else return n.lanes=n.childLanes=536870912,Rg(t,n,g!==null?g.baseLanes|a:a,a)}else g!==null?(Ql(n,g.cachePool),Np(n,g),ai(),n.memoizedState=null):(t!==null&&Ql(n,null),Cu(),ai());return dt(t,n,u,a),n.child}function Rg(t,n,a,o){var u=Ou();return u=u===null?null:{parent:et._currentValue,pool:u},n.memoizedState={baseLanes:a,cachePool:u},t!==null&&Ql(n,null),Cu(),Ap(n),t!==null&&aa(t,n,o,!0),null}function ra(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function Qu(t,n,a,o,u){return ts(n),a=Iu(t,n,a,o,void 0,u),o=ku(),t!==null&&!it?(Mu(t,n,u),Dn(t,n,u)):(Ee&&o&&Su(n),n.flags|=1,dt(t,n,a,u),n.child)}function Ng(t,n,a,o,u,h){return ts(n),n.updateQueue=null,a=Mp(n,o,a,u),kp(t),o=ku(),t!==null&&!it?(Mu(t,n,h),Dn(t,n,h)):(Ee&&o&&Su(n),n.flags|=1,dt(t,n,a,h),n.child)}function Ag(t,n,a,o,u){if(ts(n),n.stateNode===null){var h=Bs,g=a.contextType;typeof g=="object"&&g!==null&&(h=mt(g)),h=new a(o,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Wu,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=o,h.state=n.memoizedState,h.refs={},od(n),g=a.contextType,h.context=typeof g=="object"&&g!==null?mt(g):Bs,h.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&($u(n,a,g,o),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Wu.enqueueReplaceState(h,h.state,null),ca(n,o,h,u),oa(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){h=n.stateNode;var v=n.memoizedProps,S=Ji(a,v);h.props=S;var R=h.context,j=a.contextType;g=Bs,typeof j=="object"&&j!==null&&(g=mt(j));var H=a.getDerivedStateFromProps;j=typeof H=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,j||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||R!==g)&&pg(n,h,o,g),ui=!1;var I=n.memoizedState;h.state=I,ca(n,o,h,u),oa(),R=n.memoizedState,v||I!==R||ui?(typeof H=="function"&&($u(n,a,H,o),R=n.memoizedState),(S=ui||mg(n,a,S,o,I,R,g))?(j||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=R),h.props=o,h.state=R,h.context=g,o=S):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{h=n.stateNode,cd(t,n),g=n.memoizedProps,j=Ji(a,g),h.props=j,H=n.pendingProps,I=h.context,R=a.contextType,S=Bs,typeof R=="object"&&R!==null&&(S=mt(R)),v=a.getDerivedStateFromProps,(R=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==H||I!==S)&&pg(n,h,o,S),ui=!1,I=n.memoizedState,h.state=I,ca(n,o,h,u),oa();var U=n.memoizedState;g!==H||I!==U||ui||t!==null&&t.dependencies!==null&&lo(t.dependencies)?(typeof v=="function"&&($u(n,a,v,o),U=n.memoizedState),(j=ui||mg(n,a,j,o,I,U,S)||t!==null&&t.dependencies!==null&&lo(t.dependencies))?(R||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,U,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,U,S)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=U),h.props=o,h.state=U,h.context=S,o=j):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=1024),o=!1)}return h=o,ra(t,n),o=(n.flags&128)!==0,h||o?(h=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&o?(n.child=Wi(n,t.child,null,u),n.child=Wi(n,null,a,u)):dt(t,n,a,u),n.memoizedState=h.state,t=n.child):t=Dn(t,n,u),t}function Og(t,n,a,o){return Wr(),n.flags|=256,dt(t,n,a,o),n.child}var Xu={dehydrated:null,treeContext:null,retryLane:0};function Zu(t){return{baseLanes:t,cachePool:Ip()}}function Ju(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Qt),t}function Dg(t,n,a){var o=n.pendingProps,u=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(Je.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ee){if(u?ri(n):ai(),Ee){var v=ut,S;if(S=v){e:{for(S=v,v=mn;S.nodeType!==8;){if(!v){v=null;break e}if(S=nn(S.nextSibling),S===null){v=null;break e}}v=S}v!==null?(n.memoizedState={dehydrated:v,treeContext:Gi!==null?{id:Rn,overflow:Nn}:null,retryLane:536870912},S=Kt(18,null,null,0),S.stateNode=v,S.return=n,n.child=S,yt=n,ut=null,S=!0):S=!1}S||$i(n)}if(v=n.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return v.data==="$!"?n.lanes=16:n.lanes=536870912,null;An(n)}return v=o.children,o=o.fallback,u?(ai(),u=n.mode,v=td({mode:"hidden",children:v},u),o=is(o,u,a,null),v.return=n,o.return=n,v.sibling=o,n.child=v,u=n.child,u.memoizedState=Zu(a),u.childLanes=Ju(t,g,a),n.memoizedState=Xu,o):(ri(n),ed(n,v))}if(S=t.memoizedState,S!==null&&(v=S.dehydrated,v!==null)){if(h)n.flags&256?(ri(n),n.flags&=-257,n=nd(t,n,a)):n.memoizedState!==null?(ai(),n.child=t.child,n.flags|=128,n=null):(ai(),u=o.fallback,v=n.mode,o=td({mode:"visible",children:o.children},v),u=is(u,v,a,null),u.flags|=2,o.return=n,u.return=n,o.sibling=u,n.child=o,Wi(n,t.child,null,a),o=n.child,o.memoizedState=Zu(a),o.childLanes=Ju(t,g,a),n.memoizedState=Xu,n=u);else if(ri(n),v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var R=g.dgst;g=R,o=Error(r(419)),o.stack="",o.digest=g,Kr({value:o,source:null,stack:null}),n=nd(t,n,a)}else if(it||aa(t,n,a,!1),g=(a&t.childLanes)!==0,it||g){if(g=De,g!==null){if(o=a&-a,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(g.suspendedLanes|a)?0:o,o!==0&&o!==S.retryLane)throw S.retryLane=o,si(t,o),vt(g,t,o),Sg}v.data==="$?"||Od(),n=nd(t,n,a)}else v.data==="$?"?(n.flags|=128,n.child=t.child,n=i1.bind(null,t),v._reactRetry=n,n=null):(t=S.treeContext,ut=nn(v.nextSibling),yt=n,Ee=!0,en=null,mn=!1,t!==null&&(Ft[Gt++]=Rn,Ft[Gt++]=Nn,Ft[Gt++]=Gi,Rn=t.id,Nn=t.overflow,Gi=n),n=ed(n,o.children),n.flags|=4096);return n}return u?(ai(),u=o.fallback,v=n.mode,S=t.child,R=S.sibling,o=gi(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&31457280,R!==null?u=gi(R,u):(u=is(u,v,a,null),u.flags|=2),u.return=n,o.return=n,o.sibling=u,n.child=o,o=u,u=n.child,v=t.child.memoizedState,v===null?v=Zu(a):(S=v.cachePool,S!==null?(R=et._currentValue,S=S.parent!==R?{parent:R,pool:R}:S):S=Ip(),v={baseLanes:v.baseLanes|a,cachePool:S}),u.memoizedState=v,u.childLanes=Ju(t,g,a),n.memoizedState=Xu,o):(ri(n),a=t.child,t=a.sibling,a=gi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function ed(t,n){return n=td({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function td(t,n){return i_(t,n,0,null)}function nd(t,n,a){return Wi(n,t.child,null,a),t=ed(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ig(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),ad(t.return,n,a)}function id(t,n,a,o,u){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:u}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=a,h.tailMode=u)}function kg(t,n,a){var o=n.pendingProps,u=o.revealOrder,h=o.tail;if(dt(t,n,o.children,a),o=Je.current,o&2)o=o&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ig(t,a,n);else if(t.tag===19)Ig(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Le(Je,o),u){case"forwards":for(a=n.child,u=null;a!==null;)t=a.alternate,t!==null&&Kl(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),id(n,!1,u,a,h);break;case"backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Kl(t)===null){n.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}id(n,!0,a,null,h);break;case"together":id(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Dn(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),_i|=n.lanes,!(a&n.childLanes))if(t!==null){if(aa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=gi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=gi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function sd(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&lo(t)))}function VS(t,n,a){switch(n.tag){case 3:wl(n,n.stateNode.containerInfo),ci(n,et,t.memoizedState.cache),Wr();break;case 27:case 5:Wc(n);break;case 4:wl(n,n.stateNode.containerInfo);break;case 10:ci(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ri(n),n.flags|=128,null):a&n.child.childLanes?Dg(t,n,a):(ri(n),t=Dn(t,n,a),t!==null?t.sibling:null);ri(n);break;case 19:var u=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(aa(t,n,a,!1),o=(a&n.childLanes)!==0),u){if(o)return kg(t,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Le(Je,Je.current),o)break;return null;case 22:case 23:return n.lanes=0,Cg(t,n,a);case 24:ci(n,et,t.memoizedState.cache)}return Dn(t,n,a)}function Mg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)it=!0;else{if(!sd(t,a)&&!(n.flags&128))return it=!1,VS(t,n,a);it=!!(t.flags&131072)}else it=!1,Ee&&n.flags&1048576&&yp(n,Fl,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var o=n.elementType,u=o._init;if(o=u(o._payload),n.type=o,typeof o=="function")yd(o)?(t=Ji(o,t),n.tag=1,n=Ag(null,n,o,t,a)):(n.tag=0,n=Qu(null,n,o,t,a));else{if(o!=null){if(u=o.$$typeof,u===C){n.tag=11,n=wg(null,n,o,t,a);break e}else if(u===L){n.tag=14,n=Tg(null,n,o,t,a);break e}}throw n=Q(o)||o,Error(r(306,n,""))}}return n;case 0:return Qu(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,u=Ji(o,n.pendingProps),Ag(t,n,o,u,a);case 3:e:{if(wl(n,n.stateNode.containerInfo),t===null)throw Error(r(387));var h=n.pendingProps;u=n.memoizedState,o=u.element,cd(t,n),ca(n,h,null,a);var g=n.memoizedState;if(h=g.cache,ci(n,et,h),h!==u.cache&&ld(n,[et],a,!0),oa(),h=g.element,u.isDehydrated)if(u={element:h,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){n=Og(t,n,h,a);break e}else if(h!==o){o=Vt(Error(r(424)),n),Kr(o),n=Og(t,n,h,a);break e}else for(ut=nn(n.stateNode.containerInfo.firstChild),yt=n,Ee=!0,en=null,mn=!0,a=Rp(n,null,h,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Wr(),h===o){n=Dn(t,n,a);break e}dt(t,n,h,a)}n=n.child}return n;case 26:return ra(t,n),t===null?(a=j_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ee||(a=n.type,t=n.pendingProps,o=To(ei.current).createElement(a),o[ft]=n,o[xt]=t,ht(o,a,t),nt(o),n.stateNode=o):n.memoizedState=j_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Wc(n),t===null&&Ee&&(o=n.stateNode=M_(n.type,n.pendingProps,ei.current),yt=n,mn=!0,ut=nn(o.firstChild)),o=n.pendingProps.children,t!==null||Ee?dt(t,n,o,a):n.child=Wi(n,null,o,a),ra(t,n),n.child;case 5:return t===null&&Ee&&((u=o=ut)&&(o=v1(o,n.type,n.pendingProps,mn),o!==null?(n.stateNode=o,yt=n,ut=nn(o.firstChild),mn=!1,u=!0):u=!1),u||$i(n)),Wc(n),u=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,o=h.children,Fd(u,h)?o=null:g!==null&&Fd(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=Iu(t,n,US,null,null,a),Ta._currentValue=u),ra(t,n),dt(t,n,o,a),n.child;case 6:return t===null&&Ee&&((t=a=ut)&&(a=b1(a,n.pendingProps,mn),a!==null?(n.stateNode=a,yt=n,ut=null,t=!0):t=!1),t||$i(n)),null;case 13:return Dg(t,n,a);case 4:return wl(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Wi(n,null,o,a):dt(t,n,o,a),n.child;case 11:return wg(t,n,n.type,n.pendingProps,a);case 7:return dt(t,n,n.pendingProps,a),n.child;case 8:return dt(t,n,n.pendingProps.children,a),n.child;case 12:return dt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ci(n,n.type,o.value),dt(t,n,o.children,a),n.child;case 9:return u=n.type._context,o=n.pendingProps.children,ts(n),u=mt(u),o=o(u),n.flags|=1,dt(t,n,o,a),n.child;case 14:return Tg(t,n,n.type,n.pendingProps,a);case 15:return xg(t,n,n.type,n.pendingProps,a);case 19:return kg(t,n,a);case 22:return Cg(t,n,a);case 24:return ts(n),o=mt(et),t===null?(u=Ou(),u===null&&(u=De,h=Nu(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=a),u=h),n.memoizedState={parent:o,cache:u},od(n),ci(n,et,u)):(t.lanes&a&&(cd(t,n),ca(n,null,null,a),oa()),u=t.memoizedState,h=n.memoizedState,u.parent!==o?(u={parent:o,cache:o},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ci(n,et,o)):(o=h.cache,ci(n,et,o),o!==u.cache&&ld(n,[et],a,!0))),dt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}var rd=Te(null),es=null,In=null;function ci(t,n,a){Le(rd,n._currentValue),n._currentValue=a}function kn(t){t._currentValue=rd.current,Ke(rd)}function ad(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function ld(t,n,a,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var h=u.dependencies;if(h!==null){var g=u.child;h=h.firstContext;e:for(;h!==null;){var v=h;h=u;for(var S=0;S<n.length;S++)if(v.context===n[S]){h.lanes|=a,v=h.alternate,v!==null&&(v.lanes|=a),ad(h.return,a,t),o||(g=null);break e}h=v.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(r(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),ad(g,a,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function aa(t,n,a,o){t=null;for(var u=n,h=!1;u!==null;){if(!h){if(u.flags&524288)h=!0;else if(u.flags&262144)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var v=u.type;Lt(u.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(u===Sl.current){if(g=u.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Ta):t=[Ta])}u=u.return}t!==null&&ld(n,t,a,o),n.flags|=262144}function lo(t){for(t=t.firstContext;t!==null;){if(!Lt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ts(t){es=t,In=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mt(t){return Lg(es,t)}function oo(t,n){return es===null&&ts(t),Lg(t,n)}function Lg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},In===null){if(t===null)throw Error(r(308));In=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else In=In.next=n;return a}var ui=!1;function od(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function di(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hi(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,Pe&2){var u=o.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),o.pending=n,n=ql(t),gp(t,null,a),n}return Bl(t,o,n,a),ql(t)}function la(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Tm(t,a)}}function ud(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var u=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?u=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?u=h=n:h=h.next=n}else u=h=n;a={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var dd=!1;function oa(){if(dd){var t=$s;if(t!==null)throw t}}function ca(t,n,a,o){dd=!1;var u=t.updateQueue;ui=!1;var h=u.firstBaseUpdate,g=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var S=v,R=S.next;S.next=null,g===null?h=R:g.next=R,g=S;var j=t.alternate;j!==null&&(j=j.updateQueue,v=j.lastBaseUpdate,v!==g&&(v===null?j.firstBaseUpdate=R:v.next=R,j.lastBaseUpdate=S))}if(h!==null){var H=u.baseState;g=0,j=R=S=null,v=h;do{var I=v.lane&-536870913,U=I!==v.lane;if(U?(ve&I)===I:(o&I)===I){I!==0&&I===Ys&&(dd=!0),j!==null&&(j=j.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var K=t,ae=v;I=n;var Fe=a;switch(ae.tag){case 1:if(K=ae.payload,typeof K=="function"){H=K.call(Fe,H,I);break e}H=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=ae.payload,I=typeof K=="function"?K.call(Fe,H,I):K,I==null)break e;H=Z({},H,I);break e;case 2:ui=!0}}I=v.callback,I!==null&&(t.flags|=64,U&&(t.flags|=8192),U=u.callbacks,U===null?u.callbacks=[I]:U.push(I))}else U={lane:I,tag:v.tag,payload:v.payload,callback:v.callback,next:null},j===null?(R=j=U,S=H):j=j.next=U,g|=I;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;U=v,v=U.next,U.next=null,u.lastBaseUpdate=U,u.shared.pending=null}}while(!0);j===null&&(S=H),u.baseState=S,u.firstBaseUpdate=R,u.lastBaseUpdate=j,h===null&&(u.shared.lanes=0),_i|=g,t.lanes=g,t.memoizedState=H}}function Ug(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function jg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ug(a[t],n)}function ua(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var u=o.next;a=u;do{if((a.tag&t)===t){o=void 0;var h=a.create,g=a.inst;o=h(),g.destroy=o}a=a.next}while(a!==u)}}catch(v){Ne(n,n.return,v)}}function fi(t,n,a){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&t)===t){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,u=n;var S=a;try{v()}catch(R){Ne(u,S,R)}}}o=o.next}while(o!==h)}}catch(R){Ne(n,n.return,R)}}function Pg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{jg(n,a)}catch(o){Ne(t,t.return,o)}}}function zg(t,n,a){a.props=Ji(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ne(t,n,o)}}function ns(t,n){try{var a=t.ref;if(a!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var u=o;break;default:u=o}typeof a=="function"?t.refCleanup=a(u):a.current=u}}catch(h){Ne(t,n,h)}}function Ut(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(u){Ne(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ne(t,n,u)}else a.current=null}function Hg(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(u){Ne(t,t.return,u)}}function Bg(t,n,a){try{var o=t.stateNode;m1(o,t.type,a,n),o[xt]=n}catch(u){Ne(t,t.return,u)}}function qg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=wo));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(fd(t,n,a),t=t.sibling;t!==null;)fd(t,n,a),t=t.sibling}function co(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(co(t,n,a),t=t.sibling;t!==null;)co(t,n,a),t=t.sibling}var Mn=!1,qe=!1,md=!1,Vg=typeof WeakSet=="function"?WeakSet:Set,st=null,Fg=!1;function FS(t,n){if(t=t.containerInfo,qd=Oo,t=lp(t),gu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var u=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var g=0,v=-1,S=-1,R=0,j=0,H=t,I=null;t:for(;;){for(var U;H!==a||u!==0&&H.nodeType!==3||(v=g+u),H!==h||o!==0&&H.nodeType!==3||(S=g+o),H.nodeType===3&&(g+=H.nodeValue.length),(U=H.firstChild)!==null;)I=H,H=U;for(;;){if(H===t)break t;if(I===a&&++R===u&&(v=g),I===h&&++j===o&&(S=g),(U=H.nextSibling)!==null)break;H=I,I=H.parentNode}H=U}a=v===-1||S===-1?null:{start:v,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vd={focusedElem:t,selectionRange:a},Oo=!1,st=n;st!==null;)if(n=st,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,st=t;else for(;st!==null;){switch(n=st,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&h!==null){t=void 0,a=n,u=h.memoizedProps,h=h.memoizedState,o=a.stateNode;try{var K=Ji(a.type,u,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(K,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(ae){Ne(a,a.return,ae)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)$d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,st=t;break}st=n.return}return K=Fg,Fg=!1,K}function Gg(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Un(t,a),o&4&&ua(5,a);break;case 1:if(Un(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Ne(a,a.return,v)}else{var u=Ji(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ne(a,a.return,v)}}o&64&&Pg(a),o&512&&ns(a,a.return);break;case 3:if(Un(t,a),o&64&&(o=a.updateQueue,o!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{jg(o,t)}catch(v){Ne(a,a.return,v)}}break;case 26:Un(t,a),o&512&&ns(a,a.return);break;case 27:case 5:Un(t,a),n===null&&o&4&&Hg(a),o&512&&ns(a,a.return);break;case 12:Un(t,a);break;case 13:Un(t,a),o&4&&Wg(t,a);break;case 22:if(u=a.memoizedState!==null||Mn,!u){n=n!==null&&n.memoizedState!==null||qe;var h=Mn,g=qe;Mn=u,(qe=n)&&!g?mi(t,a,(a.subtreeFlags&8772)!==0):Un(t,a),Mn=h,qe=g}o&512&&(a.memoizedProps.mode==="manual"?ns(a,a.return):Ut(a,a.return));break;default:Un(t,a)}}function Yg(t){var n=t.alternate;n!==null&&(t.alternate=null,Yg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&eu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ze=null,jt=!1;function Ln(t,n,a){for(a=a.child;a!==null;)$g(t,n,a),a=a.sibling}function $g(t,n,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(kr,a)}catch{}switch(a.tag){case 26:qe||Ut(a,n),Ln(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qe||Ut(a,n);var o=Ze,u=jt;for(Ze=a.stateNode,Ln(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);eu(a),Ze=o,jt=u;break;case 5:qe||Ut(a,n);case 6:u=Ze;var h=jt;if(Ze=null,Ln(t,n,a),Ze=u,jt=h,Ze!==null)if(jt)try{t=Ze,o=a.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(g){Ne(a,n,g)}else try{Ze.removeChild(a.stateNode)}catch(g){Ne(a,n,g)}break;case 18:Ze!==null&&(jt?(n=Ze,a=a.stateNode,n.nodeType===8?Yd(n.parentNode,a):n.nodeType===1&&Yd(n,a),Na(n)):Yd(Ze,a.stateNode));break;case 4:o=Ze,u=jt,Ze=a.stateNode.containerInfo,jt=!0,Ln(t,n,a),Ze=o,jt=u;break;case 0:case 11:case 14:case 15:qe||fi(2,a,n),qe||fi(4,a,n),Ln(t,n,a);break;case 1:qe||(Ut(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&zg(a,n,o)),Ln(t,n,a);break;case 21:Ln(t,n,a);break;case 22:qe||Ut(a,n),qe=(o=qe)||a.memoizedState!==null,Ln(t,n,a),qe=o;break;default:Ln(t,n,a)}}function Wg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Na(t)}catch(a){Ne(n,n.return,a)}}function GS(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Vg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Vg),n;default:throw Error(r(435,t.tag))}}function pd(t,n){var a=GS(t);n.forEach(function(o){var u=s1.bind(null,t,o);a.has(o)||(a.add(o),o.then(u,u))})}function $t(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var u=a[o],h=t,g=n,v=g;e:for(;v!==null;){switch(v.tag){case 27:case 5:Ze=v.stateNode,jt=!1;break e;case 3:Ze=v.stateNode.containerInfo,jt=!0;break e;case 4:Ze=v.stateNode.containerInfo,jt=!0;break e}v=v.return}if(Ze===null)throw Error(r(160));$g(h,g,u),Ze=null,jt=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Kg(n,t),n=n.sibling}var tn=null;function Kg(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:$t(n,t),Wt(t),o&4&&(fi(3,t,t.return),ua(3,t),fi(5,t,t.return));break;case 1:$t(n,t),Wt(t),o&512&&(qe||a===null||Ut(a,a.return)),o&64&&Mn&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var u=tn;if($t(n,t),Wt(t),o&512&&(qe||a===null||Ut(a,a.return)),o&4){var h=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":h=u.getElementsByTagName("title")[0],(!h||h[Ur]||h[ft]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(o),u.head.insertBefore(h,u.querySelector("head > title"))),ht(h,o,a),h[ft]=t,nt(h),o=h;break e;case"link":var g=H_("link","href",u).get(o+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(h=g[v],h.getAttribute("href")===(a.href==null?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break t}}h=u.createElement(o),ht(h,o,a),u.head.appendChild(h);break;case"meta":if(g=H_("meta","content",u).get(o+(a.content||""))){for(v=0;v<g.length;v++)if(h=g[v],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break t}}h=u.createElement(o),ht(h,o,a),u.head.appendChild(h);break;default:throw Error(r(468,o))}h[ft]=t,nt(h),o=h}t.stateNode=o}else B_(u,t.type,t.stateNode);else t.stateNode=z_(u,o,t.memoizedProps);else h!==o?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,o===null?B_(u,t.type,t.stateNode):z_(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Bg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){u=t.stateNode,h=t.memoizedProps;try{for(var S=u.firstChild;S;){var R=S.nextSibling,j=S.nodeName;S[Ur]||j==="HEAD"||j==="BODY"||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=R}for(var H=t.type,I=u.attributes;I.length;)u.removeAttributeNode(I[0]);ht(u,H,h),u[ft]=t,u[xt]=h}catch(K){Ne(t,t.return,K)}}case 5:if($t(n,t),Wt(t),o&512&&(qe||a===null||Ut(a,a.return)),t.flags&32){u=t.stateNode;try{Ms(u,"")}catch(K){Ne(t,t.return,K)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,Bg(t,u,a!==null?a.memoizedProps:u)),o&1024&&(md=!0);break;case 6:if($t(n,t),Wt(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(K){Ne(t,t.return,K)}}break;case 3:if(Ro=null,u=tn,tn=xo(n.containerInfo),$t(n,t),tn=u,Wt(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Na(n.containerInfo)}catch(K){Ne(t,t.return,K)}md&&(md=!1,Qg(t));break;case 4:o=tn,tn=xo(t.stateNode.containerInfo),$t(n,t),Wt(t),tn=o;break;case 12:$t(n,t),Wt(t);break;case 13:$t(n,t),Wt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Td=fn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pd(t,o)));break;case 22:if(o&512&&(qe||a===null||Ut(a,a.return)),S=t.memoizedState!==null,R=a!==null&&a.memoizedState!==null,j=Mn,H=qe,Mn=j||S,qe=H||R,$t(n,t),qe=H,Mn=j,Wt(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=S?n._visibility&-2:n._visibility|1,S&&(n=Mn||qe,a===null||R||n||Xs(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){R=a=n;try{if(u=R.stateNode,S)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{g=R.stateNode,v=R.memoizedProps.style;var U=v!=null&&v.hasOwnProperty("display")?v.display:null;g.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(K){Ne(R,R.return,K)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=S?"":R.memoizedProps}catch(K){Ne(R,R.return,K)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,pd(t,a))));break;case 19:$t(n,t),Wt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pd(t,o)));break;case 21:break;default:$t(n,t),Wt(t)}}function Wt(t){var n=t.flags;if(n&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(qg(a)){var o=a;break e}a=a.return}throw Error(r(160))}switch(o.tag){case 27:var u=o.stateNode,h=hd(t);co(t,h,u);break;case 5:var g=o.stateNode;o.flags&32&&(Ms(g,""),o.flags&=-33);var v=hd(t);co(t,v,g);break;case 3:case 4:var S=o.stateNode.containerInfo,R=hd(t);fd(t,R,S);break;default:throw Error(r(161))}}}catch(j){Ne(t,t.return,j)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Qg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Qg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Un(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gg(t,n.alternate,n),n=n.sibling}function Xs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:fi(4,n,n.return),Xs(n);break;case 1:Ut(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&zg(n,n.return,a),Xs(n);break;case 26:case 27:case 5:Ut(n,n.return),Xs(n);break;case 22:Ut(n,n.return),n.memoizedState===null&&Xs(n);break;default:Xs(n)}t=t.sibling}}function mi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,u=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:mi(u,h,a),ua(4,h);break;case 1:if(mi(u,h,a),o=h,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){Ne(o,o.return,R)}if(o=h,u=o.updateQueue,u!==null){var v=o.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)Ug(S[u],v)}catch(R){Ne(o,o.return,R)}}a&&g&64&&Pg(h),ns(h,h.return);break;case 26:case 27:case 5:mi(u,h,a),a&&o===null&&g&4&&Hg(h),ns(h,h.return);break;case 12:mi(u,h,a);break;case 13:mi(u,h,a),a&&g&4&&Wg(u,h);break;case 22:h.memoizedState===null&&mi(u,h,a),ns(h,h.return);break;default:mi(u,h,a)}n=n.sibling}}function gd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ea(a))}function _d(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ea(t))}function pi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xg(t,n,a,o),n=n.sibling}function Xg(t,n,a,o){var u=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,a,o),u&2048&&ua(9,n);break;case 3:pi(t,n,a,o),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ea(t)));break;case 12:if(u&2048){pi(t,n,a,o),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,v=h.onPostCommit;typeof v=="function"&&v(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ne(n,n.return,S)}}else pi(t,n,a,o);break;case 23:break;case 22:h=n.stateNode,n.memoizedState!==null?h._visibility&4?pi(t,n,a,o):da(t,n):h._visibility&4?pi(t,n,a,o):(h._visibility|=4,Zs(t,n,a,o,(n.subtreeFlags&10256)!==0)),u&2048&&gd(n.alternate,n);break;case 24:pi(t,n,a,o),u&2048&&_d(n.alternate,n);break;default:pi(t,n,a,o)}}function Zs(t,n,a,o,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,g=n,v=a,S=o,R=g.flags;switch(g.tag){case 0:case 11:case 15:Zs(h,g,v,S,u),ua(8,g);break;case 23:break;case 22:var j=g.stateNode;g.memoizedState!==null?j._visibility&4?Zs(h,g,v,S,u):da(h,g):(j._visibility|=4,Zs(h,g,v,S,u)),u&&R&2048&&gd(g.alternate,g);break;case 24:Zs(h,g,v,S,u),u&&R&2048&&_d(g.alternate,g);break;default:Zs(h,g,v,S,u)}n=n.sibling}}function da(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,u=o.flags;switch(o.tag){case 22:da(a,o),u&2048&&gd(o.alternate,o);break;case 24:da(a,o),u&2048&&_d(o.alternate,o);break;default:da(a,o)}n=n.sibling}}var ha=8192;function Js(t){if(t.subtreeFlags&ha)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 26:Js(t),t.flags&ha&&t.memoizedState!==null&&k1(tn,t.memoizedState,t.memoizedProps);break;case 5:Js(t);break;case 3:case 4:var n=tn;tn=xo(t.stateNode.containerInfo),Js(t),tn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ha,ha=16777216,Js(t),ha=n):Js(t));break;default:Js(t)}}function Jg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fa(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];st=o,t_(o,t)}Jg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)e_(t),t=t.sibling}function e_(t){switch(t.tag){case 0:case 11:case 15:fa(t),t.flags&2048&&fi(9,t,t.return);break;case 3:fa(t);break;case 12:fa(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,uo(t)):fa(t);break;default:fa(t)}}function uo(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];st=o,t_(o,t)}Jg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:fi(8,n,n.return),uo(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,uo(n));break;default:uo(n)}t=t.sibling}}function t_(t,n){for(;st!==null;){var a=st;switch(a.tag){case 0:case 11:case 15:fi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ea(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,st=o;else e:for(a=t;st!==null;){o=st;var u=o.sibling,h=o.return;if(Yg(o),o===a){st=null;break e}if(u!==null){u.return=h,st=u;break e}st=h}}}function YS(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,n,a,o){return new YS(t,n,a,o)}function yd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,n){var a=t.alternate;return a===null?(a=Kt(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function n_(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ho(t,n,a,o,u,h){var g=0;if(o=t,typeof t=="function")yd(t)&&(g=1);else if(typeof t=="string")g=D1(t,a,hn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case m:return is(a.children,u,h,n);case p:g=8,u|=24;break;case y:return t=Kt(12,a,n,u|2),t.elementType=y,t.lanes=h,t;case D:return t=Kt(13,a,n,u),t.elementType=D,t.lanes=h,t;case k:return t=Kt(19,a,n,u),t.elementType=k,t.lanes=h,t;case M:return i_(a,u,h,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E:case w:g=10;break e;case b:g=9;break e;case C:g=11;break e;case L:g=14;break e;case P:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Kt(g,a,n,u),n.elementType=t,n.type=o,n.lanes=h,n}function is(t,n,a,o){return t=Kt(7,t,o,n),t.lanes=a,t}function i_(t,n,a,o){t=Kt(22,t,o,n),t.elementType=M,t.lanes=a;var u={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var h=u._current;if(h===null)throw Error(r(456));if(!(u._pendingVisibility&2)){var g=si(h,2);g!==null&&(u._pendingVisibility|=2,vt(g,h,2))}},attach:function(){var h=u._current;if(h===null)throw Error(r(456));if(u._pendingVisibility&2){var g=si(h,2);g!==null&&(u._pendingVisibility&=-3,vt(g,h,2))}}};return t.stateNode=u,t}function vd(t,n,a){return t=Kt(6,t,null,n),t.lanes=a,t}function bd(t,n,a){return n=Kt(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function jn(t){t.flags|=4}function s_(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!q_(n)){if(n=Yt.current,n!==null&&((ve&4194176)===ve?pn!==null:(ve&62914560)!==ve&&!(ve&536870912)||n!==pn))throw Xr=xu,Ep;t.flags|=8192}}function fo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Sm():536870912,t.lanes|=n,tr|=n)}function ma(t,n){if(!Ee)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function je(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags&31457280,o|=u.flags&31457280,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function $S(t,n,a){var o=n.pendingProps;switch(wu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(n),null;case 1:return je(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),kn(et),Ns(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($r(n)?jn(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,en!==null&&(Nd(en),en=null))),je(n),null;case 26:return a=n.memoizedState,t===null?(jn(n),a!==null?(je(n),s_(n,a)):(je(n),n.flags&=-16777217)):a?a!==t.memoizedState?(jn(n),je(n),s_(n,a)):(je(n),n.flags&=-16777217):(t.memoizedProps!==o&&jn(n),je(n),n.flags&=-16777217),null;case 27:Tl(n),a=ei.current;var u=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==o&&jn(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return je(n),null}t=hn.current,$r(n)?vp(n):(t=M_(u,o,a),n.stateNode=t,jn(n))}return je(n),null;case 5:if(Tl(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&jn(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return je(n),null}if(t=hn.current,$r(n))vp(n);else{switch(u=To(ei.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?u.createElement(a,{is:o.is}):u.createElement(a)}}t[ft]=n,t[xt]=o;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=t;e:switch(ht(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&jn(n)}}return je(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&jn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=ei.current,$r(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,u=yt,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[ft]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||N_(t.nodeValue,a)),t||$i(n)}else t=To(t).createTextNode(o),t[ft]=n,n.stateNode=t}return je(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=$r(n),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ft]=n}else Wr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;je(n),u=!1}else en!==null&&(Nd(en),en=null),u=!0;if(!u)return n.flags&256?(An(n),n):(An(n),null)}if(An(n),n.flags&128)return n.lanes=a,n;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=n.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var h=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),fo(n,n.updateQueue),je(n),null;case 4:return Ns(),t===null&&zd(n.stateNode.containerInfo),je(n),null;case 10:return kn(n.type),je(n),null;case 19:if(Ke(Je),u=n.memoizedState,u===null)return je(n),null;if(o=(n.flags&128)!==0,h=u.rendering,h===null)if(o)ma(u,!1);else{if(Ve!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(h=Kl(t),h!==null){for(n.flags|=128,ma(u,!1),t=h.updateQueue,n.updateQueue=t,fo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)n_(a,t),a=a.sibling;return Le(Je,Je.current&1|2),n.child}t=t.sibling}u.tail!==null&&fn()>mo&&(n.flags|=128,o=!0,ma(u,!1),n.lanes=4194304)}else{if(!o)if(t=Kl(h),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,fo(n,t),ma(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!Ee)return je(n),null}else 2*fn()-u.renderingStartTime>mo&&a!==536870912&&(n.flags|=128,o=!0,ma(u,!1),n.lanes=4194304);u.isBackwards?(h.sibling=n.child,n.child=h):(t=u.last,t!==null?t.sibling=h:n.child=h,u.last=h)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=fn(),n.sibling=null,t=Je.current,Le(Je,o?t&1|2:t&1),n):(je(n),null);case 22:case 23:return An(n),Ru(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?a&536870912&&!(n.flags&128)&&(je(n),n.subtreeFlags&6&&(n.flags|=8192)):je(n),a=n.updateQueue,a!==null&&fo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Ke(Ki),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),kn(et),je(n),null;case 25:return null}throw Error(r(156,n.tag))}function WS(t,n){switch(wu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return kn(et),Ns(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Tl(n),null;case 13:if(An(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Ke(Je),null;case 4:return Ns(),null;case 10:return kn(n.type),null;case 22:case 23:return An(n),Ru(),t!==null&&Ke(Ki),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return kn(et),null;case 25:return null;default:return null}}function r_(t,n){switch(wu(n),n.tag){case 3:kn(et),Ns();break;case 26:case 27:case 5:Tl(n);break;case 4:Ns();break;case 13:An(n);break;case 19:Ke(Je);break;case 10:kn(n.type);break;case 22:case 23:An(n),Ru(),t!==null&&Ke(Ki);break;case 24:kn(et)}}var KS={getCacheForType:function(t){var n=mt(et),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},QS=typeof WeakMap=="function"?WeakMap:Map,Pe=0,De=null,me=null,ve=0,Ie=0,Pt=null,Pn=!1,er=!1,Ed=!1,zn=0,Ve=0,_i=0,ss=0,Sd=0,Qt=0,tr=0,pa=null,_n=null,wd=!1,Td=0,mo=1/0,po=null,yi=null,go=!1,rs=null,ga=0,xd=0,Cd=null,_a=0,Rd=null;function zt(){if(Pe&2&&ve!==0)return ve&-ve;if(q.T!==null){var t=Ys;return t!==0?t:Ld()}return Cm()}function a_(){Qt===0&&(Qt=!(ve&536870912)||Ee?Em():536870912);var t=Yt.current;return t!==null&&(t.flags|=32),Qt}function vt(t,n,a){(t===De&&Ie===2||t.cancelPendingCommit!==null)&&(nr(t,0),Hn(t,ve,Qt,!1)),Lr(t,a),(!(Pe&2)||t!==De)&&(t===De&&(!(Pe&2)&&(ss|=a),Ve===4&&Hn(t,ve,Qt,!1)),yn(t))}function l_(t,n,a){if(Pe&6)throw Error(r(327));var o=!a&&(n&60)===0&&(n&t.expiredLanes)===0||Mr(t,n),u=o?JS(t,n):Dd(t,n,!0),h=o;do{if(u===0){er&&!o&&Hn(t,n,0,!1);break}else if(u===6)Hn(t,n,0,!Pn);else{if(a=t.current.alternate,h&&!XS(a)){u=Dd(t,n,!1),h=!1;continue}if(u===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var v=t;u=pa;var S=v.current.memoizedState.isDehydrated;if(S&&(nr(v,g).flags|=256),g=Dd(v,g,!1),g!==2){if(Ed&&!S){v.errorRecoveryDisabledLanes|=h,ss|=h,u=4;break e}h=_n,_n=u,h!==null&&Nd(h)}u=g}if(h=!1,u!==2)continue}}if(u===1){nr(t,0),Hn(t,n,0,!0);break}e:{switch(o=t,u){case 0:case 1:throw Error(r(345));case 4:if((n&4194176)===n){Hn(o,n,Qt,!Pn);break e}break;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if(o.finishedWork=a,o.finishedLanes=n,(n&62914560)===n&&(h=Td+300-fn(),10<h)){if(Hn(o,n,Qt,!Pn),Nl(o,0)!==0)break e;o.timeoutHandle=D_(o_.bind(null,o,a,_n,po,wd,n,Qt,ss,tr,Pn,2,-0,0),h);break e}o_(o,a,_n,po,wd,n,Qt,ss,tr,Pn,0,-0,0)}}break}while(!0);yn(t)}function Nd(t){_n===null?_n=t:_n.push.apply(_n,t)}function o_(t,n,a,o,u,h,g,v,S,R,j,H,I){var U=n.subtreeFlags;if((U&8192||(U&16785408)===16785408)&&(wa={stylesheets:null,count:0,unsuspend:I1},Zg(n),n=M1(),n!==null)){t.cancelPendingCommit=n(p_.bind(null,t,a,o,u,g,v,S,1,H,I)),Hn(t,h,g,!R);return}p_(t,a,o,u,g,v,S,j,H,I)}function XS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var u=a[o],h=u.getSnapshot;u=u.value;try{if(!Lt(h(),u))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hn(t,n,a,o){n&=~Sd,n&=~ss,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var u=n;0<u;){var h=31-Mt(u),g=1<<h;o[h]=-1,u&=~g}a!==0&&wm(t,a,n)}function _o(){return Pe&6?!0:(ya(0),!1)}function Ad(){if(me!==null){if(Ie===0)var t=me.return;else t=me,In=es=null,Lu(t),Fs=null,Zr=0,t=me;for(;t!==null;)r_(t.alternate,t),t=t.return;me=null}}function nr(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,g1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ad(),De=t,me=a=gi(t.current,null),ve=n,Ie=0,Pt=null,Pn=!1,er=Mr(t,n),Ed=!1,tr=Qt=Sd=ss=_i=Ve=0,_n=pa=null,wd=!1,n&8&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var u=31-Mt(o),h=1<<u;n|=t[u],o&=~h}return zn=n,Hl(),a}function c_(t,n){ue=null,q.H=gn,n===Qr?(n=Tp(),Ie=3):n===Ep?(n=Tp(),Ie=4):Ie=n===Sg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pt=n,me===null&&(Ve=1,ao(t,Vt(n,t.current)))}function u_(){var t=q.H;return q.H=gn,t===null?gn:t}function d_(){var t=q.A;return q.A=KS,t}function Od(){Ve=4,Pn||(ve&4194176)!==ve&&Yt.current!==null||(er=!0),!(_i&134217727)&&!(ss&134217727)||De===null||Hn(De,ve,Qt,!1)}function Dd(t,n,a){var o=Pe;Pe|=2;var u=u_(),h=d_();(De!==t||ve!==n)&&(po=null,nr(t,n)),n=!1;var g=Ve;e:do try{if(Ie!==0&&me!==null){var v=me,S=Pt;switch(Ie){case 8:Ad(),g=6;break e;case 3:case 2:case 6:Yt.current===null&&(n=!0);var R=Ie;if(Ie=0,Pt=null,ir(t,v,S,R),a&&er){g=0;break e}break;default:R=Ie,Ie=0,Pt=null,ir(t,v,S,R)}}ZS(),g=Ve;break}catch(j){c_(t,j)}while(!0);return n&&t.shellSuspendCounter++,In=es=null,Pe=o,q.H=u,q.A=h,me===null&&(De=null,ve=0,Hl()),g}function ZS(){for(;me!==null;)h_(me)}function JS(t,n){var a=Pe;Pe|=2;var o=u_(),u=d_();De!==t||ve!==n?(po=null,mo=fn()+500,nr(t,n)):er=Mr(t,n);e:do try{if(Ie!==0&&me!==null){n=me;var h=Pt;t:switch(Ie){case 1:Ie=0,Pt=null,ir(t,n,h,1);break;case 2:if(Sp(h)){Ie=0,Pt=null,f_(n);break}n=function(){Ie===2&&De===t&&(Ie=7),yn(t)},h.then(n,n);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Sp(h)?(Ie=0,Pt=null,f_(n)):(Ie=0,Pt=null,ir(t,n,h,7));break;case 5:var g=null;switch(me.tag){case 26:g=me.memoizedState;case 5:case 27:var v=me;if(!g||q_(g)){Ie=0,Pt=null;var S=v.sibling;if(S!==null)me=S;else{var R=v.return;R!==null?(me=R,yo(R)):me=null}break t}}Ie=0,Pt=null,ir(t,n,h,5);break;case 6:Ie=0,Pt=null,ir(t,n,h,6);break;case 8:Ad(),Ve=6;break e;default:throw Error(r(462))}}e1();break}catch(j){c_(t,j)}while(!0);return In=es=null,q.H=o,q.A=u,Pe=a,me!==null?0:(De=null,ve=0,Hl(),Ve)}function e1(){for(;me!==null&&!SE();)h_(me)}function h_(t){var n=Mg(t.alternate,t,zn);t.memoizedProps=t.pendingProps,n===null?yo(t):me=n}function f_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ng(a,n,n.pendingProps,n.type,void 0,ve);break;case 11:n=Ng(a,n,n.pendingProps,n.type.render,n.ref,ve);break;case 5:Lu(n);default:r_(a,n),n=me=n_(n,zn),n=Mg(a,n,zn)}t.memoizedProps=t.pendingProps,n===null?yo(t):me=n}function ir(t,n,a,o){In=es=null,Lu(n),Fs=null,Zr=0;var u=n.return;try{if(qS(t,u,n,a,ve)){Ve=1,ao(t,Vt(a,t.current)),me=null;return}}catch(h){if(u!==null)throw me=u,h;Ve=1,ao(t,Vt(a,t.current)),me=null;return}n.flags&32768?(Ee||o===1?t=!0:er||ve&536870912?t=!1:(Pn=t=!0,(o===2||o===3||o===6)&&(o=Yt.current,o!==null&&o.tag===13&&(o.flags|=16384))),m_(n,t)):yo(n)}function yo(t){var n=t;do{if(n.flags&32768){m_(n,Pn);return}t=n.return;var a=$S(n.alternate,n,zn);if(a!==null){me=a;return}if(n=n.sibling,n!==null){me=n;return}me=n=t}while(n!==null);Ve===0&&(Ve=5)}function m_(t,n){do{var a=WS(t.alternate,t);if(a!==null){a.flags&=32767,me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){me=t;return}me=t=a}while(t!==null);Ve=6,me=null}function p_(t,n,a,o,u,h,g,v,S,R){var j=q.T,H=$.p;try{$.p=2,q.T=null,t1(t,n,a,o,H,u,h,g,v,S,R)}finally{q.T=j,$.p=H}}function t1(t,n,a,o,u,h,g,v){do sr();while(rs!==null);if(Pe&6)throw Error(r(327));var S=t.finishedWork;if(o=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var R=S.lanes|S.childLanes;if(R|=bu,kE(t,o,R,h,g,v),t===De&&(me=De=null,ve=0),!(S.subtreeFlags&10256)&&!(S.flags&10256)||go||(go=!0,xd=R,Cd=a,r1(xl,function(){return sr(),null})),a=(S.flags&15990)!==0,S.subtreeFlags&15990||a?(a=q.T,q.T=null,h=$.p,$.p=2,g=Pe,Pe|=4,FS(t,S),Kg(S,t),xS(Vd,t.containerInfo),Oo=!!qd,Vd=qd=null,t.current=S,Gg(t,S.alternate,S),wE(),Pe=g,$.p=h,q.T=a):t.current=S,go?(go=!1,rs=t,ga=o):g_(t,R),R=t.pendingLanes,R===0&&(yi=null),NE(S.stateNode),yn(t),n!==null)for(u=t.onRecoverableError,S=0;S<n.length;S++)R=n[S],u(R.value,{componentStack:R.stack});return ga&3&&sr(),R=t.pendingLanes,o&4194218&&R&42?t===Rd?_a++:(_a=0,Rd=t):_a=0,ya(0),null}function g_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ea(n)))}function sr(){if(rs!==null){var t=rs,n=xd;xd=0;var a=xm(ga),o=q.T,u=$.p;try{if($.p=32>a?32:a,q.T=null,rs===null)var h=!1;else{a=Cd,Cd=null;var g=rs,v=ga;if(rs=null,ga=0,Pe&6)throw Error(r(331));var S=Pe;if(Pe|=4,e_(g.current),Xg(g,g.current,v,a),Pe=S,ya(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(kr,g)}catch{}h=!0}return h}finally{$.p=u,q.T=o,g_(t,n)}}return!1}function __(t,n,a){n=Vt(a,n),n=Ku(t.stateNode,n,2),t=hi(t,n,2),t!==null&&(Lr(t,2),yn(t))}function Ne(t,n,a){if(t.tag===3)__(t,t,a);else for(;n!==null;){if(n.tag===3){__(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(yi===null||!yi.has(o))){t=Vt(a,t),a=bg(2),o=hi(n,a,2),o!==null&&(Eg(a,o,n,t),Lr(o,2),yn(o));break}}n=n.return}}function Id(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new QS;var u=new Set;o.set(n,u)}else u=o.get(n),u===void 0&&(u=new Set,o.set(n,u));u.has(a)||(Ed=!0,u.add(a),t=n1.bind(null,t,n,a),n.then(t,t))}function n1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,De===t&&(ve&a)===a&&(Ve===4||Ve===3&&(ve&62914560)===ve&&300>fn()-Td?!(Pe&2)&&nr(t,0):Sd|=a,tr===ve&&(tr=0)),yn(t)}function y_(t,n){n===0&&(n=Sm()),t=si(t,n),t!==null&&(Lr(t,n),yn(t))}function i1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),y_(t,a)}function s1(t,n){var a=0;switch(t.tag){case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),y_(t,a)}function r1(t,n){return Qc(t,n)}var vo=null,rr=null,kd=!1,bo=!1,Md=!1,as=0;function yn(t){t!==rr&&t.next===null&&(rr===null?vo=rr=t:rr=rr.next=t),bo=!0,kd||(kd=!0,l1(a1))}function ya(t,n){if(!Md&&bo){Md=!0;do for(var a=!1,o=vo;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var h=0;else{var g=o.suspendedLanes,v=o.pingedLanes;h=(1<<31-Mt(42|t)+1)-1,h&=u&~(g&~v),h=h&201326677?h&201326677|1:h?h|2:0}h!==0&&(a=!0,E_(o,h))}else h=ve,h=Nl(o,o===De?h:0),!(h&3)||Mr(o,h)||(a=!0,E_(o,h));o=o.next}while(a);Md=!1}}function a1(){bo=kd=!1;var t=0;as!==0&&(p1()&&(t=as),as=0);for(var n=fn(),a=null,o=vo;o!==null;){var u=o.next,h=v_(o,n);h===0?(o.next=null,a===null?vo=u:a.next=u,u===null&&(rr=a)):(a=o,(t!==0||h&3)&&(bo=!0)),o=u}ya(t)}function v_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-Mt(h),v=1<<g,S=u[g];S===-1?(!(v&a)||v&o)&&(u[g]=IE(v,n)):S<=n&&(t.expiredLanes|=v),h&=~v}if(n=De,a=ve,a=Nl(t,t===n?a:0),o=t.callbackNode,a===0||t===n&&Ie===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Xc(o),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||Mr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Xc(o),xm(a)){case 2:case 8:a=vm;break;case 32:a=xl;break;case 268435456:a=bm;break;default:a=xl}return o=b_.bind(null,t),a=Qc(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Xc(o),t.callbackPriority=2,t.callbackNode=null,2}function b_(t,n){var a=t.callbackNode;if(sr()&&t.callbackNode!==a)return null;var o=ve;return o=Nl(t,t===De?o:0),o===0?null:(l_(t,o,n),v_(t,fn()),t.callbackNode!=null&&t.callbackNode===a?b_.bind(null,t):null)}function E_(t,n){if(sr())return null;l_(t,n,!0)}function l1(t){_1(function(){Pe&6?Qc(ym,t):t()})}function Ld(){return as===0&&(as=Em()),as}function S_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kl(""+t)}function w_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function o1(t,n,a,o,u){if(n==="submit"&&a&&a.stateNode===u){var h=S_((u[xt]||null).action),g=o.submitter;g&&(n=(n=g[xt]||null)?S_(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var v=new jl("action","action",null,o,u);t.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(as!==0){var S=g?w_(u,g):new FormData(u);Fu(a,{pending:!0,data:S,method:u.method,action:h},null,S)}}else typeof h=="function"&&(v.preventDefault(),S=g?w_(u,g):new FormData(u),Fu(a,{pending:!0,data:S,method:u.method,action:h},h,S))},currentTarget:u}]})}}for(var Ud=0;Ud<pp.length;Ud++){var jd=pp[Ud],c1=jd.toLowerCase(),u1=jd[0].toUpperCase()+jd.slice(1);Jt(c1,"on"+u1)}Jt(up,"onAnimationEnd"),Jt(dp,"onAnimationIteration"),Jt(hp,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(RS,"onTransitionRun"),Jt(NS,"onTransitionStart"),Jt(AS,"onTransitionCancel"),Jt(fp,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(va));function T_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],u=o.event;o=o.listeners;e:{var h=void 0;if(n)for(var g=o.length-1;0<=g;g--){var v=o[g],S=v.instance,R=v.currentTarget;if(v=v.listener,S!==h&&u.isPropagationStopped())break e;h=v,u.currentTarget=R;try{h(u)}catch(j){ro(j)}u.currentTarget=null,h=S}else for(g=0;g<o.length;g++){if(v=o[g],S=v.instance,R=v.currentTarget,v=v.listener,S!==h&&u.isPropagationStopped())break e;h=v,u.currentTarget=R;try{h(u)}catch(j){ro(j)}u.currentTarget=null,h=S}}}}function ge(t,n){var a=n[Jc];a===void 0&&(a=n[Jc]=new Set);var o=t+"__bubble";a.has(o)||(x_(n,t,2,!1),a.add(o))}function Pd(t,n,a){var o=0;n&&(o|=4),x_(a,t,o,n)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function zd(t){if(!t[Eo]){t[Eo]=!0,Nm.forEach(function(a){a!=="selectionchange"&&(d1.has(a)||Pd(a,!1,t),Pd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Eo]||(n[Eo]=!0,Pd("selectionchange",!1,n))}}function x_(t,n,a,o){switch(W_(n)){case 2:var u=j1;break;case 8:u=P1;break;default:u=Zd}a=u.bind(null,n,a,t),u=void 0,!lu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(n,a,{capture:!0,passive:u}):t.addEventListener(n,a,!0):u!==void 0?t.addEventListener(n,a,{passive:u}):t.addEventListener(n,a,!1)}function Hd(t,n,a,o,u){var h=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===u||v.nodeType===8&&v.parentNode===u)break;if(g===4)for(g=o.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===u||S.nodeType===8&&S.parentNode===u))return;g=g.return}for(;v!==null;){if(g=Hi(v),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){o=h=g;continue e}v=v.parentNode}}o=o.return}Hm(function(){var R=h,j=ru(a),H=[];e:{var I=mp.get(t);if(I!==void 0){var U=jl,K=t;switch(t){case"keypress":if(Ll(a)===0)break e;case"keydown":case"keyup":U=sS;break;case"focusin":K="focus",U=du;break;case"focusout":K="blur",U=du;break;case"beforeblur":case"afterblur":U=du;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=YE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=lS;break;case up:case dp:case hp:U=KE;break;case fp:U=cS;break;case"scroll":case"scrollend":U=FE;break;case"wheel":U=dS;break;case"copy":case"cut":case"paste":U=XE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Gm;break;case"toggle":case"beforetoggle":U=fS}var ae=(n&4)!==0,Fe=!ae&&(t==="scroll"||t==="scrollend"),A=ae?I!==null?I+"Capture":null:I;ae=[];for(var x=R,O;x!==null;){var z=x;if(O=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||O===null||A===null||(z=Pr(x,A),z!=null&&ae.push(ba(x,z,O))),Fe)break;x=x.return}0<ae.length&&(I=new U(I,K,null,a,j),H.push({event:I,listeners:ae}))}}if(!(n&7)){e:{if(I=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",I&&a!==su&&(K=a.relatedTarget||a.fromElement)&&(Hi(K)||K[As]))break e;if((U||I)&&(I=j.window===j?j:(I=j.ownerDocument)?I.defaultView||I.parentWindow:window,U?(K=a.relatedTarget||a.toElement,U=R,K=K?Hi(K):null,K!==null&&(Fe=re(K),ae=K.tag,K!==Fe||ae!==5&&ae!==27&&ae!==6)&&(K=null)):(U=null,K=R),U!==K)){if(ae=Vm,z="onMouseLeave",A="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ae=Gm,z="onPointerLeave",A="onPointerEnter",x="pointer"),Fe=U==null?I:jr(U),O=K==null?I:jr(K),I=new ae(z,x+"leave",U,a,j),I.target=Fe,I.relatedTarget=O,z=null,Hi(j)===R&&(ae=new ae(A,x+"enter",K,a,j),ae.target=O,ae.relatedTarget=Fe,z=ae),Fe=z,U&&K)t:{for(ae=U,A=K,x=0,O=ae;O;O=ar(O))x++;for(O=0,z=A;z;z=ar(z))O++;for(;0<x-O;)ae=ar(ae),x--;for(;0<O-x;)A=ar(A),O--;for(;x--;){if(ae===A||A!==null&&ae===A.alternate)break t;ae=ar(ae),A=ar(A)}ae=null}else ae=null;U!==null&&C_(H,I,U,ae,!1),K!==null&&Fe!==null&&C_(H,Fe,K,ae,!0)}}e:{if(I=R?jr(R):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var W=Jm;else if(Xm(I))if(ep)W=wS;else{W=ES;var de=bS}else U=I.nodeName,!U||U.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?R&&iu(R.elementType)&&(W=Jm):W=SS;if(W&&(W=W(t,R))){Zm(H,W,a,j);break e}de&&de(t,I,R),t==="focusout"&&R&&I.type==="number"&&R.memoizedProps.value!=null&&nu(I,"number",I.value)}switch(de=R?jr(R):window,t){case"focusin":(Xm(de)||de.contentEditable==="true")&&(Ps=de,_u=R,Yr=null);break;case"focusout":Yr=_u=Ps=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,op(H,a,j);break;case"selectionchange":if(CS)break;case"keydown":case"keyup":op(H,a,j)}var X;if(fu)e:{switch(t){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else js?Km(t,a)&&(te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(te="onCompositionStart");te&&(Ym&&a.locale!=="ko"&&(js||te!=="onCompositionStart"?te==="onCompositionEnd"&&js&&(X=Bm()):(ii=j,ou="value"in ii?ii.value:ii.textContent,js=!0)),de=So(R,te),0<de.length&&(te=new Fm(te,t,null,a,j),H.push({event:te,listeners:de}),X?te.data=X:(X=Qm(a),X!==null&&(te.data=X)))),(X=pS?gS(t,a):_S(t,a))&&(te=So(R,"onBeforeInput"),0<te.length&&(de=new Fm("onBeforeInput","beforeinput",null,a,j),H.push({event:de,listeners:te}),de.data=X)),o1(H,t,R,a,j)}T_(H,n)})}function ba(t,n,a){return{instance:t,listener:n,currentTarget:a}}function So(t,n){for(var a=n+"Capture",o=[];t!==null;){var u=t,h=u.stateNode;u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=Pr(t,a),u!=null&&o.unshift(ba(t,u,h)),u=Pr(t,n),u!=null&&o.push(ba(t,u,h))),t=t.return}return o}function ar(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function C_(t,n,a,o,u){for(var h=n._reactName,g=[];a!==null&&a!==o;){var v=a,S=v.alternate,R=v.stateNode;if(v=v.tag,S!==null&&S===o)break;v!==5&&v!==26&&v!==27||R===null||(S=R,u?(R=Pr(a,h),R!=null&&g.unshift(ba(a,R,S))):u||(R=Pr(a,h),R!=null&&g.push(ba(a,R,S)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var h1=/\r\n?/g,f1=/\u0000|\uFFFD/g;function R_(t){return(typeof t=="string"?t:""+t).replace(h1,`
`).replace(f1,"")}function N_(t,n){return n=R_(n),R_(t)===n}function wo(){}function Ce(t,n,a,o,u,h){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Ms(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Ms(t,""+o);break;case"className":Ol(t,"class",o);break;case"tabIndex":Ol(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(t,a,o);break;case"style":Pm(t,o,h);break;case"data":if(n!=="object"){Ol(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=kl(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Ce(t,n,"name",u.name,u,null),Ce(t,n,"formEncType",u.formEncType,u,null),Ce(t,n,"formMethod",u.formMethod,u,null),Ce(t,n,"formTarget",u.formTarget,u,null)):(Ce(t,n,"encType",u.encType,u,null),Ce(t,n,"method",u.method,u,null),Ce(t,n,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=kl(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=wo);break;case"onScroll":o!=null&&ge("scroll",t);break;case"onScrollEnd":o!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=kl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ge("beforetoggle",t),ge("toggle",t),Al(t,"popover",o);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Al(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qE.get(a)||a,Al(t,a,o))}}function Bd(t,n,a,o,u,h){switch(a){case"style":Pm(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Ms(t,o):(typeof o=="number"||typeof o=="bigint")&&Ms(t,""+o);break;case"onScroll":o!=null&&ge("scroll",t);break;case"onScrollEnd":o!=null&&ge("scrollend",t);break;case"onClick":o!=null&&(t.onclick=wo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Am.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),n=a.slice(2,u?a.length-7:void 0),h=t[xt]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,u),typeof o=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,u);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Al(t,a,o)}}}function ht(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var o=!1,u=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ce(t,n,h,g,a,null)}}u&&Ce(t,n,"srcSet",a.srcSet,a,null),o&&Ce(t,n,"src",a.src,a,null);return;case"input":ge("invalid",t);var v=h=g=u=null,S=null,R=null;for(o in a)if(a.hasOwnProperty(o)){var j=a[o];if(j!=null)switch(o){case"name":u=j;break;case"type":g=j;break;case"checked":S=j;break;case"defaultChecked":R=j;break;case"value":h=j;break;case"defaultValue":v=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Ce(t,n,o,j,a,null)}}Mm(t,h,v,S,R,g,u,!1),Dl(t);return;case"select":ge("invalid",t),o=g=h=null;for(u in a)if(a.hasOwnProperty(u)&&(v=a[u],v!=null))switch(u){case"value":h=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:Ce(t,n,u,v,a,null)}n=h,a=g,t.multiple=!!o,n!=null?ks(t,!!o,n,!1):a!=null&&ks(t,!!o,a,!0);return;case"textarea":ge("invalid",t),h=u=o=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":u=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Ce(t,n,g,v,a,null)}Um(t,o,u,h),Dl(t);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(o=a[S],o!=null))switch(S){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ce(t,n,S,o,a,null)}return;case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(o=0;o<va.length;o++)ge(va[o],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ce(t,n,R,o,a,null)}return;default:if(iu(n)){for(j in a)a.hasOwnProperty(j)&&(o=a[j],o!==void 0&&Bd(t,n,j,o,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(o=a[v],o!=null&&Ce(t,n,v,o,a,null))}function m1(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,g=null,v=null,S=null,R=null,j=null;for(U in a){var H=a[U];if(a.hasOwnProperty(U)&&H!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":S=H;default:o.hasOwnProperty(U)||Ce(t,n,U,null,o,H)}}for(var I in o){var U=o[I];if(H=a[I],o.hasOwnProperty(I)&&(U!=null||H!=null))switch(I){case"type":h=U;break;case"name":u=U;break;case"checked":R=U;break;case"defaultChecked":j=U;break;case"value":g=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,n));break;default:U!==H&&Ce(t,n,I,U,o,H)}}tu(t,g,v,S,R,j,h,u);return;case"select":U=g=v=I=null;for(h in a)if(S=a[h],a.hasOwnProperty(h)&&S!=null)switch(h){case"value":break;case"multiple":U=S;default:o.hasOwnProperty(h)||Ce(t,n,h,null,o,S)}for(u in o)if(h=o[u],S=a[u],o.hasOwnProperty(u)&&(h!=null||S!=null))switch(u){case"value":I=h;break;case"defaultValue":v=h;break;case"multiple":g=h;default:h!==S&&Ce(t,n,u,h,o,S)}n=v,a=g,o=U,I!=null?ks(t,!!a,I,!1):!!o!=!!a&&(n!=null?ks(t,!!a,n,!0):ks(t,!!a,a?[]:"",!1));return;case"textarea":U=I=null;for(v in a)if(u=a[v],a.hasOwnProperty(v)&&u!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ce(t,n,v,null,o,u)}for(g in o)if(u=o[g],h=a[g],o.hasOwnProperty(g)&&(u!=null||h!=null))switch(g){case"value":I=u;break;case"defaultValue":U=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==h&&Ce(t,n,g,u,o,h)}Lm(t,I,U);return;case"option":for(var K in a)if(I=a[K],a.hasOwnProperty(K)&&I!=null&&!o.hasOwnProperty(K))switch(K){case"selected":t.selected=!1;break;default:Ce(t,n,K,null,o,I)}for(S in o)if(I=o[S],U=a[S],o.hasOwnProperty(S)&&I!==U&&(I!=null||U!=null))switch(S){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Ce(t,n,S,I,o,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in a)I=a[ae],a.hasOwnProperty(ae)&&I!=null&&!o.hasOwnProperty(ae)&&Ce(t,n,ae,null,o,I);for(R in o)if(I=o[R],U=a[R],o.hasOwnProperty(R)&&I!==U&&(I!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,n));break;default:Ce(t,n,R,I,o,U)}return;default:if(iu(n)){for(var Fe in a)I=a[Fe],a.hasOwnProperty(Fe)&&I!==void 0&&!o.hasOwnProperty(Fe)&&Bd(t,n,Fe,void 0,o,I);for(j in o)I=o[j],U=a[j],!o.hasOwnProperty(j)||I===U||I===void 0&&U===void 0||Bd(t,n,j,I,o,U);return}}for(var A in a)I=a[A],a.hasOwnProperty(A)&&I!=null&&!o.hasOwnProperty(A)&&Ce(t,n,A,null,o,I);for(H in o)I=o[H],U=a[H],!o.hasOwnProperty(H)||I===U||I==null&&U==null||Ce(t,n,H,I,o,U)}var qd=null,Vd=null;function To(t){return t.nodeType===9?t:t.ownerDocument}function A_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Fd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Gd=null;function p1(){var t=window.event;return t&&t.type==="popstate"?t===Gd?!1:(Gd=t,!0):(Gd=null,!1)}var D_=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(t){return I_.resolve(null).then(t).catch(y1)}:D_;function y1(t){setTimeout(function(){throw t})}function Yd(t,n){var a=n,o=0;do{var u=a.nextSibling;if(t.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(o===0){t.removeChild(u),Na(n);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=u}while(a);Na(n)}function $d(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$d(a),eu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function v1(t,n,a,o){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ur])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==u.rel||t.getAttribute("href")!==(u.href==null?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=nn(t.nextSibling),t===null)break}return null}function b1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=nn(t.nextSibling),t===null))return null;return t}function nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function k_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function M_(t,n,a){switch(n=To(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}var Xt=new Map,L_=new Set;function xo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Bn=$.d;$.d={f:E1,r:S1,D:w1,C:T1,L:x1,m:C1,X:N1,S:R1,M:A1};function E1(){var t=Bn.f(),n=_o();return t||n}function S1(t){var n=Os(t);n!==null&&n.tag===5&&n.type==="form"?og(n):Bn.r(t)}var lr=typeof document>"u"?null:document;function U_(t,n,a){var o=lr;if(o&&typeof n=="string"&&n){var u=Bt(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),L_.has(u)||(L_.add(u),t={rel:t,crossOrigin:a,href:n},o.querySelector(u)===null&&(n=o.createElement("link"),ht(n,"link",t),nt(n),o.head.appendChild(n)))}}function w1(t){Bn.D(t),U_("dns-prefetch",t,null)}function T1(t,n){Bn.C(t,n),U_("preconnect",t,n)}function x1(t,n,a){Bn.L(t,n,a);var o=lr;if(o&&t&&n){var u='link[rel="preload"][as="'+Bt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Bt(a.imageSizes)+'"]')):u+='[href="'+Bt(t)+'"]';var h=u;switch(n){case"style":h=or(t);break;case"script":h=cr(t)}Xt.has(h)||(t=Z({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Xt.set(h,t),o.querySelector(u)!==null||n==="style"&&o.querySelector(Ea(h))||n==="script"&&o.querySelector(Sa(h))||(n=o.createElement("link"),ht(n,"link",t),nt(n),o.head.appendChild(n)))}}function C1(t,n){Bn.m(t,n);var a=lr;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Bt(o)+'"][href="'+Bt(t)+'"]',h=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=cr(t)}if(!Xt.has(h)&&(t=Z({rel:"modulepreload",href:t},n),Xt.set(h,t),a.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sa(h)))return}o=a.createElement("link"),ht(o,"link",t),nt(o),a.head.appendChild(o)}}}function R1(t,n,a){Bn.S(t,n,a);var o=lr;if(o&&t){var u=Ds(o).hoistableStyles,h=or(t);n=n||"default";var g=u.get(h);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(Ea(h)))v.loading=5;else{t=Z({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Xt.get(h))&&Wd(t,a);var S=g=o.createElement("link");nt(S),ht(S,"link",t),S._p=new Promise(function(R,j){S.onload=R,S.onerror=j}),S.addEventListener("load",function(){v.loading|=1}),S.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Co(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:v},u.set(h,g)}}}function N1(t,n){Bn.X(t,n);var a=lr;if(a&&t){var o=Ds(a).hoistableScripts,u=cr(t),h=o.get(u);h||(h=a.querySelector(Sa(u)),h||(t=Z({src:t,async:!0},n),(n=Xt.get(u))&&Kd(t,n),h=a.createElement("script"),nt(h),ht(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(u,h))}}function A1(t,n){Bn.M(t,n);var a=lr;if(a&&t){var o=Ds(a).hoistableScripts,u=cr(t),h=o.get(u);h||(h=a.querySelector(Sa(u)),h||(t=Z({src:t,async:!0,type:"module"},n),(n=Xt.get(u))&&Kd(t,n),h=a.createElement("script"),nt(h),ht(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(u,h))}}function j_(t,n,a,o){var u=(u=ei.current)?xo(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=or(a.href),a=Ds(u).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=or(a.href);var h=Ds(u).hoistableStyles,g=h.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=u.querySelector(Ea(t)))&&!h._p&&(g.instance=h,g.state.loading=5),Xt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xt.set(t,a),h||O1(u,t,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cr(a),a=Ds(u).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function or(t){return'href="'+Bt(t)+'"'}function Ea(t){return'link[rel="stylesheet"]['+t+"]"}function P_(t){return Z({},t,{"data-precedence":t.precedence,precedence:null})}function O1(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ht(n,"link",a),nt(n),t.head.appendChild(n))}function cr(t){return'[src="'+Bt(t)+'"]'}function Sa(t){return"script[async]"+t}function z_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Bt(a.href)+'"]');if(o)return n.instance=o,nt(o),o;var u=Z({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),nt(o),ht(o,"style",u),Co(o,a.precedence,t),n.instance=o;case"stylesheet":u=or(a.href);var h=t.querySelector(Ea(u));if(h)return n.state.loading|=4,n.instance=h,nt(h),h;o=P_(a),(u=Xt.get(u))&&Wd(o,u),h=(t.ownerDocument||t).createElement("link"),nt(h);var g=h;return g._p=new Promise(function(v,S){g.onload=v,g.onerror=S}),ht(h,"link",o),n.state.loading|=4,Co(h,a.precedence,t),n.instance=h;case"script":return h=cr(a.src),(u=t.querySelector(Sa(h)))?(n.instance=u,nt(u),u):(o=a,(u=Xt.get(h))&&(o=Z({},a),Kd(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),nt(u),ht(u,"link",o),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(o=n.instance,n.state.loading|=4,Co(o,a.precedence,t));return n.instance}function Co(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,h=u,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===n)h=v;else if(h!==u)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Kd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ro=null;function H_(t,n,a){if(Ro===null){var o=new Map,u=Ro=new Map;u.set(a,o)}else u=Ro,o=u.get(a),o||(o=new Map,u.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var h=a[u];if(!(h[Ur]||h[ft]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var v=o.get(g);v?v.push(h):o.set(g,[h])}}return o}function B_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function D1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function q_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var wa=null;function I1(){}function k1(t,n,a){if(wa===null)throw Error(r(475));var o=wa;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var u=or(a.href),h=t.querySelector(Ea(u));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=No.bind(o),t.then(o,o)),n.state.loading|=4,n.instance=h,nt(h);return}h=t.ownerDocument||t,a=P_(a),(u=Xt.get(u))&&Wd(a,u),h=h.createElement("link"),nt(h);var g=h;g._p=new Promise(function(v,S){g.onload=v,g.onerror=S}),ht(h,"link",a),n.instance=h}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(o.count++,n=No.bind(o),t.addEventListener("load",n),t.addEventListener("error",n))}}function M1(){if(wa===null)throw Error(r(475));var t=wa;return t.stylesheets&&t.count===0&&Qd(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Qd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function No(){if(this.count--,this.count===0){if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ao=null;function Qd(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ao=new Map,n.forEach(L1,t),Ao=null,No.call(t))}function L1(t,n){if(!(n.state.loading&4)){var a=Ao.get(t);if(a)var o=a.get(null);else{a=new Map,Ao.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var g=u[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}u=n.instance,g=u.getAttribute("data-precedence"),h=a.get(g)||o,h===o&&a.set(null,u),a.set(g,u),this.count++,o=No.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),h?h.parentNode.insertBefore(u,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var Ta={$$typeof:w,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function U1(t,n,a,o,u,h,g,v){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.hiddenUpdates=Zc(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function V_(t,n,a,o,u,h,g,v,S,R,j,H){return t=new U1(t,n,a,g,v,S,R,H),n=1,h===!0&&(n|=24),h=Kt(3,null,null,n),t.current=h,h.stateNode=t,n=Nu(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:o,isDehydrated:a,cache:n},od(h),t}function F_(t){return t?(t=Bs,t):Bs}function G_(t,n,a,o,u,h){u=F_(u),o.context===null?o.context=u:o.pendingContext=u,o=di(n),o.payload={element:a},h=h===void 0?null:h,h!==null&&(o.callback=h),a=hi(t,o,n),a!==null&&(vt(a,t,n),la(a,t,n))}function Y_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Xd(t,n){Y_(t,n),(t=t.alternate)&&Y_(t,n)}function $_(t){if(t.tag===13){var n=si(t,67108864);n!==null&&vt(n,t,67108864),Xd(t,67108864)}}var Oo=!0;function j1(t,n,a,o){var u=q.T;q.T=null;var h=$.p;try{$.p=2,Zd(t,n,a,o)}finally{$.p=h,q.T=u}}function P1(t,n,a,o){var u=q.T;q.T=null;var h=$.p;try{$.p=8,Zd(t,n,a,o)}finally{$.p=h,q.T=u}}function Zd(t,n,a,o){if(Oo){var u=Jd(o);if(u===null)Hd(t,n,o,Do,a),K_(t,o);else if(H1(u,t,n,a,o))o.stopPropagation();else if(K_(t,o),n&4&&-1<z1.indexOf(t)){for(;u!==null;){var h=Os(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=zi(h.pendingLanes);if(g!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var S=1<<31-Mt(g);v.entanglements[1]|=S,g&=~S}yn(h),!(Pe&6)&&(mo=fn()+500,ya(0))}}break;case 13:v=si(h,2),v!==null&&vt(v,h,2),_o(),Xd(h,2)}if(h=Jd(o),h===null&&Hd(t,n,o,Do,a),h===u)break;u=h}u!==null&&o.stopPropagation()}else Hd(t,n,o,null,a)}}function Jd(t){return t=ru(t),eh(t)}var Do=null;function eh(t){if(Do=null,t=Hi(t),t!==null){var n=re(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=Oe(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Do=t,null}function W_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(TE()){case ym:return 2;case vm:return 8;case xl:case xE:return 32;case bm:return 268435456;default:return 32}default:return 32}}var th=!1,vi=null,bi=null,Ei=null,xa=new Map,Ca=new Map,Si=[],z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(t,n){switch(t){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":xa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(n.pointerId)}}function Ra(t,n,a,o,u,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[u]},n!==null&&(n=Os(n),n!==null&&$_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function H1(t,n,a,o,u){switch(n){case"focusin":return vi=Ra(vi,t,n,a,o,u),!0;case"dragenter":return bi=Ra(bi,t,n,a,o,u),!0;case"mouseover":return Ei=Ra(Ei,t,n,a,o,u),!0;case"pointerover":var h=u.pointerId;return xa.set(h,Ra(xa.get(h)||null,t,n,a,o,u)),!0;case"gotpointercapture":return h=u.pointerId,Ca.set(h,Ra(Ca.get(h)||null,t,n,a,o,u)),!0}return!1}function Q_(t){var n=Hi(t.target);if(n!==null){var a=re(n);if(a!==null){if(n=a.tag,n===13){if(n=Oe(a),n!==null){t.blockedOn=n,ME(t.priority,function(){if(a.tag===13){var o=zt(),u=si(a,o);u!==null&&vt(u,a,o),Xd(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Io(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);su=o,a.target.dispatchEvent(o),su=null}else return n=Os(a),n!==null&&$_(n),t.blockedOn=a,!1;n.shift()}return!0}function X_(t,n,a){Io(t)&&a.delete(n)}function B1(){th=!1,vi!==null&&Io(vi)&&(vi=null),bi!==null&&Io(bi)&&(bi=null),Ei!==null&&Io(Ei)&&(Ei=null),xa.forEach(X_),Ca.forEach(X_)}function ko(t,n){t.blockedOn===n&&(t.blockedOn=null,th||(th=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,B1)))}var Mo=null;function Z_(t){Mo!==t&&(Mo=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Mo===t&&(Mo=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],u=t[n+2];if(typeof o!="function"){if(eh(o||a)===null)continue;break}var h=Os(a);h!==null&&(t.splice(n,3),n-=3,Fu(h,{pending:!0,data:u,method:a.method,action:o},o,u))}}))}function Na(t){function n(S){return ko(S,t)}vi!==null&&ko(vi,t),bi!==null&&ko(bi,t),Ei!==null&&ko(Ei,t),xa.forEach(n),Ca.forEach(n);for(var a=0;a<Si.length;a++){var o=Si[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Si.length&&(a=Si[0],a.blockedOn===null);)Q_(a),a.blockedOn===null&&Si.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],g=u[xt]||null;if(typeof h=="function")g||Z_(a);else if(g){var v=null;if(h&&h.hasAttribute("formAction")){if(u=h,g=h[xt]||null)v=g.formAction;else if(eh(u)!==null)continue}else v=g.action;typeof v=="function"?a[o+1]=v:(a.splice(o,3),o-=3),Z_(a)}}}function nh(t){this._internalRoot=t}Lo.prototype.render=nh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=zt();G_(a,o,t,n,null,null)},Lo.prototype.unmount=nh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&sr(),G_(t.current,2,null,t,null,null),_o(),n[As]=null}};function Lo(t){this._internalRoot=t}Lo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Cm();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Si.length&&n!==0&&n<Si[a].priority;a++);Si.splice(a,0,t),a===0&&Q_(t)}};var J_=e.version;if(J_!=="19.0.0")throw Error(r(527,J_,"19.0.0"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=B(n),t=t!==null?ne(t):null,t=t===null?null:t.stateNode,t};var q1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:q,findFiberByHostInstance:Hi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{kr=Uo.inject(q1),kt=Uo}catch{}}return Oa.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",u=gg,h=_g,g=yg,v=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks)),n=V_(t,1,!1,null,null,a,o,u,h,g,v,null),t[As]=n.current,zd(t.nodeType===8?t.parentNode:t),new nh(n)},Oa.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,u="",h=gg,g=_g,v=yg,S=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),n=V_(t,1,!0,n,a??null,o,u,h,g,v,S,R),n.context=F_(null),a=n.current,o=zt(),u=di(o),u.callback=null,hi(a,u,o),n.current.lanes=o,Lr(n,o),yn(n),t[As]=n.current,zd(t),new Lo(n)},Oa.version="19.0.0",Oa}var cy;function Z1(){if(cy)return rh.exports;cy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rh.exports=X1(),rh.exports}var J1=Z1(),Da={},uy;function ew(){if(uy)return Da;uy=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.parse=d,Da.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function d(b,w){const C=new c,D=b.length;if(D<2)return C;const k=(w==null?void 0:w.decode)||y;let L=0;do{const P=b.indexOf("=",L);if(P===-1)break;const M=b.indexOf(";",L),G=M===-1?D:M;if(P>G){L=b.lastIndexOf(";",P-1)+1;continue}const Y=f(b,L,P),ee=m(b,P,Y),be=b.slice(Y,ee);if(C[be]===void 0){let Q=f(b,P+1,G),q=m(b,G,Q);const Z=k(b.slice(Q,q));C[be]=Z}L=G+1}while(L<D);return C}function f(b,w,C){do{const D=b.charCodeAt(w);if(D!==32&&D!==9)return w}while(++w<C);return C}function m(b,w,C){for(;w>C;){const D=b.charCodeAt(--w);if(D!==32&&D!==9)return w+1}return C}function p(b,w,C){const D=(C==null?void 0:C.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const k=D(w);if(!e.test(k))throw new TypeError(`argument val is invalid: ${w}`);let L=b+"="+k;if(!C)return L;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);L+="; Max-Age="+C.maxAge}if(C.domain){if(!s.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);L+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);L+="; Path="+C.path}if(C.expires){if(!E(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);L+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(L+="; HttpOnly"),C.secure&&(L+="; Secure"),C.partitioned&&(L+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return L}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function E(b){return l.call(b)==="[object Date]"}return Da}ew();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dy="popstate";function tw(i={}){function e(l,c){let{pathname:d="/",search:f="",hash:m=""}=Ss(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Rh("",{pathname:d,search:f,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){let d=l.document.querySelector("base"),f="";if(d&&d.getAttribute("href")){let m=l.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof c=="string"?c:Ka(c))}function r(l,c){cn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return iw(e,s,r,i)}function He(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function cn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nw(){return Math.random().toString(36).substring(2,10)}function hy(i,e){return{usr:i.state,key:i.key,idx:e}}function Rh(i,e,s=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ss(e):e,state:s,key:e&&e.key||r||nw()}}function Ka({pathname:i="/",search:e="",hash:s=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(i+=s.charAt(0)==="#"?s:"#"+s),i}function Ss(i){let e={};if(i){let s=i.indexOf("#");s>=0&&(e.hash=i.substring(s),i=i.substring(0,s));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function iw(i,e,s,r={}){let{window:l=document.defaultView,v5Compat:c=!1}=r,d=l.history,f="POP",m=null,p=y();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function y(){return(d.state||{idx:null}).idx}function E(){f="POP";let k=y(),L=k==null?null:k-p;p=k,m&&m({action:f,location:D.location,delta:L})}function b(k,L){f="PUSH";let P=Rh(D.location,k,L);s&&s(P,k),p=y()+1;let M=hy(P,p),G=D.createHref(P);try{d.pushState(M,"",G)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;l.location.assign(G)}c&&m&&m({action:f,location:D.location,delta:1})}function w(k,L){f="REPLACE";let P=Rh(D.location,k,L);s&&s(P,k),p=y();let M=hy(P,p),G=D.createHref(P);d.replaceState(M,"",G),c&&m&&m({action:f,location:D.location,delta:0})}function C(k){let L=l.location.origin!=="null"?l.location.origin:l.location.href,P=typeof k=="string"?k:Ka(k);return P=P.replace(/ $/,"%20"),He(L,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,L)}let D={get action(){return f},get location(){return i(l,d)},listen(k){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(dy,E),m=k,()=>{l.removeEventListener(dy,E),m=null}},createHref(k){return e(l,k)},createURL:C,encodeLocation(k){let L=C(k);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:b,replace:w,go(k){return d.go(k)}};return D}function jv(i,e,s="/"){return sw(i,e,s,!1)}function sw(i,e,s,r){let l=typeof e=="string"?Ss(e):e,c=Mi(l.pathname||"/",s);if(c==null)return null;let d=Pv(i);rw(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let p=gw(c);f=mw(d[m],p,r)}return f}function Pv(i,e=[],s=[],r=""){let l=(c,d,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};m.relativePath.startsWith("/")&&(He(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=Gn([r,m.relativePath]),y=s.concat(m);c.children&&c.children.length>0&&(He(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Pv(c.children,e,y,p)),!(c.path==null&&!c.index)&&e.push({path:p,score:hw(p,c.index),routesMeta:y})};return i.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,d);else for(let m of zv(c.path))l(c,d,m)}),e}function zv(i){let e=i.split("/");if(e.length===0)return[];let[s,...r]=e,l=s.endsWith("?"),c=s.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let d=zv(r.join("/")),f=[];return f.push(...d.map(m=>m===""?c:[c,m].join("/"))),l&&f.push(...d),f.map(m=>i.startsWith("/")&&m===""?"/":m)}function rw(i){i.sort((e,s)=>e.score!==s.score?s.score-e.score:fw(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var aw=/^:[\w-]+$/,lw=3,ow=2,cw=1,uw=10,dw=-2,fy=i=>i==="*";function hw(i,e){let s=i.split("/"),r=s.length;return s.some(fy)&&(r+=dw),e&&(r+=ow),s.filter(l=>!fy(l)).reduce((l,c)=>l+(aw.test(c)?lw:c===""?cw:uw),r)}function fw(i,e){return i.length===e.length&&i.slice(0,-1).every((r,l)=>r===e[l])?i[i.length-1]-e[e.length-1]:0}function mw(i,e,s=!1){let{routesMeta:r}=i,l={},c="/",d=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=c==="/"?e:e.slice(c.length)||"/",E=Qo({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!E&&p&&s&&!r[r.length-1].route.index&&(E=Qo({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!E)return null;Object.assign(l,E.params),d.push({params:l,pathname:Gn([c,E.pathname]),pathnameBase:bw(Gn([c,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(c=Gn([c,E.pathnameBase]))}return d}function Qo(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,r]=pw(i.path,i.caseSensitive,i.end),l=e.match(s);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:E},b)=>{if(y==="*"){let C=f[b]||"";d=c.slice(0,c.length-C.length).replace(/(.)\/+$/,"$1")}const w=f[b];return E&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:i}}function pw(i,e=!1,s=!0){cn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function gw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Mi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=i.charAt(s);return r&&r!=="/"?null:i.slice(s)||"/"}function _w(i,e="/"){let{pathname:s,search:r="",hash:l=""}=typeof i=="string"?Ss(i):i;return{pathname:s?s.startsWith("/")?s:yw(s,e):e,search:Ew(r),hash:Sw(l)}}function yw(i,e){let s=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function ch(i,e,s,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vw(i){return i.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Hv(i){let e=vw(i);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function Bv(i,e,s,r=!1){let l;typeof i=="string"?l=Ss(i):(l={...i},He(!l.pathname||!l.pathname.includes("?"),ch("?","pathname","search",l)),He(!l.pathname||!l.pathname.includes("#"),ch("#","pathname","hash",l)),He(!l.search||!l.search.includes("#"),ch("#","search","hash",l)));let c=i===""||l.pathname==="",d=c?"/":l.pathname,f;if(d==null)f=s;else{let E=e.length-1;if(!r&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),E-=1;l.pathname=b.join("/")}f=E>=0?e[E]:"/"}let m=_w(l,f),p=d&&d!=="/"&&d.endsWith("/"),y=(c||d===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Gn=i=>i.join("/").replace(/\/\/+/g,"/"),bw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Ew=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Sw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ww(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var qv=["POST","PUT","PATCH","DELETE"];new Set(qv);var Tw=["GET",...qv];new Set(Tw);var xr=N.createContext(null);xr.displayName="DataRouter";var Sc=N.createContext(null);Sc.displayName="DataRouterState";var Vv=N.createContext({isTransitioning:!1});Vv.displayName="ViewTransition";var xw=N.createContext(new Map);xw.displayName="Fetchers";var Cw=N.createContext(null);Cw.displayName="Await";var Tn=N.createContext(null);Tn.displayName="Navigation";var ol=N.createContext(null);ol.displayName="Location";var Qn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var sf=N.createContext(null);sf.displayName="RouteError";function Rw(i,{relative:e}={}){He(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=N.useContext(Tn),{hash:l,pathname:c,search:d}=ul(i,{relative:e}),f=c;return s!=="/"&&(f=c==="/"?s:Gn([s,c])),r.createHref({pathname:f,search:d,hash:l})}function cl(){return N.useContext(ol)!=null}function Xn(){return He(cl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(ol).location}var Fv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gv(i){N.useContext(Tn).static||N.useLayoutEffect(i)}function wc(){let{isDataRoute:i}=N.useContext(Qn);return i?Hw():Nw()}function Nw(){He(cl(),"useNavigate() may be used only in the context of a <Router> component.");let i=N.useContext(xr),{basename:e,navigator:s}=N.useContext(Tn),{matches:r}=N.useContext(Qn),{pathname:l}=Xn(),c=JSON.stringify(Hv(r)),d=N.useRef(!1);return Gv(()=>{d.current=!0}),N.useCallback((m,p={})=>{if(cn(d.current,Fv),!d.current)return;if(typeof m=="number"){s.go(m);return}let y=Bv(m,JSON.parse(c),l,p.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Gn([e,y.pathname])),(p.replace?s.replace:s.push)(y,p.state,p)},[e,s,c,l,i])}N.createContext(null);function ul(i,{relative:e}={}){let{matches:s}=N.useContext(Qn),{pathname:r}=Xn(),l=JSON.stringify(Hv(s));return N.useMemo(()=>Bv(i,JSON.parse(l),r,e==="path"),[i,l,r,e])}function Aw(i,e){return Yv(i,e)}function Yv(i,e,s,r){var P;He(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:c}=N.useContext(Tn),{matches:d}=N.useContext(Qn),f=d[d.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let M=E&&E.path||"";$v(p,!E||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let b=Xn(),w;if(e){let M=typeof e=="string"?Ss(e):e;He(y==="/"||((P=M.pathname)==null?void 0:P.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${M.pathname}" was given in the \`location\` prop.`),w=M}else w=b;let C=w.pathname||"/",D=C;if(y!=="/"){let M=y.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(M.length).join("/")}let k=!c&&s&&s.matches&&s.matches.length>0?s.matches:jv(i,{pathname:D});cn(E||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),cn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=Mw(k&&k.map(M=>Object.assign({},M,{params:Object.assign({},m,M.params),pathname:Gn([y,l.encodeLocation?l.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?y:Gn([y,l.encodeLocation?l.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),d,s,r);return e&&L?N.createElement(ol.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},L):L}function Ow(){let i=zw(),e=ww(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:c},"ErrorBoundary")," or"," ",N.createElement("code",{style:c},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),s?N.createElement("pre",{style:l},s):null,d)}var Dw=N.createElement(Ow,null),Iw=class extends N.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?N.createElement(Qn.Provider,{value:this.props.routeContext},N.createElement(sf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kw({routeContext:i,match:e,children:s}){let r=N.useContext(xr);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Qn.Provider,{value:i},s)}function Mw(i,e=[],s=null,r=null){if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let l=i,c=s==null?void 0:s.errors;if(c!=null){let m=l.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);He(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,f=-1;if(s)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:E}=s,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!E||E[p.route.id]===void 0);if(p.route.lazy||b){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,p,y)=>{let E,b=!1,w=null,C=null;s&&(E=c&&p.route.id?c[p.route.id]:void 0,w=p.route.errorElement||Dw,d&&(f<0&&y===0?($v("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):f===y&&(b=!0,C=p.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,y+1)),k=()=>{let L;return E?L=w:b?L=C:p.route.Component?L=N.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=m,N.createElement(kw,{match:p,routeContext:{outlet:m,matches:D,isDataRoute:s!=null},children:L})};return s&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?N.createElement(Iw,{location:s.location,revalidation:s.revalidation,component:w,error:E,children:k(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):k()},null)}function rf(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lw(i){let e=N.useContext(xr);return He(e,rf(i)),e}function Uw(i){let e=N.useContext(Sc);return He(e,rf(i)),e}function jw(i){let e=N.useContext(Qn);return He(e,rf(i)),e}function af(i){let e=jw(i),s=e.matches[e.matches.length-1];return He(s.route.id,`${i} can only be used on routes that contain a unique "id"`),s.route.id}function Pw(){return af("useRouteId")}function zw(){var r;let i=N.useContext(sf),e=Uw("useRouteError"),s=af("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[s]}function Hw(){let{router:i}=Lw("useNavigate"),e=af("useNavigate"),s=N.useRef(!1);return Gv(()=>{s.current=!0}),N.useCallback(async(l,c={})=>{cn(s.current,Fv),s.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:e,...c}))},[i,e])}var my={};function $v(i,e,s){!e&&!my[i]&&(my[i]=!0,cn(!1,s))}N.memo(Bw);function Bw({routes:i,future:e,state:s}){return Yv(i,void 0,s,e)}function dr(i){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qw({basename:i="/",children:e=null,location:s,navigationType:r="POP",navigator:l,static:c=!1}){He(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof s=="string"&&(s=Ss(s));let{pathname:m="/",search:p="",hash:y="",state:E=null,key:b="default"}=s,w=N.useMemo(()=>{let C=Mi(m,d);return C==null?null:{location:{pathname:C,search:p,hash:y,state:E,key:b},navigationType:r}},[d,m,p,y,E,b,r]);return cn(w!=null,`<Router basename="${d}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:N.createElement(Tn.Provider,{value:f},N.createElement(ol.Provider,{children:e,value:w}))}function Vw({children:i,location:e}){return Aw(Nh(i),e)}function Nh(i,e=[]){let s=[];return N.Children.forEach(i,(r,l)=>{if(!N.isValidElement(r))return;let c=[...e,l];if(r.type===N.Fragment){s.push.apply(s,Nh(r.props.children,c));return}He(r.type===dr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Nh(r.props.children,c)),s.push(d)}),s}var Vo="get",Fo="application/x-www-form-urlencoded";function Tc(i){return i!=null&&typeof i.tagName=="string"}function Fw(i){return Tc(i)&&i.tagName.toLowerCase()==="button"}function Gw(i){return Tc(i)&&i.tagName.toLowerCase()==="form"}function Yw(i){return Tc(i)&&i.tagName.toLowerCase()==="input"}function $w(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ww(i,e){return i.button===0&&(!e||e==="_self")&&!$w(i)}var jo=null;function Kw(){if(jo===null)try{new FormData(document.createElement("form"),0),jo=!1}catch{jo=!0}return jo}var Qw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uh(i){return i!=null&&!Qw.has(i)?(cn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fo}"`),null):i}function Xw(i,e){let s,r,l,c,d;if(Gw(i)){let f=i.getAttribute("action");r=f?Mi(f,e):null,s=i.getAttribute("method")||Vo,l=uh(i.getAttribute("enctype"))||Fo,c=new FormData(i)}else if(Fw(i)||Yw(i)&&(i.type==="submit"||i.type==="image")){let f=i.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||f.getAttribute("action");if(r=m?Mi(m,e):null,s=i.getAttribute("formmethod")||f.getAttribute("method")||Vo,l=uh(i.getAttribute("formenctype"))||uh(f.getAttribute("enctype"))||Fo,c=new FormData(f,i),!Kw()){let{name:p,type:y,value:E}=i;if(y==="image"){let b=p?`${p}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else p&&c.append(p,E)}}else{if(Tc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Vo,r=null,l=Fo,d=i}return c&&l==="text/plain"&&(d=c,c=void 0),{action:r,method:s.toLowerCase(),encType:l,formData:c,body:d}}function lf(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function Zw(i,e){if(i.id in e)return e[i.id];try{let s=await import(i.module);return e[i.id]=s,s}catch(s){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function eT(i,e,s){let r=await Promise.all(i.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await Zw(c,s);return d.links?d.links():[]}return[]}));return sT(r.flat(1).filter(Jw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function py(i,e,s,r,l,c){let d=(m,p)=>s[p]?m.route.id!==s[p].route.id:!0,f=(m,p)=>{var y;return s[p].pathname!==m.pathname||((y=s[p].route.path)==null?void 0:y.endsWith("*"))&&s[p].params["*"]!==m.params["*"]};return c==="assets"?e.filter((m,p)=>d(m,p)||f(m,p)):c==="data"?e.filter((m,p)=>{var E;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(d(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((E=s[0])==null?void 0:E.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function tT(i,e,{includeHydrateFallback:s}={}){return nT(i.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),s&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function nT(i){return[...new Set(i)]}function iT(i){let e={},s=Object.keys(i).sort();for(let r of s)e[r]=i[r];return e}function sT(i,e){let s=new Set;return new Set(e),i.reduce((r,l)=>{let c=JSON.stringify(iT(l));return s.has(c)||(s.add(c),r.push({key:c,link:l})),r},[])}function rT(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function aT(){let i=N.useContext(xr);return lf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function lT(){let i=N.useContext(Sc);return lf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var of=N.createContext(void 0);of.displayName="FrameworkContext";function Wv(){let i=N.useContext(of);return lf(i,"You must render this element inside a <HydratedRouter> element"),i}function oT(i,e){let s=N.useContext(of),[r,l]=N.useState(!1),[c,d]=N.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:E}=e,b=N.useRef(null);N.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let D=L=>{L.forEach(P=>{d(P.isIntersecting)})},k=new IntersectionObserver(D,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[i]),N.useEffect(()=>{if(r){let D=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(D)}}},[r]);let w=()=>{l(!0)},C=()=>{l(!1),d(!1)};return s?i!=="intent"?[c,b,{}]:[c,b,{onFocus:Ia(f,w),onBlur:Ia(m,C),onMouseEnter:Ia(p,w),onMouseLeave:Ia(y,C),onTouchStart:Ia(E,w)}]:[!1,b,{}]}function Ia(i,e){return s=>{i&&i(s),s.defaultPrevented||e(s)}}function cT({page:i,...e}){let{router:s}=aT(),r=N.useMemo(()=>jv(s.routes,i,s.basename),[s.routes,i,s.basename]);return r?N.createElement(dT,{page:i,matches:r,...e}):null}function uT(i){let{manifest:e,routeModules:s}=Wv(),[r,l]=N.useState([]);return N.useEffect(()=>{let c=!1;return eT(i,e,s).then(d=>{c||l(d)}),()=>{c=!0}},[i,e,s]),r}function dT({page:i,matches:e,...s}){let r=Xn(),{manifest:l,routeModules:c}=Wv(),{loaderData:d,matches:f}=lT(),m=N.useMemo(()=>py(i,e,f,l,r,"data"),[i,e,f,l,r]),p=N.useMemo(()=>py(i,e,f,l,r,"assets"),[i,e,f,l,r]),y=N.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let w=new Set,C=!1;if(e.forEach(k=>{var P;let L=l.routes[k.route.id];!L||!L.hasLoader||(!m.some(M=>M.route.id===k.route.id)&&k.route.id in d&&((P=c[k.route.id])!=null&&P.shouldRevalidate)||L.hasClientLoader?C=!0:w.add(k.route.id))}),w.size===0)return[];let D=rT(i);return C&&w.size>0&&D.searchParams.set("_routes",e.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[D.pathname+D.search]},[d,r,l,m,e,i,c]),E=N.useMemo(()=>tT(p,l),[p,l]),b=uT(p);return N.createElement(N.Fragment,null,y.map(w=>N.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...s})),E.map(w=>N.createElement("link",{key:w,rel:"modulepreload",href:w,...s})),b.map(({key:w,link:C})=>N.createElement("link",{key:w,...C})))}function hT(...i){return e=>{i.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var Kv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kv&&(window.__reactRouterVersion="7.2.0")}catch{}function fT({basename:i,children:e,window:s}){let r=N.useRef();r.current==null&&(r.current=tw({window:s,v5Compat:!0}));let l=r.current,[c,d]=N.useState({action:l.action,location:l.location}),f=N.useCallback(m=>{N.startTransition(()=>d(m))},[d]);return N.useLayoutEffect(()=>l.listen(f),[l,f]),N.createElement(qw,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:l})}var Qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xv=N.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:l,reloadDocument:c,replace:d,state:f,target:m,to:p,preventScrollReset:y,viewTransition:E,...b},w){let{basename:C}=N.useContext(Tn),D=typeof p=="string"&&Qv.test(p),k,L=!1;if(typeof p=="string"&&D&&(k=p,Kv))try{let q=new URL(window.location.href),Z=p.startsWith("//")?new URL(q.protocol+p):new URL(p),_e=Mi(Z.pathname,C);Z.origin===q.origin&&_e!=null?p=_e+Z.search+Z.hash:L=!0}catch{cn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=Rw(p,{relative:l}),[M,G,Y]=oT(r,b),ee=gT(p,{replace:d,state:f,target:m,preventScrollReset:y,relative:l,viewTransition:E});function be(q){e&&e(q),q.defaultPrevented||ee(q)}let Q=N.createElement("a",{...b,...Y,href:k||P,onClick:L||c?e:be,ref:hT(w,G),target:m,"data-discover":!D&&s==="render"?"true":void 0});return M&&!D?N.createElement(N.Fragment,null,Q,N.createElement(cT,{page:P})):Q});Xv.displayName="Link";var Zv=N.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:l=!1,style:c,to:d,viewTransition:f,children:m,...p},y){let E=ul(d,{relative:p.relative}),b=Xn(),w=N.useContext(Sc),{navigator:C,basename:D}=N.useContext(Tn),k=w!=null&&ET(E)&&f===!0,L=C.encodeLocation?C.encodeLocation(E).pathname:E.pathname,P=b.pathname,M=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(P=P.toLowerCase(),M=M?M.toLowerCase():null,L=L.toLowerCase()),M&&D&&(M=Mi(M,D)||M);const G=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let Y=P===L||!l&&P.startsWith(L)&&P.charAt(G)==="/",ee=M!=null&&(M===L||!l&&M.startsWith(L)&&M.charAt(L.length)==="/"),be={isActive:Y,isPending:ee,isTransitioning:k},Q=Y?e:void 0,q;typeof r=="function"?q=r(be):q=[r,Y?"active":null,ee?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Z=typeof c=="function"?c(be):c;return N.createElement(Xv,{...p,"aria-current":Q,className:q,ref:y,style:Z,to:d,viewTransition:f},typeof m=="function"?m(be):m)});Zv.displayName="NavLink";var mT=N.forwardRef(({discover:i="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:l,state:c,method:d=Vo,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:E,...b},w)=>{let C=vT(),D=bT(f,{relative:p}),k=d.toLowerCase()==="get"?"get":"post",L=typeof f=="string"&&Qv.test(f),P=M=>{if(m&&m(M),M.defaultPrevented)return;M.preventDefault();let G=M.nativeEvent.submitter,Y=(G==null?void 0:G.getAttribute("formmethod"))||d;C(G||M.currentTarget,{fetcherKey:e,method:Y,navigate:s,replace:l,state:c,relative:p,preventScrollReset:y,viewTransition:E})};return N.createElement("form",{ref:w,method:k,action:D,onSubmit:r?m:P,...b,"data-discover":!L&&i==="render"?"true":void 0})});mT.displayName="Form";function pT(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jv(i){let e=N.useContext(xr);return He(e,pT(i)),e}function gT(i,{target:e,replace:s,state:r,preventScrollReset:l,relative:c,viewTransition:d}={}){let f=wc(),m=Xn(),p=ul(i,{relative:c});return N.useCallback(y=>{if(Ww(y,e)){y.preventDefault();let E=s!==void 0?s:Ka(m)===Ka(p);f(i,{replace:E,state:r,preventScrollReset:l,relative:c,viewTransition:d})}},[m,f,p,s,r,e,i,l,c,d])}var _T=0,yT=()=>`__${String(++_T)}__`;function vT(){let{router:i}=Jv("useSubmit"),{basename:e}=N.useContext(Tn),s=Pw();return N.useCallback(async(r,l={})=>{let{action:c,method:d,encType:f,formData:m,body:p}=Xw(r,e);if(l.navigate===!1){let y=l.fetcherKey||yT();await i.fetch(y,s,l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await i.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:s,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,e,s])}function bT(i,{relative:e}={}){let{basename:s}=N.useContext(Tn),r=N.useContext(Qn);He(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),c={...ul(i||".",{relative:e})},d=Xn();if(i==null){c.search=d.search;let f=new URLSearchParams(c.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(E=>E).forEach(E=>f.append("index",E));let y=f.toString();c.search=y?`?${y}`:""}}return(!i||i===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Gn([s,c.pathname])),Ka(c)}function ET(i,e={}){let s=N.useContext(Vv);He(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Jv("useViewTransitionState"),l=ul(i,{relative:e.relative});if(!s.isTransitioning)return!1;let c=Mi(s.currentLocation.pathname,r)||s.currentLocation.pathname,d=Mi(s.nextLocation.pathname,r)||s.nextLocation.pathname;return Qo(l.pathname,d)!=null||Qo(l.pathname,c)!=null}new TextEncoder;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e0=(...i)=>i.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=N.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...f},m)=>N.createElement("svg",{ref:m,...wT,width:e,height:e,stroke:i,strokeWidth:r?Number(s)*24/Number(e):s,className:e0("lucide",l),...f},[...d.map(([p,y])=>N.createElement(p,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(i,e)=>{const s=N.forwardRef(({className:r,...l},c)=>N.createElement(TT,{ref:c,iconNode:e,className:e0(`lucide-${ST(i)}`,r),...l}));return s.displayName=`${i}`,s};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],t0=wt("ArrowRight",xT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],RT=wt("ChevronLeft",CT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ls=wt("ChevronRight",NT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n0=wt("Eye",AT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ah=wt("Heart",OT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],IT=wt("Instagram",DT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Qa=wt("Loader",kT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],LT=wt("Mail",MT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jT=wt("MapPin",UT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],zT=wt("Phone",PT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],BT=wt("Plus",HT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],VT=wt("Star",qT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],GT=wt("Trash2",FT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],$T=wt("Upload",YT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cf=wt("X",WT);function Xo(i,e=800){const s=document.getElementById(i);if(!s)return;const r=window.scrollY,c=s.getBoundingClientRect().top+r-r;let d=null,f=null,m=!1;function p(){m=!0,f&&cancelAnimationFrame(f),window.removeEventListener("wheel",y,{passive:!0}),window.removeEventListener("touchstart",y,{passive:!0}),window.removeEventListener("keydown",y,{passive:!0})}function y(b){b.type==="keydown"&&!["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"," "].includes(b.key)||p()}window.addEventListener("wheel",y,{passive:!0}),window.addEventListener("touchstart",y,{passive:!0}),window.addEventListener("keydown",y,{passive:!0});function E(b){if(m)return;d||(d=b);const w=b-d,C=Math.min(w/e,1),D=1-Math.pow(1-C,5);window.scrollTo(0,r+c*D),w<e?f=requestAnimationFrame(E):p()}f=requestAnimationFrame(E)}const KT=()=>{};var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(i,e){if(!i)throw Cr(e)},Cr=function(i){return new Error("Firebase Database ("+i0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);l<128?e[s++]=l:l<2048?(e[s++]=l>>6|192,e[s++]=l&63|128):(l&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++r)&1023),e[s++]=l>>18|240,e[s++]=l>>12&63|128,e[s++]=l>>6&63|128,e[s++]=l&63|128):(e[s++]=l>>12|224,e[s++]=l>>6&63|128,e[s++]=l&63|128)}return e},QT=function(i){const e=[];let s=0,r=0;for(;s<i.length;){const l=i[s++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[s++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[s++],d=i[s++],f=i[s++],m=((l&7)<<18|(c&63)<<12|(d&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const c=i[s++],d=i[s++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},uf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<i.length;l+=3){const c=i[l],d=l+1<i.length,f=d?i[l+1]:0,m=l+2<i.length,p=m?i[l+2]:0,y=c>>2,E=(c&3)<<4|f>>4;let b=(f&15)<<2|p>>6,w=p&63;m||(w=64,d||(b=64)),r.push(s[y],s[E],s[b],s[w])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(s0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):QT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<i.length;){const c=s[i.charAt(l++)],f=l<i.length?s[i.charAt(l)]:0;++l;const p=l<i.length?s[i.charAt(l)]:64;++l;const E=l<i.length?s[i.charAt(l)]:64;if(++l,c==null||f==null||p==null||E==null)throw new XT;const b=c<<2|f>>4;if(r.push(b),p!==64){const w=f<<4&240|p>>2;if(r.push(w),E!==64){const C=p<<6&192|E;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class XT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r0=function(i){const e=s0(i);return uf.encodeByteArray(e,!0)},Zo=function(i){return r0(i).replace(/\./g,"")},Jo=function(i){try{return uf.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(i){return a0(void 0,i)}function a0(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const s=e;return new Date(s.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const s in e)!e.hasOwnProperty(s)||!JT(s)||(i[s]=a0(i[s],e[s]));return i}function JT(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=()=>ex().__FIREBASE_DEFAULTS__,nx=()=>{if(typeof process>"u"||typeof gy>"u")return;const i=gy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ix=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Jo(i[1]);return e&&JSON.parse(e)},df=()=>{try{return KT()||tx()||nx()||ix()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},l0=i=>{var e,s;return(s=(e=df())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[i]},o0=i=>{const e=l0(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},c0=()=>{var i;return(i=df())===null||i===void 0?void 0:i.config},u0=i=>{var e;return(e=df())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(i){return i.endsWith(".cloudworkstations.dev")}async function hf(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Zo(JSON.stringify(s)),Zo(JSON.stringify(d)),""].join(".")}const Ba={};function sx(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ba))Ba[e]?i.emulator.push(e):i.prod.push(e);return i}function rx(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let _y=!1;function ff(i,e){if(typeof window>"u"||typeof document>"u"||!ws(window.location.host)||Ba[i]===e||Ba[i]||_y)return;Ba[i]=e;function s(b){return`__firebase__banner__${b}`}const r="__firebase__banner",c=sx().prod.length>0;function d(){const b=document.getElementById(r);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{_y=!0,d()},b}function y(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=rx(r),w=s("text"),C=document.getElementById(w)||document.createElement("span"),D=s("learnmore"),k=document.getElementById(D)||document.createElement("a"),L=s("preprendIcon"),P=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const M=b.element;f(M),y(k,D);const G=p();m(P,L),M.append(P,C,k,G),document.body.appendChild(M)}c?(C.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function ax(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lx(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function h0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ox(){const i=St();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function cx(){return i0.NODE_ADMIN===!0}function ux(){try{return typeof indexedDB=="object"}catch{return!1}}function dx(){return new Promise((i,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},l.onupgradeneeded=()=>{s=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="FirebaseError";class Zn extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=hx,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hl.prototype.create)}}class hl{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?fx(c,r):"Error",f=`${this.serviceName}: ${d} (${l}).`;return new Zn(l,f,r)}}function fx(i,e){return i.replace(mx,(s,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const mx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(i){return JSON.parse(i)}function ct(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=function(i){let e={},s={},r={},l="";try{const c=i.split(".");e=Xa(Jo(c[0])||""),s=Xa(Jo(c[1])||""),l=c[2],r=s.d||{},delete s.d}catch{}return{header:e,claims:s,data:r,signature:l}},px=function(i){const e=f0(i),s=e.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},gx=function(i){const e=f0(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function fs(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function Oh(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ec(i,e,s){const r={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=e.call(s,i[l],l,i));return r}function ms(i,e){if(i===e)return!0;const s=Object.keys(i),r=Object.keys(e);for(const l of s){if(!r.includes(l))return!1;const c=i[l],d=e[l];if(yy(c)&&yy(d)){if(!ms(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!s.includes(l))return!1;return!0}function yy(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(i){const e=[];for(const[s,r]of Object.entries(i))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function za(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Ha(i){const e=i.indexOf("?");if(!e)return"";const s=i.indexOf("#",e);return i.substring(e,s>0?s:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,s){s||(s=0);const r=this.W_;if(typeof e=="string")for(let E=0;E<16;E++)r[E]=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),s+=4;else for(let E=0;E<16;E++)r[E]=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],s+=4;for(let E=16;E<80;E++){const b=r[E-3]^r[E-8]^r[E-14]^r[E-16];r[E]=(b<<1|b>>>31)&4294967295}let l=this.chain_[0],c=this.chain_[1],d=this.chain_[2],f=this.chain_[3],m=this.chain_[4],p,y;for(let E=0;E<80;E++){E<40?E<20?(p=f^c&(d^f),y=1518500249):(p=c^d^f,y=1859775393):E<60?(p=c&d|f&(c|d),y=2400959708):(p=c^d^f,y=3395469782);const b=(l<<5|l>>>27)+p+m+y+r[E]&4294967295;m=f,f=d,d=(c<<30|c>>>2)&4294967295,c=l,l=b}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,s){if(e==null)return;s===void 0&&(s=e.length);const r=s-this.blockSize;let l=0;const c=this.buf_;let d=this.inbuf_;for(;l<s;){if(d===0)for(;l<=r;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<s;)if(c[d]=e.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(c),d=0;break}}else for(;l<s;)if(c[d]=e[l],++d,++l,d===this.blockSize){this.compress_(c),d=0;break}}this.inbuf_=d,this.total_+=s}digest(){const e=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let l=0;l<5;l++)for(let c=24;c>=0;c-=8)e[r]=this.chain_[l]>>c&255,++r;return e}}function yx(i,e){const s=new vx(i,e);return s.subscribe.bind(s)}class vx{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let l;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");bx(e,["next","error","complete"])?l=e:l={next:e,error:s,complete:r},l.next===void 0&&(l.next=dh),l.error===void 0&&(l.error=dh),l.complete===void 0&&(l.complete=dh);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bx(i,e){if(typeof i!="object"||i===null)return!1;for(const s of e)if(s in i&&typeof i[s]=="function")return!0;return!1}function dh(){}function pf(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);if(l>=55296&&l<=56319){const c=l-55296;r++,V(r<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(r)-56320;l=65536+(c<<10)+d}l<128?e[s++]=l:l<2048?(e[s++]=l>>6|192,e[s++]=l&63|128):l<65536?(e[s++]=l>>12|224,e[s++]=l>>6&63|128,e[s++]=l&63|128):(e[s++]=l>>18|240,e[s++]=l>>12&63|128,e[s++]=l>>6&63|128,e[s++]=l&63|128)}return e},xc=function(i){let e=0;for(let s=0;s<i.length;s++){const r=i.charCodeAt(s);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,s++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(i){return i&&i._delegate?i._delegate:i}class Li{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new dl;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:s});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Tx(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[c,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);r===f&&d.resolve(l)}return l}onInit(e,s){var r;const l=this.normalizeInstanceIdentifier(s),c=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;c.add(e),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&e(d,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const l of r)try{l(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wx(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wx(i){return i===os?void 0:i}function Tx(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new Sx(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Re||(Re={}));const Cx={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Rx=Re.INFO,Nx={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Ax=(i,e,...s)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),l=Nx[e];if(l)console[l](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gf{constructor(e){this.name=e,this._logLevel=Rx,this._logHandler=Ax,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const Ox=(i,e)=>e.some(s=>i instanceof s);let vy,by;function Dx(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ix(){return by||(by=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m0=new WeakMap,Dh=new WeakMap,p0=new WeakMap,hh=new WeakMap,_f=new WeakMap;function kx(i){const e=new Promise((s,r)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{s(Oi(i.result)),l()},d=()=>{r(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(s=>{s instanceof IDBCursor&&m0.set(s,i)}).catch(()=>{}),_f.set(e,i),e}function Mx(i){if(Dh.has(i))return;const e=new Promise((s,r)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{s(),l()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Dh.set(i,e)}let Ih={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return Dh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||p0.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Oi(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Lx(i){Ih=i(Ih)}function Ux(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=i.call(fh(this),e,...s);return p0.set(r,e.sort?e.sort():[e]),Oi(r)}:Ix().includes(i)?function(...e){return i.apply(fh(this),e),Oi(m0.get(this))}:function(...e){return Oi(i.apply(fh(this),e))}}function jx(i){return typeof i=="function"?Ux(i):(i instanceof IDBTransaction&&Mx(i),Ox(i,Dx())?new Proxy(i,Ih):i)}function Oi(i){if(i instanceof IDBRequest)return kx(i);if(hh.has(i))return hh.get(i);const e=jx(i);return e!==i&&(hh.set(i,e),_f.set(e,i)),e}const fh=i=>_f.get(i);function Px(i,e,{blocked:s,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(i,e),f=Oi(d);return r&&d.addEventListener("upgradeneeded",m=>{r(Oi(d.result),m.oldVersion,m.newVersion,Oi(d.transaction),m)}),s&&d.addEventListener("blocked",m=>s(m.oldVersion,m.newVersion,m)),f.then(m=>{c&&m.addEventListener("close",()=>c()),l&&m.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const zx=["get","getKey","getAll","getAllKeys","count"],Hx=["put","add","delete","clear"],mh=new Map;function Ey(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(mh.get(e))return mh.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,l=Hx.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(l||zx.includes(s)))return;const c=async function(d,...f){const m=this.transaction(d,l?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[s](...f),l&&m.done]))[0]};return mh.set(e,c),c}Lx(i=>({...i,get:(e,s,r)=>Ey(e,s)||i.get(e,s,r),has:(e,s)=>!!Ey(e,s)||i.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(qx(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function qx(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kh="@firebase/app",Sy="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new gf("@firebase/app"),Vx="@firebase/app-compat",Fx="@firebase/analytics-compat",Gx="@firebase/analytics",Yx="@firebase/app-check-compat",$x="@firebase/app-check",Wx="@firebase/auth",Kx="@firebase/auth-compat",Qx="@firebase/database",Xx="@firebase/data-connect",Zx="@firebase/database-compat",Jx="@firebase/functions",eC="@firebase/functions-compat",tC="@firebase/installations",nC="@firebase/installations-compat",iC="@firebase/messaging",sC="@firebase/messaging-compat",rC="@firebase/performance",aC="@firebase/performance-compat",lC="@firebase/remote-config",oC="@firebase/remote-config-compat",cC="@firebase/storage",uC="@firebase/storage-compat",dC="@firebase/firestore",hC="@firebase/ai",fC="@firebase/firestore-compat",mC="firebase",pC="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="[DEFAULT]",gC={[kh]:"fire-core",[Vx]:"fire-core-compat",[Gx]:"fire-analytics",[Fx]:"fire-analytics-compat",[$x]:"fire-app-check",[Yx]:"fire-app-check-compat",[Wx]:"fire-auth",[Kx]:"fire-auth-compat",[Qx]:"fire-rtdb",[Xx]:"fire-data-connect",[Zx]:"fire-rtdb-compat",[Jx]:"fire-fn",[eC]:"fire-fn-compat",[tC]:"fire-iid",[nC]:"fire-iid-compat",[iC]:"fire-fcm",[sC]:"fire-fcm-compat",[rC]:"fire-perf",[aC]:"fire-perf-compat",[lC]:"fire-rc",[oC]:"fire-rc-compat",[cC]:"fire-gcs",[uC]:"fire-gcs-compat",[dC]:"fire-fst",[fC]:"fire-fst-compat",[hC]:"fire-vertex","fire-js":"fire-js",[mC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,_C=new Map,Lh=new Map;function wy(i,e){try{i.container.addComponent(e)}catch(s){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function ps(i){const e=i.name;if(Lh.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;Lh.set(e,i);for(const s of tc.values())wy(s,i);for(const s of _C.values())wy(s,i);return!0}function Cc(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function Zt(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new hl("app","Firebase",yC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,s,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=pC;function Rc(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mh,automaticDataCollectionEnabled:!0},e),l=r.name;if(typeof l!="string"||!l)throw Di.create("bad-app-name",{appName:String(l)});if(s||(s=c0()),!s)throw Di.create("no-options");const c=tc.get(l);if(c){if(ms(s,c.options)&&ms(r,c.config))return c;throw Di.create("duplicate-app",{appName:l})}const d=new xx(l);for(const m of Lh.values())d.addComponent(m);const f=new vC(s,r,d);return tc.set(l,f),f}function yf(i=Mh){const e=tc.get(i);if(!e&&i===Mh&&c0())return Rc();if(!e)throw Di.create("no-app",{appName:i});return e}function bn(i,e,s){var r;let l=(r=gC[i])!==null&&r!==void 0?r:i;s&&(l+=`-${s}`);const c=l.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const f=[`Unable to register library "${l}" with version "${e}":`];c&&f.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&f.push("and"),d&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(f.join(" "));return}ps(new Li(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="firebase-heartbeat-database",EC=1,Za="firebase-heartbeat-store";let ph=null;function g0(){return ph||(ph=Px(bC,EC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Za)}catch(s){console.warn(s)}}}}).catch(i=>{throw Di.create("idb-open",{originalErrorMessage:i.message})})),ph}async function SC(i){try{const s=(await g0()).transaction(Za),r=await s.objectStore(Za).get(_0(i));return await s.done,r}catch(e){if(e instanceof Zn)$n.warn(e.message);else{const s=Di.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$n.warn(s.message)}}}async function Ty(i,e){try{const r=(await g0()).transaction(Za,"readwrite");await r.objectStore(Za).put(e,_0(i)),await r.done}catch(s){if(s instanceof Zn)$n.warn(s.message);else{const r=Di.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});$n.warn(r.message)}}}function _0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=1024,TC=30;class xC{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new RC(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=xy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>TC){const d=NC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$n.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=xy(),{heartbeatsToSend:r,unsentEntries:l}=CC(this._heartbeatsCache.heartbeats),c=Zo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(s){return $n.warn(s),""}}}function xy(){return new Date().toISOString().substring(0,10)}function CC(i,e=wC){const s=[];let r=i.slice();for(const l of i){const c=s.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Cy(s)>e){c.dates.pop();break}}else if(s.push({agent:l.agent,dates:[l.date]}),Cy(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class RC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ux()?dx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await SC(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const l=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const l=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Cy(i){return Zo(JSON.stringify({version:2,heartbeats:i})).length}function NC(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let r=1;r<i.length;r++)i[r].date<s&&(s=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(i){ps(new Li("platform-logger",e=>new Bx(e),"PRIVATE")),ps(new Li("heartbeat",e=>new xC(e),"PRIVATE")),bn(kh,Sy,i),bn(kh,Sy,"esm2017"),bn("fire-js","")}AC("");var OC="firebase",DC="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn(OC,DC,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="firebasestorage.googleapis.com",v0="storageBucket",IC=2*60*1e3,kC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e extends Zn{constructor(e,s,r=0){super(gh(e),`Firebase Storage: ${s} (${gh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$e.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ge;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ge||(Ge={}));function gh(i){return"storage/"+i}function vf(){const i="An unknown error occurred, please check the error payload for server response.";return new $e(Ge.UNKNOWN,i)}function MC(i){return new $e(Ge.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function LC(i){return new $e(Ge.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function UC(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $e(Ge.UNAUTHENTICATED,i)}function jC(){return new $e(Ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function PC(i){return new $e(Ge.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function zC(){return new $e(Ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HC(){return new $e(Ge.CANCELED,"User canceled the upload/download.")}function BC(i){return new $e(Ge.INVALID_URL,"Invalid URL '"+i+"'.")}function qC(i){return new $e(Ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function VC(){return new $e(Ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+v0+"' property when initializing the app?")}function FC(){return new $e(Ge.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function GC(){return new $e(Ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YC(i){return new $e(Ge.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Uh(i){return new $e(Ge.INVALID_ARGUMENT,i)}function b0(){return new $e(Ge.APP_DELETED,"The Firebase app was deleted.")}function $C(i){return new $e(Ge.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qa(i,e){return new $e(Ge.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function ka(i){throw new $e(Ge.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,s){this.bucket=e,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,s){let r;try{r=Et.makeFromUrl(e,s)}catch{return new Et(e,"")}if(r.path==="")return r;throw qC(e)}static makeFromUrl(e,s){let r=null;const l="([A-Za-z0-9.\\-_]+)";function c(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const d="(/(.*))?$",f=new RegExp("^gs://"+l+d,"i"),m={bucket:1,path:3};function p(G){G.path_=decodeURIComponent(G.path)}const y="v[A-Za-z0-9_]+",E=s.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",w=new RegExp(`^https?://${E}/${y}/b/${l}/o${b}`,"i"),C={bucket:1,path:3},D=s===y0?"(?:storage.googleapis.com|storage.cloud.google.com)":s,k="([^?#]*)",L=new RegExp(`^https?://${D}/${l}/${k}`,"i"),M=[{regex:f,indices:m,postModify:c},{regex:w,indices:C,postModify:p},{regex:L,indices:{bucket:1,path:2},postModify:p}];for(let G=0;G<M.length;G++){const Y=M[G],ee=Y.regex.exec(e);if(ee){const be=ee[Y.indices.bucket];let Q=ee[Y.indices.path];Q||(Q=""),r=new Et(be,Q),Y.postModify(r);break}}if(r==null)throw BC(e);return r}}class WC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(i,e,s){let r=1,l=null,c=null,d=!1,f=0;function m(){return f===2}let p=!1;function y(...k){p||(p=!0,e.apply(null,k))}function E(k){l=setTimeout(()=>{l=null,i(w,m())},k)}function b(){c&&clearTimeout(c)}function w(k,...L){if(p){b();return}if(k){b(),y.call(null,k,...L);return}if(m()||d){b(),y.call(null,k,...L);return}r<64&&(r*=2);let M;f===1?(f=2,M=0):M=(r+Math.random())*1e3,E(M)}let C=!1;function D(k){C||(C=!0,b(),!p&&(l!==null?(k||(f=2),clearTimeout(l),E(0)):k||(f=1)))}return E(0),c=setTimeout(()=>{d=!0,D(!0)},s),D}function QC(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(i){return i!==void 0}function ZC(i){return typeof i=="object"&&!Array.isArray(i)}function bf(i){return typeof i=="string"||i instanceof String}function Ry(i){return Ef()&&i instanceof Blob}function Ef(){return typeof Blob<"u"}function jh(i,e,s,r){if(r<e)throw Uh(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>s)throw Uh(`Invalid value for '${i}'. Expected ${s} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(i,e,s){let r=e;return s==null&&(r=`https://${e}`),`${s}://${r}/v0${i}`}function E0(i){const e=encodeURIComponent;let s="?";for(const r in i)if(i.hasOwnProperty(r)){const l=e(r)+"="+e(i[r]);s=s+l+"&"}return s=s.slice(0,-1),s}var hs;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(hs||(hs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(i,e){const s=i>=500&&i<600,l=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return s||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,s,r,l,c,d,f,m,p,y,E,b=!0,w=!1){this.url_=e,this.method_=s,this.headers_=r,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=E,this.retry=b,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,D)=>{this.resolve_=C,this.reject_=D,this.start_()})}start_(){const e=(r,l)=>{if(l){r(!1,new Po(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const f=c.getErrorCode()===hs.NO_ERROR,m=c.getStatus();if(!f||JC(m,this.additionalRetryCodes_)&&this.retry){const y=c.getErrorCode()===hs.ABORT;r(!1,new Po(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;r(!0,new Po(p,c))})},s=(r,l)=>{const c=this.resolve_,d=this.reject_,f=l.connection;if(l.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());XC(m)?c(m):c()}catch(m){d(m)}else if(f!==null){const m=vf();m.serverResponse=f.getErrorText(),this.errorCallback_?d(this.errorCallback_(f,m)):d(m)}else if(l.canceled){const m=this.appDelete_?b0():HC();d(m)}else{const m=zC();d(m)}};this.canceled_?s(!1,new Po(!1,null,!0)):this.backoffId_=KC(e,s,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&QC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Po{constructor(e,s,r){this.wasSuccessCode=e,this.connection=s,this.canceled=!!r}}function tR(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function nR(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function iR(i,e){e&&(i["X-Firebase-GMPID"]=e)}function sR(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function rR(i,e,s,r,l,c,d=!0,f=!1){const m=E0(i.urlParams),p=i.url+m,y=Object.assign({},i.headers);return iR(y,e),tR(y,s),nR(y,c),sR(y,r),new eR(p,i.method,y,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,l,d,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lR(...i){const e=aR();if(e!==void 0){const s=new e;for(let r=0;r<i.length;r++)s.append(i[r]);return s.getBlob()}else{if(Ef())return new Blob(i);throw new $e(Ge.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function oR(i,e,s){return i.webkitSlice?i.webkitSlice(e,s):i.mozSlice?i.mozSlice(e,s):i.slice?i.slice(e,s):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(i){if(typeof atob>"u")throw YC("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _h{constructor(e,s){this.data=e,this.contentType=s||null}}function uR(i,e){switch(i){case vn.RAW:return new _h(S0(e));case vn.BASE64:case vn.BASE64URL:return new _h(w0(i,e));case vn.DATA_URL:return new _h(hR(e),fR(e))}throw vf()}function S0(i){const e=[];for(let s=0;s<i.length;s++){let r=i.charCodeAt(s);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(s<i.length-1&&(i.charCodeAt(s+1)&64512)===56320))e.push(239,191,189);else{const c=r,d=i.charCodeAt(++s);r=65536|(c&1023)<<10|d&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function dR(i){let e;try{e=decodeURIComponent(i)}catch{throw qa(vn.DATA_URL,"Malformed data URL.")}return S0(e)}function w0(i,e){switch(i){case vn.BASE64:{const l=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(l||c)throw qa(i,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case vn.BASE64URL:{const l=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(l||c)throw qa(i,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let s;try{s=cR(e)}catch(l){throw l.message.includes("polyfill")?l:qa(i,"Invalid character found")}const r=new Uint8Array(s.length);for(let l=0;l<s.length;l++)r[l]=s.charCodeAt(l);return r}class T0{constructor(e){this.base64=!1,this.contentType=null;const s=e.match(/^data:([^,]+)?,/);if(s===null)throw qa(vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=s[1]||null;r!=null&&(this.base64=mR(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function hR(i){const e=new T0(i);return e.base64?w0(vn.BASE64,e.rest):dR(e.rest)}function fR(i){return new T0(i).contentType}function mR(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,s){let r=0,l="";Ry(e)?(this.data_=e,r=e.size,l=e.type):e instanceof ArrayBuffer?(s?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(s?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,s){if(Ry(this.data_)){const r=this.data_,l=oR(r,e,s);return l===null?null:new xi(l)}else{const r=new Uint8Array(this.data_.buffer,e,s-e);return new xi(r,!0)}}static getBlob(...e){if(Ef()){const s=e.map(r=>r instanceof xi?r.data_:r);return new xi(lR.apply(null,s))}else{const s=e.map(d=>bf(d)?uR(vn.RAW,d).data:d.data_);let r=0;s.forEach(d=>{r+=d.byteLength});const l=new Uint8Array(r);let c=0;return s.forEach(d=>{for(let f=0;f<d.length;f++)l[c++]=d[f]}),new xi(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(i){let e;try{e=JSON.parse(i)}catch{return null}return ZC(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function gR(i,e){const s=e.split("/").filter(r=>r.length>0).join("/");return i.length===0?s:i+"/"+s}function x0(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(i,e){return e}class bt{constructor(e,s,r,l){this.server=e,this.local=s||e,this.writable=!!r,this.xform=l||_R}}let zo=null;function yR(i){return!bf(i)||i.length<2?i:x0(i)}function C0(){if(zo)return zo;const i=[];i.push(new bt("bucket")),i.push(new bt("generation")),i.push(new bt("metageneration")),i.push(new bt("name","fullPath",!0));function e(c,d){return yR(d)}const s=new bt("name");s.xform=e,i.push(s);function r(c,d){return d!==void 0?Number(d):d}const l=new bt("size");return l.xform=r,i.push(l),i.push(new bt("timeCreated")),i.push(new bt("updated")),i.push(new bt("md5Hash",null,!0)),i.push(new bt("cacheControl",null,!0)),i.push(new bt("contentDisposition",null,!0)),i.push(new bt("contentEncoding",null,!0)),i.push(new bt("contentLanguage",null,!0)),i.push(new bt("contentType",null,!0)),i.push(new bt("metadata","customMetadata",!0)),zo=i,zo}function vR(i,e){function s(){const r=i.bucket,l=i.fullPath,c=new Et(r,l);return e._makeStorageReference(c)}Object.defineProperty(i,"ref",{get:s})}function bR(i,e,s){const r={};r.type="file";const l=s.length;for(let c=0;c<l;c++){const d=s[c];r[d.local]=d.xform(r,e[d.server])}return vR(r,i),r}function R0(i,e,s){const r=Sf(e);return r===null?null:bR(i,r,s)}function ER(i,e,s,r){const l=Sf(e);if(l===null||!bf(l.downloadTokens))return null;const c=l.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(p=>{const y=i.bucket,E=i.fullPath,b="/b/"+d(y)+"/o/"+d(E),w=fl(b,s,r),C=E0({alt:"media",token:p});return w+C})[0]}function SR(i,e){const s={},r=e.length;for(let l=0;l<r;l++){const c=e[l];c.writable&&(s[c.server]=i[c.local])}return JSON.stringify(s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="prefixes",Ay="items";function wR(i,e,s){const r={prefixes:[],items:[],nextPageToken:s.nextPageToken};if(s[Ny])for(const l of s[Ny]){const c=l.replace(/\/$/,""),d=i._makeStorageReference(new Et(e,c));r.prefixes.push(d)}if(s[Ay])for(const l of s[Ay]){const c=i._makeStorageReference(new Et(e,l.name));r.items.push(c)}return r}function TR(i,e,s){const r=Sf(s);return r===null?null:wR(i,e,r)}class Nc{constructor(e,s,r,l){this.url=e,this.method=s,this.handler=r,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(i){if(!i)throw vf()}function xR(i,e){function s(r,l){const c=R0(i,l,e);return wf(c!==null),c}return s}function CR(i,e){function s(r,l){const c=TR(i,e,l);return wf(c!==null),c}return s}function RR(i,e){function s(r,l){const c=R0(i,l,e);return wf(c!==null),ER(c,l,i.host,i._protocol)}return s}function Tf(i){function e(s,r){let l;return s.getStatus()===401?s.getErrorText().includes("Firebase App Check token is invalid")?l=jC():l=UC():s.getStatus()===402?l=LC(i.bucket):s.getStatus()===403?l=PC(i.path):l=r,l.status=s.getStatus(),l.serverResponse=r.serverResponse,l}return e}function N0(i){const e=Tf(i);function s(r,l){let c=e(r,l);return r.getStatus()===404&&(c=MC(i.path)),c.serverResponse=l.serverResponse,c}return s}function NR(i,e,s,r,l){const c={};e.isRoot?c.prefix="":c.prefix=e.path+"/",s.length>0&&(c.delimiter=s),r&&(c.pageToken=r),l&&(c.maxResults=l);const d=e.bucketOnlyServerUrl(),f=fl(d,i.host,i._protocol),m="GET",p=i.maxOperationRetryTime,y=new Nc(f,m,CR(i,e.bucket),p);return y.urlParams=c,y.errorHandler=Tf(e),y}function AR(i,e,s){const r=e.fullServerUrl(),l=fl(r,i.host,i._protocol),c="GET",d=i.maxOperationRetryTime,f=new Nc(l,c,RR(i,s),d);return f.errorHandler=N0(e),f}function OR(i,e){const s=e.fullServerUrl(),r=fl(s,i.host,i._protocol),l="DELETE",c=i.maxOperationRetryTime;function d(m,p){}const f=new Nc(r,l,d,c);return f.successCodes=[200,204],f.errorHandler=N0(e),f}function DR(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function IR(i,e,s){const r=Object.assign({},s);return r.fullPath=i.path,r.size=e.size(),r.contentType||(r.contentType=DR(null,e)),r}function kR(i,e,s,r,l){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function f(){let M="";for(let G=0;G<2;G++)M=M+Math.random().toString().slice(2);return M}const m=f();d["Content-Type"]="multipart/related; boundary="+m;const p=IR(e,r,l),y=SR(p,s),E="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,b=`\r
--`+m+"--",w=xi.getBlob(E,r,b);if(w===null)throw FC();const C={name:p.fullPath},D=fl(c,i.host,i._protocol),k="POST",L=i.maxUploadRetryTime,P=new Nc(D,k,xR(i,s),L);return P.urlParams=C,P.headers=d,P.body=w.uploadData(),P.errorHandler=Tf(e),P}class MR{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,s,r,l,c){if(this.sent_)throw ka("cannot .send() more than once");if(ws(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(s,e,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ka("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ka("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ka("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ka("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class LR extends MR{initXhr(){this.xhr_.responseType="text"}}function Ac(){return new LR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,s){this._service=e,s instanceof Et?this._location=s:this._location=Et.makeFromUrl(s,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,s){return new gs(e,s)}get root(){const e=new Et(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return x0(this._location.path)}get storage(){return this._service}get parent(){const e=pR(this._location.path);if(e===null)return null;const s=new Et(this._location.bucket,e);return new gs(this._service,s)}_throwIfRoot(e){if(this._location.path==="")throw $C(e)}}function UR(i,e,s){i._throwIfRoot("uploadBytes");const r=kR(i.storage,i._location,C0(),new xi(e,!0),s);return i.storage.makeRequestWithTokens(r,Ac).then(l=>({metadata:l,ref:i}))}function jR(i){const e={prefixes:[],items:[]};return A0(i,e).then(()=>e)}async function A0(i,e,s){const l=await PR(i,{pageToken:s});e.prefixes.push(...l.prefixes),e.items.push(...l.items),l.nextPageToken!=null&&await A0(i,e,l.nextPageToken)}function PR(i,e){e!=null&&typeof e.maxResults=="number"&&jh("options.maxResults",1,1e3,e.maxResults);const s=e||{},r=NR(i.storage,i._location,"/",s.pageToken,s.maxResults);return i.storage.makeRequestWithTokens(r,Ac)}function zR(i){i._throwIfRoot("getDownloadURL");const e=AR(i.storage,i._location,C0());return i.storage.makeRequestWithTokens(e,Ac).then(s=>{if(s===null)throw GC();return s})}function HR(i){i._throwIfRoot("deleteObject");const e=OR(i.storage,i._location);return i.storage.makeRequestWithTokens(e,Ac)}function BR(i,e){const s=gR(i._location.path,e),r=new Et(i._location.bucket,s);return new gs(i.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(i){return/^[A-Za-z]+:\/\//.test(i)}function VR(i,e){return new gs(i,e)}function O0(i,e){if(i instanceof xf){const s=i;if(s._bucket==null)throw VC();const r=new gs(s,s._bucket);return e!=null?O0(r,e):r}else return e!==void 0?BR(i,e):i}function FR(i,e){if(e&&qR(e)){if(i instanceof xf)return VR(i,e);throw Uh("To use ref(service, url), the first argument must be a Storage instance.")}else return O0(i,e)}function Oy(i,e){const s=e==null?void 0:e[v0];return s==null?null:Et.makeFromBucketSpec(s,i)}function GR(i,e,s,r={}){i.host=`${e}:${s}`;const l=ws(e);l&&(hf(`https://${i.host}`),ff("Storage",!0)),i._isUsingEmulator=!0,i._protocol=l?"https":"http";const{mockUserToken:c}=r;c&&(i._overrideAuthToken=typeof c=="string"?c:d0(c,i.app.options.projectId))}class xf{constructor(e,s,r,l,c,d=!1){this.app=e,this._authProvider=s,this._appCheckProvider=r,this._url=l,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=y0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IC,this._maxUploadRetryTime=kC,this._requests=new Set,l!=null?this._bucket=Et.makeFromBucketSpec(l,this._host):this._bucket=Oy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Et.makeFromBucketSpec(this._url,e):this._bucket=Oy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jh("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jh("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const s=await e.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gs(this,e)}_makeRequest(e,s,r,l,c=!0){if(this._deleted)return new WC(b0());{const d=rR(e,this._appId,r,l,s,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,s){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,s,r,l).getPromise()}}const Dy="@firebase/storage",Iy="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="storage";function YR(i,e,s){return i=Ye(i),UR(i,e,s)}function $R(i){return i=Ye(i),jR(i)}function nc(i){return i=Ye(i),zR(i)}function WR(i){return i=Ye(i),HR(i)}function br(i,e){return i=Ye(i),FR(i,e)}function Cf(i=yf(),e){i=Ye(i);const r=Cc(i,D0).getImmediate({identifier:e}),l=o0("storage");return l&&KR(r,...l),r}function KR(i,e,s,r={}){GR(i,e,s,r)}function QR(i,{instanceIdentifier:e}){const s=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),l=i.getProvider("app-check-internal");return new xf(s,r,l,e,Ts)}function XR(){ps(new Li(D0,QR,"PUBLIC").setMultipleInstances(!0)),bn(Dy,Iy,""),bn(Dy,Iy,"esm2017")}XR();const ZR={apiKey:"AIzaSyAafDSvuHq7bb9F3-SdVpwM2NTNNtymT_o",authDomain:"nailsbydani-6082b.firebaseapp.com",databaseURL:"https://nailsbydani-6082b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nailsbydani-6082b",storageBucket:"nailsbydani-6082b.firebasestorage.app",messagingSenderId:"438345951991",appId:"1:438345951991:web:335b18a1bca6fa1a75c1f2",measurementId:"G-6R161TJXN6"},JR=Rc(ZR),eN=({isVisible:i={}})=>{const[e,s]=N.useState({}),[r,l]=N.useState(new Set),c=Cf(JR),d=wc(),f={imageUrls:"gallery_image_urls",timestamp:"gallery_url_cache_timestamp"},m=24*60*60*1e3,p=()=>{const D=JSON.parse(localStorage.getItem(f.timestamp)||"0");return Date.now()-D<m},y=()=>{d("/designs")},E=()=>{const L=Array.from({length:14},(P,M)=>M+1);for(let P=L.length-1;P>0;P--){const M=Math.floor(Math.random()*(P+1));[L[P],L[M]]=[L[M],L[P]]}return L.slice(0,8)},[b]=N.useState(()=>E());N.useEffect(()=>{(async()=>{let k={};try{if(p()){const M=localStorage.getItem(f.imageUrls);M&&(k=JSON.parse(M))}}catch(M){console.error("Error reading cached URLs:",M)}const L={},P=[];for(const M of b)k[M]?L[M]=k[M]:P.push(M);if(Object.keys(L).length>0&&s(L),P.length>0){const M={...k};for(const G of P){const Y=br(c,`Designs/${G}.jpg`);try{const ee=await nc(Y);M[G]=ee,s(be=>({...be,[G]:ee}))}catch(ee){console.error(`Failed to fetch download URL for design ${G}:`,ee)}}try{localStorage.setItem(f.imageUrls,JSON.stringify(M)),localStorage.setItem(f.timestamp,JSON.stringify(Date.now()))}catch(G){console.error("Error saving URLs to localStorage:",G)}}})()},[b]);const w=D=>{l(k=>new Set([...k,D]))},C=D=>{l(k=>new Set([...k,D]))};return _.jsxs("section",{id:"gallery",className:"py-24 bg-white",children:[_.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[_.jsxs("div",{className:`text-center mb-20 transition-all duration-1000 ${i!=null&&i.gallery?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[_.jsx("h2",{className:"text-4xl md:text-5xl font-extralight text-stone-900 mb-6",children:"Portfolio Highlights"}),_.jsx("p",{className:"text-stone-600 font-light max-w-2xl mx-auto text-lg",children:"A curated selection of our most celebrated designs, showcasing the versatility and artistry of our craft."})]}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:b.map((D,k)=>_.jsx("div",{className:`aspect-square group cursor-pointer overflow-hidden rounded-lg ${i!=null&&i.gallery?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${k*100}ms`},children:_.jsxs("div",{className:"relative w-full h-full",children:[!r.has(D)&&_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-stone-300 via-stone-200 to-stone-300 animate-pulse",children:_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-stone-300 to-transparent animate-shimmer transform -skew-x-12 w-full h-full"})}),e[D]&&_.jsx("img",{src:e[D],alt:`Gallery ${D}`,className:`w-full h-full object-cover transition-all duration-300 group-hover:scale-110 ${r.has(D)?"opacity-100":"opacity-0"}`,loading:"lazy",onLoad:()=>w(D),onError:()=>C(D)}),r.has(D)&&!e[D]&&_.jsx("div",{className:"w-full h-full bg-stone-100 flex items-center justify-center",children:_.jsxs("div",{className:"text-stone-400 text-center",children:[_.jsx("div",{className:"text-2xl mb-2",children:"🖼️"}),_.jsx("div",{className:"text-xs",children:"Image unavailable"})]})}),_.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100"})]})},D))}),_.jsx("div",{className:"flex justify-center mt-12 space-x-4",children:_.jsxs("button",{className:`group bg-stone-900 text-white px-8 py-4 text-sm font-light
                      hover:bg-stone-800 transition-all duration-[400ms]
                      ease-[cubic-bezier(0.25,0.46,0.45,0.94)] flex items-center
                      transform hover:scale-[1.02] hover:-translate-y-0.5`,onClick:y,children:["View Full Gallery",_.jsx(t0,{className:`ml-2 w-4 h-4 transition-transform duration-[400ms]
                        ease-[cubic-bezier(0.25,0.46,0.45,0.94)] group-hover:translate-x-1`})]})})]}),_.jsx("style",{jsx:!0,children:`
        @keyframes shimmer {
          0% {
            transform: translateX(-100%);
          }
          100% {
            transform: translateX(100%);
          }
        }
        
        .animate-shimmer {
          animation: shimmer 2s infinite;
        }
      `})]})},tN=()=>{const[i,e]=N.useState({name:"",email:"",message:""}),[s,r]=N.useState(!1),[l,c]=N.useState(""),d=m=>{e({...i,[m.target.name]:m.target.value})},f=async()=>{if(!i.name||!i.email||!i.message){c("Please fill in all fields");return}r(!0),c("");try{if((await fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:"service_et71par",template_id:"template_9jjgnog",user_id:"mFxKhq0zMQ6F6Ivj5",template_params:{name:i.name,from_name:i.name,from_email:i.email,email:i.email,message:i.message}})})).ok)c("Message sent successfully!"),e({name:"",email:"",message:""});else throw new Error("Failed to send message")}catch(m){c("To enable email sending, please set up EmailJS or a backend service. For now, use WhatsApp below."),console.error("Error:",m)}finally{r(!1)}};return _.jsx("section",{id:"contact",className:"py-24 bg-gray-50 text-gray-900",children:_.jsx("div",{className:"max-w-7xl mx-auto px-6",children:_.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[_.jsxs("div",{children:[_.jsxs("h2",{className:"text-4xl md:text-4xl font-extralight mb-12 mt-10 text-gray-900",children:["LET'S CREATE",_.jsx("span",{className:"block text-[#CFB53B]",children:"SOMETHING BEAUTIFUL"})]}),_.jsx("p",{className:"text-gray-600 font-light mb-12 text-md leading-relaxed font-montserrat",children:"Ready to elevate your style? Book a consultation and let's bring your nail vision to life."}),_.jsx("div",{className:"space-y-6 mb-12 mt-10",children:[{icon:_.jsx(zT,{className:"w-5 h-5"}),label:"Phone",value:"+27 66 104 3677",href:"tel:+27661043677"},{icon:_.jsx(LT,{className:"w-5 h-5"}),label:"Email",value:"danielaalves3677@gmail.com",href:"mailto:danielaalves3677@gmail.com"},{icon:_.jsx(jT,{className:"w-5 h-5"}),label:"Location",value:"Vanderbijlpark, SE3, South Africa",href:"https://www.google.com/maps/search/?api=1&query=Vanderbijlpark+SE3+%2C+South+Africa"},{icon:_.jsx(IT,{className:"w-5 h-5"}),label:"Instagram",value:"@nails_by_danielaalves",href:"https://instagram.com/nails_by_danielaalves"}].map((m,p)=>_.jsx("a",{href:m.href,target:m.href.startsWith("http")?"_blank":void 0,rel:m.href.startsWith("http")?"noopener noreferrer":void 0,className:"flex items-center space-x-4 hover:underline text-gray-700 hover:text-gray-900",children:_.jsxs("div",{children:[_.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider font-montserrat",children:m.label}),_.jsx("div",{className:"text-gray-800 font-light",children:m.value})]})},p))})]}),_.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-8",children:[_.jsx("h3",{className:"text-2xl font-light mb-8 text-gray-900",children:"BOOK CONSULTATION"}),l&&_.jsx("div",{className:`p-4 mb-6 text-center rounded ${l.includes("successfully")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:l}),_.jsxs("div",{className:"space-y-6",children:[_.jsx("div",{children:_.jsx("input",{type:"text",name:"name",value:i.name,onChange:d,placeholder:"Your Name",className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors"})}),_.jsx("div",{children:_.jsx("input",{type:"email",name:"email",value:i.email,onChange:d,placeholder:"Email Address",className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors"})}),_.jsx("div",{children:_.jsx("textarea",{name:"message",value:i.message,onChange:d,placeholder:"Tell me about your vision...",rows:4,className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors resize-none"})}),_.jsx("button",{onClick:f,disabled:s,className:"w-full bg-gray-900 text-white p-4 font-light hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Sending...":"Send Email"})]}),_.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:_.jsx("a",{href:"https://wa.me/27661043677",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-gray-100 text-gray-900 p-4 font-light hover:bg-gray-200 transition-colors text-center border border-gray-300",children:"Or Send via WhatsApp"})})]})]})})})},I0=[{question:"How long do gel nails last?",answer:"Gel nails typically last 2-4 weeks with proper care. The longevity depends on your lifestyle, nail growth rate, and aftercare routine. Most clients book touch-ups every 3 weeks to maintain that fresh, salon-perfect look."},{question:"What's the difference between gel and regular polish?",answer:"Gel polish is cured under UV/LED light, making it chip-resistant and long-lasting for weeks. Regular polish air-dries and typically lasts 3-7 days. Gel provides a glossy, durable finish that maintains its shine throughout wear."},{question:"How should I prepare for my nail appointment?",answer:"Remove any existing polish, keep your cuticles moisturized, and avoid cutting your nails too short beforehand. If you have design inspiration, bring photos! Also, let me know about any allergies or sensitivities during booking."},{question:"Can you work on damaged or weak nails?",answer:"Absolutely! I specialize in nail rehabilitation and strengthening treatments. We can build up weak spots, repair breaks, and use strengthening base coats to improve your natural nail health while creating beautiful manicures."},{question:"How do I make my manicure last longer?",answer:"Wear gloves when cleaning, use cuticle oil daily, avoid using nails as tools, and book regular touch-ups. I'll provide specific aftercare instructions and recommend products to extend your manicure's lifespan."},{question:"Do you offer nail art and custom designs?",answer:"Yes! I love creating unique nail art, from simple accent nails to intricate hand-painted designs. Whether you want seasonal themes, special occasion nails, or personalized artwork, we can bring your vision to life."},{question:"How often should I get my nails done?",answer:"Most clients visit every 2-4 weeks depending on the service. Gel manicures typically need refreshing every 3 weeks, while maintenance appointments for nail health can be monthly. I'll recommend the best schedule for your lifestyle and nail goals."},{question:"What if I have an allergic reaction to products?",answer:"Your safety is my priority! I use high-quality, professional products and can perform patch tests for sensitive clients. If you have known allergies, please inform me during booking so I can select appropriate hypoallergenic alternatives."},{question:"Can I bring my own nail polish?",answer:"While I stock professional-grade polishes in many colors, you're welcome to bring your own special shades! Just ensure they're compatible with professional application techniques for the best results."},{question:"What are your prices for different services?",answer:"Prices vary by service: basic manicures start around R200-300, gel manicures R350-450, and nail art R450-600+ depending on complexity. I offer package deals for regular clients and seasonal promotions. Contact me for a detailed price list!"},{question:"How do I book an appointment?",answer:"You can book through my website, WhatsApp, or call directly. I recommend booking 1-2 weeks in advance, especially for weekends and special occasions. Cancellations require 24-hour notice to avoid fees."},{question:"Do you offer mobile nail services?",answer:"Yes! I provide mobile services for special events, bridal parties, or clients who prefer the convenience of home appointments. Mobile service includes a small travel fee depending on location within my service area."}];function nN(){const[i,e]=N.useState(null),[s,r]=N.useState({}),l=N.useRef(null),c=wc();N.useEffect(()=>{const f=new IntersectionObserver(m=>{m.forEach(p=>{p.isIntersecting&&r(y=>({...y,[p.target.id]:!0}))})},{threshold:.1});return document.querySelectorAll("[id]").forEach(m=>{f.observe(m)}),()=>f.disconnect()},[]),N.useEffect(()=>{const f=new IntersectionObserver(([m])=>{m.isIntersecting&&(r(p=>({...p,testimonials:!0})),f.unobserve(m.target))},{threshold:.1});return l.current&&f.observe(l.current),()=>f.disconnect()},[]);const d=f=>{e(m=>m===f?null:f)};return _.jsxs("div",{className:"min-h-screen bg-white",children:[_.jsx("section",{id:"hero",className:"relative h-[100vh] mt-18 flex items-center justify-center overflow-hidden bg-[#F8F8F8]",children:_.jsx("div",{className:"relative z-10 text-center px-6 max-w-4xl w-full",children:_.jsxs("div",{className:`transition-all duration-[750ms] ease-[cubic-bezier(0.25,0.46,0.45,0.94)] ${s.hero?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,children:[_.jsx("div",{className:`inline-flex items-center bg-black text-white px-4 py-2 mb-10 transition-all duration-[1000ms] ease-[cubic-bezier(0.23,1,0.32,1)] ${s.hero?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,style:{transitionDelay:s.hero?"100ms":"0ms"},children:_.jsx("span",{className:"text-xs font-light uppercase tracking-widest",children:"Certified Nail Technician"})}),_.jsxs("h1",{className:`text-4xl md:text-7xl font-extralight text-stone-900 mb-6 tracking-tight leading-tight font-bodoni-moda transition-all duration-[1300ms] ease-[cubic-bezier(0.165,0.84,0.44,1)] ${s.hero?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-20 scale-98"}`,style:{transitionDelay:s.hero?"200ms":"0ms"},children:["BRINGING FASION",_.jsxs("span",{className:`block text-stone-900 transition-all duration-[1500ms] ease-[cubic-bezier(0.19,1,0.22,1)] ${s.hero?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-24 scale-97"}`,style:{transitionDelay:s.hero?"100ms":"0ms"},children:["TO YOUR ",_.jsx("span",{className:"text-[#CFB53B]",children:"FINGERTIPS."})]})]}),_.jsx("p",{className:`text-sm md:text-md text-stone-600 mb-12 max-w-4xl mx-auto leading-relaxed mt-10 transition-all duration-[1200ms] ease-[cubic-bezier(0.25,0.46,0.45,0.94)] ${s.hero?"opacity-100 translate-y-0":"opacity-0 translate-y-16"}`,style:{transitionDelay:s.hero?"200ms":"0ms"},children:"Precision-crafted press-on nails and bespoke manicure services. Where technical excellence meets artistic vision for the modern professional."}),_.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 justify-center items-center mt-16 transition-all duration-[1000ms] ease-[cubic-bezier(0.23,1,0.32,1)] ${s.hero?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-12 scale-96"}`,style:{transitionDelay:s.hero?"600ms":"0ms"},children:[_.jsxs("button",{onClick:()=>Xo("contact",1500),className:"group bg-stone-900 text-white px-8 py-4 text-sm font-light hover:bg-stone-800 transition-all duration-[400ms] ease-[cubic-bezier(0.25,0.46,0.45,0.94)] flex items-center justify-center transform hover:-translate-y-0.5 w-56",children:[_.jsx("span",{children:"Book Appointment"}),_.jsx(t0,{className:"ml-2 w-4 h-4 transition-transform duration-[400ms] ease-[cubic-bezier(0.25,0.46,0.45,0.94)]"})]}),_.jsx("button",{className:"group bg-transparent text-stone-600 hover:text-stone-900 transition-all duration-[400ms] ease-[cubic-bezier(0.25,0.46,0.45,0.94)] text-sm font-light px-8 py-4 border border-stone-200 hover:border-stone-300 transform hover:-translate-y-0.5 w-56 flex items-center justify-center",children:_.jsx("span",{children:"View Nail Gallery"})})]})]})})}),_.jsx("section",{id:"services",className:"py-24 bg-white",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[_.jsxs("div",{className:`text-center mb-20 transition-all duration-1000 ${s.services?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[_.jsx("h2",{className:"text-4xl md:text-5xl font-extralight text-stone-900 mb-6",children:"Professional Nail Services"}),_.jsx("p",{className:"text-stone-600 font-light max-w-2xl mx-auto text-lg",children:"Expert nail care and artistry with premium products and meticulous attention to detail."})]}),_.jsx("div",{className:"grid md:grid-cols-3 gap-12",children:[{title:"Gel & Acrylic Overlays",description:"Professional overlays on your natural nails for strength and beauty.",price:"From R160"},{title:"Extensions & Sculptures",description:"Create length and shape with our expert extension services.",price:"From R210"},{title:"Nail Art & Services",description:"Custom nail art, fills, repairs, and maintenance services.",price:"From R5"}].map((f,m)=>_.jsxs("div",{className:`group bg-white p-8 cursor-pointer hover:-translate-y-2 transition-all duration-500 relative ${m===1?"border border-black":"border border-stone-100 hover:border-black"} ${s.services?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${m*200}ms`},children:[m===1&&_.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:_.jsx("span",{className:"bg-black text-white px-4 py-1 text-xs font-medium",children:"MOST POPULAR"})}),_.jsx("h3",{className:"text-lg font-light text-stone-900 mb-3 uppercase",children:f.title}),_.jsx("p",{className:"text-stone-600 font-light text-sm mb-6 leading-relaxed",children:f.description}),_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{className:"text-stone-900 font-medium",children:f.price}),_.jsx("button",{className:"text-stone-600 hover:text-stone-900 transition-colors text-sm",children:"Book Now →"})]})]},m))}),_.jsx("div",{className:"text-center mt-12",children:_.jsx("button",{className:"bg-stone-900 text-white px-8 py-3 hover:bg-stone-800 transition-colors duration-300 font-light",onClick:()=>c("services"),children:"View All Services"})})]})}),_.jsx(eN,{isVisible:s}),_.jsx("section",{ref:l,id:"testimonials",className:"py-24 bg-gradient-to-br from-stone-50 to-white",children:_.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[_.jsx("div",{className:`text-center mb-20 transition-all duration-1000 ${s.testimonials?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:_.jsx("h2",{className:"text-4xl md:text-5xl font-extralight text-stone-900 mb-6",children:"Client Stories"})}),_.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{name:"Ruben",text:"Daniela's artistry in nail design is truly inspiring. Every detail reflects her passion and innovative approach, leaving me feeling confident and uniquely styled."},{name:"Sophia",text:"I was amazed by the intricate designs and attention to detail. Daniela transformed my nails into a work of art that I proudly showcase every day."},{name:"James",text:"From start to finish, my experience was top-notch. Daniela's creativity and professionalism made me feel like a star."}].map((f,m)=>_.jsxs("div",{className:`bg-white p-8 border border-stone-100 transition-all duration-1000 ${s.testimonials?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${m*200}ms`},children:[_.jsx("div",{className:"flex mb-4",children:[...Array(5)].map((p,y)=>_.jsx(VT,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},y))}),_.jsxs("p",{className:"text-stone-600 font-light text-sm mb-6 leading-relaxed italic",children:['"',f.text,'"']}),_.jsxs("div",{className:"text-stone-900 font-light text-sm",children:["— ",f.name]})]},m))})]})}),_.jsx("section",{className:"py-24 bg-white",id:"faq",children:_.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[_.jsx("div",{className:`text-center mb-20 transition-all duration-1000 ${s.faq?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:_.jsx("h2",{className:"text-4xl md:text-5xl font-extralight text-stone-900 mb-6",children:"Frequently Asked"})}),_.jsx("div",{id:"faq",className:"space-y-2",children:I0.map((f,m)=>{const p=i===m;return _.jsxs("div",{className:`bg-white border border-stone-100 overflow-hidden transition-all duration-1000 ${s.faq?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${m*100}ms`},children:[_.jsxs("button",{onClick:()=>d(m),className:"w-full flex justify-between items-center p-8 text-left hover:bg-stone-50 transition-colors",children:[_.jsx("span",{className:"text-stone-900 font-light text-lg",children:f.question}),_.jsxs("div",{className:`w-6 h-6 flex items-center justify-center transition-transform duration-300 ${p?"rotate-45":""}`,children:[_.jsx("div",{className:"w-4 h-px bg-stone-400"}),_.jsx("div",{className:"w-px h-4 bg-stone-400 absolute"})]})]}),_.jsx("div",{className:`overflow-hidden transition-all duration-300 ${p?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:_.jsx("div",{className:"px-8 pb-8",children:_.jsx("p",{className:"text-stone-600 font-light leading-relaxed font-montserrat font-xs",children:f.answer})})})]},m)})})]})}),_.jsx(tN,{}),_.jsx("footer",{className:"py-12 bg-stone-950 text-stone-400",children:_.jsx("div",{className:"max-w-7xl mx-auto px-6",children:_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[_.jsx("div",{className:"text-2xl font-dancing-script text-white font-thin cursor-pointer",onClick:()=>Xo("hero",1500),children:"Daniela Alves"}),_.jsxs("div",{className:"text-sm font-light",children:["© ",new Date().getFullYear()," Daniela Alves. All rights reserved."]})]})})})]})}function iN(){const i=wc(),e=Xn(),[s,r]=N.useState(!1),[l,c]=N.useState(!0),[d,f]=N.useState(0);N.useEffect(()=>{const b=document.createElement("style");return b.textContent=`
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
    `,document.head.appendChild(b),()=>document.head.removeChild(b)},[]),N.useEffect(()=>{const b=()=>{const w=window.scrollY;w<10?c(!0):w>d&&w>0?c(!1):w<d&&c(!0),f(w)};return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[d]),N.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]);const m=()=>{r(!s)},p=b=>{typeof b=="function"&&b(),r(!1)},y=(b,w=2500)=>{e.pathname==="/"?Xo(b,w):(i("/"),setTimeout(()=>{Xo(b,w)},300))},E=()=>{i("/designs")};return _.jsxs(_.Fragment,{children:[_.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-lg border-b border-stone-200 transition-transform duration-300 ease-in-out ${l?"translate-y-0":"-translate-y-full"}`,children:_.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[_.jsx(Zv,{to:"/",className:"text-2xl font-dancing-script text-gray-900 font-bold mt-2",children:"Daniela Alves"}),_.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[_.jsx("a",{href:"#",className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light",children:"Home"}),_.jsx("button",{onClick:()=>y("services"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light",children:"Services"}),_.jsx("button",{onClick:E,className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light",children:"Gallery"}),_.jsx("button",{onClick:()=>y("testimonials"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light",children:"Client Stories"}),_.jsx("button",{onClick:()=>y("faq"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light",children:"FAQ"}),_.jsx("button",{onClick:()=>y("contact"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light",children:"Contact"}),_.jsx("a",{href:"https://wa.me/27661043677",target:"_blank",rel:"noopener noreferrer",className:"bg-stone-900 text-white px-6 py-2 text-sm font-light hover:bg-stone-800 transition-colors",children:"Book Now"})]}),_.jsxs("button",{className:"md:hidden relative w-6 h-6 flex flex-col justify-center items-center z-50",onClick:m,"aria-label":"Toggle menu",children:[_.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out absolute ${s?"rotate-45":"translate-y-[-4px]"}`}),_.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out ${s?"opacity-0":"opacity-100"}`}),_.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out absolute ${s?"-rotate-45":"translate-y-[4px]"}`})]})]})}),_.jsxs("div",{className:`fixed inset-0 z-40 md:hidden transition-all duration-300 ease-in-out top-[73px] ${s?"opacity-100 visible":"opacity-0 invisible"}`,children:[_.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:()=>r(!1)}),_.jsx("div",{className:`absolute top-0 right-0 h-full w-80 max-w-[85vw] bg-white shadow-2xl transform transition-transform duration-300 ease-in-out ${s?"translate-x-0":"translate-x-full"}`,children:_.jsxs("div",{className:"flex flex-col h-full",children:[_.jsx("div",{className:"flex-1 py-6",children:_.jsxs("nav",{className:"space-y-1",children:[_.jsxs("a",{href:"/",onClick:()=>p(),className:"flex items-center px-6 py-3 text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[_.jsx("span",{className:"font-medium",children:"Home"}),_.jsx(ls,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),_.jsxs("button",{onClick:()=>p(()=>y("services")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[_.jsx("span",{className:"font-medium",children:"Services"}),_.jsx(ls,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),_.jsxs("button",{onClick:()=>p(E),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[_.jsx("span",{className:"font-medium",children:"Gallery"}),_.jsx(ls,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),_.jsxs("button",{onClick:()=>p(()=>y("testimonials")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[_.jsx("span",{className:"font-medium",children:"Client Stories"}),_.jsx(ls,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),_.jsxs("button",{onClick:()=>p(()=>y("faq")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[_.jsx("span",{className:"font-medium",children:"FAQ"}),_.jsx(ls,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),_.jsxs("button",{onClick:()=>p(()=>y("contact")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[_.jsx("span",{className:"font-medium",children:"Contact"}),_.jsx(ls,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]})]})}),_.jsx("div",{className:"p-6 border-t border-stone-100",children:_.jsx("a",{href:"https://wa.me/27661043677",onClick:()=>r(!1),target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-stone-900 text-white px-6 py-3 text-center font-medium hover:bg-stone-800 transition-colors",children:"Book Now"})})]})})]})]})}var ky={};const My="@firebase/database",Ly="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k0="";function sN(i){k0=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,s){s==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ct(s))}get(e){const s=this.domStorage_.getItem(this.prefixedName_(e));return s==null?null:Xa(s)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,s){s==null?delete this.cache_[e]:this.cache_[e]=s}get(e){return dn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new rN(e)}}catch{}return new aN},us=M0("localStorage"),lN=M0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new gf("@firebase/database"),L0=function(){let i=1;return function(){return i++}}(),U0=function(i){const e=Ex(i),s=new _x;s.update(e);const r=s.digest();return uf.encodeByteArray(r)},ml=function(...i){let e="";for(let s=0;s<i.length;s++){const r=i[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ml.apply(null,r):typeof r=="object"?e+=ct(r):e+=r,e+=" "}return e};let Va=null,Uy=!0;const oN=function(i,e){V(!0,"Can't turn on custom loggers persistently."),mr.logLevel=Re.VERBOSE,Va=mr.log.bind(mr)},gt=function(...i){if(Uy===!0&&(Uy=!1,Va===null&&lN.get("logging_enabled")===!0&&oN()),Va){const e=ml.apply(null,i);Va(e)}},pl=function(i){return function(...e){gt(i,...e)}},Ph=function(...i){const e="FIREBASE INTERNAL ERROR: "+ml(...i);mr.error(e)},Wn=function(...i){const e=`FIREBASE FATAL ERROR: ${ml(...i)}`;throw mr.error(e),new Error(e)},Ot=function(...i){const e="FIREBASE WARNING: "+ml(...i);mr.warn(e)},cN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ot("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Rf=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},uN=function(i){if(document.readyState==="complete")i();else{let e=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},Er="[MIN_NAME]",_s="[MAX_NAME]",Nr=function(i,e){if(i===e)return 0;if(i===Er||e===_s)return-1;if(e===Er||i===_s)return 1;{const s=jy(i),r=jy(e);return s!==null?r!==null?s-r===0?i.length-e.length:s-r:-1:r!==null?1:i<e?-1:1}},dN=function(i,e){return i===e?0:i<e?-1:1},Ma=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+ct(e))},Nf=function(i){if(typeof i!="object"||i===null)return ct(i);const e=[];for(const r in i)e.push(r);e.sort();let s="{";for(let r=0;r<e.length;r++)r!==0&&(s+=","),s+=ct(e[r]),s+=":",s+=Nf(i[e[r]]);return s+="}",s},j0=function(i,e){const s=i.length;if(s<=e)return[i];const r=[];for(let l=0;l<s;l+=e)l+e>s?r.push(i.substring(l,s)):r.push(i.substring(l,l+e));return r};function Dt(i,e){for(const s in i)i.hasOwnProperty(s)&&e(s,i[s])}const P0=function(i){V(!Rf(i),"Invalid JSON number");const e=11,s=52,r=(1<<e-1)-1;let l,c,d,f,m;i===0?(c=0,d=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(i)/Math.LN2),r),c=f+r,d=Math.round(i*Math.pow(2,s-f)-Math.pow(2,s))):(c=0,d=Math.round(i/Math.pow(2,1-r-s))));const p=[];for(m=s;m;m-=1)p.push(d%2?1:0),d=Math.floor(d/2);for(m=e;m;m-=1)p.push(c%2?1:0),c=Math.floor(c/2);p.push(l?1:0),p.reverse();const y=p.join("");let E="";for(m=0;m<64;m+=8){let b=parseInt(y.substr(m,8),2).toString(16);b.length===1&&(b="0"+b),E=E+b}return E.toLowerCase()},hN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function mN(i,e){let s="Unknown Error";i==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?s="Client doesn't have permission to access the desired data.":i==="unavailable"&&(s="The service is unavailable");const r=new Error(i+" at "+e._path.toString()+": "+s);return r.code=i.toUpperCase(),r}const pN=new RegExp("^-?(0*)\\d{1,10}$"),gN=-2147483648,_N=2147483647,jy=function(i){if(pN.test(i)){const e=Number(i);if(e>=gN&&e<=_N)return e}return null},Ar=function(i){try{i()}catch(e){setTimeout(()=>{const s=e.stack||"";throw Ot("Exception was thrown by user callback.",s),e},Math.floor(0))}},yN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fa=function(i,e){const s=setTimeout(i,e);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,s){this.appCheckProvider=s,this.appName=e.name,Zt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=s==null?void 0:s.getImmediate({optional:!0}),this.appCheck||s==null||s.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){var s;(s=this.appCheckProvider)===null||s===void 0||s.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ot(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,s,r){this.appName_=e,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(s=>s&&s.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(s=>s.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(s=>s.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ot(e)}}class Go{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Go.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="5",z0="v",H0="s",B0="r",q0="f",V0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,F0="ls",G0="p",zh="ac",Y0="websocket",$0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,s,r,l,c=!1,d="",f=!1,m=!1,p=null){this.secure=s,this.namespace=r,this.webSocketOnly=l,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=us.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&us.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${s}`}}function EN(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function K0(i,e,s){V(typeof e=="string","typeof type must == string"),V(typeof s=="object","typeof params must == object");let r;if(e===Y0)r=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===$0)r=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);EN(i)&&(s.ns=i.namespace);const l=[];return Dt(s,(c,d)=>{l.push(c+"="+d)}),r+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.counters_={}}incrementCounter(e,s=1){dn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=s}get(){return ZT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh={},vh={};function Of(i){const e=i.toString();return yh[e]||(yh[e]=new SN),yh[e]}function wN(i,e){const s=i.toString();return vh[s]||(vh[s]=e()),vh[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,s){this.closeAfterResponse=e,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,s){for(this.pendingResponses[e]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<r.length;++l)r[l]&&Ar(()=>{this.onMessage_(r[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="start",xN="close",CN="pLPCommand",RN="pRTLPCB",Q0="id",X0="pw",Z0="ser",NN="cb",AN="seg",ON="ts",DN="d",IN="dframe",J0=1870,eb=30,kN=J0-eb,MN=25e3,LN=3e4;class hr{constructor(e,s,r,l,c,d,f){this.connId=e,this.repoInfo=s,this.applicationId=r,this.appCheckToken=l,this.authToken=c,this.transportSessionId=d,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pl(e),this.stats_=Of(s),this.urlFn=m=>(this.appCheckToken&&(m[zh]=this.appCheckToken),K0(s,$0,m))}open(e,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new TN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LN)),uN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Df((...c)=>{const[d,f,m,p,y]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Py)this.id=f,this.password=m;else if(d===xN)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...c)=>{const[d,f]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,f)},()=>{this.onClosed_()},this.urlFn);const r={};r[Py]="t",r[Z0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[NN]=this.scriptTagHolder.uniqueCallbackIdentifier),r[z0]=Af,this.transportSessionId&&(r[H0]=this.transportSessionId),this.lastSessionId&&(r[F0]=this.lastSessionId),this.applicationId&&(r[G0]=this.applicationId),this.appCheckToken&&(r[zh]=this.appCheckToken),typeof location<"u"&&location.hostname&&V0.test(location.hostname)&&(r[B0]=q0);const l=this.urlFn(r);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hr.forceAllow_=!0}static forceDisallow(){hr.forceDisallow_=!0}static isAvailable(){return hr.forceAllow_?!0:!hr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!hN()&&!fN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const s=ct(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=r0(s),l=j0(r,kN);for(let c=0;c<l.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[c]),this.curSegmentNum++}addDisconnectPingFrame(e,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[IN]="t",r[Q0]=e,r[X0]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const s=ct(e).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Df{constructor(e,s,r,l){this.onDisconnect=r,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=L0(),window[CN+this.uniqueCallbackIdentifier]=e,window[RN+this.uniqueCallbackIdentifier]=s,this.myIFrame=Df.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(f){gt("frame writing exception"),f.stack&&gt(f.stack),gt(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,s){for(this.myID=e,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Q0]=this.myID,e[X0]=this.myPW,e[Z0]=this.currentSerial;let s=this.urlFn(e),r="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+eb+r.length<=J0;){const d=this.pendingSegs.shift();r=r+"&"+AN+l+"="+d.seg+"&"+ON+l+"="+d.ts+"&"+DN+l+"="+d.d,l++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(e,s,r){this.pendingSegs.push({seg:e,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},l=setTimeout(r,Math.floor(MN)),c=()=>{clearTimeout(l),r()};this.addTag(e,c)}addTag(e,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const l=r.readyState;(!l||l==="loaded"||l==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=16384,jN=45e3;let ic=null;typeof MozWebSocket<"u"?ic=MozWebSocket:typeof WebSocket<"u"&&(ic=WebSocket);class sn{constructor(e,s,r,l,c,d,f){this.connId=e,this.applicationId=r,this.appCheckToken=l,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pl(this.connId),this.stats_=Of(s),this.connURL=sn.connectionURL_(s,d,f,l,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,r,l,c){const d={};return d[z0]=Af,typeof location<"u"&&location.hostname&&V0.test(location.hostname)&&(d[B0]=q0),s&&(d[H0]=s),r&&(d[F0]=r),l&&(d[zh]=l),c&&(d[G0]=c),K0(e,Y0,d)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,us.set("previous_websocket_failure",!0);try{let r;cx(),this.mySock=new ic(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ic!==null&&!sn.forceDisallow_}static previouslyFailed(){return us.isInMemoryStorage||us.get("previous_websocket_failure")===!0}markConnectionHealthy(){us.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=Xa(s);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(V(this.frames===null,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const s=ct(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=j0(s,UN);r.length>1&&this.sendString_(String(r.length));for(let l=0;l<r.length;l++)this.sendString_(r[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jN))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static get ALL_TRANSPORTS(){return[hr,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const s=sn&&sn.isAvailable();let r=s&&!sn.previouslyFailed();if(e.webSocketOnly&&(s||Ot("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[sn];else{const l=this.transports_=[];for(const c of Ja.ALL_TRANSPORTS)c&&c.isAvailable()&&l.push(c);Ja.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ja.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=6e4,zN=5e3,HN=10*1024,BN=100*1024,bh="t",zy="d",qN="s",Hy="r",VN="e",By="o",qy="a",Vy="n",Fy="p",FN="h";class GN{constructor(e,s,r,l,c,d,f,m,p,y){this.id=e,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=l,this.authToken_=c,this.onMessage_=d,this.onReady_=f,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pl("c:"+this.id+":"),this.transportManager_=new Ja(s),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Fa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>HN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return s=>{e===this.conn_?this.onConnectionLost_(s):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return s=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(s):e===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(e){const s={t:"d",d:e};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(bh in e){const s=e[bh];s===qy?this.upgradeIfSecondaryHealthy_():s===Hy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===By&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const s=Ma("t",e),r=Ma("d",e);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Fy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Vy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const s=Ma("t",e),r=Ma("d",e);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const s=Ma(bh,e);if(zy in e){const r=e[zy];if(s===FN){const l=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(s===Vy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===qN?this.onConnectionShutdown_(r):s===Hy?this.onReset_(r):s===VN?Ph("Server Error: "+r):s===By?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ph("Unknown control packet command: "+s)}}onHandshake_(e){const s=e.ts,r=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),Af!==r&&Ot("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),Fa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(PN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,s){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Fy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(us.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{put(e,s,r,l){}merge(e,s,r,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,s,r){}onDisconnectMerge(e,s,r){}onDisconnectCancel(e,s){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...s){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let l=0;l<r.length;l++)r[l].callback.apply(r[l].context,s)}}on(e,s,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:s,context:r});const l=this.getInitialEvent(e);l&&s.apply(r,l)}off(e,s,r){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let c=0;c<l.length;c++)if(l[c].callback===s&&(!r||r===l[c].context)){l.splice(c,1);return}}validateEventType_(e){V(this.allowedEvents_.find(s=>s===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends nb{static getInstance(){return new sc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return V(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=32,Yy=768;class Ae{constructor(e,s){if(s===void 0){this.pieces_=e.split("/");let r=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[r]=this.pieces_[l],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=s}toString(){let e="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(e+="/"+this.pieces_[s]);return e||"/"}}function we(){return new Ae("")}function he(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Ui(i){return i.pieces_.length-i.pieceNum_}function ke(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Ae(i.pieces_,e)}function ib(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function YN(i){let e="";for(let s=i.pieceNum_;s<i.pieces_.length;s++)i.pieces_[s]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[s])));return e||"/"}function sb(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function rb(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let s=i.pieceNum_;s<i.pieces_.length-1;s++)e.push(i.pieces_[s]);return new Ae(e,0)}function tt(i,e){const s=[];for(let r=i.pieceNum_;r<i.pieces_.length;r++)s.push(i.pieces_[r]);if(e instanceof Ae)for(let r=e.pieceNum_;r<e.pieces_.length;r++)s.push(e.pieces_[r]);else{const r=e.split("/");for(let l=0;l<r.length;l++)r[l].length>0&&s.push(r[l])}return new Ae(s,0)}function pe(i){return i.pieceNum_>=i.pieces_.length}function Nt(i,e){const s=he(i),r=he(e);if(s===null)return e;if(s===r)return Nt(ke(i),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function If(i,e){if(Ui(i)!==Ui(e))return!1;for(let s=i.pieceNum_,r=e.pieceNum_;s<=i.pieces_.length;s++,r++)if(i.pieces_[s]!==e.pieces_[r])return!1;return!0}function rn(i,e){let s=i.pieceNum_,r=e.pieceNum_;if(Ui(i)>Ui(e))return!1;for(;s<i.pieces_.length;){if(i.pieces_[s]!==e.pieces_[r])return!1;++s,++r}return!0}class $N{constructor(e,s){this.errorPrefix_=s,this.parts_=sb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=xc(this.parts_[r]);ab(this)}}function WN(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=xc(e),ab(i)}function KN(i){const e=i.parts_.pop();i.byteLength_-=xc(e),i.parts_.length>0&&(i.byteLength_-=1)}function ab(i){if(i.byteLength_>Yy)throw new Error(i.errorPrefix_+"has a key path longer than "+Yy+" bytes ("+i.byteLength_+").");if(i.parts_.length>Gy)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Gy+") or object contains a cycle "+cs(i))}function cs(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends nb{static getInstance(){return new kf}constructor(){super(["visible"]);let e,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return V(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=1e3,QN=60*5*1e3,$y=30*1e3,XN=1.3,ZN=3e4,JN="server_kill",Wy=3;class Yn extends tb{constructor(e,s,r,l,c,d,f,m){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=l,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=m,this.id=Yn.nextPersistentConnectionId_++,this.log_=pl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=La,this.maxReconnectDelay_=QN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");kf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&sc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,r){const l=++this.requestNumber_,c={r:l,a:e,b:s};this.log_(ct(c)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[l]=r)}get(e){this.initConnection_();const s=new dl,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const f=d.d;d.s==="ok"?s.resolve(f):s.reject(f)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),s.promise}listen(e,s,r,l){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const f={onComplete:l,hashFn:s,query:e,tag:r};this.listens.get(d).set(c,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(e){const s=e.query,r=s._path.toString(),l=s._queryIdentifier;this.log_("Listen on "+r+" for "+l);const c={p:r},d="q";e.tag&&(c.q=s._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(d,c,f=>{const m=f.d,p=f.s;Yn.warnOnListenWarnings_(m,s),(this.listens.get(r)&&this.listens.get(r).get(l))===e&&(this.log_("listen response",f),p!=="ok"&&this.removeListen_(r,l),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,s){if(e&&typeof e=="object"&&dn(e,"w")){const r=fs(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const l='".indexOn": "'+s._queryParams.getIndex().toString()+'"',c=s._path.toString();Ot(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||gx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$y)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=px(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,l=>{const c=l.s,d=l.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,r=e.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(e,s){const r=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+l),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,l)&&this.connected_&&this.sendUnlisten_(r,l,e._queryObject,s)}sendUnlisten_(e,s,r,l){this.log_("Unlisten on "+e+" for "+s);const c={p:e},d="n";l&&(c.q=r,c.t=l),this.sendRequest(d,c)}onDisconnectPut(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:r})}onDisconnectMerge(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:r})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,r,l){const c={p:s,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(e,s,r,l){this.putInternal("p",e,s,r,l)}merge(e,s,r,l){this.putInternal("m",e,s,r,l)}putInternal(e,s,r,l,c){this.initConnection_();const d={p:s,d:r};c!==void 0&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:l}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,r,c=>{this.log_(s+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(c.s,c.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const c=r.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ct(e));const s=e.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),e==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):e==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):e==="c"?this.onListenRevoked_(s.p,s.q):e==="ac"?this.onAuthRevoked_(s.s,s.d):e==="apc"?this.onAppCheckRevoked_(s.s,s.d):e==="sd"?this.onSecurityDebugPacket_(s):Ph("Unrecognized action received from server: "+ct(e)+`
Are you using the latest client?`)}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ZN&&(this.reconnectDelay_=La),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Yn.nextConnectionId_++,c=this.lastSessionId;let d=!1,f=null;const m=function(){f?f.close():(d=!0,r())},p=function(E){V(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(E)};this.realtime_={close:m,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,b]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);d?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=b&&b.token,f=new GN(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,s,r,w=>{Ot(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(JN)},c))}catch(E){this.log_("Failed to get token: "+E),d||(this.repoInfo_.nodeAdmin&&Ot(E),m())}}}interrupt(e){gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Oh(this.interruptReasons_)&&(this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let r;s?r=s.map(c=>Nf(c)).join("$"):r="default";const l=this.removeListen_(e,r);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,s){const r=new Ae(e).toString();let l;if(this.listens.has(r)){const c=this.listens.get(r);l=c.get(s),c.delete(s),c.size===0&&this.listens.delete(r)}else l=void 0;return l}onAuthRevoked_(e,s){gt("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Wy&&(this.reconnectDelay_=$y,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){gt("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Wy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";e["sdk."+s+"."+k0.replace(/\./g,"-")]=1,mf()?e["framework.cordova"]=1:h0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sc.getInstance().currentlyOnline();return Oh(this.interruptReasons_)&&e}}Yn.nextPersistentConnectionId_=0;Yn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,s){this.name=e,this.node=s}static Wrap(e,s){return new fe(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,s){const r=new fe(Er,e),l=new fe(Er,s);return this.compare(r,l)!==0}minPost(){return fe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho;class lb extends Oc{static get __EMPTY_NODE(){return Ho}static set __EMPTY_NODE(e){Ho=e}compare(e,s){return Nr(e.name,s.name)}isDefinedOn(e){throw Cr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,s){return!1}minPost(){return fe.MIN}maxPost(){return new fe(_s,Ho)}makePost(e,s){return V(typeof e=="string","KeyIndex indexValue must always be a string."),new fe(e,Ho)}toString(){return".key"}}const pr=new lb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,s,r,l,c=null){this.isReverse_=l,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=s?r(e.key,s):1,l&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(e.key,e.value):s={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class lt{constructor(e,s,r,l,c){this.key=e,this.value=s,this.color=r??lt.RED,this.left=l??At.EMPTY_NODE,this.right=c??At.EMPTY_NODE}copy(e,s,r,l,c){return new lt(e??this.key,s??this.value,r??this.color,l??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let l=this;const c=r(e,l.key);return c<0?l=l.copy(null,null,null,l.left.insert(e,s,r),null):c===0?l=l.copy(null,s,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,s,r)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let r,l;if(r=this,s(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(e,r.key)===0){if(r.right.isEmpty())return At.EMPTY_NODE;l=r.right.min_(),r=r.copy(l.key,l.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}lt.RED=!0;lt.BLACK=!1;class eA{copy(e,s,r,l,c){return this}insert(e,s,r){return new lt(e,s,null)}remove(e,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class At{constructor(e,s=At.EMPTY_NODE){this.comparator_=e,this.root_=s}insert(e,s){return new At(this.comparator_,this.root_.insert(e,s,this.comparator_).copy(null,null,lt.BLACK,null,null))}remove(e){return new At(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,lt.BLACK,null,null))}get(e){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(e,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(e){let s,r=this.root_,l=null;for(;!r.isEmpty();)if(s=this.comparator_(e,r.key),s===0){if(r.left.isEmpty())return l?l.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(l=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Bo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,s){return new Bo(this.root_,e,this.comparator_,!1,s)}getReverseIteratorFrom(e,s){return new Bo(this.root_,e,this.comparator_,!0,s)}getReverseIterator(e){return new Bo(this.root_,null,this.comparator_,!0,e)}}At.EMPTY_NODE=new eA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(i,e){return Nr(i.name,e.name)}function Mf(i,e){return Nr(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh;function nA(i){Hh=i}const ob=function(i){return typeof i=="number"?"number:"+P0(i):"string:"+i},cb=function(i){if(i.isLeafNode()){const e=i.val();V(typeof e=="string"||typeof e=="number"||typeof e=="object"&&dn(e,".sv"),"Priority must be a string or number.")}else V(i===Hh||i.isEmpty(),"priority of unexpected type.");V(i===Hh||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ky;class at{static set __childrenNodeConstructor(e){Ky=e}static get __childrenNodeConstructor(){return Ky}constructor(e,s=at.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),cb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new at(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:he(e)===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return e===".priority"?this.updatePriority(s):s.isEmpty()&&e!==".priority"?this:at.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const r=he(e);return r===null?s:s.isEmpty()&&r!==".priority"?this:(V(r!==".priority"||Ui(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,at.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ob(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",s==="number"?e+=P0(this.value_):e+=this.value_,this.lazyHash_=U0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===at.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof at.__childrenNodeConstructor?-1:(V(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,r=typeof this.value_,l=at.VALUE_TYPE_ORDER.indexOf(s),c=at.VALUE_TYPE_ORDER.indexOf(r);return V(l>=0,"Unknown leaf type: "+s),V(c>=0,"Unknown leaf type: "+r),l===c?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}at.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ub,db;function iA(i){ub=i}function sA(i){db=i}class rA extends Oc{compare(e,s){const r=e.node.getPriority(),l=s.node.getPriority(),c=r.compareTo(l);return c===0?Nr(e.name,s.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,s){return!e.getPriority().equals(s.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(_s,new at("[PRIORITY-POST]",db))}makePost(e,s){const r=ub(e);return new fe(s,new at("[PRIORITY-POST]",r))}toString(){return".priority"}}const ze=new rA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=Math.log(2);class lA{constructor(e){const s=c=>parseInt(Math.log(c)/aA,10),r=c=>parseInt(Array(c+1).join("1"),2);this.count=s(e+1),this.current_=this.count-1;const l=r(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const rc=function(i,e,s,r){i.sort(e);const l=function(m,p){const y=p-m;let E,b;if(y===0)return null;if(y===1)return E=i[m],b=s?s(E):E,new lt(b,E.node,lt.BLACK,null,null);{const w=parseInt(y/2,10)+m,C=l(m,w),D=l(w+1,p);return E=i[w],b=s?s(E):E,new lt(b,E.node,lt.BLACK,C,D)}},c=function(m){let p=null,y=null,E=i.length;const b=function(C,D){const k=E-C,L=E;E-=C;const P=l(k+1,L),M=i[k],G=s?s(M):M;w(new lt(G,M.node,D,null,P))},w=function(C){p?(p.left=C,p=C):(y=C,p=C)};for(let C=0;C<m.count;++C){const D=m.nextBitIsOne(),k=Math.pow(2,m.count-(C+1));D?b(k,lt.BLACK):(b(k,lt.BLACK),b(k,lt.RED))}return y},d=new lA(i.length),f=c(d);return new At(r||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh;const ur={};class qn{static get Default(){return V(ur&&ze,"ChildrenNode.ts has not been loaded"),Eh=Eh||new qn({".priority":ur},{".priority":ze}),Eh}constructor(e,s){this.indexes_=e,this.indexSet_=s}get(e){const s=fs(this.indexes_,e);if(!s)throw new Error("No index defined for "+e);return s instanceof At?s:null}hasIndex(e){return dn(this.indexSet_,e.toString())}addIndex(e,s){V(e!==pr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let l=!1;const c=s.getIterator(fe.Wrap);let d=c.getNext();for(;d;)l=l||e.isDefinedOn(d.node),r.push(d),d=c.getNext();let f;l?f=rc(r,e.getCompare()):f=ur;const m=e.toString(),p=Object.assign({},this.indexSet_);p[m]=e;const y=Object.assign({},this.indexes_);return y[m]=f,new qn(y,p)}addToIndexes(e,s){const r=ec(this.indexes_,(l,c)=>{const d=fs(this.indexSet_,c);if(V(d,"Missing index implementation for "+c),l===ur)if(d.isDefinedOn(e.node)){const f=[],m=s.getIterator(fe.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&f.push(p),p=m.getNext();return f.push(e),rc(f,d.getCompare())}else return ur;else{const f=s.get(e.name);let m=l;return f&&(m=m.remove(new fe(e.name,f))),m.insert(e,e.node)}});return new qn(r,this.indexSet_)}removeFromIndexes(e,s){const r=ec(this.indexes_,l=>{if(l===ur)return l;{const c=s.get(e.name);return c?l.remove(new fe(e.name,c)):l}});return new qn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua;class se{static get EMPTY_NODE(){return Ua||(Ua=new se(new At(Mf),null,qn.Default))}constructor(e,s,r){this.children_=e,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&cb(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ua}updatePriority(e){return this.children_.isEmpty()?this:new se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const s=this.children_.get(e);return s===null?Ua:s}}getChild(e){const s=he(e);return s===null?this:this.getImmediateChild(s).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,s){if(V(s,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(s);{const r=new fe(e,s);let l,c;s.isEmpty()?(l=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(l=this.children_.insert(e,s),c=this.indexMap_.addToIndexes(r,this.children_));const d=l.isEmpty()?Ua:this.priorityNode_;return new se(l,d,c)}}updateChild(e,s){const r=he(e);if(r===null)return s;{V(he(e)!==".priority"||Ui(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(r).updateChild(ke(e),s);return this.updateImmediateChild(r,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let r=0,l=0,c=!0;if(this.forEachChild(ze,(d,f)=>{s[d]=f.val(e),r++,c&&se.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):c=!1}),!e&&c&&l<2*r){const d=[];for(const f in s)d[f]=s[f];return d}else return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ob(this.getPriority().val())+":"),this.forEachChild(ze,(s,r)=>{const l=r.hash();l!==""&&(e+=":"+s+":"+l)}),this.lazyHash_=e===""?"":U0(e)}return this.lazyHash_}getPredecessorChildName(e,s,r){const l=this.resolveIndex_(r);if(l){const c=l.getPredecessorKey(new fe(e,s));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new fe(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new fe(s,this.children_.get(s)):null}forEachChild(e,s){const r=this.resolveIndex_(e);return r?r.inorderTraversal(l=>s(l.name,l.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,fe.Wrap);let c=l.peek();for(;c!=null&&s.compare(c,e)<0;)l.getNext(),c=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,fe.Wrap);let c=l.peek();for(;c!=null&&s.compare(c,e)>0;)l.getNext(),c=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gl?-1:0}withIndex(e){if(e===pr||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new se(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===pr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(ze),l=s.getIterator(ze);let c=r.getNext(),d=l.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=l.getNext()}return c===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===pr?null:this.indexMap_.get(e.toString())}}se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class oA extends se{constructor(){super(new At(Mf),se.EMPTY_NODE,qn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}}const gl=new oA;Object.defineProperties(fe,{MIN:{value:new fe(Er,se.EMPTY_NODE)},MAX:{value:new fe(_s,gl)}});lb.__EMPTY_NODE=se.EMPTY_NODE;at.__childrenNodeConstructor=se;nA(gl);sA(gl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=!0;function ot(i,e=null){if(i===null)return se.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),V(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const s=i;return new at(s,ot(e))}if(!(i instanceof Array)&&cA){const s=[];let r=!1;if(Dt(i,(d,f)=>{if(d.substring(0,1)!=="."){const m=ot(f);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),s.push(new fe(d,m)))}}),s.length===0)return se.EMPTY_NODE;const c=rc(s,tA,d=>d.name,Mf);if(r){const d=rc(s,ze.getCompare());return new se(c,ot(e),new qn({".priority":d},{".priority":ze}))}else return new se(c,ot(e),qn.Default)}else{let s=se.EMPTY_NODE;return Dt(i,(r,l)=>{if(dn(i,r)&&r.substring(0,1)!=="."){const c=ot(l);(c.isLeafNode()||!c.isEmpty())&&(s=s.updateImmediateChild(r,c))}}),s.updatePriority(ot(e))}}iA(ot);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends Oc{constructor(e){super(),this.indexPath_=e,V(!pe(e)&&he(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,s){const r=this.extractChild(e.node),l=this.extractChild(s.node),c=r.compareTo(l);return c===0?Nr(e.name,s.name):c}makePost(e,s){const r=ot(e),l=se.EMPTY_NODE.updateChild(this.indexPath_,r);return new fe(s,l)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,gl);return new fe(_s,e)}toString(){return sb(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends Oc{compare(e,s){const r=e.node.compareTo(s.node);return r===0?Nr(e.name,s.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,s){return!e.equals(s)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,s){const r=ot(e);return new fe(s,r)}toString(){return".value"}}const hA=new dA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(i){return{type:"value",snapshotNode:i}}function Sr(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function el(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function tl(i,e,s){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:s}}function fA(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this.index_=e}updateChild(e,s,r,l,c,d){V(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(s);return f.getChild(l).equals(r.getChild(l))&&f.isEmpty()===r.isEmpty()||(d!=null&&(r.isEmpty()?e.hasChild(s)?d.trackChildChange(el(s,f)):V(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?d.trackChildChange(Sr(s,r)):d.trackChildChange(tl(s,r,f))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(s,r).withIndex(this.index_)}updateFullNode(e,s,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ze,(l,c)=>{s.hasChild(l)||r.trackChildChange(el(l,c))}),s.isLeafNode()||s.forEachChild(ze,(l,c)=>{if(e.hasChild(l)){const d=e.getImmediateChild(l);d.equals(c)||r.trackChildChange(tl(l,c,d))}else r.trackChildChange(Sr(l,c))})),s.withIndex(this.index_)}updatePriority(e,s){return e.isEmpty()?se.EMPTY_NODE:e.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.indexedFilter_=new Lf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=nl.getStartPost_(e),this.endPost_=nl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return s&&r}updateChild(e,s,r,l,c,d){return this.matches(new fe(s,r))||(r=se.EMPTY_NODE),this.indexedFilter_.updateChild(e,s,r,l,c,d)}updateFullNode(e,s,r){s.isLeafNode()&&(s=se.EMPTY_NODE);let l=s.withIndex(this.index_);l=l.updatePriority(se.EMPTY_NODE);const c=this;return s.forEachChild(ze,(d,f)=>{c.matches(new fe(d,f))||(l=l.updateImmediateChild(d,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,r)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const s=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),s)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const s=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),s)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=s=>{const r=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new nl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,s,r,l,c,d){return this.rangedFilter_.matches(new fe(s,r))||(r=se.EMPTY_NODE),e.getImmediateChild(s).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,s,r,l,c,d):this.fullLimitUpdateChild_(e,s,r,c,d)}updateFullNode(e,s,r){let l;if(s.isLeafNode()||s.isEmpty())l=se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){l=se.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;c.hasNext()&&d<this.limit_;){const f=c.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))l=l.updateImmediateChild(f.name,f.node),d++;else break;else continue}}else{l=s.withIndex(this.index_),l=l.updatePriority(se.EMPTY_NODE);let c;this.reverse_?c=l.getReverseIterator(this.index_):c=l.getIterator(this.index_);let d=0;for(;c.hasNext();){const f=c.getNext();d<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?d++:l=l.updateImmediateChild(f.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,r)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,s,r,l,c){let d;if(this.reverse_){const E=this.index_.getCompare();d=(b,w)=>E(w,b)}else d=this.index_.getCompare();const f=e;V(f.numChildren()===this.limit_,"");const m=new fe(s,r),p=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(f.hasChild(s)){const E=f.getImmediateChild(s);let b=l.getChildAfterChild(this.index_,p,this.reverse_);for(;b!=null&&(b.name===s||f.hasChild(b.name));)b=l.getChildAfterChild(this.index_,b,this.reverse_);const w=b==null?1:d(b,m);if(y&&!r.isEmpty()&&w>=0)return c!=null&&c.trackChildChange(tl(s,r,E)),f.updateImmediateChild(s,r);{c!=null&&c.trackChildChange(el(s,E));const D=f.updateImmediateChild(s,se.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(c!=null&&c.trackChildChange(Sr(b.name,b.node)),D.updateImmediateChild(b.name,b.node)):D}}else return r.isEmpty()?e:y&&d(p,m)>=0?(c!=null&&(c.trackChildChange(el(p.name,p.node)),c.trackChildChange(Sr(s,r))),f.updateImmediateChild(s,r).updateImmediateChild(p.name,se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Er}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_s}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ze}copy(){const e=new Uf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pA(i){return i.loadsAllData()?new Lf(i.getIndex()):i.hasLimit()?new mA(i):new nl(i)}function Qy(i){const e={};if(i.isDefault())return e;let s;if(i.index_===ze?s="$priority":i.index_===hA?s="$value":i.index_===pr?s="$key":(V(i.index_ instanceof uA,"Unrecognized index type!"),s=i.index_.toString()),e.orderBy=ct(s),i.startSet_){const r=i.startAfterSet_?"startAfter":"startAt";e[r]=ct(i.indexStartValue_),i.startNameSet_&&(e[r]+=","+ct(i.indexStartName_))}if(i.endSet_){const r=i.endBeforeSet_?"endBefore":"endAt";e[r]=ct(i.indexEndValue_),i.endNameSet_&&(e[r]+=","+ct(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function Xy(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let s=i.viewFrom_;s===""&&(i.isViewFromLeft()?s="l":s="r"),e.vf=s}return i.index_!==ze&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends tb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,s){return s!==void 0?"tag$"+s:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,s,r,l){super(),this.repoInfo_=e,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.log_=pl("p:rest:"),this.listens_={}}listen(e,s,r,l){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const d=ac.getListenId_(e,r),f={};this.listens_[d]=f;const m=Qy(e._queryParams);this.restRequest_(c+".json",m,(p,y)=>{let E=y;if(p===404&&(E=null,p=null),p===null&&this.onDataUpdate_(c,E,!1,r),fs(this.listens_,d)===f){let b;p?p===401?b="permission_denied":b="rest_error:"+p:b="ok",l(b,null)}})}unlisten(e,s){const r=ac.getListenId_(e,s);delete this.listens_[r]}get(e){const s=Qy(e._queryParams),r=e._path.toString(),l=new dl;return this.restRequest_(r+".json",s,(c,d)=>{let f=d;c===404&&(f=null,c=null),c===null?(this.onDataUpdate_(r,f,!1,null),l.resolve(f)):l.reject(new Error(f))}),l.promise}refreshAuthToken(e){}restRequest_(e,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,c])=>{l&&l.accessToken&&(s.auth=l.accessToken),c&&c.token&&(s.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Rr(s);this.log_("Sending REST request for "+d);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&f.readyState===4){this.log_("REST Response for "+d+" received. status:",f.status,"response:",f.responseText);let m=null;if(f.status>=200&&f.status<300){try{m=Xa(f.responseText)}catch{Ot("Failed to parse JSON response for "+d+": "+f.responseText)}r(null,m)}else f.status!==401&&f.status!==404&&Ot("Got unsuccessful REST response for "+d+" Status: "+f.status),r(f.status);r=null}},f.open("GET",d,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,s){this.rootNode_=this.rootNode_.updateChild(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(){return{value:null,children:new Map}}function fb(i,e,s){if(pe(e))i.value=s,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,s);else{const r=he(e);i.children.has(r)||i.children.set(r,lc());const l=i.children.get(r);e=ke(e),fb(l,e,s)}}function Bh(i,e,s){i.value!==null?s(e,i.value):_A(i,(r,l)=>{const c=new Ae(e.toString()+"/"+r);Bh(l,c,s)})}function _A(i,e){i.children.forEach((s,r)=>{e(r,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),s=Object.assign({},e);return this.last_&&Dt(this.last_,(r,l)=>{s[r]=s[r]-l}),this.last_=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=10*1e3,vA=30*1e3,bA=5*60*1e3;class EA{constructor(e,s){this.server_=s,this.statsToReport_={},this.statsListener_=new yA(e);const r=Zy+(vA-Zy)*Math.random();Fa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),s={};let r=!1;Dt(e,(l,c)=>{c>0&&dn(this.statsToReport_,l)&&(s[l]=c,r=!0)}),r&&this.server_.reportStats(s),Fa(this.reportStats_.bind(this),Math.floor(Math.random()*2*bA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(an||(an={}));function mb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function jf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Pf(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,s,r){this.path=e,this.affectedTree=s,this.revert=r,this.type=an.ACK_USER_WRITE,this.source=mb()}operationForChild(e){if(pe(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new Ae(e));return new oc(we(),s,this.revert)}}else return V(he(this.path)===e,"operationForChild called for unrelated child."),new oc(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,s){this.source=e,this.path=s,this.type=an.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new il(this.source,we()):new il(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,s,r){this.source=e,this.path=s,this.snap=r,this.type=an.OVERWRITE}operationForChild(e){return pe(this.path)?new ys(this.source,we(),this.snap.getImmediateChild(e)):new ys(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,s,r){this.source=e,this.path=s,this.children=r,this.type=an.MERGE}operationForChild(e){if(pe(this.path)){const s=this.children.subtree(new Ae(e));return s.isEmpty()?null:s.value?new ys(this.source,we(),s.value):new sl(this.source,we(),s)}else return V(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sl(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,s,r){this.node_=e,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const s=he(e);return this.isCompleteForChild(s)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function wA(i,e,s,r){const l=[],c=[];return e.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(fA(d.childName,d.snapshotNode))}),ja(i,l,"child_removed",e,r,s),ja(i,l,"child_added",e,r,s),ja(i,l,"child_moved",c,r,s),ja(i,l,"child_changed",e,r,s),ja(i,l,"value",e,r,s),l}function ja(i,e,s,r,l,c){const d=r.filter(f=>f.type===s);d.sort((f,m)=>xA(i,f,m)),d.forEach(f=>{const m=TA(i,f,c);l.forEach(p=>{p.respondsTo(f.type)&&e.push(p.createEvent(m,i.query_))})})}function TA(i,e,s){return e.type==="value"||e.type==="child_removed"||(e.prevName=s.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function xA(i,e,s){if(e.childName==null||s.childName==null)throw Cr("Should only compare child_ events.");const r=new fe(e.childName,e.snapshotNode),l=new fe(s.childName,s.snapshotNode);return i.index_.compare(r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(i,e){return{eventCache:i,serverCache:e}}function Ga(i,e,s,r){return Dc(new vs(e,s,r),i.serverCache)}function pb(i,e,s,r){return Dc(i.eventCache,new vs(e,s,r))}function qh(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function bs(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh;const CA=()=>(Sh||(Sh=new At(dN)),Sh);class Me{static fromObject(e){let s=new Me(null);return Dt(e,(r,l)=>{s=s.set(new Ae(r),l)}),s}constructor(e,s=CA()){this.value=e,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,s){if(this.value!=null&&s(this.value))return{path:we(),value:this.value};if(pe(e))return null;{const r=he(e),l=this.children.get(r);if(l!==null){const c=l.findRootMostMatchingPathAndValue(ke(e),s);return c!=null?{path:tt(new Ae(r),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const s=he(e),r=this.children.get(s);return r!==null?r.subtree(ke(e)):new Me(null)}}set(e,s){if(pe(e))return new Me(s,this.children);{const r=he(e),c=(this.children.get(r)||new Me(null)).set(ke(e),s),d=this.children.insert(r,c);return new Me(this.value,d)}}remove(e){if(pe(e))return this.children.isEmpty()?new Me(null):new Me(null,this.children);{const s=he(e),r=this.children.get(s);if(r){const l=r.remove(ke(e));let c;return l.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,l),this.value===null&&c.isEmpty()?new Me(null):new Me(this.value,c)}else return this}}get(e){if(pe(e))return this.value;{const s=he(e),r=this.children.get(s);return r?r.get(ke(e)):null}}setTree(e,s){if(pe(e))return s;{const r=he(e),c=(this.children.get(r)||new Me(null)).setTree(ke(e),s);let d;return c.isEmpty()?d=this.children.remove(r):d=this.children.insert(r,c),new Me(this.value,d)}}fold(e){return this.fold_(we(),e)}fold_(e,s){const r={};return this.children.inorderTraversal((l,c)=>{r[l]=c.fold_(tt(e,l),s)}),s(e,this.value,r)}findOnPath(e,s){return this.findOnPath_(e,we(),s)}findOnPath_(e,s,r){const l=this.value?r(s,this.value):!1;if(l)return l;if(pe(e))return null;{const c=he(e),d=this.children.get(c);return d?d.findOnPath_(ke(e),tt(s,c),r):null}}foreachOnPath(e,s){return this.foreachOnPath_(e,we(),s)}foreachOnPath_(e,s,r){if(pe(e))return this;{this.value&&r(s,this.value);const l=he(e),c=this.children.get(l);return c?c.foreachOnPath_(ke(e),tt(s,l),r):new Me(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,s){this.children.inorderTraversal((r,l)=>{l.foreach_(tt(e,r),s)}),this.value&&s(e,this.value)}foreachChild(e){this.children.inorderTraversal((s,r)=>{r.value&&e(s,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.writeTree_=e}static empty(){return new on(new Me(null))}}function Ya(i,e,s){if(pe(e))return new on(new Me(s));{const r=i.writeTree_.findRootMostValueAndPath(e);if(r!=null){const l=r.path;let c=r.value;const d=Nt(l,e);return c=c.updateChild(d,s),new on(i.writeTree_.set(l,c))}else{const l=new Me(s),c=i.writeTree_.setTree(e,l);return new on(c)}}}function Jy(i,e,s){let r=i;return Dt(s,(l,c)=>{r=Ya(r,tt(e,l),c)}),r}function ev(i,e){if(pe(e))return on.empty();{const s=i.writeTree_.setTree(e,new Me(null));return new on(s)}}function Vh(i,e){return xs(i,e)!=null}function xs(i,e){const s=i.writeTree_.findRootMostValueAndPath(e);return s!=null?i.writeTree_.get(s.path).getChild(Nt(s.path,e)):null}function tv(i){const e=[],s=i.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(ze,(r,l)=>{e.push(new fe(r,l))}):i.writeTree_.children.inorderTraversal((r,l)=>{l.value!=null&&e.push(new fe(r,l.value))}),e}function Ii(i,e){if(pe(e))return i;{const s=xs(i,e);return s!=null?new on(new Me(s)):new on(i.writeTree_.subtree(e))}}function Fh(i){return i.writeTree_.isEmpty()}function wr(i,e){return gb(we(),i.writeTree_,e)}function gb(i,e,s){if(e.value!=null)return s.updateChild(i,e.value);{let r=null;return e.children.inorderTraversal((l,c)=>{l===".priority"?(V(c.value!==null,"Priority writes must always be leaf nodes"),r=c.value):s=gb(tt(i,l),c,s)}),!s.getChild(i).isEmpty()&&r!==null&&(s=s.updateChild(tt(i,".priority"),r)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(i,e){return bb(e,i)}function RA(i,e,s,r,l){V(r>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:e,snap:s,writeId:r,visible:l}),l&&(i.visibleWrites=Ya(i.visibleWrites,e,s)),i.lastWriteId=r}function NA(i,e){for(let s=0;s<i.allWrites.length;s++){const r=i.allWrites[s];if(r.writeId===e)return r}return null}function AA(i,e){const s=i.allWrites.findIndex(f=>f.writeId===e);V(s>=0,"removeWrite called with nonexistent writeId.");const r=i.allWrites[s];i.allWrites.splice(s,1);let l=r.visible,c=!1,d=i.allWrites.length-1;for(;l&&d>=0;){const f=i.allWrites[d];f.visible&&(d>=s&&OA(f,r.path)?l=!1:rn(r.path,f.path)&&(c=!0)),d--}if(l){if(c)return DA(i),!0;if(r.snap)i.visibleWrites=ev(i.visibleWrites,r.path);else{const f=r.children;Dt(f,m=>{i.visibleWrites=ev(i.visibleWrites,tt(r.path,m))})}return!0}else return!1}function OA(i,e){if(i.snap)return rn(i.path,e);for(const s in i.children)if(i.children.hasOwnProperty(s)&&rn(tt(i.path,s),e))return!0;return!1}function DA(i){i.visibleWrites=_b(i.allWrites,IA,we()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function IA(i){return i.visible}function _b(i,e,s){let r=on.empty();for(let l=0;l<i.length;++l){const c=i[l];if(e(c)){const d=c.path;let f;if(c.snap)rn(s,d)?(f=Nt(s,d),r=Ya(r,f,c.snap)):rn(d,s)&&(f=Nt(d,s),r=Ya(r,we(),c.snap.getChild(f)));else if(c.children){if(rn(s,d))f=Nt(s,d),r=Jy(r,f,c.children);else if(rn(d,s))if(f=Nt(d,s),pe(f))r=Jy(r,we(),c.children);else{const m=fs(c.children,he(f));if(m){const p=m.getChild(ke(f));r=Ya(r,we(),p)}}}else throw Cr("WriteRecord should have .snap or .children")}}return r}function yb(i,e,s,r,l){if(!r&&!l){const c=xs(i.visibleWrites,e);if(c!=null)return c;{const d=Ii(i.visibleWrites,e);if(Fh(d))return s;if(s==null&&!Vh(d,we()))return null;{const f=s||se.EMPTY_NODE;return wr(d,f)}}}else{const c=Ii(i.visibleWrites,e);if(!l&&Fh(c))return s;if(!l&&s==null&&!Vh(c,we()))return null;{const d=function(p){return(p.visible||l)&&(!r||!~r.indexOf(p.writeId))&&(rn(p.path,e)||rn(e,p.path))},f=_b(i.allWrites,d,e),m=s||se.EMPTY_NODE;return wr(f,m)}}}function kA(i,e,s){let r=se.EMPTY_NODE;const l=xs(i.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(ze,(c,d)=>{r=r.updateImmediateChild(c,d)}),r;if(s){const c=Ii(i.visibleWrites,e);return s.forEachChild(ze,(d,f)=>{const m=wr(Ii(c,new Ae(d)),f);r=r.updateImmediateChild(d,m)}),tv(c).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}else{const c=Ii(i.visibleWrites,e);return tv(c).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}}function MA(i,e,s,r,l){V(r||l,"Either existingEventSnap or existingServerSnap must exist");const c=tt(e,s);if(Vh(i.visibleWrites,c))return null;{const d=Ii(i.visibleWrites,c);return Fh(d)?l.getChild(s):wr(d,l.getChild(s))}}function LA(i,e,s,r){const l=tt(e,s),c=xs(i.visibleWrites,l);if(c!=null)return c;if(r.isCompleteForChild(s)){const d=Ii(i.visibleWrites,l);return wr(d,r.getNode().getImmediateChild(s))}else return null}function UA(i,e){return xs(i.visibleWrites,e)}function jA(i,e,s,r,l,c,d){let f;const m=Ii(i.visibleWrites,e),p=xs(m,we());if(p!=null)f=p;else if(s!=null)f=wr(m,s);else return[];if(f=f.withIndex(d),!f.isEmpty()&&!f.isLeafNode()){const y=[],E=d.getCompare(),b=c?f.getReverseIteratorFrom(r,d):f.getIteratorFrom(r,d);let w=b.getNext();for(;w&&y.length<l;)E(w,r)!==0&&y.push(w),w=b.getNext();return y}else return[]}function PA(){return{visibleWrites:on.empty(),allWrites:[],lastWriteId:-1}}function cc(i,e,s,r){return yb(i.writeTree,i.treePath,e,s,r)}function Hf(i,e){return kA(i.writeTree,i.treePath,e)}function nv(i,e,s,r){return MA(i.writeTree,i.treePath,e,s,r)}function uc(i,e){return UA(i.writeTree,tt(i.treePath,e))}function zA(i,e,s,r,l,c){return jA(i.writeTree,i.treePath,e,s,r,l,c)}function Bf(i,e,s){return LA(i.writeTree,i.treePath,e,s)}function vb(i,e){return bb(tt(i.treePath,e),i.writeTree)}function bb(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.changeMap=new Map}trackChildChange(e){const s=e.type,r=e.childName;V(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),V(r!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(r);if(l){const c=l.type;if(s==="child_added"&&c==="child_removed")this.changeMap.set(r,tl(r,e.snapshotNode,l.snapshotNode));else if(s==="child_removed"&&c==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&c==="child_changed")this.changeMap.set(r,el(r,l.oldSnap));else if(s==="child_changed"&&c==="child_added")this.changeMap.set(r,Sr(r,e.snapshotNode));else if(s==="child_changed"&&c==="child_changed")this.changeMap.set(r,tl(r,e.snapshotNode,l.oldSnap));else throw Cr("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{getCompleteChild(e){return null}getChildAfterChild(e,s,r){return null}}const Eb=new BA;class qf{constructor(e,s,r=null){this.writes_=e,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(e){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(e))return s.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new vs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bf(this.writes_,e,r)}}getChildAfterChild(e,s,r){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bs(this.viewCache_),c=zA(this.writes_,l,s,1,r,e);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(i){return{filter:i}}function VA(i,e){V(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function FA(i,e,s,r,l){const c=new HA;let d,f;if(s.type===an.OVERWRITE){const p=s;p.source.fromUser?d=Gh(i,e,p.path,p.snap,r,l,c):(V(p.source.fromServer,"Unknown source."),f=p.source.tagged||e.serverCache.isFiltered()&&!pe(p.path),d=dc(i,e,p.path,p.snap,r,l,f,c))}else if(s.type===an.MERGE){const p=s;p.source.fromUser?d=YA(i,e,p.path,p.children,r,l,c):(V(p.source.fromServer,"Unknown source."),f=p.source.tagged||e.serverCache.isFiltered(),d=Yh(i,e,p.path,p.children,r,l,f,c))}else if(s.type===an.ACK_USER_WRITE){const p=s;p.revert?d=KA(i,e,p.path,r,l,c):d=$A(i,e,p.path,p.affectedTree,r,l,c)}else if(s.type===an.LISTEN_COMPLETE)d=WA(i,e,s.path,r,c);else throw Cr("Unknown operation type: "+s.type);const m=c.getChanges();return GA(e,d,m),{viewCache:d,changes:m}}function GA(i,e,s){const r=e.eventCache;if(r.isFullyInitialized()){const l=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=qh(i);(s.length>0||!i.eventCache.isFullyInitialized()||l&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&s.push(hb(qh(e)))}}function Sb(i,e,s,r,l,c){const d=e.eventCache;if(uc(r,s)!=null)return e;{let f,m;if(pe(s))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=bs(e),y=p instanceof se?p:se.EMPTY_NODE,E=Hf(r,y);f=i.filter.updateFullNode(e.eventCache.getNode(),E,c)}else{const p=cc(r,bs(e));f=i.filter.updateFullNode(e.eventCache.getNode(),p,c)}else{const p=he(s);if(p===".priority"){V(Ui(s)===1,"Can't have a priority with additional path components");const y=d.getNode();m=e.serverCache.getNode();const E=nv(r,s,y,m);E!=null?f=i.filter.updatePriority(y,E):f=d.getNode()}else{const y=ke(s);let E;if(d.isCompleteForChild(p)){m=e.serverCache.getNode();const b=nv(r,s,d.getNode(),m);b!=null?E=d.getNode().getImmediateChild(p).updateChild(y,b):E=d.getNode().getImmediateChild(p)}else E=Bf(r,p,e.serverCache);E!=null?f=i.filter.updateChild(d.getNode(),p,E,y,l,c):f=d.getNode()}}return Ga(e,f,d.isFullyInitialized()||pe(s),i.filter.filtersNodes())}}function dc(i,e,s,r,l,c,d,f){const m=e.serverCache;let p;const y=d?i.filter:i.filter.getIndexedFilter();if(pe(s))p=y.updateFullNode(m.getNode(),r,null);else if(y.filtersNodes()&&!m.isFiltered()){const w=m.getNode().updateChild(s,r);p=y.updateFullNode(m.getNode(),w,null)}else{const w=he(s);if(!m.isCompleteForPath(s)&&Ui(s)>1)return e;const C=ke(s),k=m.getNode().getImmediateChild(w).updateChild(C,r);w===".priority"?p=y.updatePriority(m.getNode(),k):p=y.updateChild(m.getNode(),w,k,C,Eb,null)}const E=pb(e,p,m.isFullyInitialized()||pe(s),y.filtersNodes()),b=new qf(l,E,c);return Sb(i,E,s,l,b,f)}function Gh(i,e,s,r,l,c,d){const f=e.eventCache;let m,p;const y=new qf(l,e,c);if(pe(s))p=i.filter.updateFullNode(e.eventCache.getNode(),r,d),m=Ga(e,p,!0,i.filter.filtersNodes());else{const E=he(s);if(E===".priority")p=i.filter.updatePriority(e.eventCache.getNode(),r),m=Ga(e,p,f.isFullyInitialized(),f.isFiltered());else{const b=ke(s),w=f.getNode().getImmediateChild(E);let C;if(pe(b))C=r;else{const D=y.getCompleteChild(E);D!=null?ib(b)===".priority"&&D.getChild(rb(b)).isEmpty()?C=D:C=D.updateChild(b,r):C=se.EMPTY_NODE}if(w.equals(C))m=e;else{const D=i.filter.updateChild(f.getNode(),E,C,b,y,d);m=Ga(e,D,f.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function iv(i,e){return i.eventCache.isCompleteForChild(e)}function YA(i,e,s,r,l,c,d){let f=e;return r.foreach((m,p)=>{const y=tt(s,m);iv(e,he(y))&&(f=Gh(i,f,y,p,l,c,d))}),r.foreach((m,p)=>{const y=tt(s,m);iv(e,he(y))||(f=Gh(i,f,y,p,l,c,d))}),f}function sv(i,e,s){return s.foreach((r,l)=>{e=e.updateChild(r,l)}),e}function Yh(i,e,s,r,l,c,d,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;pe(s)?p=r:p=new Me(null).setTree(s,r);const y=e.serverCache.getNode();return p.children.inorderTraversal((E,b)=>{if(y.hasChild(E)){const w=e.serverCache.getNode().getImmediateChild(E),C=sv(i,w,b);m=dc(i,m,new Ae(E),C,l,c,d,f)}}),p.children.inorderTraversal((E,b)=>{const w=!e.serverCache.isCompleteForChild(E)&&b.value===null;if(!y.hasChild(E)&&!w){const C=e.serverCache.getNode().getImmediateChild(E),D=sv(i,C,b);m=dc(i,m,new Ae(E),D,l,c,d,f)}}),m}function $A(i,e,s,r,l,c,d){if(uc(l,s)!=null)return e;const f=e.serverCache.isFiltered(),m=e.serverCache;if(r.value!=null){if(pe(s)&&m.isFullyInitialized()||m.isCompleteForPath(s))return dc(i,e,s,m.getNode().getChild(s),l,c,f,d);if(pe(s)){let p=new Me(null);return m.getNode().forEachChild(pr,(y,E)=>{p=p.set(new Ae(y),E)}),Yh(i,e,s,p,l,c,f,d)}else return e}else{let p=new Me(null);return r.foreach((y,E)=>{const b=tt(s,y);m.isCompleteForPath(b)&&(p=p.set(y,m.getNode().getChild(b)))}),Yh(i,e,s,p,l,c,f,d)}}function WA(i,e,s,r,l){const c=e.serverCache,d=pb(e,c.getNode(),c.isFullyInitialized()||pe(s),c.isFiltered());return Sb(i,d,s,r,Eb,l)}function KA(i,e,s,r,l,c){let d;if(uc(r,s)!=null)return e;{const f=new qf(r,e,l),m=e.eventCache.getNode();let p;if(pe(s)||he(s)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=cc(r,bs(e));else{const E=e.serverCache.getNode();V(E instanceof se,"serverChildren would be complete if leaf node"),y=Hf(r,E)}y=y,p=i.filter.updateFullNode(m,y,c)}else{const y=he(s);let E=Bf(r,y,e.serverCache);E==null&&e.serverCache.isCompleteForChild(y)&&(E=m.getImmediateChild(y)),E!=null?p=i.filter.updateChild(m,y,E,ke(s),f,c):e.eventCache.getNode().hasChild(y)?p=i.filter.updateChild(m,y,se.EMPTY_NODE,ke(s),f,c):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=cc(r,bs(e)),d.isLeafNode()&&(p=i.filter.updateFullNode(p,d,c)))}return d=e.serverCache.isFullyInitialized()||uc(r,we())!=null,Ga(e,p,d,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,s){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,l=new Lf(r.getIndex()),c=pA(r);this.processor_=qA(c);const d=s.serverCache,f=s.eventCache,m=l.updateFullNode(se.EMPTY_NODE,d.getNode(),null),p=c.updateFullNode(se.EMPTY_NODE,f.getNode(),null),y=new vs(m,d.isFullyInitialized(),l.filtersNodes()),E=new vs(p,f.isFullyInitialized(),c.filtersNodes());this.viewCache_=Dc(E,y),this.eventGenerator_=new SA(this.query_)}get query(){return this.query_}}function XA(i){return i.viewCache_.serverCache.getNode()}function ZA(i,e){const s=bs(i.viewCache_);return s&&(i.query._queryParams.loadsAllData()||!pe(e)&&!s.getImmediateChild(he(e)).isEmpty())?s.getChild(e):null}function rv(i){return i.eventRegistrations_.length===0}function JA(i,e){i.eventRegistrations_.push(e)}function av(i,e,s){const r=[];if(s){V(e==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(c=>{const d=c.createCancelEvent(s,l);d&&r.push(d)})}if(e){let l=[];for(let c=0;c<i.eventRegistrations_.length;++c){const d=i.eventRegistrations_[c];if(!d.matches(e))l.push(d);else if(e.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return r}function lv(i,e,s,r){e.type===an.MERGE&&e.source.queryId!==null&&(V(bs(i.viewCache_),"We should always have a full cache before handling merges"),V(qh(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,c=FA(i.processor_,l,e,s,r);return VA(i.processor_,c.viewCache),V(c.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,wb(i,c.changes,c.viewCache.eventCache.getNode(),null)}function eO(i,e){const s=i.viewCache_.eventCache,r=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(ze,(c,d)=>{r.push(Sr(c,d))}),s.isFullyInitialized()&&r.push(hb(s.getNode())),wb(i,r,s.getNode(),e)}function wb(i,e,s,r){const l=r?[r]:i.eventRegistrations_;return wA(i.eventGenerator_,e,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;class tO{constructor(){this.views=new Map}}function nO(i){V(!hc,"__referenceConstructor has already been defined"),hc=i}function iO(){return V(hc,"Reference.ts has not been loaded"),hc}function sO(i){return i.views.size===0}function Vf(i,e,s,r){const l=e.source.queryId;if(l!==null){const c=i.views.get(l);return V(c!=null,"SyncTree gave us an op for an invalid query."),lv(c,e,s,r)}else{let c=[];for(const d of i.views.values())c=c.concat(lv(d,e,s,r));return c}}function rO(i,e,s,r,l){const c=e._queryIdentifier,d=i.views.get(c);if(!d){let f=cc(s,l?r:null),m=!1;f?m=!0:r instanceof se?(f=Hf(s,r),m=!1):(f=se.EMPTY_NODE,m=!1);const p=Dc(new vs(f,m,!1),new vs(r,l,!1));return new QA(e,p)}return d}function aO(i,e,s,r,l,c){const d=rO(i,e,r,l,c);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,d),JA(d,s),eO(d,s)}function lO(i,e,s,r){const l=e._queryIdentifier,c=[];let d=[];const f=ji(i);if(l==="default")for(const[m,p]of i.views.entries())d=d.concat(av(p,s,r)),rv(p)&&(i.views.delete(m),p.query._queryParams.loadsAllData()||c.push(p.query));else{const m=i.views.get(l);m&&(d=d.concat(av(m,s,r)),rv(m)&&(i.views.delete(l),m.query._queryParams.loadsAllData()||c.push(m.query)))}return f&&!ji(i)&&c.push(new(iO())(e._repo,e._path)),{removed:c,events:d}}function Tb(i){const e=[];for(const s of i.views.values())s.query._queryParams.loadsAllData()||e.push(s);return e}function gr(i,e){let s=null;for(const r of i.views.values())s=s||ZA(r,e);return s}function xb(i,e){if(e._queryParams.loadsAllData())return Ic(i);{const r=e._queryIdentifier;return i.views.get(r)}}function Cb(i,e){return xb(i,e)!=null}function ji(i){return Ic(i)!=null}function Ic(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc;function oO(i){V(!fc,"__referenceConstructor has already been defined"),fc=i}function cO(){return V(fc,"Reference.ts has not been loaded"),fc}let uO=1;class ov{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Me(null),this.pendingWriteTree_=PA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ff(i,e,s,r,l){return RA(i.pendingWriteTree_,e,s,r,l),l?_l(i,new ys(mb(),e,s)):[]}function ds(i,e,s=!1){const r=NA(i.pendingWriteTree_,e);if(AA(i.pendingWriteTree_,e)){let c=new Me(null);return r.snap!=null?c=c.set(we(),!0):Dt(r.children,d=>{c=c.set(new Ae(d),!0)}),_l(i,new oc(r.path,c,s))}else return[]}function kc(i,e,s){return _l(i,new ys(jf(),e,s))}function dO(i,e,s){const r=Me.fromObject(s);return _l(i,new sl(jf(),e,r))}function hO(i,e){return _l(i,new il(jf(),e))}function fO(i,e,s){const r=Gf(i,s);if(r){const l=Yf(r),c=l.path,d=l.queryId,f=Nt(c,e),m=new il(Pf(d),f);return $f(i,c,m)}else return[]}function $h(i,e,s,r,l=!1){const c=e._path,d=i.syncPointTree_.get(c);let f=[];if(d&&(e._queryIdentifier==="default"||Cb(d,e))){const m=lO(d,e,s,r);sO(d)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const p=m.removed;if(f=m.events,!l){const y=p.findIndex(b=>b._queryParams.loadsAllData())!==-1,E=i.syncPointTree_.findOnPath(c,(b,w)=>ji(w));if(y&&!E){const b=i.syncPointTree_.subtree(c);if(!b.isEmpty()){const w=gO(b);for(let C=0;C<w.length;++C){const D=w[C],k=D.query,L=Ab(i,D);i.listenProvider_.startListening($a(k),mc(i,k),L.hashFn,L.onComplete)}}}!E&&p.length>0&&!r&&(y?i.listenProvider_.stopListening($a(e),null):p.forEach(b=>{const w=i.queryToTagMap.get(Lc(b));i.listenProvider_.stopListening($a(b),w)}))}_O(i,p)}return f}function mO(i,e,s,r){const l=Gf(i,r);if(l!=null){const c=Yf(l),d=c.path,f=c.queryId,m=Nt(d,e),p=new ys(Pf(f),m,s);return $f(i,d,p)}else return[]}function pO(i,e,s,r){const l=Gf(i,r);if(l){const c=Yf(l),d=c.path,f=c.queryId,m=Nt(d,e),p=Me.fromObject(s),y=new sl(Pf(f),m,p);return $f(i,d,y)}else return[]}function cv(i,e,s,r=!1){const l=e._path;let c=null,d=!1;i.syncPointTree_.foreachOnPath(l,(b,w)=>{const C=Nt(b,l);c=c||gr(w,C),d=d||ji(w)});let f=i.syncPointTree_.get(l);f?(d=d||ji(f),c=c||gr(f,we())):(f=new tO,i.syncPointTree_=i.syncPointTree_.set(l,f));let m;c!=null?m=!0:(m=!1,c=se.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((w,C)=>{const D=gr(C,we());D&&(c=c.updateImmediateChild(w,D))}));const p=Cb(f,e);if(!p&&!e._queryParams.loadsAllData()){const b=Lc(e);V(!i.queryToTagMap.has(b),"View does not exist, but we have a tag");const w=yO();i.queryToTagMap.set(b,w),i.tagToQueryMap.set(w,b)}const y=zf(i.pendingWriteTree_,l);let E=aO(f,e,s,y,c,m);if(!p&&!d&&!r){const b=xb(f,e);E=E.concat(vO(i,e,b))}return E}function Mc(i,e,s){const l=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(e,(d,f)=>{const m=Nt(d,e),p=gr(f,m);if(p)return p});return yb(l,e,c,s,!0)}function _l(i,e){return Rb(e,i.syncPointTree_,null,zf(i.pendingWriteTree_,we()))}function Rb(i,e,s,r){if(pe(i.path))return Nb(i,e,s,r);{const l=e.get(we());s==null&&l!=null&&(s=gr(l,we()));let c=[];const d=he(i.path),f=i.operationForChild(d),m=e.children.get(d);if(m&&f){const p=s?s.getImmediateChild(d):null,y=vb(r,d);c=c.concat(Rb(f,m,p,y))}return l&&(c=c.concat(Vf(l,i,r,s))),c}}function Nb(i,e,s,r){const l=e.get(we());s==null&&l!=null&&(s=gr(l,we()));let c=[];return e.children.inorderTraversal((d,f)=>{const m=s?s.getImmediateChild(d):null,p=vb(r,d),y=i.operationForChild(d);y&&(c=c.concat(Nb(y,f,m,p)))}),l&&(c=c.concat(Vf(l,i,r,s))),c}function Ab(i,e){const s=e.query,r=mc(i,s);return{hashFn:()=>(XA(e)||se.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return r?fO(i,s._path,r):hO(i,s._path);{const c=mN(l,s);return $h(i,s,null,c)}}}}function mc(i,e){const s=Lc(e);return i.queryToTagMap.get(s)}function Lc(i){return i._path.toString()+"$"+i._queryIdentifier}function Gf(i,e){return i.tagToQueryMap.get(e)}function Yf(i){const e=i.indexOf("$");return V(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Ae(i.substr(0,e))}}function $f(i,e,s){const r=i.syncPointTree_.get(e);V(r,"Missing sync point for query tag that we're tracking");const l=zf(i.pendingWriteTree_,e);return Vf(r,s,l,null)}function gO(i){return i.fold((e,s,r)=>{if(s&&ji(s))return[Ic(s)];{let l=[];return s&&(l=Tb(s)),Dt(r,(c,d)=>{l=l.concat(d)}),l}})}function $a(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(cO())(i._repo,i._path):i}function _O(i,e){for(let s=0;s<e.length;++s){const r=e[s];if(!r._queryParams.loadsAllData()){const l=Lc(r),c=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(c)}}}function yO(){return uO++}function vO(i,e,s){const r=e._path,l=mc(i,e),c=Ab(i,s),d=i.listenProvider_.startListening($a(e),l,c.hashFn,c.onComplete),f=i.syncPointTree_.subtree(r);if(l)V(!ji(f.value),"If we're adding a query, it shouldn't be shadowed");else{const m=f.fold((p,y,E)=>{if(!pe(p)&&y&&ji(y))return[Ic(y).query];{let b=[];return y&&(b=b.concat(Tb(y).map(w=>w.query))),Dt(E,(w,C)=>{b=b.concat(C)}),b}});for(let p=0;p<m.length;++p){const y=m[p];i.listenProvider_.stopListening($a(y),mc(i,y))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.node_=e}getImmediateChild(e){const s=this.node_.getImmediateChild(e);return new Wf(s)}node(){return this.node_}}class Kf{constructor(e,s){this.syncTree_=e,this.path_=s}getImmediateChild(e){const s=tt(this.path_,e);return new Kf(this.syncTree_,s)}node(){return Mc(this.syncTree_,this.path_)}}const bO=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},uv=function(i,e,s){if(!i||typeof i!="object")return i;if(V(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return EO(i[".sv"],e,s);if(typeof i[".sv"]=="object")return SO(i[".sv"],e);V(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},EO=function(i,e,s){switch(i){case"timestamp":return s.timestamp;default:V(!1,"Unexpected server value: "+i)}},SO=function(i,e,s){i.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const r=i.increment;typeof r!="number"&&V(!1,"Unexpected increment value: "+r);const l=e.node();if(V(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return r;const d=l.getValue();return typeof d!="number"?r:d+r},wO=function(i,e,s,r){return Xf(e,new Kf(s,i),r)},Qf=function(i,e,s){return Xf(i,new Wf(e),s)};function Xf(i,e,s){const r=i.getPriority().val(),l=uv(r,e.getImmediateChild(".priority"),s);let c;if(i.isLeafNode()){const d=i,f=uv(d.getValue(),e,s);return f!==d.getValue()||l!==d.getPriority().val()?new at(f,ot(l)):i}else{const d=i;return c=d,l!==d.getPriority().val()&&(c=c.updatePriority(new at(l))),d.forEachChild(ze,(f,m)=>{const p=Xf(m,e.getImmediateChild(f),s);p!==m&&(c=c.updateImmediateChild(f,p))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e="",s=null,r={children:{},childCount:0}){this.name=e,this.parent=s,this.node=r}}function Uc(i,e){let s=e instanceof Ae?e:new Ae(e),r=i,l=he(s);for(;l!==null;){const c=fs(r.node.children,l)||{children:{},childCount:0};r=new Zf(l,r,c),s=ke(s),l=he(s)}return r}function Cs(i){return i.node.value}function Jf(i,e){i.node.value=e,Wh(i)}function Ob(i){return i.node.childCount>0}function TO(i){return Cs(i)===void 0&&!Ob(i)}function jc(i,e){Dt(i.node.children,(s,r)=>{e(new Zf(s,i,r))})}function Db(i,e,s,r){s&&e(i),jc(i,l=>{Db(l,e,!0)})}function xO(i,e,s){let r=i.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function yl(i){return new Ae(i.parent===null?i.name:yl(i.parent)+"/"+i.name)}function Wh(i){i.parent!==null&&CO(i.parent,i.name,i)}function CO(i,e,s){const r=TO(s),l=dn(i.node.children,e);r&&l?(delete i.node.children[e],i.node.childCount--,Wh(i)):!r&&!l&&(i.node.children[e]=s.node,i.node.childCount++,Wh(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=/[\[\].#$\/\u0000-\u001F\u007F]/,NO=/[\[\].#$\u0000-\u001F\u007F]/,wh=10*1024*1024,Ib=function(i){return typeof i=="string"&&i.length!==0&&!RO.test(i)},kb=function(i){return typeof i=="string"&&i.length!==0&&!NO.test(i)},AO=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),kb(i)},OO=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!Rf(i)||i&&typeof i=="object"&&dn(i,".sv")},DO=function(i,e,s,r){Pc(pf(i,"value"),e,s)},Pc=function(i,e,s){const r=s instanceof Ae?new $N(s,i):s;if(e===void 0)throw new Error(i+"contains undefined "+cs(r));if(typeof e=="function")throw new Error(i+"contains a function "+cs(r)+" with contents = "+e.toString());if(Rf(e))throw new Error(i+"contains "+e.toString()+" "+cs(r));if(typeof e=="string"&&e.length>wh/3&&xc(e)>wh)throw new Error(i+"contains a string greater than "+wh+" utf8 bytes "+cs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,c=!1;if(Dt(e,(d,f)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(c=!0,!Ib(d)))throw new Error(i+" contains an invalid key ("+d+") "+cs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);WN(r,d),Pc(i,f,r),KN(r)}),l&&c)throw new Error(i+' contains ".value" child '+cs(r)+" in addition to actual children.")}},Mb=function(i,e,s,r){if(!kb(s))throw new Error(pf(i,e)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IO=function(i,e,s,r){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Mb(i,e,s)},em=function(i,e){if(he(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},kO=function(i,e){const s=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Ib(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!AO(s))throw new Error(pf(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tm(i,e){let s=null;for(let r=0;r<e.length;r++){const l=e[r],c=l.getPath();s!==null&&!If(c,s.path)&&(i.eventLists_.push(s),s=null),s===null&&(s={events:[],path:c}),s.events.push(l)}s&&i.eventLists_.push(s)}function Lb(i,e,s){tm(i,s),Ub(i,r=>If(r,e))}function wn(i,e,s){tm(i,s),Ub(i,r=>rn(r,e)||rn(e,r))}function Ub(i,e){i.recursionDepth_++;let s=!0;for(let r=0;r<i.eventLists_.length;r++){const l=i.eventLists_[r];if(l){const c=l.path;e(c)?(LO(i.eventLists_[r]),i.eventLists_[r]=null):s=!1}}s&&(i.eventLists_=[]),i.recursionDepth_--}function LO(i){for(let e=0;e<i.events.length;e++){const s=i.events[e];if(s!==null){i.events[e]=null;const r=s.getEventRunner();Va&&gt("event: "+s.toString()),Ar(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="repo_interrupt",jO=25;class PO{constructor(e,s,r,l){this.repoInfo_=e,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new MO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lc(),this.transactionQueueTree_=new Zf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zO(i,e,s){if(i.stats_=Of(i.repoInfo_),i.forceRestClient_||yN())i.server_=new ac(i.repoInfo_,(r,l,c,d)=>{dv(i,r,l,c,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>hv(i,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ct(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}i.persistentConnection_=new Yn(i.repoInfo_,e,(r,l,c,d)=>{dv(i,r,l,c,d)},r=>{hv(i,r)},r=>{BO(i,r)},i.authTokenProvider_,i.appCheckProvider_,s),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(r=>{i.server_.refreshAuthToken(r)}),i.appCheckProvider_.addTokenChangeListener(r=>{i.server_.refreshAppCheckToken(r.token)}),i.statsReporter_=wN(i.repoInfo_,()=>new EA(i.stats_,i.server_)),i.infoData_=new gA,i.infoSyncTree_=new ov({startListening:(r,l,c,d)=>{let f=[];const m=i.infoData_.getNode(r._path);return m.isEmpty()||(f=kc(i.infoSyncTree_,r._path,m),setTimeout(()=>{d("ok")},0)),f},stopListening:()=>{}}),nm(i,"connected",!1),i.serverSyncTree_=new ov({startListening:(r,l,c,d)=>(i.server_.listen(r,c,l,(f,m)=>{const p=d(f,m);wn(i.eventQueue_,r._path,p)}),[]),stopListening:(r,l)=>{i.server_.unlisten(r,l)}})}function HO(i){const s=i.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function zc(i){return bO({timestamp:HO(i)})}function dv(i,e,s,r,l){i.dataUpdateCount++;const c=new Ae(e);s=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,s):s;let d=[];if(l)if(r){const m=ec(s,p=>ot(p));d=pO(i.serverSyncTree_,c,m,l)}else{const m=ot(s);d=mO(i.serverSyncTree_,c,m,l)}else if(r){const m=ec(s,p=>ot(p));d=dO(i.serverSyncTree_,c,m)}else{const m=ot(s);d=kc(i.serverSyncTree_,c,m)}let f=c;d.length>0&&(f=qc(i,c)),wn(i.eventQueue_,f,d)}function hv(i,e){nm(i,"connected",e),e===!1&&VO(i)}function BO(i,e){Dt(e,(s,r)=>{nm(i,s,r)})}function nm(i,e,s){const r=new Ae("/.info/"+e),l=ot(s);i.infoData_.updateSnapshot(r,l);const c=kc(i.infoSyncTree_,r,l);wn(i.eventQueue_,r,c)}function im(i){return i.nextWriteId_++}function qO(i,e,s,r,l){Hc(i,"set",{path:e.toString(),value:s,priority:r});const c=zc(i),d=ot(s,r),f=Mc(i.serverSyncTree_,e),m=Qf(d,f,c),p=im(i),y=Ff(i.serverSyncTree_,e,m,p,!0);tm(i.eventQueue_,y),i.server_.put(e.toString(),d.val(!0),(b,w)=>{const C=b==="ok";C||Ot("set at "+e+" failed: "+b);const D=ds(i.serverSyncTree_,p,!C);wn(i.eventQueue_,e,D),$O(i,l,b,w)});const E=Hb(i,e);qc(i,E),wn(i.eventQueue_,E,[])}function VO(i){Hc(i,"onDisconnectEvents");const e=zc(i),s=lc();Bh(i.onDisconnect_,we(),(l,c)=>{const d=wO(l,c,i.serverSyncTree_,e);fb(s,l,d)});let r=[];Bh(s,we(),(l,c)=>{r=r.concat(kc(i.serverSyncTree_,l,c));const d=Hb(i,l);qc(i,d)}),i.onDisconnect_=lc(),wn(i.eventQueue_,we(),r)}function FO(i,e,s){let r;he(e._path)===".info"?r=cv(i.infoSyncTree_,e,s):r=cv(i.serverSyncTree_,e,s),Lb(i.eventQueue_,e._path,r)}function GO(i,e,s){let r;he(e._path)===".info"?r=$h(i.infoSyncTree_,e,s):r=$h(i.serverSyncTree_,e,s),Lb(i.eventQueue_,e._path,r)}function YO(i){i.persistentConnection_&&i.persistentConnection_.interrupt(UO)}function Hc(i,...e){let s="";i.persistentConnection_&&(s=i.persistentConnection_.id+":"),gt(s,...e)}function $O(i,e,s,r){e&&Ar(()=>{if(s==="ok")e(null);else{const l=(s||"error").toUpperCase();let c=l;r&&(c+=": "+r);const d=new Error(c);d.code=l,e(d)}})}function WO(i,e,s,r,l,c){Hc(i,"transaction on "+e);const d={path:e,update:s,onComplete:r,status:null,order:L0(),applyLocally:c,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},f=sm(i,e,void 0);d.currentInputSnapshot=f;const m=d.update(f.val());if(m===void 0)d.unwatcher(),d.currentOutputSnapshotRaw=null,d.currentOutputSnapshotResolved=null,d.onComplete&&d.onComplete(null,!1,d.currentInputSnapshot);else{Pc("transaction failed: Data returned ",m,d.path),d.status=0;const p=Uc(i.transactionQueueTree_,e),y=Cs(p)||[];y.push(d),Jf(p,y);let E;typeof m=="object"&&m!==null&&dn(m,".priority")?(E=fs(m,".priority"),V(OO(E),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):E=(Mc(i.serverSyncTree_,e)||se.EMPTY_NODE).getPriority().val();const b=zc(i),w=ot(m,E),C=Qf(w,f,b);d.currentOutputSnapshotRaw=w,d.currentOutputSnapshotResolved=C,d.currentWriteId=im(i);const D=Ff(i.serverSyncTree_,e,C,d.currentWriteId,d.applyLocally);wn(i.eventQueue_,e,D),Bc(i,i.transactionQueueTree_)}}function sm(i,e,s){return Mc(i.serverSyncTree_,e,s)||se.EMPTY_NODE}function Bc(i,e=i.transactionQueueTree_){if(e||Vc(i,e),Cs(e)){const s=Pb(i,e);V(s.length>0,"Sending zero length transaction queue"),s.every(l=>l.status===0)&&KO(i,yl(e),s)}else Ob(e)&&jc(e,s=>{Bc(i,s)})}function KO(i,e,s){const r=s.map(p=>p.currentWriteId),l=sm(i,e,r);let c=l;const d=l.hash();for(let p=0;p<s.length;p++){const y=s[p];V(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const E=Nt(e,y.path);c=c.updateChild(E,y.currentOutputSnapshotRaw)}const f=c.val(!0),m=e;i.server_.put(m.toString(),f,p=>{Hc(i,"transaction put response",{path:m.toString(),status:p});let y=[];if(p==="ok"){const E=[];for(let b=0;b<s.length;b++)s[b].status=2,y=y.concat(ds(i.serverSyncTree_,s[b].currentWriteId)),s[b].onComplete&&E.push(()=>s[b].onComplete(null,!0,s[b].currentOutputSnapshotResolved)),s[b].unwatcher();Vc(i,Uc(i.transactionQueueTree_,e)),Bc(i,i.transactionQueueTree_),wn(i.eventQueue_,e,y);for(let b=0;b<E.length;b++)Ar(E[b])}else{if(p==="datastale")for(let E=0;E<s.length;E++)s[E].status===3?s[E].status=4:s[E].status=0;else{Ot("transaction at "+m.toString()+" failed: "+p);for(let E=0;E<s.length;E++)s[E].status=4,s[E].abortReason=p}qc(i,e)}},d)}function qc(i,e){const s=jb(i,e),r=yl(s),l=Pb(i,s);return QO(i,l,r),r}function QO(i,e,s){if(e.length===0)return;const r=[];let l=[];const d=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const m=e[f],p=Nt(s,m.path);let y=!1,E;if(V(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,E=m.abortReason,l=l.concat(ds(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=jO)y=!0,E="maxretry",l=l.concat(ds(i.serverSyncTree_,m.currentWriteId,!0));else{const b=sm(i,m.path,d);m.currentInputSnapshot=b;const w=e[f].update(b.val());if(w!==void 0){Pc("transaction failed: Data returned ",w,m.path);let C=ot(w);typeof w=="object"&&w!=null&&dn(w,".priority")||(C=C.updatePriority(b.getPriority()));const k=m.currentWriteId,L=zc(i),P=Qf(C,b,L);m.currentOutputSnapshotRaw=C,m.currentOutputSnapshotResolved=P,m.currentWriteId=im(i),d.splice(d.indexOf(k),1),l=l.concat(Ff(i.serverSyncTree_,m.path,P,m.currentWriteId,m.applyLocally)),l=l.concat(ds(i.serverSyncTree_,k,!0))}else y=!0,E="nodata",l=l.concat(ds(i.serverSyncTree_,m.currentWriteId,!0))}wn(i.eventQueue_,s,l),l=[],y&&(e[f].status=2,function(b){setTimeout(b,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(E==="nodata"?r.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):r.push(()=>e[f].onComplete(new Error(E),!1,null))))}Vc(i,i.transactionQueueTree_);for(let f=0;f<r.length;f++)Ar(r[f]);Bc(i,i.transactionQueueTree_)}function jb(i,e){let s,r=i.transactionQueueTree_;for(s=he(e);s!==null&&Cs(r)===void 0;)r=Uc(r,s),e=ke(e),s=he(e);return r}function Pb(i,e){const s=[];return zb(i,e,s),s.sort((r,l)=>r.order-l.order),s}function zb(i,e,s){const r=Cs(e);if(r)for(let l=0;l<r.length;l++)s.push(r[l]);jc(e,l=>{zb(i,l,s)})}function Vc(i,e){const s=Cs(e);if(s){let r=0;for(let l=0;l<s.length;l++)s[l].status!==2&&(s[r]=s[l],r++);s.length=r,Jf(e,s.length>0?s:void 0)}jc(e,r=>{Vc(i,r)})}function Hb(i,e){const s=yl(jb(i,e)),r=Uc(i.transactionQueueTree_,e);return xO(r,l=>{Th(i,l)}),Th(i,r),Db(r,l=>{Th(i,l)}),s}function Th(i,e){const s=Cs(e);if(s){const r=[];let l=[],c=-1;for(let d=0;d<s.length;d++)s[d].status===3||(s[d].status===1?(V(c===d-1,"All SENT items should be at beginning of queue."),c=d,s[d].status=3,s[d].abortReason="set"):(V(s[d].status===0,"Unexpected transaction status in abort"),s[d].unwatcher(),l=l.concat(ds(i.serverSyncTree_,s[d].currentWriteId,!0)),s[d].onComplete&&r.push(s[d].onComplete.bind(null,new Error("set"),!1,null))));c===-1?Jf(e,void 0):s.length=c+1,wn(i.eventQueue_,yl(e),l);for(let d=0;d<r.length;d++)Ar(r[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(i){let e="";const s=i.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let l=s[r];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function ZO(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const s of i.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ot(`Invalid query segment '${s}' in query '${i}'`)}return e}const fv=function(i,e){const s=JO(i),r=s.namespace;s.domain==="firebase.com"&&Wn(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&Wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||cN();const l=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new W0(s.host,s.secure,r,l,e,"",r!==s.subdomain),path:new Ae(s.pathString)}},JO=function(i){let e="",s="",r="",l="",c="",d=!0,f="https",m=443;if(typeof i=="string"){let p=i.indexOf("//");p>=0&&(f=i.substring(0,p-1),i=i.substring(p+2));let y=i.indexOf("/");y===-1&&(y=i.length);let E=i.indexOf("?");E===-1&&(E=i.length),e=i.substring(0,Math.min(y,E)),y<E&&(l=XO(i.substring(y,E)));const b=ZO(i.substring(Math.min(i.length,E)));p=e.indexOf(":"),p>=0?(d=f==="https"||f==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const w=e.slice(0,p);if(w.toLowerCase()==="localhost")s="localhost";else if(w.split(".").length<=2)s=w;else{const C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),s=e.substring(C+1),c=r}"ns"in b&&(c=b.ns)}return{host:e,port:m,domain:s,subdomain:r,secure:d,scheme:f,pathString:l,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,s,r,l){this.eventType=e,this.eventRegistration=s,this.snapshot=r,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ct(this.snapshot.exportVal())}}class t2{constructor(e,s,r){this.eventRegistration=e,this.error=s,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,s){this.snapshotCallback=e,this.cancelCallback=s}onValue(e,s){this.snapshotCallback.call(null,e,s)}onCancel(e){return V(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,s,r,l){this._repo=e,this._path=s,this._queryParams=r,this._orderByCalled=l}get key(){return pe(this._path)?null:ib(this._path)}get ref(){return new Jn(this._repo,this._path)}get _queryIdentifier(){const e=Xy(this._queryParams),s=Nf(e);return s==="{}"?"default":s}get _queryObject(){return Xy(this._queryParams)}isEqual(e){if(e=Ye(e),!(e instanceof rm))return!1;const s=this._repo===e._repo,r=If(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return s&&r&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+YN(this._path)}}class Jn extends rm{constructor(e,s){super(e,s,new Uf,!1)}get parent(){const e=rb(this._path);return e===null?null:new Jn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class rl{constructor(e,s,r){this._node=e,this.ref=s,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const s=new Ae(e),r=Kh(this.ref,e);return new rl(this._node.getChild(s),r,ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,l)=>e(new rl(l,Kh(this.ref,r),ze)))}hasChild(e){const s=new Ae(e);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pc(i,e){return i=Ye(i),i._checkNotDeleted("ref"),e!==void 0?Kh(i._root,e):i._root}function Kh(i,e){return i=Ye(i),he(i._path)===null?IO("child","path",e):Mb("child","path",e),new Jn(i._repo,tt(i._path,e))}function i2(i){return em("remove",i._path),s2(i,null)}function s2(i,e){i=Ye(i),em("set",i._path),DO("set",e,i._path);const s=new dl;return qO(i._repo,i._path,e,null,s.wrapCallback(()=>{})),s.promise}class am{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,s){const r=s._queryParams.getIndex();return new e2("value",this,new rl(e.snapshotNode,new Jn(s._repo,s._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,s){return this.callbackContext.hasCancelCallback?new t2(this,e,s):null}matches(e){return e instanceof am?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function r2(i,e,s,r,l){const c=new n2(s,void 0),d=new am(c);return FO(i._repo,i,d),()=>GO(i._repo,i,d)}function lm(i,e,s,r){return r2(i,"value",e)}nO(Jn);oO(Jn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="FIREBASE_DATABASE_EMULATOR_HOST",Qh={};let l2=!1;function o2(i,e,s,r){const l=e.lastIndexOf(":"),c=e.substring(0,l),d=ws(c);i.repoInfo_=new W0(e,d,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,s),r&&(i.authTokenProvider_=r)}function c2(i,e,s,r,l){let c=r||i.options.databaseURL;c===void 0&&(i.options.projectId||Wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=fv(c,l),f=d.repoInfo,m;typeof process<"u"&&ky&&(m=ky[a2]),m?(c=`http://${m}?ns=${f.namespace}`,d=fv(c,l),f=d.repoInfo):d.repoInfo.secure;const p=new bN(i.name,i.options,e);kO("Invalid Firebase Database URL",d),pe(d.path)||Wn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=d2(f,i,p,new vN(i,s));return new h2(y,i)}function u2(i,e){const s=Qh[e];(!s||s[i.key]!==i)&&Wn(`Database ${e}(${i.repoInfo_}) has already been deleted.`),YO(i),delete s[i.key]}function d2(i,e,s,r){let l=Qh[e.name];l||(l={},Qh[e.name]=l);let c=l[i.toURLString()];return c&&Wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new PO(i,l2,s,r),l[i.toURLString()]=c,c}class h2{constructor(e,s){this._repoInternal=e,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jn(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(u2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Wn("Cannot call "+e+" on a deleted database.")}}function Bb(i=yf(),e){const s=Cc(i,"database").getImmediate({identifier:e});if(!s._instanceStarted){const r=o0("database");r&&f2(s,...r)}return s}function f2(i,e,s,r={}){i=Ye(i),i._checkNotDeleted("useEmulator");const l=`${e}:${s}`,c=i._repoInternal;if(i._instanceStarted){if(l===i._repoInternal.repoInfo_.host&&ms(r,c.repoInfo_.emulatorOptions))return;Wn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(c.repoInfo_.nodeAdmin)r.mockUserToken&&Wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Go(Go.OWNER);else if(r.mockUserToken){const f=typeof r.mockUserToken=="string"?r.mockUserToken:d0(r.mockUserToken,i.app.options.projectId);d=new Go(f)}ws(e)&&(hf(e),ff("Database",!0)),o2(c,l,r,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(i){sN(Ts),ps(new Li("database",(e,{instanceIdentifier:s})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return c2(r,l,c,s)},"PUBLIC").setMultipleInstances(!0)),bn(My,Ly,i),bn(My,Ly,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,s){this.committed=e,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function g2(i,e,s){var r;if(i=Ye(i),em("Reference.transaction",i._path),i.key===".length"||i.key===".keys")throw"Reference.transaction failed: "+i.key+" is a read-only object.";const l=(r=void 0)!==null&&r!==void 0?r:!0,c=new dl,d=(m,p,y)=>{let E=null;m?c.reject(m):(E=new rl(y,new Jn(i._repo,i._path),ze),c.resolve(new p2(p,E)))},f=lm(i,()=>{});return WO(i._repo,i._path,e,d,f,l),c.promise}Yn.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Yn.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};m2();const _2={apiKey:"AIzaSyAafDSvuHq7bb9F3-SdVpwM2NTNNtymT_o",authDomain:"nailsbydani-6082b.firebaseapp.com",databaseURL:"https://nailsbydani-6082b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nailsbydani-6082b",storageBucket:"nailsbydani-6082b.firebasestorage.app",messagingSenderId:"438345951991",appId:"1:438345951991:web:335b18a1bca6fa1a75c1f2",measurementId:"G-6R161TJXN6"},qb=Rc(_2),mv=Bb(qb),pv=Cf(qb),y2=({design:i,index:e,imageURL:s,favorites:r,likesMap:l,handleHeartClick:c,openLightbox:d})=>{const[f,m]=N.useState(!1),[p,y]=N.useState(!1),[E,b]=N.useState({width:0,height:0}),w=L=>{m(!0),b({width:L.target.naturalWidth,height:L.target.naturalHeight})},C=()=>{y(!0),m(!0)},k=(()=>{if(!f||p||!E.width||!E.height)return 300;const L=300,P=E.height/E.width;let M=L*P;const G=Math.random()*40-20;return M+=G,Math.max(200,Math.min(500,M))})();return _.jsx("div",{className:"group cursor-pointer break-inside-avoid mb-3 lg:mb-6",style:{animationDelay:`${e*50}ms`,animation:"fadeInUp 0.6s ease-out forwards"},children:_.jsxs("div",{className:"relative bg-white hover:border-black transition-all duration-300 overflow-hidden",children:[_.jsxs("div",{className:"relative overflow-hidden",style:{height:f?"auto":`${k}px`},children:[!f&&_.jsx("div",{className:"w-full bg-gradient-to-br from-stone-300 via-stone-200 to-stone-300 animate-pulse",style:{height:`${k}px`},children:_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-stone-300 to-transparent animate-shimmer transform -skew-x-12 w-full h-full"})}),s&&_.jsx("img",{src:s,alt:i.title,className:`w-full h-auto object-cover transition-all duration-500 group-hover:scale-105 ${f?"opacity-100":"opacity-0 absolute inset-0"}`,loading:"lazy",onLoad:w,onError:C,onClick:()=>d(i),style:f?{}:{height:`${k}px`}}),p&&_.jsx("div",{className:"w-full bg-stone-100 flex items-center justify-center",style:{height:`${k}px`},children:_.jsxs("div",{className:"text-stone-400 text-center",children:[_.jsx("div",{className:"text-2xl mb-2",children:"✨"}),_.jsxs("div",{className:"text-xs",children:["Design #",i.id]})]})}),f&&!p&&_.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center",children:_.jsxs("div",{className:"flex space-x-3",children:[_.jsx("button",{onClick:L=>c(i.id,L),className:`p-3 rounded-full transition-all duration-200 ${r.has(i.id)?"bg-white text-black":"bg-white/20 text-white hover:bg-white hover:text-black"}`,children:_.jsx(Ah,{size:18,fill:r.has(i.id)?"currentColor":"none"})}),_.jsx("button",{onClick:L=>d(i,L),className:"p-3 rounded-full bg-white/20 text-white hover:bg-white hover:text-black transition-all duration-200",children:_.jsx(n0,{size:18})})]})})]}),_.jsx("div",{className:"pt-3"})]})})};function v2(){const[i,e]=N.useState("all"),[s,r]=N.useState(null),[l,c]=N.useState(12),[d,f]=N.useState(()=>{try{const Q=window.localStorage.getItem("likedDesigns");return Q?new Set(JSON.parse(Q)):new Set}catch{return new Set}}),[m,p]=N.useState({}),[y,E]=N.useState(!1),[b,w]=N.useState({}),C=[{id:1,title:"Classic French",category:"classic",description:"Timeless elegance with clean lines"},{id:2,title:"Nude Sophistication",category:"classic",description:"Minimalist beauty in natural tones"},{id:3,title:"Black & White",category:"classic",description:"Monochrome perfection"},{id:4,title:"Geometric Lines",category:"modern",description:"Contemporary angular design"},{id:5,title:"Abstract Art",category:"artistic",description:"Creative expression on nails"},{id:6,title:"Floral Elegance",category:"feminine",description:"Delicate botanical designs"},{id:7,title:"Bold Statement",category:"bold",description:"Eye-catching dramatic style"},{id:8,title:"Luxury Gold",category:"luxury",description:"Premium metallic accents"},{id:9,title:"Modern Minimal",category:"modern",description:"Clean contemporary aesthetic"},{id:10,title:"Artistic Expression",category:"artistic",description:"Unique creative design"},{id:11,title:"Feminine Touch",category:"feminine",description:"Soft and romantic style"},{id:12,title:"Bold Contrast",category:"bold",description:"High-impact visual design"},{id:13,title:"Luxury Pearl",category:"luxury",description:"Elegant premium finish"},{id:14,title:"Classic Elegance",category:"classic",description:"Traditional refined beauty"}];let D=[];i==="all"?D=C:i==="liked"?D=C.filter(Q=>d.has(Q.id)):D=C.filter(Q=>Q.category===i);const k=D.slice(0,l);N.useEffect(()=>{const Q=pc(mv,"likes"),q=lm(Q,_e=>{const Tt=_e.val()||{};p(Tt),E(!0)});return(async()=>{const _e=k.slice(0,8);for(const Ue of _e){const It=br(pv,`Designs/${Ue.id}.jpg`);try{const Be=await nc(It);w(F=>({...F,[Ue.id]:Be}))}catch(Be){console.error(`Failed to fetch download URL for design ${Ue.id}:`,Be)}}const Tt=C.filter(Ue=>!_e.includes(Ue));for(const Ue of Tt){const It=br(pv,`Designs/${Ue.id}.jpg`);try{const Be=await nc(It);w(F=>({...F,[Ue.id]:Be}))}catch(Be){console.error(`Failed to fetch download URL for design ${Ue.id}:`,Be)}}})(),()=>{q()}},[]);const L=(Q,q)=>{const Z=pc(mv,`likes/${Q}`);g2(Z,_e=>{const Ue=(_e||0)+q;return Ue<0?0:Ue}).catch(_e=>{console.error("Failed to change likes:",_e)})},P=(Q,q)=>{q.stopPropagation(),d.has(Q)?(L(Q,-1),f(Z=>{const _e=new Set(Z);return _e.delete(Q),window.localStorage.setItem("likedDesigns",JSON.stringify(Array.from(_e))),_e})):(L(Q,1),f(Z=>{const _e=new Set(Z);return _e.add(Q),window.localStorage.setItem("likedDesigns",JSON.stringify(Array.from(_e))),_e}))},M=(Q,q)=>{q&&q.stopPropagation(),r(Q)},G=()=>{r(null)},Y=Q=>{const q=D.findIndex(_e=>_e.id===s.id);let Z;Q==="next"?Z=(q+1)%D.length:Z=q-1<0?D.length-1:q-1,r(D[Z])},ee=()=>{c(Q=>Q+8)};return y?_.jsxs("div",{className:"min-h-screen bg-white pt-[70px]",children:[_.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[_.jsx("div",{className:"columns-2 sm:columns-2 lg:columns-3 xl:columns-4 gap-6",children:k.map((Q,q)=>_.jsx(y2,{design:Q,index:q,imageURL:b[Q.id],favorites:d,likesMap:m,handleHeartClick:P,openLightbox:M},Q.id))}),l<D.length&&_.jsx("div",{className:"text-center mt-12",children:_.jsxs("button",{onClick:ee,className:"px-8 py-3 border border-black text-black hover:bg-black hover:text-white transition-all duration-300 font-medium",children:["Load More (",D.length-l," remaining)"]})}),D.length===0&&_.jsx("div",{className:"text-center py-16",children:_.jsxs("div",{className:"text-gray-400 mb-4",children:[_.jsx(Ah,{size:48,className:"mx-auto mb-4"}),_.jsx("h3",{className:"text-lg font-medium mb-2",children:"No designs found"}),_.jsx("p",{className:"text-sm",children:"Try selecting a different category or add some designs to your favorites."})]})})]}),s&&_.jsx("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"relative max-w-4xl w-full",children:[_.jsx("button",{onClick:G,className:"absolute top-0 right-0 text-white hover:text-gray-300 transition-colors duration-200 z-20",children:_.jsx(cf,{size:24})}),_.jsx("button",{onClick:()=>Y("prev"),className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 transition-colors duration-200 bg-black/50 rounded-full p-3 hover:bg-black/70 z-20",children:_.jsx(RT,{size:20})}),_.jsx("button",{onClick:()=>Y("next"),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 transition-colors duration-200 bg-black/50 rounded-full p-3 hover:bg-black/70 z-20",children:_.jsx(ls,{size:20})}),_.jsx("div",{className:"bg-white p-8 mx-auto max-w-2xl",children:_.jsx("img",{src:b[s.id],alt:s.title,className:"w-full h-auto max-h-[70vh] object-contain"})}),_.jsxs("div",{className:"mt-6 text-center",children:[_.jsx("h2",{className:"text-white text-xl font-medium mb-2",children:s.title||`Design #${s.id}`}),_.jsx("p",{className:"text-gray-300 text-sm mb-4",children:s.description}),_.jsx("div",{className:"flex items-center justify-center",children:_.jsxs("button",{onClick:Q=>P(s.id,Q),className:`flex items-center space-x-2 px-4 py-2 rounded transition-colors duration-200 ${d.has(s.id)?"bg-white text-black":"bg-white/20 text-white hover:bg-white hover:text-black"}`,children:[_.jsx(Ah,{size:16,fill:d.has(s.id)?"currentColor":"none"}),_.jsx("span",{className:"text-sm font-medium",children:m[s.id]??0})]})})]})]})}),_.jsx("style",{jsx:!0,children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes shimmer {
          0% {
            transform: translateX(-100%);
          }
          100% {
            transform: translateX(100%);
          }
        }
        
        .animate-shimmer {
          animation: shimmer 2s infinite;
        }
      `})]}):_.jsx("div",{className:"min-h-screen bg-white pt-[70px]",children:_.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:_.jsx("div",{className:"columns-2 sm:columns-2 lg:columns-3 xl:columns-4 gap-6",children:Array.from({length:12}).map((Q,q)=>_.jsx("div",{className:"group cursor-pointer break-inside-avoid mb-3 lg:mb-6",children:_.jsxs("div",{className:"relative bg-white overflow-hidden",children:[_.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-stone-300 via-stone-200 to-stone-300 animate-pulse",style:{height:`${200+Math.random()*200}px`},children:_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent animate-shimmer transform -skew-x-12 w-full h-full"})}),_.jsx("div",{className:"pt-3"})]})},q))})})})}function b2(){const[i,e]=N.useState(null),s=r=>{e(l=>l===r?null:r)};return _.jsx("div",{children:_.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-16","data-aos":"fade-up",children:[_.jsx("h2",{className:"text-3xl font-bodoni-moda text-center text-gray-900 mb-12",children:"Frequently Asked Questions"}),_.jsx("div",{className:"space-y-4",children:I0.map((r,l)=>{const c=i===l;return _.jsxs("div",{className:"w-full bg-white border border-gray-200 overflow-hidden transition-all duration-200 ease-in-out",children:[_.jsxs("button",{onClick:()=>s(l),className:"w-full flex justify-between items-center p-8 transition-colors duration-200",children:[_.jsx("span",{className:"font-bodoni-moda text-xl text-gray-900 text-left",children:r.question}),_.jsx(BT,{size:24,className:`text-black transition-transform duration-200 ease-in-out flex-shrink-0 ml-4 ${c?"rotate-45":""}`})]}),_.jsx("div",{className:`transition-all duration-300 ease-in-out ${c?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"}`,style:{maxHeight:c?"fit-content":"0px",overflow:c?"visible":"hidden"},children:_.jsx("div",{className:"px-8 pb-8",children:_.jsx("p",{className:"text-gray-600/70 font-montserrat leading-relaxed text-sm",children:r.answer})})})]},l)})})]})})}function om(i,e){var s={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(s[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(i);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(i,r[l])&&(s[r[l]]=i[r[l]]);return s}function Vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const E2=Vb,Fb=new hl("auth","Firebase",Vb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new gf("@firebase/auth");function S2(i,...e){gc.logLevel<=Re.WARN&&gc.warn(`Auth (${Ts}): ${i}`,...e)}function Yo(i,...e){gc.logLevel<=Re.ERROR&&gc.error(`Auth (${Ts}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(i,...e){throw cm(i,...e)}function En(i,...e){return cm(i,...e)}function Gb(i,e,s){const r=Object.assign(Object.assign({},E2()),{[e]:s});return new hl("auth","Firebase",r).create(e,{appName:i.name})}function ki(i){return Gb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cm(i,...e){if(typeof i!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(s,...r)}return Fb.create(i,...e)}function ie(i,e,...s){if(!i)throw cm(e,...s)}function Vn(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Yo(e),new Error(e)}function Kn(i,e){i||Vn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function w2(){return gv()==="http:"||gv()==="https:"}function gv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w2()||lx()||"connection"in navigator)?navigator.onLine:!0}function x2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,s){this.shortDelay=e,this.longDelay=s,Kn(s>e,"Short delay should be less than long delay!"),this.isMobile=mf()||h0()}get(){return T2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(i,e){Kn(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],N2=new vl(3e4,6e4);function Rs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Pi(i,e,s,r,l={}){return $b(i,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const f=Rr(Object.assign({key:i.config.apiKey},d)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:m},c);return ax()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&ws(i.emulatorConfig.host)&&(p.credentials="include"),Yb.fetch()(await Wb(i,i.config.apiHost,s,f),p)})}async function $b(i,e,s){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},C2),e);try{const l=new O2(i),c=await Promise.race([s(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw qo(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw qo(i,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw qo(i,"email-already-in-use",d);if(m==="USER_DISABLED")throw qo(i,"user-disabled",d);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Gb(i,y,p);un(i,y)}}catch(l){if(l instanceof Zn)throw l;un(i,"network-request-failed",{message:String(l)})}}async function Fc(i,e,s,r,l={}){const c=await Pi(i,e,s,r,l);return"mfaPendingCredential"in c&&un(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Wb(i,e,s,r){const l=`${e}${s}?${r}`,c=i,d=c.config.emulator?um(i.config,l):`${i.config.apiScheme}://${l}`;return R2.includes(s)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function A2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(En(this.auth,"network-request-failed")),N2.get())})}}function qo(i,e,s){const r={appName:i.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const l=En(i,e,r);return l.customData._tokenResponse=s,l}function _v(i){return i!==void 0&&i.enterprise!==void 0}class D2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return A2(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function I2(i,e){return Pi(i,"GET","/v2/recaptchaConfig",Rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(i,e){return Pi(i,"POST","/v1/accounts:delete",e)}async function _c(i,e){return Pi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M2(i,e=!1){const s=Ye(i),r=await s.getIdToken(e),l=dm(r);ie(l&&l.exp&&l.auth_time&&l.iat,s.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:r,authTime:Wa(xh(l.auth_time)),issuedAtTime:Wa(xh(l.iat)),expirationTime:Wa(xh(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function xh(i){return Number(i)*1e3}function dm(i){const[e,s,r]=i.split(".");if(e===void 0||s===void 0||r===void 0)return Yo("JWT malformed, contained fewer than 3 sections"),null;try{const l=Jo(s);return l?JSON.parse(l):(Yo("Failed to decode base64 JWT payload"),null)}catch(l){return Yo("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function yv(i){const e=dm(i);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(i,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof Zn&&L2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function L2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var s;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const l=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wa(this.lastLoginAt),this.creationTime=Wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(i){var e;const s=i.auth,r=await i.getIdToken(),l=await al(i,_c(s,{idToken:r}));ie(l==null?void 0:l.users.length,s,"internal-error");const c=l.users[0];i._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?Kb(c.providerUserInfo):[],f=P2(i.providerData,d),m=i.isAnonymous,p=!(i.email&&c.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,E={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:f,metadata:new Zh(c.createdAt,c.lastLoginAt),isAnonymous:y};Object.assign(i,E)}async function j2(i){const e=Ye(i);await yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function P2(i,e){return[...i.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Kb(i){return i.map(e=>{var{providerId:s}=e,r=om(e,["providerId"]);return{providerId:s,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(i,e){const s=await $b(i,{},async()=>{const r=Rr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,d=await Wb(i,l,"/v1/token",`key=${c}`),f=await i._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Yb.fetch()(d,{method:"POST",headers:f,body:r})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function H2(i,e){return Pi(i,"POST","/v2/accounts:revokeToken",Rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const s=yv(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:l,expiresIn:c}=await z2(e,s);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:l,expirationTime:c}=s,d=new _r;return r&&(ie(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(ie(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ie(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _r,this.toJSON())}_performRefresh(){return Vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(i,e){ie(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ln{constructor(e){var{uid:s,auth:r,stsTokenManager:l}=e,c=om(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=r,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Zh(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const s=await al(this,this.stsTokenManager.getToken(this.auth,e));return ie(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return M2(this,e)}reload(){return j2(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>Object.assign({},s)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new ln(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await yc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zt(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await al(this,k2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){var r,l,c,d,f,m,p,y;const E=(r=s.displayName)!==null&&r!==void 0?r:void 0,b=(l=s.email)!==null&&l!==void 0?l:void 0,w=(c=s.phoneNumber)!==null&&c!==void 0?c:void 0,C=(d=s.photoURL)!==null&&d!==void 0?d:void 0,D=(f=s.tenantId)!==null&&f!==void 0?f:void 0,k=(m=s._redirectEventId)!==null&&m!==void 0?m:void 0,L=(p=s.createdAt)!==null&&p!==void 0?p:void 0,P=(y=s.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:M,emailVerified:G,isAnonymous:Y,providerData:ee,stsTokenManager:be}=s;ie(M&&be,e,"internal-error");const Q=_r.fromJSON(this.name,be);ie(typeof M=="string",e,"internal-error"),Ti(E,e.name),Ti(b,e.name),ie(typeof G=="boolean",e,"internal-error"),ie(typeof Y=="boolean",e,"internal-error"),Ti(w,e.name),Ti(C,e.name),Ti(D,e.name),Ti(k,e.name),Ti(L,e.name),Ti(P,e.name);const q=new ln({uid:M,auth:e,email:b,emailVerified:G,displayName:E,isAnonymous:Y,photoURL:C,phoneNumber:w,tenantId:D,stsTokenManager:Q,createdAt:L,lastLoginAt:P});return ee&&Array.isArray(ee)&&(q.providerData=ee.map(Z=>Object.assign({},Z))),k&&(q._redirectEventId=k),q}static async _fromIdTokenResponse(e,s,r=!1){const l=new _r;l.updateFromServerResponse(s);const c=new ln({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await yc(c),c}static async _fromGetAccountInfoResponse(e,s,r){const l=s.users[0];ie(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Kb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),f=new _r;f.updateFromIdToken(r);const m=new ln({uid:l.localId,auth:e,stsTokenManager:f,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Zh(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Map;function Fn(i){Kn(i instanceof Function,"Expected a class definition");let e=vv.get(i);return e?(Kn(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,vv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}Qb.type="NONE";const Jh=Qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(i,e,s){return`firebase:${i}:${e}:${s}`}class yr{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=$o(this.userKey,l.apiKey,c),this.fullPersistenceKey=$o("persistence",l.apiKey,c),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await _c(this.auth,{idToken:e}).catch(()=>{});return s?ln._fromGetAccountInfoResponse(this.auth,s,e):null}return ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new yr(Fn(Jh),e,r);const l=(await Promise.all(s.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=l[0]||Fn(Jh);const d=$o(r,e.config.apiKey,e.name);let f=null;for(const p of s)try{const y=await p._get(d);if(y){let E;if(typeof y=="string"){const b=await _c(e,{idToken:y}).catch(()=>{});if(!b)break;E=await ln._fromGetAccountInfoResponse(e,b,y)}else E=ln._fromJSON(e,y);p!==c&&(f=E),c=p;break}}catch{}const m=l.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new yr(c,e,r):(c=m[0],f&&await c._set(d,f.toJSON()),await Promise.all(s.map(async p=>{if(p!==c)try{await p._remove(d)}catch{}})),new yr(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nE(e))return"Blackberry";if(iE(e))return"Webos";if(Zb(e))return"Safari";if((e.includes("chrome/")||Jb(e))&&!e.includes("edge/"))return"Chrome";if(tE(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Xb(i=St()){return/firefox\//i.test(i)}function Zb(i=St()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jb(i=St()){return/crios\//i.test(i)}function eE(i=St()){return/iemobile/i.test(i)}function tE(i=St()){return/android/i.test(i)}function nE(i=St()){return/blackberry/i.test(i)}function iE(i=St()){return/webos/i.test(i)}function hm(i=St()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function B2(i=St()){var e;return hm(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function q2(){return ox()&&document.documentMode===10}function sE(i=St()){return hm(i)||tE(i)||iE(i)||nE(i)||/windows phone/i.test(i)||eE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(i,e=[]){let s;switch(i){case"Browser":s=bv(St());break;case"Worker":s=`${bv(St())}-${i}`;break;default:s=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${Ts}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=c=>new Promise((d,f)=>{try{const m=e(c);d(m)}catch(m){f(m)}});r.onAbort=s,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const l of s)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(i,e={}){return Pi(i,"GET","/v2/passwordPolicy",Rs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=6;class Y2{constructor(e){var s,r,l,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=d.minPasswordLength)!==null&&s!==void 0?s:G2,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var s,r,l,c,d,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(s=m.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(l=m.containsLowercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsUppercaseLetter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNumericCharacter)!==null&&d!==void 0?d:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),l&&(s.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,s,r,l){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new V2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Fn(s)),this._initializationPromise=this.queue(async()=>{var r,l,c;if(!this._deleted&&(this.persistenceManager=await yr.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await _c(this,{idToken:e}),r=await ln._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Zt(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let l=r,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,f=l==null?void 0:l._redirectEventId,m=await this.tryRedirectSignIn(e);(!d||d===f)&&(m!=null&&m.user)&&(l=m.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await yc(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zt(this.app))return Promise.reject(ki(this));const s=e?Ye(e):null;return s&&ie(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zt(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zt(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F2(this),s=new Y2(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hl("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await H2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Fn(e)||this._popupRedirectResolver;ie(s,this,"argument-error"),this.redirectPersistenceManager=await yr.create(this,[Fn(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(s=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,l){if(this._deleted)return()=>{};const c=typeof s=="function"?s:s.next.bind(s);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),typeof s=="function"){const m=e.addObserver(s,r,l);return()=>{d=!0,m()}}else{const m=e.addObserver(s);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(s["X-Firebase-Client"]=r);const l=await this._getAppCheckToken();return l&&(s["X-Firebase-AppCheck"]=l),s}async _getAppCheckToken(){var e;if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return s!=null&&s.error&&S2(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function Or(i){return Ye(i)}class Ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=yx(s=>this.observer=s)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W2(i){Gc=i}function aE(i){return Gc.loadJS(i)}function K2(){return Gc.recaptchaEnterpriseScript}function Q2(){return Gc.gapiScript}function X2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Z2{constructor(){this.enterprise=new J2}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class J2{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}const eD="recaptcha-enterprise",lE="NO_RECAPTCHA";class tD{constructor(e){this.type=eD,this.auth=Or(e)}async verify(e="verify",s=!1){async function r(c){if(!s){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,f)=>{I2(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new D2(m);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,d(p.siteKey)}}).catch(m=>{f(m)})})}function l(c,d,f){const m=window.grecaptcha;_v(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(p=>{d(p)}).catch(()=>{d(lE)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Z2().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(f=>{if(!s&&_v(window.grecaptcha))l(f,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=K2();m.length!==0&&(m+=f),aE(m).then(()=>{l(f,c,d)}).catch(p=>{d(p)})}}).catch(f=>{d(f)})})}}async function Sv(i,e,s,r=!1,l=!1){const c=new tD(i);let d;if(l)d=lE;else try{d=await c.verify(s)}catch{d=await c.verify(s,!0)}const f=Object.assign({},e);if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function wv(i,e,s,r,l){var c;if(!((c=i._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Sv(i,e,s,s==="getOobCode");return r(i,d)}else return r(i,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Sv(i,e,s,s==="getOobCode");return r(i,f)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(i,e){const s=Cc(i,"auth");if(s.isInitialized()){const l=s.getImmediate(),c=s.getOptions();if(ms(c,e??{}))return l;un(l,"already-initialized")}return s.initialize({options:e})}function iD(i,e){const s=(e==null?void 0:e.persistence)||[],r=(Array.isArray(s)?s:[s]).map(Fn);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function sD(i,e,s){const r=Or(i);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=oE(e),{host:d,port:f}=rD(e),m=f===null?"":`:${f}`,p={url:`${c}//${d}${m}/`},y=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(ms(p,r.config.emulator)&&ms(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,ws(d)?(hf(`${c}//${d}${m}`),ff("Auth",!0)):aD()}function oE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function rD(i){const e=oE(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Tv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Tv(d)}}}function Tv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function aD(){function i(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Vn("not implemented")}_getIdTokenResponse(e){return Vn("not implemented")}_linkToIdToken(e,s){return Vn("not implemented")}_getReauthenticationResolver(e){return Vn("not implemented")}}async function lD(i,e){return Pi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(i,e){return Fc(i,"POST","/v1/accounts:signInWithPassword",Rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(i,e){return Fc(i,"POST","/v1/accounts:signInWithEmailLink",Rs(i,e))}async function uD(i,e){return Fc(i,"POST","/v1/accounts:signInWithEmailLink",Rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends fm{constructor(e,s,r,l=null){super("password",r),this._email=e,this._password=s,this._tenantId=l}static _fromEmailAndPassword(e,s){return new ll(e,s,"password")}static _fromEmailAndCode(e,s,r=null){return new ll(e,s,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wv(e,s,"signInWithPassword",oD);case"emailLink":return cD(e,{email:this._email,oobCode:this._password});default:un(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":const r={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wv(e,r,"signUpPassword",lD);case"emailLink":return uD(e,{idToken:s,email:this._email,oobCode:this._password});default:un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vr(i,e){return Fc(i,"POST","/v1/accounts:signInWithIdp",Rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="http://localhost";class Es extends fm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):un("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l}=s,c=om(s,["providerId","signInMethod"]);if(!r||!l)return null;const d=new Es(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const s=this.buildRequest();return vr(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,vr(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,vr(e,s)}buildRequest(){const e={requestUri:dD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=Rr(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fD(i){const e=za(Ha(i)).link,s=e?za(Ha(e)).deep_link_id:null,r=za(Ha(i)).deep_link_id;return(r?za(Ha(r)).link:null)||r||s||e||i}class mm{constructor(e){var s,r,l,c,d,f;const m=za(Ha(e)),p=(s=m.apiKey)!==null&&s!==void 0?s:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,E=hD((l=m.mode)!==null&&l!==void 0?l:null);ie(p&&y&&E,"argument-error"),this.apiKey=p,this.operation=E,this.code=y,this.continueUrl=(c=m.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=m.lang)!==null&&d!==void 0?d:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const s=fD(e);try{return new mm(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.providerId=Dr.PROVIDER_ID}static credential(e,s){return ll._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const r=mm.parseLink(s);return ie(r,"argument-error"),ll._fromEmailAndCode(e,r.code,r.tenantId)}}Dr.PROVIDER_ID="password";Dr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends cE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends bl{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return Es._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return Ri.credential(s,r)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends bl{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends bl{constructor(){super("twitter.com")}static credential(e,s){return Es._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return Ai.credential(s,r)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,l=!1){const c=await ln._fromIdTokenResponse(e,r,l),d=xv(r);return new Tr({user:c,providerId:d,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const l=xv(r);return new Tr({user:e,providerId:l,_tokenResponse:r,operationType:s})}}function xv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends Zn{constructor(e,s,r,l){var c;super(s.code,s.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,vc.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,l){return new vc(e,s,r,l)}}function uE(i,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?vc._fromErrorAndOperation(i,c,e,r):c})}async function mD(i,e,s=!1){const r=await al(i,e._linkToIdToken(i.auth,await i.getIdToken()),s);return Tr._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(i,e,s=!1){const{auth:r}=i;if(Zt(r.app))return Promise.reject(ki(r));const l="reauthenticate";try{const c=await al(i,uE(r,l,e,i),s);ie(c.idToken,r,"internal-error");const d=dm(c.idToken);ie(d,r,"internal-error");const{sub:f}=d;return ie(i.uid===f,r,"user-mismatch"),Tr._forOperation(i,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&un(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dE(i,e,s=!1){if(Zt(i.app))return Promise.reject(ki(i));const r="signIn",l=await uE(i,r,e),c=await Tr._fromIdTokenResponse(i,r,l);return s||await i._updateCurrentUser(c.user),c}async function gD(i,e){return dE(Or(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(i){const e=Or(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function yD(i,e,s){return Zt(i.app)?Promise.reject(ki(i)):gD(Ye(i),Dr.credential(e,s)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_D(i),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(i,e){return Ye(i).setPersistence(e)}function bD(i,e,s,r){return Ye(i).onIdTokenChanged(e,s,r)}function ED(i,e,s){return Ye(i).beforeAuthStateChanged(e,s)}function SD(i,e,s,r){return Ye(i).onAuthStateChanged(e,s,r)}function Cv(i){return Ye(i).signOut()}const bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(bc,"1"),this.storage.removeItem(bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=1e3,TD=10;class fE extends hE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),l=this.localCache[s];r!==l&&e(s,l,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((d,f,m)=>{this.notifyListeners(d,m)});return}const r=e.key;s?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!s&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);q2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,TD):l()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},wD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}fE.type="LOCAL";const xD=fE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends hE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}mE.type="SESSION";const pE=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(l=>l.isListeningto(e));if(s)return s;const r=new Yc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:l,data:c}=s.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const f=Array.from(d).map(async p=>p(s.origin,c)),m=await CD(f);s.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:m})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(i="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return i+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((f,m)=>{const p=pm("",20);l.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(E){const b=E;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(b.data.response);break;default:clearTimeout(y),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:s},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return window}function ND(i){Sn().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(){return typeof Sn().WorkerGlobalScope<"u"&&typeof Sn().importScripts=="function"}async function AD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OD(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function DD(){return gE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="firebaseLocalStorageDb",ID=1,Ec="firebaseLocalStorage",yE="fbase_key";class El{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function $c(i,e){return i.transaction([Ec],e?"readwrite":"readonly").objectStore(Ec)}function kD(){const i=indexedDB.deleteDatabase(_E);return new El(i).toPromise()}function ef(){const i=indexedDB.open(_E,ID);return new Promise((e,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Ec,{keyPath:yE})}catch(l){s(l)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Ec)?e(r):(r.close(),await kD(),e(await ef()))})})}async function Rv(i,e,s){const r=$c(i,!0).put({[yE]:e,value:s});return new El(r).toPromise()}async function MD(i,e){const s=$c(i,!1).get(e),r=await new El(s).toPromise();return r===void 0?null:r.value}function Nv(i,e){const s=$c(i,!0).delete(e);return new El(s).toPromise()}const LD=800,UD=3;class vE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ef(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>UD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yc._getInstance(DD()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var e,s;if(this.activeServiceWorker=await AD(),!this.activeServiceWorker)return;this.sender=new RD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((s=r[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ef();return await Rv(e,bc,"1"),await Nv(e,bc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>Rv(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>MD(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>Nv(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=$c(l,!1).getAll();return new El(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),s.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),s.push(l));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vE.type="LOCAL";const jD=vE;new vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(i,e){return e?Fn(e):(ie(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm extends fm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vr(e,this._buildIdpRequest())}_linkToIdToken(e,s){return vr(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return vr(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function zD(i){return dE(i.auth,new gm(i),i.bypassAuthState)}function HD(i){const{auth:e,user:s}=i;return ie(s,e,"internal-error"),pD(s,new gm(i),i.bypassAuthState)}async function BD(i){const{auth:e,user:s}=i;return ie(s,e,"internal-error"),mD(s,new gm(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,s,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:l,tenantId:c,error:d,type:f}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:s,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zD;case"linkViaPopup":case"linkViaRedirect":return BD;case"reauthViaPopup":case"reauthViaRedirect":return HD;default:un(this.auth,"internal-error")}}resolve(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new vl(2e3,1e4);class fr extends bE{constructor(e,s,r,l,c){super(e,s,l,c),this.provider=r,this.authWindow=null,this.pollId=null,fr.currentPopupAction&&fr.currentPopupAction.cancel(),fr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Kn(this.filter.length===1,"Popup operations only handle one event");const e=pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(En(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,r;if(!((r=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qD.get())};e()}}fr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="pendingRedirect",Wo=new Map;class FD extends bE{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=Wo.get(this.auth._key());if(!e){try{const r=await GD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}Wo.set(this.auth._key(),e)}return this.bypassAuthState||Wo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GD(i,e){const s=WD(e),r=$D(i);if(!await r._isAvailable())return!1;const l=await r._get(s)==="true";return await r._remove(s),l}function YD(i,e){Wo.set(i._key(),e)}function $D(i){return Fn(i._redirectPersistence)}function WD(i){return $o(VD,i.config.apiKey,i.name)}async function KD(i,e,s=!1){if(Zt(i.app))return Promise.reject(ki(i));const r=Or(i),l=PD(r,e),d=await new FD(r,l,s).execute();return d&&!s&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=10*60*1e3;class XD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZD(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var r;if(e.error&&!EE(e)){const l=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";s.onError(En(this.auth,l))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Av(e))}saveEventToCache(e){this.cachedEventUids.add(Av(e)),this.lastProcessedEventTime=Date.now()}}function Av(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function EE({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(i,e={}){return Pi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tI=/^https?/;async function nI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await JD(i);for(const s of e)try{if(iI(s))return}catch{}un(i,"unauthorized-domain")}function iI(i){const e=Xh(),{protocol:s,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&d.hostname===r}if(!tI.test(s))return!1;if(eI.test(i))return r===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new vl(3e4,6e4);function Ov(){const i=Sn().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function rI(i){return new Promise((e,s)=>{var r,l,c;function d(){Ov(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ov(),s(En(i,"network-request-failed"))},timeout:sI.get()})}if(!((l=(r=Sn().gapi)===null||r===void 0?void 0:r.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=Sn().gapi)===null||c===void 0)&&c.load)d();else{const f=X2("iframefcb");return Sn()[f]=()=>{gapi.load?d():s(En(i,"network-request-failed"))},aE(`${Q2()}?onload=${f}`).catch(m=>s(m))}}).catch(e=>{throw Ko=null,e})}let Ko=null;function aI(i){return Ko=Ko||rI(i),Ko}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=new vl(5e3,15e3),oI="__/auth/iframe",cI="emulator/auth/iframe",uI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hI(i){const e=i.config;ie(e.authDomain,i,"auth-domain-config-required");const s=e.emulator?um(e,cI):`https://${i.config.authDomain}/${oI}`,r={apiKey:e.apiKey,appName:i.name,v:Ts},l=dI.get(i.config.apiHost);l&&(r.eid=l);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${s}?${Rr(r).slice(1)}`}async function fI(i){const e=await aI(i),s=Sn().gapi;return ie(s,i,"internal-error"),e.open({where:document.body,url:hI(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uI,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=En(i,"network-request-failed"),f=Sn().setTimeout(()=>{c(d)},lI.get());function m(){Sn().clearTimeout(f),l(r)}r.ping(m).then(m,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pI=500,gI=600,_I="_blank",yI="http://localhost";class Dv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vI(i,e,s,r=pI,l=gI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},mI),{width:r.toString(),height:l.toString(),top:c,left:d}),p=St().toLowerCase();s&&(f=Jb(p)?_I:s),Xb(p)&&(e=e||yI,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[w,C])=>`${b}${w}=${C},`,"");if(B2(p)&&f!=="_self")return bI(e||"",f),new Dv(null);const E=window.open(e||"",f,y);ie(E,i,"popup-blocked");try{E.focus()}catch{}return new Dv(E)}function bI(i,e){const s=document.createElement("a");s.href=i,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="__/auth/handler",SI="emulator/auth/handler",wI=encodeURIComponent("fac");async function Iv(i,e,s,r,l,c){ie(i.config.authDomain,i,"auth-domain-config-required"),ie(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:r,v:Ts,eventId:l};if(e instanceof cE){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",Oh(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))d[y]=E}if(e instanceof bl){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(d.scopes=y.join(","))}i.tenantId&&(d.tid=i.tenantId);const f=d;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await i._getAppCheckToken(),p=m?`#${wI}=${encodeURIComponent(m)}`:"";return`${TI(i)}?${Rr(f).slice(1)}${p}`}function TI({config:i}){return i.emulator?um(i,SI):`https://${i.authDomain}/${EI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="webStorageSupport";class xI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=KD,this._overrideRedirectResult=YD}async _openPopup(e,s,r,l){var c;Kn((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Iv(e,s,r,Xh(),l);return vI(e,d,pm())}async _openRedirect(e,s,r,l){await this._originValidation(e);const c=await Iv(e,s,r,Xh(),l);return ND(c),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:l,promise:c}=this.eventManagers[s];return l?Promise.resolve(l):(Kn(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await fI(e),r=new XD(e);return s.register("authEvent",l=>(ie(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Ch,{type:Ch},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Ch];d!==void 0&&s(!!d),un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=nI(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return sE()||Zb()||hm()}}const CI=xI;var kv="@firebase/auth",Mv="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AI(i){ps(new Li("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=r.options;ie(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:d,authDomain:f,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rE(i)},p=new $2(r,l,c,m);return iD(p,s),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),ps(new Li("auth-internal",e=>{const s=Or(e.getProvider("auth").getImmediate());return(r=>new RI(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(kv,Mv,NI(i)),bn(kv,Mv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=5*60,DI=u0("authIdTokenMaxAge")||OI;let Lv=null;const II=i=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>DI)return;const l=s==null?void 0:s.token;Lv!==l&&(Lv=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function kI(i=yf()){const e=Cc(i,"auth");if(e.isInitialized())return e.getImmediate();const s=nD(i,{popupRedirectResolver:CI,persistence:[jD,xD,pE]}),r=u0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=II(c.toString());ED(s,d,()=>d(s.currentUser)),bD(s,f=>d(f))}}const l=l0("auth");return l&&sD(s,`http://${l}`),s}function MI(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}W2({loadJS(i){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=l=>{const c=En("internal-error");c.customData=l,s(c)},r.type="text/javascript",r.charset="UTF-8",MI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AI("Browser");const LI={apiKey:"AIzaSyAafDSvuHq7bb9F3-SdVpwM2NTNNtymT_o",authDomain:"nailsbydani-6082b.firebaseapp.com",databaseURL:"https://nailsbydani-6082b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nailsbydani-6082b",storageBucket:"nailsbydani-6082b.firebasestorage.app",messagingSenderId:"438345951991",appId:"1:438345951991:web:335b18a1bca6fa1a75c1f2",measurementId:"G-6R161TJXN6"},_m=Rc(LI),Pa=kI(_m),Uv=Bb(_m),tf=Cf(_m),UI=({children:i})=>{const[e,s]=N.useState(""),[r,l]=N.useState(""),[c,d]=N.useState(""),[f,m]=N.useState(!1),[p,y]=N.useState(!0);N.useEffect(()=>{Cv(Pa).catch(M=>{console.error("Error signing out on mount:",M)})},[]);const E=N.useRef(null);N.useEffect(()=>{const M=SD(Pa,G=>{m(!!G),y(!1)});return()=>M()},[]),N.useEffect(()=>{if(!f){C(),L();return}return w(),k(),()=>{C(),L()}},[f]);const b=5*60*1e3,w=()=>{C(),E.current=window.setTimeout(()=>{Cv(Pa).catch(M=>{console.error("Auto-logout error:",M)})},b)},C=()=>{E.current!==null&&(clearTimeout(E.current),E.current=null)},D=["mousemove","mousedown","keydown","touchstart","scroll"],k=()=>{D.forEach(M=>{window.addEventListener(M,w)})},L=()=>{D.forEach(M=>{window.removeEventListener(M,w)})},P=async M=>{M.preventDefault(),d("");try{await vD(Pa,Jh),await yD(Pa,e,r)}catch(G){console.error("Firebase signIn error:",G),d("Invalid email or password")}};return p?_.jsx("div",{className:"min-h-screen flex items-center justify-center",children:_.jsx(Qa,{className:"h-6 w-6 animate-spin"})}):f?_.jsx(_.Fragment,{children:i}):_.jsx("div",{className:"mt-20 bg-white flex items-center justify-center",children:_.jsxs("div",{className:"border border-gray-300 p-6 w-full max-w-sm",children:[_.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:"Admin Sign In"}),_.jsxs("form",{onSubmit:P,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),_.jsx("input",{type:"email",value:e,onChange:M=>s(M.target.value),placeholder:"you@domain.com",className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,autoComplete:"username"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),_.jsx("input",{type:"password",value:r,onChange:M=>l(M.target.value),placeholder:"••••••••",className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,autoComplete:"current-password"})]}),c&&_.jsx("div",{className:"p-2 bg-red-50 border border-red-200 text-red-700 text-sm",children:c}),_.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 px-3 hover:bg-gray-800",children:"Sign In"})]})]})})},jI=({onUploadSuccess:i,showModal:e,setShowModal:s})=>{const[r,l]=N.useState(!1),[c,d]=N.useState(null),[f,m]=N.useState(""),[p,y]=N.useState(null);N.useEffect(()=>{e||(d(null),m(""),p&&(URL.revokeObjectURL(p),y(null)))},[e,p]);const E=C=>{const D=C.target.files[0];if(D){d(D);const k=URL.createObjectURL(D);y(k)}},b=async C=>{if(C.preventDefault(),!c||!f){alert("Please select a file and enter a design ID");return}l(!0);try{const D=br(tf,`Designs/${f}.jpg`);await YR(D,c),d(null),m(""),y(null),s(!1),i(f)}catch(D){console.error("Upload failed:",D),alert("Upload failed. Please try again.")}finally{l(!1)}},w=()=>{d(null),m(""),y(null),s(!1),p&&URL.revokeObjectURL(p)};return _.jsx(_.Fragment,{children:e&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white border border-gray-300 p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload New Design"}),_.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:_.jsx(cf,{size:20})})]}),_.jsxs("form",{onSubmit:b,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Design ID"}),_.jsx("input",{type:"number",value:f,onChange:C=>m(C.target.value),placeholder:"Enter design ID (e.g., 15)",className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,disabled:r})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image File"}),_.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:E,className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500",required:!0,disabled:r}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: JPG, JPEG, PNG"})]}),p&&_.jsxs("div",{className:"mt-4",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview"}),_.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:_.jsx("img",{src:p,alt:"Upload preview",className:"w-full h-48 object-cover"})})]}),_.jsxs("div",{className:"flex space-x-3 pt-4",children:[_.jsx("button",{type:"button",onClick:w,className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 hover:bg-gray-50",disabled:r,children:"Cancel"}),_.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-black text-white hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r||!c||!f,children:r?_.jsxs("span",{className:"flex items-center justify-center",children:[_.jsx(Qa,{size:16,className:"animate-spin mr-2"}),"Uploading..."]}):_.jsxs("span",{className:"flex items-center justify-center",children:[_.jsx($T,{size:16,className:"mr-2"}),"Upload"]})})]})]})]})})})},PI=({design:i,imageURL:e,likesCount:s,onDelete:r})=>{const[l,c]=N.useState(!1),[d,f]=N.useState(!1),[m,p]=N.useState(!1),y=async()=>{f(!0);try{await r(i.id),p(!1)}catch(E){console.error("Delete failed:",E)}finally{f(!1)}};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden group transition-all duration-200",children:[_.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[e?_.jsx("img",{src:e,alt:`Design ${i.id}`,className:"w-full h-full object-cover"}):_.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No image"}),_.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200",children:_.jsxs("div",{className:"flex space-x-3",children:[e&&_.jsx("button",{onClick:()=>c(!0),className:"p-3 bg-white text-black hover:bg-gray-100 rounded-full transition-colors duration-150",title:"Preview",children:_.jsx(n0,{size:16,color:"black"})}),e&&_.jsx("button",{onClick:()=>p(!0),className:"p-3 bg-red-600 text-white hover:bg-red-700 rounded-full transition-colors duration-150",title:"Delete",disabled:d,children:d?_.jsx(Qa,{size:16,className:"animate-spin"}):_.jsx(GT,{size:16})})]})})]}),_.jsx("div",{className:"p-3 bg-white group-hover:bg-gray-50 transition-colors duration-200",children:_.jsxs("div",{className:"flex justify-between items-center text-sm",children:[_.jsxs("span",{className:"font-medium",children:["Design ",i.id]}),_.jsxs("span",{className:"text-gray-500",children:[(s||0).toLocaleString()," likes"]})]})})]}),l&&e&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[_.jsx("button",{onClick:()=>c(!1),className:"absolute -top-10 right-0 text-white hover:text-gray-300",children:_.jsx(cf,{size:24})}),_.jsx("img",{src:e,alt:`Design ${i.id}`,className:"max-w-full max-h-full object-contain"})]})}),m&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white border border-gray-300 p-6 max-w-md w-full",children:[_.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Delete Design ",i.id,"?"]}),_.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"This will permanently delete the image and all likes data."}),_.jsxs("div",{className:"flex space-x-3",children:[_.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 hover:bg-gray-50",disabled:d,children:"Cancel"}),_.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",disabled:d,children:d?_.jsxs("span",{className:"flex items-center justify-center",children:[_.jsx(Qa,{size:16,className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})})]})},zI=()=>{const[i,e]=N.useState([]),[s,r]=N.useState({}),[l,c]=N.useState({}),[d,f]=N.useState(!0),[m,p]=N.useState(null),[y,E]=N.useState(!1),[b,w]=N.useState([]),C=async()=>{try{const P=br(tf,"Designs/"),M=await $R(P),G={},Y=[];return await Promise.all(M.items.map(async ee=>{try{const be=ee.name,Q=parseInt(be.split(".")[0]);if(!isNaN(Q)){const q=await nc(ee);G[Q]=q,Y.push({id:Q,title:"",category:"classic",description:""})}}catch(be){console.log(`Error processing file ${ee.name}:`,be)}})),Y.sort((ee,be)=>ee.id-be.id),{urls:G,designs:Y}}catch(P){return console.error("Error discovering designs:",P),{urls:{},designs:[]}}};N.useEffect(()=>{(async()=>{try{const M=pc(Uv,"likes");lm(M,ee=>{const be=ee.val()||{};c(be)});const{urls:G,designs:Y}=await C();r(G),e(Y),w(Y),f(!1)}catch(M){console.error("Error fetching data:",M),f(!1)}})()},[]);const D=(P,M="success")=>{p({message:P,type:M}),setTimeout(()=>p(null),3e3)},k=async P=>{try{const{urls:M,designs:G}=await C();r(M),e(G),w(G),D(`Design ${P} uploaded successfully`)}catch(M){console.error("Error refreshing after upload:",M),D("Upload completed but failed to refresh","error")}},L=async P=>{try{const M=br(tf,`Designs/${P}.jpg`);await WR(M);const G=pc(Uv,`likes/${P}`);await i2(G),r(Y=>{const ee={...Y};return delete ee[P],ee}),c(Y=>{const ee={...Y};return delete ee[P],ee}),D(`Design ${P} deleted`)}catch(M){throw console.error("Error deleting design:",M),D(`Failed to delete design ${P}`,"error"),M}};return d?_.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:_.jsxs("div",{className:"text-center",children:[_.jsx(Qa,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),_.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):_.jsxs("div",{className:"min-h-screen bg-white",children:[_.jsx("div",{className:"border-b border-gray-200",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"Admin Panel"}),_.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Object.keys(s).length," images,"," ",Object.values(l).reduce((P,M)=>P+M,0).toLocaleString()," ","total likes"]})]}),_.jsx("button",{onClick:()=>E(!0),className:"bg-black text-white px-4 py-2 hover:bg-gray-800 transition-colors duration-200 flex items-center space-x-2 text-xs",children:_.jsx("span",{children:"Upload Design"})})]})}),m&&_.jsx("div",{className:"fixed top-4 right-4 z-50",children:_.jsx("div",{className:`p-3 border text-sm ${m.type==="error"?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:m.message})}),_.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:_.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:i.map(P=>_.jsx(PI,{design:P,imageURL:s[P.id],likesCount:l[P.id],onDelete:L},P.id))})}),_.jsx(jI,{onUploadSuccess:k,showModal:y,setShowModal:E})]})};function HI(){return _.jsx(UI,{children:_.jsx(zI,{})})}const BI=()=>{const[i,e]=N.useState({}),[s,r]=N.useState(new Set);N.useEffect(()=>{const c=setTimeout(()=>{e({header:!0,services:!0})},100);return()=>clearTimeout(c)},[]),N.useEffect(()=>{const c=new IntersectionObserver(f=>{f.forEach(m=>{if(m.isIntersecting){const p=m.target.getAttribute("data-item-id");p&&r(y=>new Set([...y,p]))}})},{threshold:.1,rootMargin:"50px"});return document.querySelectorAll("[data-item-id]").forEach(f=>c.observe(f)),()=>c.disconnect()},[i.services]);const l=[{categoryName:"Gel & Acrylic Overlays",services:[{price:"R160",name:"Gel Overlay",description:"Professional gel overlay on your natural nails for strength and durability. Includes base coat, gel application, cuticle care, shaping, and high-gloss top coat finish."},{price:"R180",name:"Acrylic Overlay",description:"Strong acrylic overlay system providing excellent durability and smooth finish. Includes nail preparation, acrylic application, shaping, buffing, and cuticle care."}]},{categoryName:"Extensions & Sculptures",services:[{price:"R210",name:"Gel Extensions - Short",description:"Professional gel extensions for added length and strength. Perfect for everyday wear with a natural look. Includes nail preparation, extension application, shaping, and finishing."},{price:"R230",name:"Gel Extensions - Medium",description:"Medium length extensions providing the perfect balance between practicality and elegance."},{price:"R250",name:"Gel Extensions - Long",description:"Dramatic long extensions for those who want to make a statement with their nails."},{price:"R230",name:"Acrylic Sculptures - Short",description:"Hand-sculpted acrylic nails with superior strength and durability in a short, practical length."},{price:"R250",name:"Acrylic Sculptures - Medium",description:"Medium length acrylic sculptures offering the perfect combination of style and functionality."},{price:"R270",name:"Acrylic Sculptures - Long",description:"Long acrylic sculptures for maximum impact and glamour. Perfect for special occasions or everyday elegance."}]},{categoryName:"Maintenance & Repairs",services:[{price:"R120",name:"Gel Fill",description:"Maintain your gel nails with professional fill service. Keeps your nails looking fresh and extends their lifespan. Includes growth area fill, reshaping, and cuticle care."},{price:"R120",name:"Acrylic Fill",description:"Professional acrylic fill service to maintain the strength and appearance of your acrylic nails."},{price:"R20",name:"Broken Nail Repair",description:"Quick and effective repair for broken or damaged nails. Restore your nail to its original beauty."},{price:"R50",name:"Soak Off Service",description:"Safe and gentle removal of gel or acrylic nails without damage to your natural nails. Includes professional removal process and nail conditioning treatment."}]},{categoryName:"Add-Ons",services:[{price:"R5",priceNote:"per nail",name:"Nail Art",description:"Custom nail art designs to express your personal style. From simple accents to intricate patterns. Can be added to any nail service for personalized flair.",note:"*Our most popular add-on"}]}];return _.jsxs("div",{className:"min-h-screen bg-white",children:[_.jsx("div",{className:`text-center py-32 mt-20 transition-all duration-1000 ${i.header?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:_.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[_.jsx("h1",{className:"text-4xl md:text-5xl font-light text-stone-900 mb-8",children:"Nail Services"}),_.jsx("p",{className:"text-stone-600 font-light leading-relaxed font-montserrat",children:"Professional nail preparation, cuticle care, shaping, filing, buffing, and application with premium products. Each service includes meticulous attention to detail and personalized care for optimal results."}),_.jsx("p",{className:"text-stone-600 font-light text-sm mt-4 italic",children:"[ Additional services and nail art available upon request. ]"})]})}),_.jsxs("div",{className:"max-w-6xl mx-auto px-6 pb-24",children:[l.map((c,d)=>_.jsx("div",{className:"mb-20",children:_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start",children:[_.jsx("div",{"data-item-id":`category-${d}`,className:`transition-all duration-1000 ease-out ${s.has(`category-${d}`)?"opacity-100 translate-x-0":"opacity-0 -translate-x-8"}`,children:_.jsx("h2",{className:"text-4xl font-light text-stone-900",children:c.categoryName})}),_.jsx("div",{className:"space-y-8",children:c.services.map((f,m)=>{const p=`service-${d}-${m}`,y=m*150;return _.jsxs("div",{"data-item-id":p,className:`transition-all duration-1000 ease-out ${s.has(p)?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{transitionDelay:s.has(p)?`${y}ms`:"0ms"},children:[_.jsxs("div",{className:"mb-2",children:[_.jsx("span",{className:"text-sm text-stone-600 font-montserrat",children:f.price}),f.priceNote&&_.jsx("span",{className:"text-sm text-stone-600 ml-2",children:f.priceNote})]}),_.jsx("h3",{className:"text-lg text-stone-900 mb-3 uppercase tracking-wide",children:f.name}),_.jsx("p",{className:"text-stone-700 font-light leading-relaxed mb-4 font-montserrat text-sm",children:f.description}),f.note&&_.jsx("p",{className:"text-stone-600 font-light text-sm italic",children:f.note})]},m)})})]})},d)),_.jsx("div",{"data-item-id":"contact-section",className:`border-t border-stone-200 pt-12 transition-all duration-1200 ease-out ${s.has("contact-section")?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:_.jsxs("div",{className:"text-center",children:[_.jsx("h3",{className:"text-2xl font-light text-stone-900 mb-4",children:"Ready to Book Your Appointment?"}),_.jsx("p",{className:"text-stone-600 font-light mb-8",children:"Contact me to schedule your nail service or ask any questions about treatments."}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{children:_.jsx("a",{href:"tel:0661043677",className:"inline-block bg-stone-900 text-white px-8 py-3 hover:bg-stone-800 transition-colors duration-300 font-light",children:"Call +27 66 104 3677"})}),_.jsx("p",{className:"text-stone-500 text-sm",children:"Professional nail services • Expert care • Premium products"})]})]})})]})]})};function qI(){const i=Xn();return N.useEffect(()=>{window.scrollTo(0,0)},[i.pathname]),_.jsxs(_.Fragment,{children:[_.jsx(iN,{}),_.jsxs(Vw,{children:[_.jsx(dr,{path:"/",element:_.jsx(nN,{})}),_.jsx(dr,{path:"/designs",element:_.jsx(v2,{})}),_.jsx(dr,{path:"/faq",element:_.jsx(b2,{})}),_.jsx(dr,{path:"/admin",element:_.jsx(HI,{})}),_.jsx(dr,{path:"/services",element:_.jsx(BI,{})})]})]})}J1.createRoot(document.getElementById("root")).render(_.jsx(N.StrictMode,{children:_.jsx(fT,{children:_.jsx(qI,{})})}));
