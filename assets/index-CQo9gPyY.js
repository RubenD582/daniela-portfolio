(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var xf={exports:{}},yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function cR(){if(b0)return yo;b0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return yo.Fragment=e,yo.jsx=n,yo.jsxs=n,yo}var x0;function uR(){return x0||(x0=1,xf.exports=cR()),xf.exports}var b=uR(),Ef={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function hR(){if(E0)return ue;E0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function R(A,F,ae){this.props=A,this.context=F,this.refs=C,this.updater=ae||E}R.prototype.isReactComponent={},R.prototype.setState=function(A,F){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,F,"setState")},R.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function N(){}N.prototype=R.prototype;function L(A,F,ae){this.props=A,this.context=F,this.refs=C,this.updater=ae||E}var k=L.prototype=new N;k.constructor=L,S(k,R.prototype),k.isPureReactComponent=!0;var H=Array.isArray,U={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function Z(A,F,ae,ie,W,_e){return ae=_e.ref,{$$typeof:t,type:A,key:F,ref:ae!==void 0?ae:null,props:_e}}function Y(A,F){return Z(A.type,F,void 0,void 0,void 0,A.props)}function q(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function Q(A){var F={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ae){return F[ae]})}var Ue=/\/+/g;function $t(A,F){return typeof A=="object"&&A!==null&&A.key!=null?Q(""+A.key):F.toString(36)}function Wt(){}function Xt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Wt,Wt):(A.status="pending",A.then(function(F){A.status==="pending"&&(A.status="fulfilled",A.value=F)},function(F){A.status==="pending"&&(A.status="rejected",A.reason=F)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Tt(A,F,ae,ie,W){var _e=typeof A;(_e==="undefined"||_e==="boolean")&&(A=null);var he=!1;if(A===null)he=!0;else switch(_e){case"bigint":case"string":case"number":he=!0;break;case"object":switch(A.$$typeof){case t:case e:he=!0;break;case g:return he=A._init,Tt(he(A._payload),F,ae,ie,W)}}if(he)return W=W(A),he=ie===""?"."+$t(A,0):ie,H(W)?(ae="",he!=null&&(ae=he.replace(Ue,"$&/")+"/"),Tt(W,F,ae,"",function(Je){return Je})):W!=null&&(q(W)&&(W=Y(W,ae+(W.key==null||A&&A.key===W.key?"":(""+W.key).replace(Ue,"$&/")+"/")+he)),F.push(W)),1;he=0;var Ct=ie===""?".":ie+":";if(H(A))for(var Ce=0;Ce<A.length;Ce++)ie=A[Ce],_e=Ct+$t(ie,Ce),he+=Tt(ie,F,ae,_e,W);else if(Ce=v(A),typeof Ce=="function")for(A=Ce.call(A),Ce=0;!(ie=A.next()).done;)ie=ie.value,_e=Ct+$t(ie,Ce++),he+=Tt(ie,F,ae,_e,W);else if(_e==="object"){if(typeof A.then=="function")return Tt(Xt(A),F,ae,ie,W);throw F=String(A),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return he}function K(A,F,ae){if(A==null)return A;var ie=[],W=0;return Tt(A,ie,"","",function(_e){return F.call(ae,_e,W++)}),ie}function ee(A){if(A._status===-1){var F=A._result;F=F(),F.then(function(ae){(A._status===0||A._status===-1)&&(A._status=1,A._result=ae)},function(ae){(A._status===0||A._status===-1)&&(A._status=2,A._result=ae)}),A._status===-1&&(A._status=0,A._result=F)}if(A._status===1)return A._result.default;throw A._result}var te=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Te(){}return ue.Children={map:K,forEach:function(A,F,ae){K(A,function(){F.apply(this,arguments)},ae)},count:function(A){var F=0;return K(A,function(){F++}),F},toArray:function(A){return K(A,function(F){return F})||[]},only:function(A){if(!q(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ue.Component=R,ue.Fragment=n,ue.Profiler=a,ue.PureComponent=L,ue.StrictMode=s,ue.Suspense=f,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,ue.act=function(){throw Error("act(...) is not supported in production builds of React.")},ue.cache=function(A){return function(){return A.apply(null,arguments)}},ue.cloneElement=function(A,F,ae){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ie=S({},A.props),W=A.key,_e=void 0;if(F!=null)for(he in F.ref!==void 0&&(_e=void 0),F.key!==void 0&&(W=""+F.key),F)!$.call(F,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&F.ref===void 0||(ie[he]=F[he]);var he=arguments.length-2;if(he===1)ie.children=ae;else if(1<he){for(var Ct=Array(he),Ce=0;Ce<he;Ce++)Ct[Ce]=arguments[Ce+2];ie.children=Ct}return Z(A.type,W,void 0,void 0,_e,ie)},ue.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:l,_context:A},A},ue.createElement=function(A,F,ae){var ie,W={},_e=null;if(F!=null)for(ie in F.key!==void 0&&(_e=""+F.key),F)$.call(F,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(W[ie]=F[ie]);var he=arguments.length-2;if(he===1)W.children=ae;else if(1<he){for(var Ct=Array(he),Ce=0;Ce<he;Ce++)Ct[Ce]=arguments[Ce+2];W.children=Ct}if(A&&A.defaultProps)for(ie in he=A.defaultProps,he)W[ie]===void 0&&(W[ie]=he[ie]);return Z(A,_e,void 0,void 0,null,W)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(A){return{$$typeof:d,render:A}},ue.isValidElement=q,ue.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:ee}},ue.memo=function(A,F){return{$$typeof:m,type:A,compare:F===void 0?null:F}},ue.startTransition=function(A){var F=U.T,ae={};U.T=ae;try{var ie=A(),W=U.S;W!==null&&W(ae,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Te,te)}catch(_e){te(_e)}finally{U.T=F}},ue.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},ue.use=function(A){return U.H.use(A)},ue.useActionState=function(A,F,ae){return U.H.useActionState(A,F,ae)},ue.useCallback=function(A,F){return U.H.useCallback(A,F)},ue.useContext=function(A){return U.H.useContext(A)},ue.useDebugValue=function(){},ue.useDeferredValue=function(A,F){return U.H.useDeferredValue(A,F)},ue.useEffect=function(A,F){return U.H.useEffect(A,F)},ue.useId=function(){return U.H.useId()},ue.useImperativeHandle=function(A,F,ae){return U.H.useImperativeHandle(A,F,ae)},ue.useInsertionEffect=function(A,F){return U.H.useInsertionEffect(A,F)},ue.useLayoutEffect=function(A,F){return U.H.useLayoutEffect(A,F)},ue.useMemo=function(A,F){return U.H.useMemo(A,F)},ue.useOptimistic=function(A,F){return U.H.useOptimistic(A,F)},ue.useReducer=function(A,F,ae){return U.H.useReducer(A,F,ae)},ue.useRef=function(A){return U.H.useRef(A)},ue.useState=function(A){return U.H.useState(A)},ue.useSyncExternalStore=function(A,F,ae){return U.H.useSyncExternalStore(A,F,ae)},ue.useTransition=function(){return U.H.useTransition()},ue.version="19.0.0",ue}var S0;function Wm(){return S0||(S0=1,Ef.exports=hR()),Ef.exports}var T=Wm(),Sf={exports:{}},vo={},wf={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function dR(){return w0||(w0=1,function(t){function e(K,ee){var te=K.length;K.push(ee);e:for(;0<te;){var Te=te-1>>>1,A=K[Te];if(0<a(A,ee))K[Te]=ee,K[te]=A,te=Te;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ee=K[0],te=K.pop();if(te!==ee){K[0]=te;e:for(var Te=0,A=K.length,F=A>>>1;Te<F;){var ae=2*(Te+1)-1,ie=K[ae],W=ae+1,_e=K[W];if(0>a(ie,te))W<A&&0>a(_e,ie)?(K[Te]=_e,K[W]=te,Te=W):(K[Te]=ie,K[ae]=te,Te=ae);else if(W<A&&0>a(_e,te))K[Te]=_e,K[W]=te,Te=W;else break e}}return ee}function a(K,ee){var te=K.sortIndex-ee.sortIndex;return te!==0?te:K.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],m=[],g=1,y=null,v=3,E=!1,S=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function k(K){for(var ee=n(m);ee!==null;){if(ee.callback===null)s(m);else if(ee.startTime<=K)s(m),ee.sortIndex=ee.expirationTime,e(f,ee);else break;ee=n(m)}}function H(K){if(C=!1,k(K),!S)if(n(f)!==null)S=!0,Xt();else{var ee=n(m);ee!==null&&Tt(H,ee.startTime-K)}}var U=!1,$=-1,Z=5,Y=-1;function q(){return!(t.unstable_now()-Y<Z)}function Q(){if(U){var K=t.unstable_now();Y=K;var ee=!0;try{e:{S=!1,C&&(C=!1,N($),$=-1),E=!0;var te=v;try{t:{for(k(K),y=n(f);y!==null&&!(y.expirationTime>K&&q());){var Te=y.callback;if(typeof Te=="function"){y.callback=null,v=y.priorityLevel;var A=Te(y.expirationTime<=K);if(K=t.unstable_now(),typeof A=="function"){y.callback=A,k(K),ee=!0;break t}y===n(f)&&s(f),k(K)}else s(f);y=n(f)}if(y!==null)ee=!0;else{var F=n(m);F!==null&&Tt(H,F.startTime-K),ee=!1}}break e}finally{y=null,v=te,E=!1}ee=void 0}}finally{ee?Ue():U=!1}}}var Ue;if(typeof L=="function")Ue=function(){L(Q)};else if(typeof MessageChannel<"u"){var $t=new MessageChannel,Wt=$t.port2;$t.port1.onmessage=Q,Ue=function(){Wt.postMessage(null)}}else Ue=function(){R(Q,0)};function Xt(){U||(U=!0,Ue())}function Tt(K,ee){$=R(function(){K(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){S||E||(S=!0,Xt())},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(K){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var te=v;v=ee;try{return K()}finally{v=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var te=v;v=K;try{return ee()}finally{v=te}},t.unstable_scheduleCallback=function(K,ee,te){var Te=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Te+te:Te):te=Te,K){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=te+A,K={id:g++,callback:ee,priorityLevel:K,startTime:te,expirationTime:A,sortIndex:-1},te>Te?(K.sortIndex=te,e(m,K),n(f)===null&&K===n(m)&&(C?(N($),$=-1):C=!0,Tt(H,te-Te))):(K.sortIndex=A,e(f,K),S||E||(S=!0,Xt())),K},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(K){var ee=v;return function(){var te=v;v=ee;try{return K.apply(this,arguments)}finally{v=te}}}}(Tf)),Tf}var T0;function fR(){return T0||(T0=1,wf.exports=dR()),wf.exports}var Cf={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function mR(){if(C0)return xt;C0=1;var t=Wm();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,xt.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,g)},xt.flushSync=function(f){var m=u.T,g=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=m,s.p=g,s.d.f()}},xt.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(f,m))},xt.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},xt.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:E}):g==="script"&&s.d.X(f,{crossOrigin:y,integrity:v,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},xt.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);s.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(f)},xt.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin);s.d.L(f,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},xt.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=d(m.as,m.crossOrigin);s.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(f)},xt.requestFormReset=function(f){s.d.r(f)},xt.unstable_batchedUpdates=function(f,m){return f(m)},xt.useFormState=function(f,m,g){return u.H.useFormState(f,m,g)},xt.useFormStatus=function(){return u.H.useHostTransitionStatus()},xt.version="19.0.0",xt}var A0;function pR(){if(A0)return Cf.exports;A0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cf.exports=mR(),Cf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function gR(){if(R0)return vo;R0=1;var t=fR(),e=Wm(),n=pR();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),E=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var Z=Symbol.for("react.client.reference");function Y(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case d:return"Portal";case g:return"Profiler";case m:return"StrictMode";case C:return"Suspense";case R:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case E:return(i.displayName||"Context")+".Provider";case v:return(i._context.displayName||"Context")+".Consumer";case S:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:Y(i.type)||"Memo";case L:r=i._payload,i=i._init;try{return Y(i(r))}catch{}}return null}var q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=Object.assign,Ue,$t;function Wt(i){if(Ue===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ue=r&&r[1]||"",$t=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+i+$t}var Xt=!1;function Tt(i,r){if(!i||Xt)return"";Xt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(j){var P=j}Reflect.construct(i,[],z)}else{try{z.call()}catch(j){P=j}i.call(z.prototype)}}else{try{throw Error()}catch(j){P=j}(z=i())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(j){if(j&&P&&typeof j.stack=="string")return[j.stack,P.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),_=p[0],x=p[1];if(_&&x){var w=_.split(`
`),O=x.split(`
`);for(h=c=0;c<w.length&&!w[c].includes("DetermineComponentFrameRoot");)c++;for(;h<O.length&&!O[h].includes("DetermineComponentFrameRoot");)h++;if(c===w.length||h===O.length)for(c=w.length-1,h=O.length-1;1<=c&&0<=h&&w[c]!==O[h];)h--;for(;1<=c&&0<=h;c--,h--)if(w[c]!==O[h]){if(c!==1||h!==1)do if(c--,h--,0>h||w[c]!==O[h]){var V=`
`+w[c].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=c&&0<=h);break}}}finally{Xt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Wt(o):""}function K(i){switch(i.tag){case 26:case 27:case 5:return Wt(i.type);case 16:return Wt("Lazy");case 13:return Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return i=Tt(i.type,!1),i;case 11:return i=Tt(i.type.render,!1),i;case 1:return i=Tt(i.type,!0),i;default:return""}}function ee(i){try{var r="";do r+=K(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function te(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,r.flags&4098&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function Te(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function A(i){if(te(i)!==i)throw Error(s(188))}function F(i){var r=i.alternate;if(!r){if(r=te(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return A(h),i;if(p===c)return A(h),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=h,c=p;else{for(var _=!1,x=h.child;x;){if(x===o){_=!0,o=h,c=p;break}if(x===c){_=!0,c=h,o=p;break}x=x.sibling}if(!_){for(x=p.child;x;){if(x===o){_=!0,o=p,c=h;break}if(x===c){_=!0,c=p,o=h;break}x=x.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function ae(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=ae(i),r!==null)return r;i=i.sibling}return null}var ie=Array.isArray,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},he=[],Ct=-1;function Ce(i){return{current:i}}function Je(i){0>Ct||(i.current=he[Ct],he[Ct]=null,Ct--)}function je(i,r){Ct++,he[Ct]=i.current,i.current=r}var Tn=Ce(null),_a=Ce(null),bi=Ce(null),Cl=Ce(null);function Al(i,r){switch(je(bi,r),je(_a,i),je(Tn,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?W_(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=W_(i),r=X_(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Je(Tn),je(Tn,r)}function sr(){Je(Tn),Je(_a),Je(bi)}function hh(i){i.memoizedState!==null&&je(Cl,i);var r=Tn.current,o=X_(r,i.type);r!==o&&(je(_a,i),je(Tn,o))}function Rl(i){_a.current===i&&(Je(Tn),Je(_a)),Cl.current===i&&(Je(Cl),ho._currentValue=_e)}var dh=Object.prototype.hasOwnProperty,fh=t.unstable_scheduleCallback,mh=t.unstable_cancelCallback,z1=t.unstable_shouldYield,H1=t.unstable_requestPaint,Cn=t.unstable_now,F1=t.unstable_getCurrentPriorityLevel,jg=t.unstable_ImmediatePriority,Vg=t.unstable_UserBlockingPriority,Nl=t.unstable_NormalPriority,q1=t.unstable_LowPriority,Bg=t.unstable_IdlePriority,G1=t.log,Y1=t.unstable_setDisableYieldValue,ba=null,Vt=null;function K1(i){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(ba,i,void 0,(i.current.flags&128)===128)}catch{}}function xi(i){if(typeof G1=="function"&&Y1(i),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(ba,i)}catch{}}var Bt=Math.clz32?Math.clz32:X1,$1=Math.log,W1=Math.LN2;function X1(i){return i>>>=0,i===0?32:31-($1(i)/W1|0)|0}var Dl=128,Ol=4194304;function hs(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function kl(i,r){var o=i.pendingLanes;if(o===0)return 0;var c=0,h=i.suspendedLanes,p=i.pingedLanes,_=i.warmLanes;i=i.finishedLanes!==0;var x=o&134217727;return x!==0?(o=x&~h,o!==0?c=hs(o):(p&=x,p!==0?c=hs(p):i||(_=x&~_,_!==0&&(c=hs(_))))):(x=o&~h,x!==0?c=hs(x):p!==0?c=hs(p):i||(_=o&~_,_!==0&&(c=hs(_)))),c===0?0:r!==0&&r!==c&&!(r&h)&&(h=c&-c,_=r&-r,h>=_||h===32&&(_&4194176)!==0)?r:c}function xa(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Q1(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zg(){var i=Dl;return Dl<<=1,!(Dl&4194176)&&(Dl=128),i}function Hg(){var i=Ol;return Ol<<=1,!(Ol&62914560)&&(Ol=4194304),i}function ph(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Ea(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Z1(i,r,o,c,h,p){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var x=i.entanglements,w=i.expirationTimes,O=i.hiddenUpdates;for(o=_&~o;0<o;){var V=31-Bt(o),z=1<<V;x[V]=0,w[V]=-1;var P=O[V];if(P!==null)for(O[V]=null,V=0;V<P.length;V++){var j=P[V];j!==null&&(j.lane&=-536870913)}o&=~z}c!==0&&Fg(i,c,0),p!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=p&~(_&~r))}function Fg(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Bt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194218}function qg(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Bt(o),h=1<<c;h&r|i[c]&r&&(i[c]|=r),o&=~h}}function Gg(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function Yg(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:m0(i.type))}function J1(i,r){var o=W.p;try{return W.p=i,r()}finally{W.p=o}}var Ei=Math.random().toString(36).slice(2),_t="__reactFiber$"+Ei,It="__reactProps$"+Ei,rr="__reactContainer$"+Ei,gh="__reactEvents$"+Ei,eC="__reactListeners$"+Ei,tC="__reactHandles$"+Ei,Kg="__reactResources$"+Ei,Sa="__reactMarker$"+Ei;function yh(i){delete i[_t],delete i[It],delete i[gh],delete i[eC],delete i[tC]}function ds(i){var r=i[_t];if(r)return r;for(var o=i.parentNode;o;){if(r=o[rr]||o[_t]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=J_(i);i!==null;){if(o=i[_t])return o;i=J_(i)}return r}i=o,o=i.parentNode}return null}function ar(i){if(i=i[_t]||i[rr]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function wa(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function or(i){var r=i[Kg];return r||(r=i[Kg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ot(i){i[Sa]=!0}var $g=new Set,Wg={};function fs(i,r){lr(i,r),lr(i+"Capture",r)}function lr(i,r){for(Wg[i]=r,i=0;i<r.length;i++)$g.add(r[i])}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xg={},Qg={};function iC(i){return dh.call(Qg,i)?!0:dh.call(Xg,i)?!1:nC.test(i)?Qg[i]=!0:(Xg[i]=!0,!1)}function Il(i,r,o){if(iC(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Ml(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Hn(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zg(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function sC(i){var r=Zg(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),c=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ll(i){i._valueTracker||(i._valueTracker=sC(i))}function Jg(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Zg(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Pl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var rC=/[\n"\\]/g;function Zt(i){return i.replace(rC,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vh(i,r,o,c,h,p,_,x){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Qt(r)):i.value!==""+Qt(r)&&(i.value=""+Qt(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?_h(i,_,Qt(r)):o!=null?_h(i,_,Qt(o)):c!=null&&i.removeAttribute("value"),h==null&&p!=null&&(i.defaultChecked=!!p),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.name=""+Qt(x):i.removeAttribute("name")}function ey(i,r,o,c,h,p,_,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+Qt(o):"",r=r!=null?""+Qt(r):o,x||r===i.value||(i.value=r),i.defaultValue=r}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=x?i.checked:!!c,i.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_)}function _h(i,r,o){r==="number"&&Pl(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function cr(i,r,o,c){if(i=i.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<i.length;o++)h=r.hasOwnProperty("$"+i[o].value),i[o].selected!==h&&(i[o].selected=h),h&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Qt(o),r=null,h=0;h<i.length;h++){if(i[h].value===o){i[h].selected=!0,c&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function ty(i,r,o){if(r!=null&&(r=""+Qt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Qt(o):""}function ny(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(ie(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Qt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function ur(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var aC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function iy(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||aC.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function sy(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var h in r)c=r[h],r.hasOwnProperty(h)&&o[h]!==c&&iy(i,h,c)}else for(var p in r)r.hasOwnProperty(p)&&iy(i,p,r[p])}function bh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ul(i){return lC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var xh=null;function Eh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var hr=null,dr=null;function ry(i){var r=ar(i);if(r&&(i=r.stateNode)){var o=i[It]||null;e:switch(i=r.stateNode,r.type){case"input":if(vh(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Zt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var h=c[It]||null;if(!h)throw Error(s(90));vh(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Jg(c)}break e;case"textarea":ty(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&cr(i,!!o.multiple,r,!1)}}}var Sh=!1;function ay(i,r,o){if(Sh)return i(r,o);Sh=!0;try{var c=i(r);return c}finally{if(Sh=!1,(hr!==null||dr!==null)&&(bc(),hr&&(r=hr,i=dr,dr=hr=null,ry(r),i)))for(r=0;r<i.length;r++)ry(i[r])}}function Ta(i,r){var o=i.stateNode;if(o===null)return null;var c=o[It]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var wh=!1;if(zn)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){wh=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{wh=!1}var Si=null,Th=null,jl=null;function oy(){if(jl)return jl;var i,r=Th,o=r.length,c,h="value"in Si?Si.value:Si.textContent,p=h.length;for(i=0;i<o&&r[i]===h[i];i++);var _=o-i;for(c=1;c<=_&&r[o-c]===h[p-c];c++);return jl=h.slice(i,1<c?1-c:void 0)}function Vl(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Bl(){return!0}function ly(){return!1}function Mt(i){function r(o,c,h,p,_){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(o=i[x],this[x]=o?o(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Bl:ly,this.isPropagationStopped=ly,this}return Q(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),r}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=Mt(ms),Aa=Q({},ms,{view:0,detail:0}),cC=Mt(Aa),Ch,Ah,Ra,Hl=Q({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ra&&(Ra&&i.type==="mousemove"?(Ch=i.screenX-Ra.screenX,Ah=i.screenY-Ra.screenY):Ah=Ch=0,Ra=i),Ch)},movementY:function(i){return"movementY"in i?i.movementY:Ah}}),cy=Mt(Hl),uC=Q({},Hl,{dataTransfer:0}),hC=Mt(uC),dC=Q({},Aa,{relatedTarget:0}),Rh=Mt(dC),fC=Q({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),mC=Mt(fC),pC=Q({},ms,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),gC=Mt(pC),yC=Q({},ms,{data:0}),uy=Mt(yC),vC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_C={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xC(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=bC[i])?!!r[i]:!1}function Nh(){return xC}var EC=Q({},Aa,{key:function(i){if(i.key){var r=vC[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Vl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?_C[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nh,charCode:function(i){return i.type==="keypress"?Vl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),SC=Mt(EC),wC=Q({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hy=Mt(wC),TC=Q({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nh}),CC=Mt(TC),AC=Q({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),RC=Mt(AC),NC=Q({},Hl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),DC=Mt(NC),OC=Q({},ms,{newState:0,oldState:0}),kC=Mt(OC),IC=[9,13,27,32],Dh=zn&&"CompositionEvent"in window,Na=null;zn&&"documentMode"in document&&(Na=document.documentMode);var MC=zn&&"TextEvent"in window&&!Na,dy=zn&&(!Dh||Na&&8<Na&&11>=Na),fy=" ",my=!1;function py(i,r){switch(i){case"keyup":return IC.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fr=!1;function LC(i,r){switch(i){case"compositionend":return gy(r);case"keypress":return r.which!==32?null:(my=!0,fy);case"textInput":return i=r.data,i===fy&&my?null:i;default:return null}}function PC(i,r){if(fr)return i==="compositionend"||!Dh&&py(i,r)?(i=oy(),jl=Th=Si=null,fr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return dy&&r.locale!=="ko"?null:r.data;default:return null}}var UC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yy(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!UC[i.type]:r==="textarea"}function vy(i,r,o,c){hr?dr?dr.push(c):dr=[c]:hr=c,r=Tc(r,"onChange"),0<r.length&&(o=new zl("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Da=null,Oa=null;function jC(i){q_(i,0)}function Fl(i){var r=wa(i);if(Jg(r))return i}function _y(i,r){if(i==="change")return r}var by=!1;if(zn){var Oh;if(zn){var kh="oninput"in document;if(!kh){var xy=document.createElement("div");xy.setAttribute("oninput","return;"),kh=typeof xy.oninput=="function"}Oh=kh}else Oh=!1;by=Oh&&(!document.documentMode||9<document.documentMode)}function Ey(){Da&&(Da.detachEvent("onpropertychange",Sy),Oa=Da=null)}function Sy(i){if(i.propertyName==="value"&&Fl(Oa)){var r=[];vy(r,Oa,i,Eh(i)),ay(jC,r)}}function VC(i,r,o){i==="focusin"?(Ey(),Da=r,Oa=o,Da.attachEvent("onpropertychange",Sy)):i==="focusout"&&Ey()}function BC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fl(Oa)}function zC(i,r){if(i==="click")return Fl(r)}function HC(i,r){if(i==="input"||i==="change")return Fl(r)}function FC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var zt=typeof Object.is=="function"?Object.is:FC;function ka(i,r){if(zt(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!dh.call(r,h)||!zt(i[h],r[h]))return!1}return!0}function wy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ty(i,r){var o=wy(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=wy(o)}}function Cy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Cy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Ay(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Pl(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Pl(i.document)}return r}function Ih(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function qC(i,r){var o=Ay(r);r=i.focusedElem;var c=i.selectionRange;if(o!==r&&r&&r.ownerDocument&&Cy(r.ownerDocument.documentElement,r)){if(c!==null&&Ih(r)){if(i=c.start,o=c.end,o===void 0&&(o=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(o,r.value.length);else if(o=(i=r.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var h=r.textContent.length,p=Math.min(c.start,h);c=c.end===void 0?p:Math.min(c.end,h),!o.extend&&p>c&&(h=c,c=p,p=h),h=Ty(r,p);var _=Ty(r,c);h&&_&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==_.node||o.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),o.removeAllRanges(),p>c?(o.addRange(i),o.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),o.addRange(i)))}}for(i=[],o=r;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)o=i[r],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var GC=zn&&"documentMode"in document&&11>=document.documentMode,mr=null,Mh=null,Ia=null,Lh=!1;function Ry(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lh||mr==null||mr!==Pl(c)||(c=mr,"selectionStart"in c&&Ih(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ia&&ka(Ia,c)||(Ia=c,c=Tc(Mh,"onSelect"),0<c.length&&(r=new zl("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=mr)))}function ps(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var pr={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},Ph={},Ny={};zn&&(Ny=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function gs(i){if(Ph[i])return Ph[i];if(!pr[i])return i;var r=pr[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ny)return Ph[i]=r[o];return i}var Dy=gs("animationend"),Oy=gs("animationiteration"),ky=gs("animationstart"),YC=gs("transitionrun"),KC=gs("transitionstart"),$C=gs("transitioncancel"),Iy=gs("transitionend"),My=new Map,Ly="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function fn(i,r){My.set(i,r),fs(r,[i])}var Jt=[],gr=0,Uh=0;function ql(){for(var i=gr,r=Uh=gr=0;r<i;){var o=Jt[r];Jt[r++]=null;var c=Jt[r];Jt[r++]=null;var h=Jt[r];Jt[r++]=null;var p=Jt[r];if(Jt[r++]=null,c!==null&&h!==null){var _=c.pending;_===null?h.next=h:(h.next=_.next,_.next=h),c.pending=h}p!==0&&Py(o,h,p)}}function Gl(i,r,o,c){Jt[gr++]=i,Jt[gr++]=r,Jt[gr++]=o,Jt[gr++]=c,Uh|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function jh(i,r,o,c){return Gl(i,r,o,c),Yl(i)}function wi(i,r){return Gl(i,null,null,r),Yl(i)}function Py(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var h=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(h=!0)),i=p,p=p.return;h&&r!==null&&i.tag===3&&(p=i.stateNode,h=31-Bt(o),p=p.hiddenUpdates,i=p[h],i===null?p[h]=[r]:i.push(r),r.lane=o|536870912)}function Yl(i){if(50<so)throw so=0,qd=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var yr={},Uy=new WeakMap;function en(i,r){if(typeof i=="object"&&i!==null){var o=Uy.get(i);return o!==void 0?o:(r={value:i,source:r,stack:ee(r)},Uy.set(i,r),r)}return{value:i,source:r,stack:ee(r)}}var vr=[],_r=0,Kl=null,$l=0,tn=[],nn=0,ys=null,Fn=1,qn="";function vs(i,r){vr[_r++]=$l,vr[_r++]=Kl,Kl=i,$l=r}function jy(i,r,o){tn[nn++]=Fn,tn[nn++]=qn,tn[nn++]=ys,ys=i;var c=Fn;i=qn;var h=32-Bt(c)-1;c&=~(1<<h),o+=1;var p=32-Bt(r)+h;if(30<p){var _=h-h%5;p=(c&(1<<_)-1).toString(32),c>>=_,h-=_,Fn=1<<32-Bt(r)+h|o<<h|c,qn=p+i}else Fn=1<<p|o<<h|c,qn=i}function Vh(i){i.return!==null&&(vs(i,1),jy(i,1,0))}function Bh(i){for(;i===Kl;)Kl=vr[--_r],vr[_r]=null,$l=vr[--_r],vr[_r]=null;for(;i===ys;)ys=tn[--nn],tn[nn]=null,qn=tn[--nn],tn[nn]=null,Fn=tn[--nn],tn[nn]=null}var At=null,pt=null,Ee=!1,mn=null,An=!1,zh=Error(s(519));function _s(i){var r=Error(s(418,""));throw Pa(en(r,i)),zh}function Vy(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[_t]=i,r[It]=c,o){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(o=0;o<ao.length;o++)ve(ao[o],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":ve("invalid",r),ey(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ll(r);break;case"select":ve("invalid",r);break;case"textarea":ve("invalid",r),ny(r,c.value,c.defaultValue,c.children),Ll(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||$_(r.textContent,o)?(c.popover!=null&&(ve("beforetoggle",r),ve("toggle",r)),c.onScroll!=null&&ve("scroll",r),c.onScrollEnd!=null&&ve("scrollend",r),c.onClick!=null&&(r.onclick=Cc),r=!0):r=!1,r||_s(i)}function By(i){for(At=i.return;At;)switch(At.tag){case 3:case 27:An=!0;return;case 5:case 13:An=!1;return;default:At=At.return}}function Ma(i){if(i!==At)return!1;if(!Ee)return By(i),Ee=!0,!1;var r=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||lf(i.type,i.memoizedProps)),o=!o),o&&(r=!0),r&&pt&&_s(i),By(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){pt=gn(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}pt=null}}else pt=At?gn(i.stateNode.nextSibling):null;return!0}function La(){pt=At=null,Ee=!1}function Pa(i){mn===null?mn=[i]:mn.push(i)}var Ua=Error(s(460)),zy=Error(s(474)),Hh={then:function(){}};function Hy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Wl(){}function Fy(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Wl,Wl),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Ua?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Wl,Wl);else{if(i=ke,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=c}},function(c){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Ua?Error(s(483)):i}throw ja=r,Ua}}var ja=null;function qy(){if(ja===null)throw Error(s(459));var i=ja;return ja=null,i}var br=null,Va=0;function Xl(i){var r=Va;return Va+=1,br===null&&(br=[]),Fy(br,i,r)}function Ba(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ql(i,r){throw r.$$typeof===l?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Gy(i){var r=i._init;return r(i._payload)}function Yy(i){function r(I,D){if(i){var M=I.deletions;M===null?(I.deletions=[D],I.flags|=16):M.push(D)}}function o(I,D){if(!i)return null;for(;D!==null;)r(I,D),D=D.sibling;return null}function c(I){for(var D=new Map;I!==null;)I.key!==null?D.set(I.key,I):D.set(I.index,I),I=I.sibling;return D}function h(I,D){return I=Pi(I,D),I.index=0,I.sibling=null,I}function p(I,D,M){return I.index=M,i?(M=I.alternate,M!==null?(M=M.index,M<D?(I.flags|=33554434,D):M):(I.flags|=33554434,D)):(I.flags|=1048576,D)}function _(I){return i&&I.alternate===null&&(I.flags|=33554434),I}function x(I,D,M,B){return D===null||D.tag!==6?(D=Pd(M,I.mode,B),D.return=I,D):(D=h(D,M),D.return=I,D)}function w(I,D,M,B){var X=M.type;return X===f?V(I,D,M.props.children,B,M.key):D!==null&&(D.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===L&&Gy(X)===D.type)?(D=h(D,M.props),Ba(D,M),D.return=I,D):(D=pc(M.type,M.key,M.props,null,I.mode,B),Ba(D,M),D.return=I,D)}function O(I,D,M,B){return D===null||D.tag!==4||D.stateNode.containerInfo!==M.containerInfo||D.stateNode.implementation!==M.implementation?(D=Ud(M,I.mode,B),D.return=I,D):(D=h(D,M.children||[]),D.return=I,D)}function V(I,D,M,B,X){return D===null||D.tag!==7?(D=Ns(M,I.mode,B,X),D.return=I,D):(D=h(D,M),D.return=I,D)}function z(I,D,M){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Pd(""+D,I.mode,M),D.return=I,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case u:return M=pc(D.type,D.key,D.props,null,I.mode,M),Ba(M,D),M.return=I,M;case d:return D=Ud(D,I.mode,M),D.return=I,D;case L:var B=D._init;return D=B(D._payload),z(I,D,M)}if(ie(D)||$(D))return D=Ns(D,I.mode,M,null),D.return=I,D;if(typeof D.then=="function")return z(I,Xl(D),M);if(D.$$typeof===E)return z(I,dc(I,D),M);Ql(I,D)}return null}function P(I,D,M,B){var X=D!==null?D.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return X!==null?null:x(I,D,""+M,B);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case u:return M.key===X?w(I,D,M,B):null;case d:return M.key===X?O(I,D,M,B):null;case L:return X=M._init,M=X(M._payload),P(I,D,M,B)}if(ie(M)||$(M))return X!==null?null:V(I,D,M,B,null);if(typeof M.then=="function")return P(I,D,Xl(M),B);if(M.$$typeof===E)return P(I,D,dc(I,M),B);Ql(I,M)}return null}function j(I,D,M,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return I=I.get(M)||null,x(D,I,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case u:return I=I.get(B.key===null?M:B.key)||null,w(D,I,B,X);case d:return I=I.get(B.key===null?M:B.key)||null,O(D,I,B,X);case L:var fe=B._init;return B=fe(B._payload),j(I,D,M,B,X)}if(ie(B)||$(B))return I=I.get(M)||null,V(D,I,B,X,null);if(typeof B.then=="function")return j(I,D,M,Xl(B),X);if(B.$$typeof===E)return j(I,D,M,dc(D,B),X);Ql(D,B)}return null}function J(I,D,M,B){for(var X=null,fe=null,ne=D,se=D=0,ut=null;ne!==null&&se<M.length;se++){ne.index>se?(ut=ne,ne=null):ut=ne.sibling;var Se=P(I,ne,M[se],B);if(Se===null){ne===null&&(ne=ut);break}i&&ne&&Se.alternate===null&&r(I,ne),D=p(Se,D,se),fe===null?X=Se:fe.sibling=Se,fe=Se,ne=ut}if(se===M.length)return o(I,ne),Ee&&vs(I,se),X;if(ne===null){for(;se<M.length;se++)ne=z(I,M[se],B),ne!==null&&(D=p(ne,D,se),fe===null?X=ne:fe.sibling=ne,fe=ne);return Ee&&vs(I,se),X}for(ne=c(ne);se<M.length;se++)ut=j(ne,I,se,M[se],B),ut!==null&&(i&&ut.alternate!==null&&ne.delete(ut.key===null?se:ut.key),D=p(ut,D,se),fe===null?X=ut:fe.sibling=ut,fe=ut);return i&&ne.forEach(function(Fi){return r(I,Fi)}),Ee&&vs(I,se),X}function ce(I,D,M,B){if(M==null)throw Error(s(151));for(var X=null,fe=null,ne=D,se=D=0,ut=null,Se=M.next();ne!==null&&!Se.done;se++,Se=M.next()){ne.index>se?(ut=ne,ne=null):ut=ne.sibling;var Fi=P(I,ne,Se.value,B);if(Fi===null){ne===null&&(ne=ut);break}i&&ne&&Fi.alternate===null&&r(I,ne),D=p(Fi,D,se),fe===null?X=Fi:fe.sibling=Fi,fe=Fi,ne=ut}if(Se.done)return o(I,ne),Ee&&vs(I,se),X;if(ne===null){for(;!Se.done;se++,Se=M.next())Se=z(I,Se.value,B),Se!==null&&(D=p(Se,D,se),fe===null?X=Se:fe.sibling=Se,fe=Se);return Ee&&vs(I,se),X}for(ne=c(ne);!Se.done;se++,Se=M.next())Se=j(ne,I,se,Se.value,B),Se!==null&&(i&&Se.alternate!==null&&ne.delete(Se.key===null?se:Se.key),D=p(Se,D,se),fe===null?X=Se:fe.sibling=Se,fe=Se);return i&&ne.forEach(function(lR){return r(I,lR)}),Ee&&vs(I,se),X}function Ge(I,D,M,B){if(typeof M=="object"&&M!==null&&M.type===f&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case u:e:{for(var X=M.key;D!==null;){if(D.key===X){if(X=M.type,X===f){if(D.tag===7){o(I,D.sibling),B=h(D,M.props.children),B.return=I,I=B;break e}}else if(D.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===L&&Gy(X)===D.type){o(I,D.sibling),B=h(D,M.props),Ba(B,M),B.return=I,I=B;break e}o(I,D);break}else r(I,D);D=D.sibling}M.type===f?(B=Ns(M.props.children,I.mode,B,M.key),B.return=I,I=B):(B=pc(M.type,M.key,M.props,null,I.mode,B),Ba(B,M),B.return=I,I=B)}return _(I);case d:e:{for(X=M.key;D!==null;){if(D.key===X)if(D.tag===4&&D.stateNode.containerInfo===M.containerInfo&&D.stateNode.implementation===M.implementation){o(I,D.sibling),B=h(D,M.children||[]),B.return=I,I=B;break e}else{o(I,D);break}else r(I,D);D=D.sibling}B=Ud(M,I.mode,B),B.return=I,I=B}return _(I);case L:return X=M._init,M=X(M._payload),Ge(I,D,M,B)}if(ie(M))return J(I,D,M,B);if($(M)){if(X=$(M),typeof X!="function")throw Error(s(150));return M=X.call(M),ce(I,D,M,B)}if(typeof M.then=="function")return Ge(I,D,Xl(M),B);if(M.$$typeof===E)return Ge(I,D,dc(I,M),B);Ql(I,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,D!==null&&D.tag===6?(o(I,D.sibling),B=h(D,M),B.return=I,I=B):(o(I,D),B=Pd(M,I.mode,B),B.return=I,I=B),_(I)):o(I,D)}return function(I,D,M,B){try{Va=0;var X=Ge(I,D,M,B);return br=null,X}catch(ne){if(ne===Ua)throw ne;var fe=on(29,ne,null,I.mode);return fe.lanes=B,fe.return=I,fe}finally{}}}var bs=Yy(!0),Ky=Yy(!1),xr=Ce(null),Zl=Ce(0);function $y(i,r){i=ti,je(Zl,i),je(xr,r),ti=i|r.baseLanes}function Fh(){je(Zl,ti),je(xr,xr.current)}function qh(){ti=Zl.current,Je(xr),Je(Zl)}var sn=Ce(null),Rn=null;function Ti(i){var r=i.alternate;je(it,it.current&1),je(sn,i),Rn===null&&(r===null||xr.current!==null||r.memoizedState!==null)&&(Rn=i)}function Wy(i){if(i.tag===22){if(je(it,it.current),je(sn,i),Rn===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Rn=i)}}else Ci()}function Ci(){je(it,it.current),je(sn,sn.current)}function Gn(i){Je(sn),Rn===i&&(Rn=null),Je(it)}var it=Ce(0);function Jl(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var WC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},XC=t.unstable_scheduleCallback,QC=t.unstable_NormalPriority,st={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new WC,data:new Map,refCount:0}}function za(i){i.refCount--,i.refCount===0&&XC(QC,function(){i.controller.abort()})}var Ha=null,Yh=0,Er=0,Sr=null;function ZC(i,r){if(Ha===null){var o=Ha=[];Yh=0,Er=Zd(),Sr={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Yh++,r.then(Xy,Xy),r}function Xy(){if(--Yh===0&&Ha!==null){Sr!==null&&(Sr.status="fulfilled");var i=Ha;Ha=null,Er=0,Sr=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function JC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var h=0;h<o.length;h++)(0,o[h])(r)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var Qy=q.S;q.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ZC(i,r),Qy!==null&&Qy(i,r)};var xs=Ce(null);function Kh(){var i=xs.current;return i!==null?i:ke.pooledCache}function ec(i,r){r===null?je(xs,xs.current):je(xs,r.pool)}function Zy(){var i=Kh();return i===null?null:{parent:st._currentValue,pool:i}}var Ai=0,de=null,Ae=null,et=null,tc=!1,wr=!1,Es=!1,nc=0,Fa=0,Tr=null,eA=0;function Xe(){throw Error(s(321))}function $h(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!zt(i[o],r[o]))return!1;return!0}function Wh(i,r,o,c,h,p){return Ai=p,de=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=i===null||i.memoizedState===null?Ss:Ri,Es=!1,p=o(c,h),Es=!1,wr&&(p=ev(r,o,c,h)),Jy(i),p}function Jy(i){q.H=Nn;var r=Ae!==null&&Ae.next!==null;if(Ai=0,et=Ae=de=null,tc=!1,Fa=0,Tr=null,r)throw Error(s(300));i===null||lt||(i=i.dependencies,i!==null&&hc(i)&&(lt=!0))}function ev(i,r,o,c){de=i;var h=0;do{if(wr&&(Tr=null),Fa=0,wr=!1,25<=h)throw Error(s(301));if(h+=1,et=Ae=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}q.H=ws,p=r(o,c)}while(wr);return p}function tA(){var i=q.H,r=i.useState()[0];return r=typeof r.then=="function"?qa(r):r,i=i.useState()[0],(Ae!==null?Ae.memoizedState:null)!==i&&(de.flags|=1024),r}function Xh(){var i=nc!==0;return nc=0,i}function Qh(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Zh(i){if(tc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}tc=!1}Ai=0,et=Ae=de=null,wr=!1,Fa=nc=0,Tr=null}function Lt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?de.memoizedState=et=i:et=et.next=i,et}function tt(){if(Ae===null){var i=de.alternate;i=i!==null?i.memoizedState:null}else i=Ae.next;var r=et===null?de.memoizedState:et.next;if(r!==null)et=r,Ae=i;else{if(i===null)throw de.alternate===null?Error(s(467)):Error(s(310));Ae=i,i={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},et===null?de.memoizedState=et=i:et=et.next=i}return et}var ic;ic=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function qa(i){var r=Fa;return Fa+=1,Tr===null&&(Tr=[]),i=Fy(Tr,i,r),r=de,(et===null?r.memoizedState:et.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?Ss:Ri),i}function sc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return qa(i);if(i.$$typeof===E)return bt(i)}throw Error(s(438,String(i)))}function Jh(i){var r=null,o=de.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=de.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=ic(),de.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=H;return r.index++,o}function Yn(i,r){return typeof r=="function"?r(i):r}function rc(i){var r=tt();return ed(r,Ae,i)}function ed(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var h=i.baseQueue,p=c.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}r.baseQueue=h=p,c.pending=null}if(p=i.baseState,h===null)i.memoizedState=p;else{r=h.next;var x=_=null,w=null,O=r,V=!1;do{var z=O.lane&-536870913;if(z!==O.lane?(be&z)===z:(Ai&z)===z){var P=O.revertLane;if(P===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),z===Er&&(V=!0);else if((Ai&P)===P){O=O.next,P===Er&&(V=!0);continue}else z={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},w===null?(x=w=z,_=p):w=w.next=z,de.lanes|=P,Ui|=P;z=O.action,Es&&o(p,z),p=O.hasEagerState?O.eagerState:o(p,z)}else P={lane:z,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},w===null?(x=w=P,_=p):w=w.next=P,de.lanes|=z,Ui|=z;O=O.next}while(O!==null&&O!==r);if(w===null?_=p:w.next=x,!zt(p,i.memoizedState)&&(lt=!0,V&&(o=Sr,o!==null)))throw o;i.memoizedState=p,i.baseState=_,i.baseQueue=w,c.lastRenderedState=p}return h===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function td(i){var r=tt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=i(p,_.action),_=_.next;while(_!==h);zt(p,r.memoizedState)||(lt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function tv(i,r,o){var c=de,h=tt(),p=Ee;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!zt((Ae||h).memoizedState,o);if(_&&(h.memoizedState=o,lt=!0),h=h.queue,sd(sv.bind(null,c,h,i),[i]),h.getSnapshot!==r||_||et!==null&&et.memoizedState.tag&1){if(c.flags|=2048,Cr(9,iv.bind(null,c,h,o,r),{destroy:void 0},null),ke===null)throw Error(s(349));p||Ai&60||nv(c,r,o)}return o}function nv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=de.updateQueue,r===null?(r=ic(),de.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function iv(i,r,o,c){r.value=o,r.getSnapshot=c,rv(r)&&av(i)}function sv(i,r,o){return o(function(){rv(r)&&av(i)})}function rv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!zt(i,o)}catch{return!0}}function av(i){var r=wi(i,2);r!==null&&Rt(r,i,2)}function nd(i){var r=Lt();if(typeof i=="function"){var o=i;if(i=o(),Es){xi(!0);try{o()}finally{xi(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:i},r}function ov(i,r,o,c){return i.baseState=o,ed(i,Ae,typeof c=="function"?c:Yn)}function nA(i,r,o,c,h){if(lc(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};q.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,lv(r,p)):(p.next=o.next,r.pending=o.next=p)}}function lv(i,r){var o=r.action,c=r.payload,h=i.state;if(r.isTransition){var p=q.T,_={};q.T=_;try{var x=o(h,c),w=q.S;w!==null&&w(_,x),cv(i,r,x)}catch(O){id(i,r,O)}finally{q.T=p}}else try{p=o(h,c),cv(i,r,p)}catch(O){id(i,r,O)}}function cv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){uv(i,r,c)},function(c){return id(i,r,c)}):uv(i,r,o)}function uv(i,r,o){r.status="fulfilled",r.value=o,hv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,lv(i,o)))}function id(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,hv(r),r=r.next;while(r!==c)}i.action=null}function hv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function dv(i,r){return r}function fv(i,r){if(Ee){var o=ke.formState;if(o!==null){e:{var c=de;if(Ee){if(pt){t:{for(var h=pt,p=An;h.nodeType!==8;){if(!p){h=null;break t}if(h=gn(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){pt=gn(h.nextSibling),c=h.data==="F!";break e}}_s(c)}c=!1}c&&(r=o[0])}}return o=Lt(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dv,lastRenderedState:r},o.queue=c,o=Ov.bind(null,de,c),c.dispatch=o,c=nd(!1),p=cd.bind(null,de,!1,c.queue),c=Lt(),h={state:r,dispatch:null,action:i,pending:null},c.queue=h,o=nA.bind(null,de,h,p,o),h.dispatch=o,c.memoizedState=i,[r,o,!1]}function mv(i){var r=tt();return pv(r,Ae,i)}function pv(i,r,o){r=ed(i,r,dv)[0],i=rc(Yn)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?qa(r):r;var c=tt(),h=c.queue,p=h.dispatch;return o!==c.memoizedState&&(de.flags|=2048,Cr(9,iA.bind(null,h,o),{destroy:void 0},null)),[r,p,i]}function iA(i,r){i.action=r}function gv(i){var r=tt(),o=Ae;if(o!==null)return pv(r,o,i);tt(),r=r.memoizedState,o=tt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Cr(i,r,o,c){return i={tag:i,create:r,inst:o,deps:c,next:null},r=de.updateQueue,r===null&&(r=ic(),de.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function yv(){return tt().memoizedState}function ac(i,r,o,c){var h=Lt();de.flags|=i,h.memoizedState=Cr(1|r,o,{destroy:void 0},c===void 0?null:c)}function oc(i,r,o,c){var h=tt();c=c===void 0?null:c;var p=h.memoizedState.inst;Ae!==null&&c!==null&&$h(c,Ae.memoizedState.deps)?h.memoizedState=Cr(r,o,p,c):(de.flags|=i,h.memoizedState=Cr(1|r,o,p,c))}function vv(i,r){ac(8390656,8,i,r)}function sd(i,r){oc(2048,8,i,r)}function _v(i,r){return oc(4,2,i,r)}function bv(i,r){return oc(4,4,i,r)}function xv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Ev(i,r,o){o=o!=null?o.concat([i]):null,oc(4,4,xv.bind(null,r,i),o)}function rd(){}function Sv(i,r){var o=tt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&$h(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function wv(i,r){var o=tt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&$h(r,c[1]))return c[0];if(c=i(),Es){xi(!0);try{i()}finally{xi(!1)}}return o.memoizedState=[c,r],c}function ad(i,r,o){return o===void 0||Ai&1073741824?i.memoizedState=r:(i.memoizedState=o,i=C_(),de.lanes|=i,Ui|=i,o)}function Tv(i,r,o,c){return zt(o,r)?o:xr.current!==null?(i=ad(i,o,c),zt(i,r)||(lt=!0),i):Ai&42?(i=C_(),de.lanes|=i,Ui|=i,r):(lt=!0,i.memoizedState=o)}function Cv(i,r,o,c,h){var p=W.p;W.p=p!==0&&8>p?p:8;var _=q.T,x={};q.T=x,cd(i,!1,r,o);try{var w=h(),O=q.S;if(O!==null&&O(x,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var V=JC(w,c);Ga(i,r,V,Gt(i))}else Ga(i,r,c,Gt(i))}catch(z){Ga(i,r,{then:function(){},status:"rejected",reason:z},Gt())}finally{W.p=p,q.T=_}}function sA(){}function od(i,r,o,c){if(i.tag!==5)throw Error(s(476));var h=Av(i).queue;Cv(i,h,r,_e,o===null?sA:function(){return Rv(i),o(c)})}function Av(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:_e},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Rv(i){var r=Av(i).next.queue;Ga(i,r,{},Gt())}function ld(){return bt(ho)}function Nv(){return tt().memoizedState}function Dv(){return tt().memoizedState}function rA(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Gt();i=Oi(o);var c=ki(r,i,o);c!==null&&(Rt(c,r,o),$a(c,r,o)),r={cache:Gh()},i.payload=r;return}r=r.return}}function aA(i,r,o){var c=Gt();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},lc(i)?kv(r,o):(o=jh(i,r,o,c),o!==null&&(Rt(o,i,c),Iv(o,r,c)))}function Ov(i,r,o){var c=Gt();Ga(i,r,o,c)}function Ga(i,r,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(lc(i))kv(r,h);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,x=p(_,o);if(h.hasEagerState=!0,h.eagerState=x,zt(x,_))return Gl(i,r,h,0),ke===null&&ql(),!1}catch{}finally{}if(o=jh(i,r,h,c),o!==null)return Rt(o,i,c),Iv(o,r,c),!0}return!1}function cd(i,r,o,c){if(c={lane:2,revertLane:Zd(),action:c,hasEagerState:!1,eagerState:null,next:null},lc(i)){if(r)throw Error(s(479))}else r=jh(i,o,c,2),r!==null&&Rt(r,i,2)}function lc(i){var r=i.alternate;return i===de||r!==null&&r===de}function kv(i,r){wr=tc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Iv(i,r,o){if(o&4194176){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,qg(i,o)}}var Nn={readContext:bt,use:sc,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe};Nn.useCacheRefresh=Xe,Nn.useMemoCache=Xe,Nn.useHostTransitionStatus=Xe,Nn.useFormState=Xe,Nn.useActionState=Xe,Nn.useOptimistic=Xe;var Ss={readContext:bt,use:sc,useCallback:function(i,r){return Lt().memoizedState=[i,r===void 0?null:r],i},useContext:bt,useEffect:vv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,ac(4194308,4,xv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return ac(4194308,4,i,r)},useInsertionEffect:function(i,r){ac(4,2,i,r)},useMemo:function(i,r){var o=Lt();r=r===void 0?null:r;var c=i();if(Es){xi(!0);try{i()}finally{xi(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=Lt();if(o!==void 0){var h=o(r);if(Es){xi(!0);try{o(r)}finally{xi(!1)}}}else h=r;return c.memoizedState=c.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},c.queue=i,i=i.dispatch=aA.bind(null,de,i),[c.memoizedState,i]},useRef:function(i){var r=Lt();return i={current:i},r.memoizedState=i},useState:function(i){i=nd(i);var r=i.queue,o=Ov.bind(null,de,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:rd,useDeferredValue:function(i,r){var o=Lt();return ad(o,i,r)},useTransition:function(){var i=nd(!1);return i=Cv.bind(null,de,i.queue,!0,!1),Lt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=de,h=Lt();if(Ee){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ke===null)throw Error(s(349));be&60||nv(c,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,vv(sv.bind(null,c,p,i),[i]),c.flags|=2048,Cr(9,iv.bind(null,c,p,o,r),{destroy:void 0},null),o},useId:function(){var i=Lt(),r=ke.identifierPrefix;if(Ee){var o=qn,c=Fn;o=(c&~(1<<32-Bt(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=nc++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=eA++,r=":"+r+"r"+o.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return Lt().memoizedState=rA.bind(null,de)}};Ss.useMemoCache=Jh,Ss.useHostTransitionStatus=ld,Ss.useFormState=fv,Ss.useActionState=fv,Ss.useOptimistic=function(i){var r=Lt();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=cd.bind(null,de,!0,o),o.dispatch=r,[i,r]};var Ri={readContext:bt,use:sc,useCallback:Sv,useContext:bt,useEffect:sd,useImperativeHandle:Ev,useInsertionEffect:_v,useLayoutEffect:bv,useMemo:wv,useReducer:rc,useRef:yv,useState:function(){return rc(Yn)},useDebugValue:rd,useDeferredValue:function(i,r){var o=tt();return Tv(o,Ae.memoizedState,i,r)},useTransition:function(){var i=rc(Yn)[0],r=tt().memoizedState;return[typeof i=="boolean"?i:qa(i),r]},useSyncExternalStore:tv,useId:Nv};Ri.useCacheRefresh=Dv,Ri.useMemoCache=Jh,Ri.useHostTransitionStatus=ld,Ri.useFormState=mv,Ri.useActionState=mv,Ri.useOptimistic=function(i,r){var o=tt();return ov(o,Ae,i,r)};var ws={readContext:bt,use:sc,useCallback:Sv,useContext:bt,useEffect:sd,useImperativeHandle:Ev,useInsertionEffect:_v,useLayoutEffect:bv,useMemo:wv,useReducer:td,useRef:yv,useState:function(){return td(Yn)},useDebugValue:rd,useDeferredValue:function(i,r){var o=tt();return Ae===null?ad(o,i,r):Tv(o,Ae.memoizedState,i,r)},useTransition:function(){var i=td(Yn)[0],r=tt().memoizedState;return[typeof i=="boolean"?i:qa(i),r]},useSyncExternalStore:tv,useId:Nv};ws.useCacheRefresh=Dv,ws.useMemoCache=Jh,ws.useHostTransitionStatus=ld,ws.useFormState=gv,ws.useActionState=gv,ws.useOptimistic=function(i,r){var o=tt();return Ae!==null?ov(o,Ae,i,r):(o.baseState=i,[i,o.queue.dispatch])};function ud(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:Q({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var hd={isMounted:function(i){return(i=i._reactInternals)?te(i)===i:!1},enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Gt(),h=Oi(c);h.payload=r,o!=null&&(h.callback=o),r=ki(i,h,c),r!==null&&(Rt(r,i,c),$a(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Gt(),h=Oi(c);h.tag=1,h.payload=r,o!=null&&(h.callback=o),r=ki(i,h,c),r!==null&&(Rt(r,i,c),$a(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Gt(),c=Oi(o);c.tag=2,r!=null&&(c.callback=r),r=ki(i,c,o),r!==null&&(Rt(r,i,o),$a(r,i,o))}};function Mv(i,r,o,c,h,p,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,_):r.prototype&&r.prototype.isPureReactComponent?!ka(o,c)||!ka(h,p):!0}function Lv(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&hd.enqueueReplaceState(r,r.state,null)}function Ts(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=Q({},o));for(var h in i)o[h]===void 0&&(o[h]=i[h])}return o}var cc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Pv(i){cc(i)}function Uv(i){console.error(i)}function jv(i){cc(i)}function uc(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Vv(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(i,r,o){return o=Oi(o),o.tag=3,o.payload={element:null},o.callback=function(){uc(i,r)},o}function Bv(i){return i=Oi(i),i.tag=3,i}function zv(i,r,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=c.value;i.payload=function(){return h(p)},i.callback=function(){Vv(r,o,c)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Vv(r,o,c),typeof h!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function oA(i,r,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Ka(r,o,h,!0),o=sn.current,o!==null){switch(o.tag){case 13:return Rn===null?Kd():o.alternate===null&&qe===0&&(qe=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===Hh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Wd(i,c,h)),!1;case 22:return o.flags|=65536,c===Hh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Wd(i,c,h)),!1}throw Error(s(435,o.tag))}return Wd(i,c,h),Kd(),!1}if(Ee)return r=sn.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=h,c!==zh&&(i=Error(s(422),{cause:c}),Pa(en(i,o)))):(c!==zh&&(r=Error(s(423),{cause:c}),Pa(en(r,o))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,c=en(c,o),h=dd(i.stateNode,c,h),Ad(i,h),qe!==4&&(qe=2)),!1;var p=Error(s(520),{cause:c});if(p=en(p,o),no===null?no=[p]:no.push(p),qe!==4&&(qe=2),r===null)return!0;c=en(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=h&-h,o.lanes|=i,i=dd(o.stateNode,c,i),Ad(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ji===null||!ji.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Bv(h),zv(h,i,o,c),Ad(o,h),!1}o=o.return}while(o!==null);return!1}var Hv=Error(s(461)),lt=!1;function gt(i,r,o,c){r.child=i===null?Ky(r,null,o,c):bs(r,i.child,o,c)}function Fv(i,r,o,c,h){o=o.render;var p=r.ref;if("ref"in c){var _={};for(var x in c)x!=="ref"&&(_[x]=c[x])}else _=c;return As(r),c=Wh(i,r,o,_,p,h),x=Xh(),i!==null&&!lt?(Qh(i,r,h),Kn(i,r,h)):(Ee&&x&&Vh(r),r.flags|=1,gt(i,r,c,h),r.child)}function qv(i,r,o,c,h){if(i===null){var p=o.type;return typeof p=="function"&&!Ld(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Gv(i,r,p,c,h)):(i=pc(o.type,null,c,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!xd(i,h)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:ka,o(_,c)&&i.ref===r.ref)return Kn(i,r,h)}return r.flags|=1,i=Pi(p,c),i.ref=r.ref,i.return=r,r.child=i}function Gv(i,r,o,c,h){if(i!==null){var p=i.memoizedProps;if(ka(p,c)&&i.ref===r.ref)if(lt=!1,r.pendingProps=c=p,xd(i,h))i.flags&131072&&(lt=!0);else return r.lanes=i.lanes,Kn(i,r,h)}return fd(i,r,o,c,h)}function Yv(i,r,o){var c=r.pendingProps,h=c.children,p=(r.stateNode._pendingVisibility&2)!==0,_=i!==null?i.memoizedState:null;if(Ya(i,r),c.mode==="hidden"||p){if(r.flags&128){if(c=_!==null?_.baseLanes|o:o,i!==null){for(h=r.child=i.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;r.childLanes=p&~c}else r.childLanes=0,r.child=null;return Kv(i,r,c,o)}if(o&536870912)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&ec(r,_!==null?_.cachePool:null),_!==null?$y(r,_):Fh(),Wy(r);else return r.lanes=r.childLanes=536870912,Kv(i,r,_!==null?_.baseLanes|o:o,o)}else _!==null?(ec(r,_.cachePool),$y(r,_),Ci(),r.memoizedState=null):(i!==null&&ec(r,null),Fh(),Ci());return gt(i,r,h,o),r.child}function Kv(i,r,o,c){var h=Kh();return h=h===null?null:{parent:st._currentValue,pool:h},r.memoizedState={baseLanes:o,cachePool:h},i!==null&&ec(r,null),Fh(),Wy(r),i!==null&&Ka(i,r,c,!0),null}function Ya(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=2097664)}}function fd(i,r,o,c,h){return As(r),o=Wh(i,r,o,c,void 0,h),c=Xh(),i!==null&&!lt?(Qh(i,r,h),Kn(i,r,h)):(Ee&&c&&Vh(r),r.flags|=1,gt(i,r,o,h),r.child)}function $v(i,r,o,c,h,p){return As(r),r.updateQueue=null,o=ev(r,c,o,h),Jy(i),c=Xh(),i!==null&&!lt?(Qh(i,r,p),Kn(i,r,p)):(Ee&&c&&Vh(r),r.flags|=1,gt(i,r,o,p),r.child)}function Wv(i,r,o,c,h){if(As(r),r.stateNode===null){var p=yr,_=o.contextType;typeof _=="object"&&_!==null&&(p=bt(_)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=hd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},Td(r),_=o.contextType,p.context=typeof _=="object"&&_!==null?bt(_):yr,p.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(ud(r,o,_,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&hd.enqueueReplaceState(p,p.state,null),Xa(r,c,p,h),Wa(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var x=r.memoizedProps,w=Ts(o,x);p.props=w;var O=p.context,V=o.contextType;_=yr,typeof V=="object"&&V!==null&&(_=bt(V));var z=o.getDerivedStateFromProps;V=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,V||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||O!==_)&&Lv(r,p,c,_),Di=!1;var P=r.memoizedState;p.state=P,Xa(r,c,p,h),Wa(),O=r.memoizedState,x||P!==O||Di?(typeof z=="function"&&(ud(r,o,z,c),O=r.memoizedState),(w=Di||Mv(r,o,w,c,P,O,_))?(V||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=O),p.props=c,p.state=O,p.context=_,c=w):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,Cd(i,r),_=r.memoizedProps,V=Ts(o,_),p.props=V,z=r.pendingProps,P=p.context,O=o.contextType,w=yr,typeof O=="object"&&O!==null&&(w=bt(O)),x=o.getDerivedStateFromProps,(O=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==z||P!==w)&&Lv(r,p,c,w),Di=!1,P=r.memoizedState,p.state=P,Xa(r,c,p,h),Wa();var j=r.memoizedState;_!==z||P!==j||Di||i!==null&&i.dependencies!==null&&hc(i.dependencies)?(typeof x=="function"&&(ud(r,o,x,c),j=r.memoizedState),(V=Di||Mv(r,o,V,c,P,j,w)||i!==null&&i.dependencies!==null&&hc(i.dependencies))?(O||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,j,w),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,j,w)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=j),p.props=c,p.state=j,p.context=w,c=V):(typeof p.componentDidUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,Ya(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=bs(r,i.child,null,h),r.child=bs(r,null,o,h)):gt(i,r,o,h),r.memoizedState=p.state,i=r.child):i=Kn(i,r,h),i}function Xv(i,r,o,c){return La(),r.flags|=256,gt(i,r,o,c),r.child}var md={dehydrated:null,treeContext:null,retryLane:0};function pd(i){return{baseLanes:i,cachePool:Zy()}}function gd(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ln),i}function Qv(i,r,o){var c=r.pendingProps,h=!1,p=(r.flags&128)!==0,_;if((_=p)||(_=i!==null&&i.memoizedState===null?!1:(it.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ee){if(h?Ti(r):Ci(),Ee){var x=pt,w;if(w=x){e:{for(w=x,x=An;w.nodeType!==8;){if(!x){x=null;break e}if(w=gn(w.nextSibling),w===null){x=null;break e}}x=w}x!==null?(r.memoizedState={dehydrated:x,treeContext:ys!==null?{id:Fn,overflow:qn}:null,retryLane:536870912},w=on(18,null,null,0),w.stateNode=x,w.return=r,r.child=w,At=r,pt=null,w=!0):w=!1}w||_s(r)}if(x=r.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return x.data==="$!"?r.lanes=16:r.lanes=536870912,null;Gn(r)}return x=c.children,c=c.fallback,h?(Ci(),h=r.mode,x=vd({mode:"hidden",children:x},h),c=Ns(c,h,o,null),x.return=r,c.return=r,x.sibling=c,r.child=x,h=r.child,h.memoizedState=pd(o),h.childLanes=gd(i,_,o),r.memoizedState=md,c):(Ti(r),yd(r,x))}if(w=i.memoizedState,w!==null&&(x=w.dehydrated,x!==null)){if(p)r.flags&256?(Ti(r),r.flags&=-257,r=_d(i,r,o)):r.memoizedState!==null?(Ci(),r.child=i.child,r.flags|=128,r=null):(Ci(),h=c.fallback,x=r.mode,c=vd({mode:"visible",children:c.children},x),h=Ns(h,x,o,null),h.flags|=2,c.return=r,h.return=r,c.sibling=h,r.child=c,bs(r,i.child,null,o),c=r.child,c.memoizedState=pd(o),c.childLanes=gd(i,_,o),r.memoizedState=md,r=h);else if(Ti(r),x.data==="$!"){if(_=x.nextSibling&&x.nextSibling.dataset,_)var O=_.dgst;_=O,c=Error(s(419)),c.stack="",c.digest=_,Pa({value:c,source:null,stack:null}),r=_d(i,r,o)}else if(lt||Ka(i,r,o,!1),_=(o&i.childLanes)!==0,lt||_){if(_=ke,_!==null){if(c=o&-o,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(_.suspendedLanes|o)?0:c,c!==0&&c!==w.retryLane)throw w.retryLane=c,wi(i,c),Rt(_,i,c),Hv}x.data==="$?"||Kd(),r=_d(i,r,o)}else x.data==="$?"?(r.flags|=128,r.child=i.child,r=EA.bind(null,i),x._reactRetry=r,r=null):(i=w.treeContext,pt=gn(x.nextSibling),At=r,Ee=!0,mn=null,An=!1,i!==null&&(tn[nn++]=Fn,tn[nn++]=qn,tn[nn++]=ys,Fn=i.id,qn=i.overflow,ys=r),r=yd(r,c.children),r.flags|=4096);return r}return h?(Ci(),h=c.fallback,x=r.mode,w=i.child,O=w.sibling,c=Pi(w,{mode:"hidden",children:c.children}),c.subtreeFlags=w.subtreeFlags&31457280,O!==null?h=Pi(O,h):(h=Ns(h,x,o,null),h.flags|=2),h.return=r,c.return=r,c.sibling=h,r.child=c,c=h,h=r.child,x=i.child.memoizedState,x===null?x=pd(o):(w=x.cachePool,w!==null?(O=st._currentValue,w=w.parent!==O?{parent:O,pool:O}:w):w=Zy(),x={baseLanes:x.baseLanes|o,cachePool:w}),h.memoizedState=x,h.childLanes=gd(i,_,o),r.memoizedState=md,c):(Ti(r),o=i.child,i=o.sibling,o=Pi(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function yd(i,r){return r=vd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function vd(i,r){return S_(i,r,0,null)}function _d(i,r,o){return bs(r,i.child,null,o),i=yd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Zv(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Sd(i.return,r,o)}function bd(i,r,o,c,h){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=h)}function Jv(i,r,o){var c=r.pendingProps,h=c.revealOrder,p=c.tail;if(gt(i,r,c.children,o),c=it.current,c&2)c=c&1|2,r.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Zv(i,o,r);else if(i.tag===19)Zv(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(je(it,c),h){case"forwards":for(o=r.child,h=null;o!==null;)i=o.alternate,i!==null&&Jl(i)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),bd(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&Jl(i)===null){r.child=h;break}i=h.sibling,h.sibling=o,o=h,h=i}bd(r,!0,o,null,p);break;case"together":bd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Kn(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ui|=r.lanes,!(o&r.childLanes))if(i!==null){if(Ka(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Pi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Pi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function xd(i,r){return i.lanes&r?!0:(i=i.dependencies,!!(i!==null&&hc(i)))}function lA(i,r,o){switch(r.tag){case 3:Al(r,r.stateNode.containerInfo),Ni(r,st,i.memoizedState.cache),La();break;case 27:case 5:hh(r);break;case 4:Al(r,r.stateNode.containerInfo);break;case 10:Ni(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Ti(r),r.flags|=128,null):o&r.child.childLanes?Qv(i,r,o):(Ti(r),i=Kn(i,r,o),i!==null?i.sibling:null);Ti(r);break;case 19:var h=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Ka(i,r,o,!1),c=(o&r.childLanes)!==0),h){if(c)return Jv(i,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),je(it,it.current),c)break;return null;case 22:case 23:return r.lanes=0,Yv(i,r,o);case 24:Ni(r,st,i.memoizedState.cache)}return Kn(i,r,o)}function e_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)lt=!0;else{if(!xd(i,o)&&!(r.flags&128))return lt=!1,lA(i,r,o);lt=!!(i.flags&131072)}else lt=!1,Ee&&r.flags&1048576&&jy(r,$l,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var c=r.elementType,h=c._init;if(c=h(c._payload),r.type=c,typeof c=="function")Ld(c)?(i=Ts(c,i),r.tag=1,r=Wv(null,r,c,i,o)):(r.tag=0,r=fd(null,r,c,i,o));else{if(c!=null){if(h=c.$$typeof,h===S){r.tag=11,r=Fv(null,r,c,i,o);break e}else if(h===N){r.tag=14,r=qv(null,r,c,i,o);break e}}throw r=Y(c)||c,Error(s(306,r,""))}}return r;case 0:return fd(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,h=Ts(c,r.pendingProps),Wv(i,r,c,h,o);case 3:e:{if(Al(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var p=r.pendingProps;h=r.memoizedState,c=h.element,Cd(i,r),Xa(r,p,null,o);var _=r.memoizedState;if(p=_.cache,Ni(r,st,p),p!==h.cache&&wd(r,[st],o,!0),Wa(),p=_.element,h.isDehydrated)if(h={element:p,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Xv(i,r,p,o);break e}else if(p!==c){c=en(Error(s(424)),r),Pa(c),r=Xv(i,r,p,o);break e}else for(pt=gn(r.stateNode.containerInfo.firstChild),At=r,Ee=!0,mn=null,An=!0,o=Ky(r,null,p,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(La(),p===c){r=Kn(i,r,o);break e}gt(i,r,p,o)}r=r.child}return r;case 26:return Ya(i,r),i===null?(o=i0(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ee||(o=r.type,i=r.pendingProps,c=Ac(bi.current).createElement(o),c[_t]=r,c[It]=i,yt(c,o,i),ot(c),r.stateNode=c):r.memoizedState=i0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return hh(r),i===null&&Ee&&(c=r.stateNode=e0(r.type,r.pendingProps,bi.current),At=r,An=!0,pt=gn(c.firstChild)),c=r.pendingProps.children,i!==null||Ee?gt(i,r,c,o):r.child=bs(r,null,c,o),Ya(i,r),r.child;case 5:return i===null&&Ee&&((h=c=pt)&&(c=jA(c,r.type,r.pendingProps,An),c!==null?(r.stateNode=c,At=r,pt=gn(c.firstChild),An=!1,h=!0):h=!1),h||_s(r)),hh(r),h=r.type,p=r.pendingProps,_=i!==null?i.memoizedProps:null,c=p.children,lf(h,p)?c=null:_!==null&&lf(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Wh(i,r,tA,null,null,o),ho._currentValue=h),Ya(i,r),gt(i,r,c,o),r.child;case 6:return i===null&&Ee&&((i=o=pt)&&(o=VA(o,r.pendingProps,An),o!==null?(r.stateNode=o,At=r,pt=null,i=!0):i=!1),i||_s(r)),null;case 13:return Qv(i,r,o);case 4:return Al(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=bs(r,null,c,o):gt(i,r,c,o),r.child;case 11:return Fv(i,r,r.type,r.pendingProps,o);case 7:return gt(i,r,r.pendingProps,o),r.child;case 8:return gt(i,r,r.pendingProps.children,o),r.child;case 12:return gt(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Ni(r,r.type,c.value),gt(i,r,c.children,o),r.child;case 9:return h=r.type._context,c=r.pendingProps.children,As(r),h=bt(h),c=c(h),r.flags|=1,gt(i,r,c,o),r.child;case 14:return qv(i,r,r.type,r.pendingProps,o);case 15:return Gv(i,r,r.type,r.pendingProps,o);case 19:return Jv(i,r,o);case 22:return Yv(i,r,o);case 24:return As(r),c=bt(st),i===null?(h=Kh(),h===null&&(h=ke,p=Gh(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),r.memoizedState={parent:c,cache:h},Td(r),Ni(r,st,h)):(i.lanes&o&&(Cd(i,r),Xa(r,null,null,o),Wa()),h=i.memoizedState,p=r.memoizedState,h.parent!==c?(h={parent:c,cache:c},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ni(r,st,c)):(c=p.cache,Ni(r,st,c),c!==h.cache&&wd(r,[st],o,!0))),gt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Ed=Ce(null),Cs=null,$n=null;function Ni(i,r,o){je(Ed,r._currentValue),r._currentValue=o}function Wn(i){i._currentValue=Ed.current,Je(Ed)}function Sd(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function wd(i,r,o,c){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var p=h.dependencies;if(p!==null){var _=h.child;p=p.firstContext;e:for(;p!==null;){var x=p;p=h;for(var w=0;w<r.length;w++)if(x.context===r[w]){p.lanes|=o,x=p.alternate,x!==null&&(x.lanes|=o),Sd(p.return,o,i),c||(_=null);break e}p=x.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=o,p=_.alternate,p!==null&&(p.lanes|=o),Sd(_,o,i),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===i){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ka(i,r,o,c){i=null;for(var h=r,p=!1;h!==null;){if(!p){if(h.flags&524288)p=!0;else if(h.flags&262144)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var x=h.type;zt(h.pendingProps.value,_.value)||(i!==null?i.push(x):i=[x])}}else if(h===Cl.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(ho):i=[ho])}h=h.return}i!==null&&wd(r,i,o,c),r.flags|=262144}function hc(i){for(i=i.firstContext;i!==null;){if(!zt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function As(i){Cs=i,$n=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function bt(i){return t_(Cs,i)}function dc(i,r){return Cs===null&&As(i),t_(i,r)}function t_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},$n===null){if(i===null)throw Error(s(308));$n=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else $n=$n.next=r;return o}var Di=!1;function Td(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Oi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ki(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,Be&2){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,r=Yl(i),Py(i,null,o),r}return Gl(i,c,r,o),Yl(i)}function $a(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194176)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,qg(i,o)}}function Ad(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Rd=!1;function Wa(){if(Rd){var i=Sr;if(i!==null)throw i}}function Xa(i,r,o,c){Rd=!1;var h=i.updateQueue;Di=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var w=x,O=w.next;w.next=null,_===null?p=O:_.next=O,_=w;var V=i.alternate;V!==null&&(V=V.updateQueue,x=V.lastBaseUpdate,x!==_&&(x===null?V.firstBaseUpdate=O:x.next=O,V.lastBaseUpdate=w))}if(p!==null){var z=h.baseState;_=0,V=O=w=null,x=p;do{var P=x.lane&-536870913,j=P!==x.lane;if(j?(be&P)===P:(c&P)===P){P!==0&&P===Er&&(Rd=!0),V!==null&&(V=V.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var J=i,ce=x;P=r;var Ge=o;switch(ce.tag){case 1:if(J=ce.payload,typeof J=="function"){z=J.call(Ge,z,P);break e}z=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=ce.payload,P=typeof J=="function"?J.call(Ge,z,P):J,P==null)break e;z=Q({},z,P);break e;case 2:Di=!0}}P=x.callback,P!==null&&(i.flags|=64,j&&(i.flags|=8192),j=h.callbacks,j===null?h.callbacks=[P]:j.push(P))}else j={lane:P,tag:x.tag,payload:x.payload,callback:x.callback,next:null},V===null?(O=V=j,w=z):V=V.next=j,_|=P;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;j=x,x=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);V===null&&(w=z),h.baseState=w,h.firstBaseUpdate=O,h.lastBaseUpdate=V,p===null&&(h.shared.lanes=0),Ui|=_,i.lanes=_,i.memoizedState=z}}function n_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function i_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)n_(o[i],r)}function Qa(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&i)===i){c=void 0;var p=o.create,_=o.inst;c=p(),_.destroy=c}o=o.next}while(o!==h)}}catch(x){De(r,r.return,x)}}function Ii(i,r,o){try{var c=r.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var p=h.next;c=p;do{if((c.tag&i)===i){var _=c.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,h=r;var w=o;try{x()}catch(O){De(h,w,O)}}}c=c.next}while(c!==p)}}catch(O){De(r,r.return,O)}}function s_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{i_(r,o)}catch(c){De(i,i.return,c)}}}function r_(i,r,o){o.props=Ts(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){De(i,r,c)}}function Rs(i,r){try{var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var h=c;break;default:h=c}typeof o=="function"?i.refCleanup=o(h):o.current=h}}catch(p){De(i,r,p)}}function Ht(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){De(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){De(i,r,h)}else o.current=null}function a_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){De(i,i.return,h)}}function o_(i,r,o){try{var c=i.stateNode;IA(c,i.type,o,r),c[It]=r}catch(h){De(i,i.return,h)}}function l_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Nd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||l_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Dd(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(i,r):o.insertBefore(i,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(i,o)):(r=o,r.appendChild(i)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Cc));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(Dd(i,r,o),i=i.sibling;i!==null;)Dd(i,r,o),i=i.sibling}function fc(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(fc(i,r,o),i=i.sibling;i!==null;)fc(i,r,o),i=i.sibling}var Xn=!1,Fe=!1,Od=!1,c_=typeof WeakSet=="function"?WeakSet:Set,ct=null,u_=!1;function cA(i,r){if(i=i.containerInfo,af=Ic,i=Ay(i),Ih(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,x=-1,w=-1,O=0,V=0,z=i,P=null;t:for(;;){for(var j;z!==o||h!==0&&z.nodeType!==3||(x=_+h),z!==p||c!==0&&z.nodeType!==3||(w=_+c),z.nodeType===3&&(_+=z.nodeValue.length),(j=z.firstChild)!==null;)P=z,z=j;for(;;){if(z===i)break t;if(P===o&&++O===h&&(x=_),P===p&&++V===c&&(w=_),(j=z.nextSibling)!==null)break;z=P,P=z.parentNode}z=j}o=x===-1||w===-1?null:{start:x,end:w}}else o=null}o=o||{start:0,end:0}}else o=null;for(of={focusedElem:i,selectionRange:o},Ic=!1,ct=r;ct!==null;)if(r=ct,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,ct=i;else for(;ct!==null;){switch(r=ct,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&p!==null){i=void 0,o=r,h=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var J=Ts(o.type,h,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(J,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(ce){De(o,o.return,ce)}}break;case 3:if(i&1024){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)hf(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,ct=i;break}ct=r.return}return J=u_,u_=!1,J}function h_(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Zn(i,o),c&4&&Qa(5,o);break;case 1:if(Zn(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(x){De(o,o.return,x)}else{var h=Ts(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(x){De(o,o.return,x)}}c&64&&s_(o),c&512&&Rs(o,o.return);break;case 3:if(Zn(i,o),c&64&&(c=o.updateQueue,c!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{i_(c,i)}catch(x){De(o,o.return,x)}}break;case 26:Zn(i,o),c&512&&Rs(o,o.return);break;case 27:case 5:Zn(i,o),r===null&&c&4&&a_(o),c&512&&Rs(o,o.return);break;case 12:Zn(i,o);break;case 13:Zn(i,o),c&4&&m_(i,o);break;case 22:if(h=o.memoizedState!==null||Xn,!h){r=r!==null&&r.memoizedState!==null||Fe;var p=Xn,_=Fe;Xn=h,(Fe=r)&&!_?Mi(i,o,(o.subtreeFlags&8772)!==0):Zn(i,o),Xn=p,Fe=_}c&512&&(o.memoizedProps.mode==="manual"?Rs(o,o.return):Ht(o,o.return));break;default:Zn(i,o)}}function d_(i){var r=i.alternate;r!==null&&(i.alternate=null,d_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&yh(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var nt=null,Ft=!1;function Qn(i,r,o){for(o=o.child;o!==null;)f_(i,r,o),o=o.sibling}function f_(i,r,o){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(ba,o)}catch{}switch(o.tag){case 26:Fe||Ht(o,r),Qn(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Fe||Ht(o,r);var c=nt,h=Ft;for(nt=o.stateNode,Qn(i,r,o),o=o.stateNode,r=o.attributes;r.length;)o.removeAttributeNode(r[0]);yh(o),nt=c,Ft=h;break;case 5:Fe||Ht(o,r);case 6:h=nt;var p=Ft;if(nt=null,Qn(i,r,o),nt=h,Ft=p,nt!==null)if(Ft)try{i=nt,c=o.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(_){De(o,r,_)}else try{nt.removeChild(o.stateNode)}catch(_){De(o,r,_)}break;case 18:nt!==null&&(Ft?(r=nt,o=o.stateNode,r.nodeType===8?uf(r.parentNode,o):r.nodeType===1&&uf(r,o),go(r)):uf(nt,o.stateNode));break;case 4:c=nt,h=Ft,nt=o.stateNode.containerInfo,Ft=!0,Qn(i,r,o),nt=c,Ft=h;break;case 0:case 11:case 14:case 15:Fe||Ii(2,o,r),Fe||Ii(4,o,r),Qn(i,r,o);break;case 1:Fe||(Ht(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&r_(o,r,c)),Qn(i,r,o);break;case 21:Qn(i,r,o);break;case 22:Fe||Ht(o,r),Fe=(c=Fe)||o.memoizedState!==null,Qn(i,r,o),Fe=c;break;default:Qn(i,r,o)}}function m_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{go(i)}catch(o){De(r,r.return,o)}}function uA(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new c_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new c_),r;default:throw Error(s(435,i.tag))}}function kd(i,r){var o=uA(i);r.forEach(function(c){var h=SA.bind(null,i,c);o.has(c)||(o.add(c),c.then(h,h))})}function rn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],p=i,_=r,x=_;e:for(;x!==null;){switch(x.tag){case 27:case 5:nt=x.stateNode,Ft=!1;break e;case 3:nt=x.stateNode.containerInfo,Ft=!0;break e;case 4:nt=x.stateNode.containerInfo,Ft=!0;break e}x=x.return}if(nt===null)throw Error(s(160));f_(p,_,h),nt=null,Ft=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)p_(r,i),r=r.sibling}var pn=null;function p_(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:rn(r,i),an(i),c&4&&(Ii(3,i,i.return),Qa(3,i),Ii(5,i,i.return));break;case 1:rn(r,i),an(i),c&512&&(Fe||o===null||Ht(o,o.return)),c&64&&Xn&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=pn;if(rn(r,i),an(i),c&512&&(Fe||o===null||Ht(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Sa]||p[_t]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(c),h.head.insertBefore(p,h.querySelector("head > title"))),yt(p,c,o),p[_t]=i,ot(p),c=p;break e;case"link":var _=a0("link","href",h).get(c+(o.href||""));if(_){for(var x=0;x<_.length;x++)if(p=_[x],p.getAttribute("href")===(o.href==null?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(x,1);break t}}p=h.createElement(c),yt(p,c,o),h.head.appendChild(p);break;case"meta":if(_=a0("meta","content",h).get(c+(o.content||""))){for(x=0;x<_.length;x++)if(p=_[x],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(x,1);break t}}p=h.createElement(c),yt(p,c,o),h.head.appendChild(p);break;default:throw Error(s(468,c))}p[_t]=i,ot(p),c=p}i.stateNode=c}else o0(h,i.type,i.stateNode);else i.stateNode=r0(h,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?o0(h,i.type,i.stateNode):r0(h,c,i.memoizedProps)):c===null&&i.stateNode!==null&&o_(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){h=i.stateNode,p=i.memoizedProps;try{for(var w=h.firstChild;w;){var O=w.nextSibling,V=w.nodeName;w[Sa]||V==="HEAD"||V==="BODY"||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=O}for(var z=i.type,P=h.attributes;P.length;)h.removeAttributeNode(P[0]);yt(h,z,p),h[_t]=i,h[It]=p}catch(J){De(i,i.return,J)}}case 5:if(rn(r,i),an(i),c&512&&(Fe||o===null||Ht(o,o.return)),i.flags&32){h=i.stateNode;try{ur(h,"")}catch(J){De(i,i.return,J)}}c&4&&i.stateNode!=null&&(h=i.memoizedProps,o_(i,h,o!==null?o.memoizedProps:h)),c&1024&&(Od=!0);break;case 6:if(rn(r,i),an(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(J){De(i,i.return,J)}}break;case 3:if(Dc=null,h=pn,pn=Rc(r.containerInfo),rn(r,i),pn=h,an(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{go(r.containerInfo)}catch(J){De(i,i.return,J)}Od&&(Od=!1,g_(i));break;case 4:c=pn,pn=Rc(i.stateNode.containerInfo),rn(r,i),an(i),pn=c;break;case 12:rn(r,i),an(i);break;case 13:rn(r,i),an(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(zd=Cn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,kd(i,c)));break;case 22:if(c&512&&(Fe||o===null||Ht(o,o.return)),w=i.memoizedState!==null,O=o!==null&&o.memoizedState!==null,V=Xn,z=Fe,Xn=V||w,Fe=z||O,rn(r,i),Fe=z,Xn=V,an(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,c&8192&&(r._visibility=w?r._visibility&-2:r._visibility|1,w&&(r=Xn||Fe,o===null||O||r||Ar(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(o===null){O=o=r;try{if(h=O.stateNode,w)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{_=O.stateNode,x=O.memoizedProps.style;var j=x!=null&&x.hasOwnProperty("display")?x.display:null;_.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(J){De(O,O.return,J)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=w?"":O.memoizedProps}catch(J){De(O,O.return,J)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,kd(i,o))));break;case 19:rn(r,i),an(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,kd(i,c)));break;case 21:break;default:rn(r,i),an(i)}}function an(i){var r=i.flags;if(r&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(l_(o)){var c=o;break e}o=o.return}throw Error(s(160))}switch(c.tag){case 27:var h=c.stateNode,p=Nd(i);fc(i,p,h);break;case 5:var _=c.stateNode;c.flags&32&&(ur(_,""),c.flags&=-33);var x=Nd(i);fc(i,x,_);break;case 3:case 4:var w=c.stateNode.containerInfo,O=Nd(i);Dd(i,O,w);break;default:throw Error(s(161))}}}catch(V){De(i,i.return,V)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function g_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;g_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Zn(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)h_(i,r.alternate,r),r=r.sibling}function Ar(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ii(4,r,r.return),Ar(r);break;case 1:Ht(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&r_(r,r.return,o),Ar(r);break;case 26:case 27:case 5:Ht(r,r.return),Ar(r);break;case 22:Ht(r,r.return),r.memoizedState===null&&Ar(r);break;default:Ar(r)}i=i.sibling}}function Mi(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,h=i,p=r,_=p.flags;switch(p.tag){case 0:case 11:case 15:Mi(h,p,o),Qa(4,p);break;case 1:if(Mi(h,p,o),c=p,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(O){De(c,c.return,O)}if(c=p,h=c.updateQueue,h!==null){var x=c.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)n_(w[h],x)}catch(O){De(c,c.return,O)}}o&&_&64&&s_(p),Rs(p,p.return);break;case 26:case 27:case 5:Mi(h,p,o),o&&c===null&&_&4&&a_(p),Rs(p,p.return);break;case 12:Mi(h,p,o);break;case 13:Mi(h,p,o),o&&_&4&&m_(h,p);break;case 22:p.memoizedState===null&&Mi(h,p,o),Rs(p,p.return);break;default:Mi(h,p,o)}r=r.sibling}}function Id(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&za(o))}function Md(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&za(i))}function Li(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)y_(i,r,o,c),r=r.sibling}function y_(i,r,o,c){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Li(i,r,o,c),h&2048&&Qa(9,r);break;case 3:Li(i,r,o,c),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&za(i)));break;case 12:if(h&2048){Li(i,r,o,c),i=r.stateNode;try{var p=r.memoizedProps,_=p.id,x=p.onPostCommit;typeof x=="function"&&x(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(w){De(r,r.return,w)}}else Li(i,r,o,c);break;case 23:break;case 22:p=r.stateNode,r.memoizedState!==null?p._visibility&4?Li(i,r,o,c):Za(i,r):p._visibility&4?Li(i,r,o,c):(p._visibility|=4,Rr(i,r,o,c,(r.subtreeFlags&10256)!==0)),h&2048&&Id(r.alternate,r);break;case 24:Li(i,r,o,c),h&2048&&Md(r.alternate,r);break;default:Li(i,r,o,c)}}function Rr(i,r,o,c,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,_=r,x=o,w=c,O=_.flags;switch(_.tag){case 0:case 11:case 15:Rr(p,_,x,w,h),Qa(8,_);break;case 23:break;case 22:var V=_.stateNode;_.memoizedState!==null?V._visibility&4?Rr(p,_,x,w,h):Za(p,_):(V._visibility|=4,Rr(p,_,x,w,h)),h&&O&2048&&Id(_.alternate,_);break;case 24:Rr(p,_,x,w,h),h&&O&2048&&Md(_.alternate,_);break;default:Rr(p,_,x,w,h)}r=r.sibling}}function Za(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,h=c.flags;switch(c.tag){case 22:Za(o,c),h&2048&&Id(c.alternate,c);break;case 24:Za(o,c),h&2048&&Md(c.alternate,c);break;default:Za(o,c)}r=r.sibling}}var Ja=8192;function Nr(i){if(i.subtreeFlags&Ja)for(i=i.child;i!==null;)v_(i),i=i.sibling}function v_(i){switch(i.tag){case 26:Nr(i),i.flags&Ja&&i.memoizedState!==null&&ZA(pn,i.memoizedState,i.memoizedProps);break;case 5:Nr(i);break;case 3:case 4:var r=pn;pn=Rc(i.stateNode.containerInfo),Nr(i),pn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Ja,Ja=16777216,Nr(i),Ja=r):Nr(i));break;default:Nr(i)}}function __(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function eo(i){var r=i.deletions;if(i.flags&16){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];ct=c,x_(c,i)}__(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)b_(i),i=i.sibling}function b_(i){switch(i.tag){case 0:case 11:case 15:eo(i),i.flags&2048&&Ii(9,i,i.return);break;case 3:eo(i);break;case 12:eo(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,mc(i)):eo(i);break;default:eo(i)}}function mc(i){var r=i.deletions;if(i.flags&16){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];ct=c,x_(c,i)}__(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ii(8,r,r.return),mc(r);break;case 22:o=r.stateNode,o._visibility&4&&(o._visibility&=-5,mc(r));break;default:mc(r)}i=i.sibling}}function x_(i,r){for(;ct!==null;){var o=ct;switch(o.tag){case 0:case 11:case 15:Ii(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:za(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,ct=c;else e:for(o=i;ct!==null;){c=ct;var h=c.sibling,p=c.return;if(d_(c),c===o){ct=null;break e}if(h!==null){h.return=p,ct=h;break e}ct=p}}}function hA(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(i,r,o,c){return new hA(i,r,o,c)}function Ld(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Pi(i,r){var o=i.alternate;return o===null?(o=on(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function E_(i,r){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function pc(i,r,o,c,h,p){var _=0;if(c=i,typeof i=="function")Ld(i)&&(_=1);else if(typeof i=="string")_=XA(i,o,Tn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case f:return Ns(o.children,h,p,r);case m:_=8,h|=24;break;case g:return i=on(12,o,r,h|2),i.elementType=g,i.lanes=p,i;case C:return i=on(13,o,r,h),i.elementType=C,i.lanes=p,i;case R:return i=on(19,o,r,h),i.elementType=R,i.lanes=p,i;case k:return S_(o,h,p,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case y:case E:_=10;break e;case v:_=9;break e;case S:_=11;break e;case N:_=14;break e;case L:_=16,c=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=on(_,o,r,h),r.elementType=i,r.type=c,r.lanes=p,r}function Ns(i,r,o,c){return i=on(7,i,c,r),i.lanes=o,i}function S_(i,r,o,c){i=on(22,i,c,r),i.elementType=k,i.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=h._current;if(p===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var _=wi(p,2);_!==null&&(h._pendingVisibility|=2,Rt(_,p,2))}},attach:function(){var p=h._current;if(p===null)throw Error(s(456));if(h._pendingVisibility&2){var _=wi(p,2);_!==null&&(h._pendingVisibility&=-3,Rt(_,p,2))}}};return i.stateNode=h,i}function Pd(i,r,o){return i=on(6,i,null,r),i.lanes=o,i}function Ud(i,r,o){return r=on(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function Jn(i){i.flags|=4}function w_(i,r){if(r.type!=="stylesheet"||r.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!l0(r)){if(r=sn.current,r!==null&&((be&4194176)===be?Rn!==null:(be&62914560)!==be&&!(be&536870912)||r!==Rn))throw ja=Hh,zy;i.flags|=8192}}function gc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Hg():536870912,i.lanes|=r,Or|=r)}function to(i,r){if(!Ee)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Ve(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var h=i.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&31457280,c|=h.flags&31457280,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function dA(i,r,o){var c=r.pendingProps;switch(Bh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(r),null;case 1:return Ve(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Wn(st),sr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ma(r)?Jn(r):i===null||i.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,mn!==null&&(Gd(mn),mn=null))),Ve(r),null;case 26:return o=r.memoizedState,i===null?(Jn(r),o!==null?(Ve(r),w_(r,o)):(Ve(r),r.flags&=-16777217)):o?o!==i.memoizedState?(Jn(r),Ve(r),w_(r,o)):(Ve(r),r.flags&=-16777217):(i.memoizedProps!==c&&Jn(r),Ve(r),r.flags&=-16777217),null;case 27:Rl(r),o=bi.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Jn(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Ve(r),null}i=Tn.current,Ma(r)?Vy(r):(i=e0(h,c,o),r.stateNode=i,Jn(r))}return Ve(r),null;case 5:if(Rl(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Jn(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Ve(r),null}if(i=Tn.current,Ma(r))Vy(r);else{switch(h=Ac(bi.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}i[_t]=r,i[It]=c;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;e:switch(yt(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Jn(r)}}return Ve(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Jn(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=bi.current,Ma(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,h=At,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}i[_t]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||$_(i.nodeValue,o)),i||_s(r)}else i=Ac(i).createTextNode(c),i[_t]=r,r.stateNode=i}return Ve(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Ma(r),c!==null&&c.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_t]=r}else La(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Ve(r),h=!1}else mn!==null&&(Gd(mn),mn=null),h=!0;if(!h)return r.flags&256?(Gn(r),r):(Gn(r),null)}if(Gn(r),r.flags&128)return r.lanes=o,r;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=r.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),gc(r,r.updateQueue),Ve(r),null;case 4:return sr(),i===null&&nf(r.stateNode.containerInfo),Ve(r),null;case 10:return Wn(r.type),Ve(r),null;case 19:if(Je(it),h=r.memoizedState,h===null)return Ve(r),null;if(c=(r.flags&128)!==0,p=h.rendering,p===null)if(c)to(h,!1);else{if(qe!==0||i!==null&&i.flags&128)for(i=r.child;i!==null;){if(p=Jl(i),p!==null){for(r.flags|=128,to(h,!1),i=p.updateQueue,r.updateQueue=i,gc(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)E_(o,i),o=o.sibling;return je(it,it.current&1|2),r.child}i=i.sibling}h.tail!==null&&Cn()>yc&&(r.flags|=128,c=!0,to(h,!1),r.lanes=4194304)}else{if(!c)if(i=Jl(p),i!==null){if(r.flags|=128,c=!0,i=i.updateQueue,r.updateQueue=i,gc(r,i),to(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Ee)return Ve(r),null}else 2*Cn()-h.renderingStartTime>yc&&o!==536870912&&(r.flags|=128,c=!0,to(h,!1),r.lanes=4194304);h.isBackwards?(p.sibling=r.child,r.child=p):(i=h.last,i!==null?i.sibling=p:r.child=p,h.last=p)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Cn(),r.sibling=null,i=it.current,je(it,c?i&1|2:i&1),r):(Ve(r),null);case 22:case 23:return Gn(r),qh(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?o&536870912&&!(r.flags&128)&&(Ve(r),r.subtreeFlags&6&&(r.flags|=8192)):Ve(r),o=r.updateQueue,o!==null&&gc(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&Je(xs),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Wn(st),Ve(r),null;case 25:return null}throw Error(s(156,r.tag))}function fA(i,r){switch(Bh(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Wn(st),sr(),i=r.flags,i&65536&&!(i&128)?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Rl(r),null;case 13:if(Gn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));La()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Je(it),null;case 4:return sr(),null;case 10:return Wn(r.type),null;case 22:case 23:return Gn(r),qh(),i!==null&&Je(xs),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Wn(st),null;case 25:return null;default:return null}}function T_(i,r){switch(Bh(r),r.tag){case 3:Wn(st),sr();break;case 26:case 27:case 5:Rl(r);break;case 4:sr();break;case 13:Gn(r);break;case 19:Je(it);break;case 10:Wn(r.type);break;case 22:case 23:Gn(r),qh(),i!==null&&Je(xs);break;case 24:Wn(st)}}var mA={getCacheForType:function(i){var r=bt(st),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},pA=typeof WeakMap=="function"?WeakMap:Map,Be=0,ke=null,ge=null,be=0,Ie=0,qt=null,ei=!1,Dr=!1,jd=!1,ti=0,qe=0,Ui=0,Ds=0,Vd=0,ln=0,Or=0,no=null,Dn=null,Bd=!1,zd=0,yc=1/0,vc=null,ji=null,_c=!1,Os=null,io=0,Hd=0,Fd=null,so=0,qd=null;function Gt(){if(Be&2&&be!==0)return be&-be;if(q.T!==null){var i=Er;return i!==0?i:Zd()}return Yg()}function C_(){ln===0&&(ln=!(be&536870912)||Ee?zg():536870912);var i=sn.current;return i!==null&&(i.flags|=32),ln}function Rt(i,r,o){(i===ke&&Ie===2||i.cancelPendingCommit!==null)&&(kr(i,0),ni(i,be,ln,!1)),Ea(i,o),(!(Be&2)||i!==ke)&&(i===ke&&(!(Be&2)&&(Ds|=o),qe===4&&ni(i,be,ln,!1)),On(i))}function A_(i,r,o){if(Be&6)throw Error(s(327));var c=!o&&(r&60)===0&&(r&i.expiredLanes)===0||xa(i,r),h=c?vA(i,r):$d(i,r,!0),p=c;do{if(h===0){Dr&&!c&&ni(i,r,0,!1);break}else if(h===6)ni(i,r,0,!ei);else{if(o=i.current.alternate,p&&!gA(o)){h=$d(i,r,!1),p=!1;continue}if(h===2){if(p=r,i.errorRecoveryDisabledLanes&p)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var x=i;h=no;var w=x.current.memoizedState.isDehydrated;if(w&&(kr(x,_).flags|=256),_=$d(x,_,!1),_!==2){if(jd&&!w){x.errorRecoveryDisabledLanes|=p,Ds|=p,h=4;break e}p=Dn,Dn=h,p!==null&&Gd(p)}h=_}if(p=!1,h!==2)continue}}if(h===1){kr(i,0),ni(i,r,0,!0);break}e:{switch(c=i,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){ni(c,r,ln,!ei);break e}break;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(c.finishedWork=o,c.finishedLanes=r,(r&62914560)===r&&(p=zd+300-Cn(),10<p)){if(ni(c,r,ln,!ei),kl(c,0)!==0)break e;c.timeoutHandle=Q_(R_.bind(null,c,o,Dn,vc,Bd,r,ln,Ds,Or,ei,2,-0,0),p);break e}R_(c,o,Dn,vc,Bd,r,ln,Ds,Or,ei,0,-0,0)}}break}while(!0);On(i)}function Gd(i){Dn===null?Dn=i:Dn.push.apply(Dn,i)}function R_(i,r,o,c,h,p,_,x,w,O,V,z,P){var j=r.subtreeFlags;if((j&8192||(j&16785408)===16785408)&&(uo={stylesheets:null,count:0,unsuspend:QA},v_(r),r=JA(),r!==null)){i.cancelPendingCommit=r(L_.bind(null,i,o,c,h,_,x,w,1,z,P)),ni(i,p,_,!O);return}L_(i,o,c,h,_,x,w,V,z,P)}function gA(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],p=h.getSnapshot;h=h.value;try{if(!zt(p(),h))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ni(i,r,o,c){r&=~Vd,r&=~Ds,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var h=r;0<h;){var p=31-Bt(h),_=1<<p;c[p]=-1,h&=~_}o!==0&&Fg(i,o,r)}function bc(){return Be&6?!0:(ro(0),!1)}function Yd(){if(ge!==null){if(Ie===0)var i=ge.return;else i=ge,$n=Cs=null,Zh(i),br=null,Va=0,i=ge;for(;i!==null;)T_(i.alternate,i),i=i.return;ge=null}}function kr(i,r){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,LA(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Yd(),ke=i,ge=o=Pi(i.current,null),be=r,Ie=0,qt=null,ei=!1,Dr=xa(i,r),jd=!1,Or=ln=Vd=Ds=Ui=qe=0,Dn=no=null,Bd=!1,r&8&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var h=31-Bt(c),p=1<<h;r|=i[h],c&=~p}return ti=r,ql(),o}function N_(i,r){de=null,q.H=Nn,r===Ua?(r=qy(),Ie=3):r===zy?(r=qy(),Ie=4):Ie=r===Hv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,qt=r,ge===null&&(qe=1,uc(i,en(r,i.current)))}function D_(){var i=q.H;return q.H=Nn,i===null?Nn:i}function O_(){var i=q.A;return q.A=mA,i}function Kd(){qe=4,ei||(be&4194176)!==be&&sn.current!==null||(Dr=!0),!(Ui&134217727)&&!(Ds&134217727)||ke===null||ni(ke,be,ln,!1)}function $d(i,r,o){var c=Be;Be|=2;var h=D_(),p=O_();(ke!==i||be!==r)&&(vc=null,kr(i,r)),r=!1;var _=qe;e:do try{if(Ie!==0&&ge!==null){var x=ge,w=qt;switch(Ie){case 8:Yd(),_=6;break e;case 3:case 2:case 6:sn.current===null&&(r=!0);var O=Ie;if(Ie=0,qt=null,Ir(i,x,w,O),o&&Dr){_=0;break e}break;default:O=Ie,Ie=0,qt=null,Ir(i,x,w,O)}}yA(),_=qe;break}catch(V){N_(i,V)}while(!0);return r&&i.shellSuspendCounter++,$n=Cs=null,Be=c,q.H=h,q.A=p,ge===null&&(ke=null,be=0,ql()),_}function yA(){for(;ge!==null;)k_(ge)}function vA(i,r){var o=Be;Be|=2;var c=D_(),h=O_();ke!==i||be!==r?(vc=null,yc=Cn()+500,kr(i,r)):Dr=xa(i,r);e:do try{if(Ie!==0&&ge!==null){r=ge;var p=qt;t:switch(Ie){case 1:Ie=0,qt=null,Ir(i,r,p,1);break;case 2:if(Hy(p)){Ie=0,qt=null,I_(r);break}r=function(){Ie===2&&ke===i&&(Ie=7),On(i)},p.then(r,r);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Hy(p)?(Ie=0,qt=null,I_(r)):(Ie=0,qt=null,Ir(i,r,p,7));break;case 5:var _=null;switch(ge.tag){case 26:_=ge.memoizedState;case 5:case 27:var x=ge;if(!_||l0(_)){Ie=0,qt=null;var w=x.sibling;if(w!==null)ge=w;else{var O=x.return;O!==null?(ge=O,xc(O)):ge=null}break t}}Ie=0,qt=null,Ir(i,r,p,5);break;case 6:Ie=0,qt=null,Ir(i,r,p,6);break;case 8:Yd(),qe=6;break e;default:throw Error(s(462))}}_A();break}catch(V){N_(i,V)}while(!0);return $n=Cs=null,q.H=c,q.A=h,Be=o,ge!==null?0:(ke=null,be=0,ql(),qe)}function _A(){for(;ge!==null&&!z1();)k_(ge)}function k_(i){var r=e_(i.alternate,i,ti);i.memoizedProps=i.pendingProps,r===null?xc(i):ge=r}function I_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=$v(o,r,r.pendingProps,r.type,void 0,be);break;case 11:r=$v(o,r,r.pendingProps,r.type.render,r.ref,be);break;case 5:Zh(r);default:T_(o,r),r=ge=E_(r,ti),r=e_(o,r,ti)}i.memoizedProps=i.pendingProps,r===null?xc(i):ge=r}function Ir(i,r,o,c){$n=Cs=null,Zh(r),br=null,Va=0;var h=r.return;try{if(oA(i,h,r,o,be)){qe=1,uc(i,en(o,i.current)),ge=null;return}}catch(p){if(h!==null)throw ge=h,p;qe=1,uc(i,en(o,i.current)),ge=null;return}r.flags&32768?(Ee||c===1?i=!0:Dr||be&536870912?i=!1:(ei=i=!0,(c===2||c===3||c===6)&&(c=sn.current,c!==null&&c.tag===13&&(c.flags|=16384))),M_(r,i)):xc(r)}function xc(i){var r=i;do{if(r.flags&32768){M_(r,ei);return}i=r.return;var o=dA(r.alternate,r,ti);if(o!==null){ge=o;return}if(r=r.sibling,r!==null){ge=r;return}ge=r=i}while(r!==null);qe===0&&(qe=5)}function M_(i,r){do{var o=fA(i.alternate,i);if(o!==null){o.flags&=32767,ge=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){ge=i;return}ge=i=o}while(i!==null);qe=6,ge=null}function L_(i,r,o,c,h,p,_,x,w,O){var V=q.T,z=W.p;try{W.p=2,q.T=null,bA(i,r,o,c,z,h,p,_,x,w,O)}finally{q.T=V,W.p=z}}function bA(i,r,o,c,h,p,_,x){do Mr();while(Os!==null);if(Be&6)throw Error(s(327));var w=i.finishedWork;if(c=i.finishedLanes,w===null)return null;if(i.finishedWork=null,i.finishedLanes=0,w===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var O=w.lanes|w.childLanes;if(O|=Uh,Z1(i,c,O,p,_,x),i===ke&&(ge=ke=null,be=0),!(w.subtreeFlags&10256)&&!(w.flags&10256)||_c||(_c=!0,Hd=O,Fd=o,wA(Nl,function(){return Mr(),null})),o=(w.flags&15990)!==0,w.subtreeFlags&15990||o?(o=q.T,q.T=null,p=W.p,W.p=2,_=Be,Be|=4,cA(i,w),p_(w,i),qC(of,i.containerInfo),Ic=!!af,of=af=null,i.current=w,h_(i,w.alternate,w),H1(),Be=_,W.p=p,q.T=o):i.current=w,_c?(_c=!1,Os=i,io=c):P_(i,O),O=i.pendingLanes,O===0&&(ji=null),K1(w.stateNode),On(i),r!==null)for(h=i.onRecoverableError,w=0;w<r.length;w++)O=r[w],h(O.value,{componentStack:O.stack});return io&3&&Mr(),O=i.pendingLanes,c&4194218&&O&42?i===qd?so++:(so=0,qd=i):so=0,ro(0),null}function P_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,za(r)))}function Mr(){if(Os!==null){var i=Os,r=Hd;Hd=0;var o=Gg(io),c=q.T,h=W.p;try{if(W.p=32>o?32:o,q.T=null,Os===null)var p=!1;else{o=Fd,Fd=null;var _=Os,x=io;if(Os=null,io=0,Be&6)throw Error(s(331));var w=Be;if(Be|=4,b_(_.current),y_(_,_.current,x,o),Be=w,ro(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(ba,_)}catch{}p=!0}return p}finally{W.p=h,q.T=c,P_(i,r)}}return!1}function U_(i,r,o){r=en(o,r),r=dd(i.stateNode,r,2),i=ki(i,r,2),i!==null&&(Ea(i,2),On(i))}function De(i,r,o){if(i.tag===3)U_(i,i,o);else for(;r!==null;){if(r.tag===3){U_(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ji===null||!ji.has(c))){i=en(o,i),o=Bv(2),c=ki(r,o,2),c!==null&&(zv(o,c,r,i),Ea(c,2),On(c));break}}r=r.return}}function Wd(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new pA;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(o)||(jd=!0,h.add(o),i=xA.bind(null,i,r,o),r.then(i,i))}function xA(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ke===i&&(be&o)===o&&(qe===4||qe===3&&(be&62914560)===be&&300>Cn()-zd?!(Be&2)&&kr(i,0):Vd|=o,Or===be&&(Or=0)),On(i)}function j_(i,r){r===0&&(r=Hg()),i=wi(i,r),i!==null&&(Ea(i,r),On(i))}function EA(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),j_(i,o)}function SA(i,r){var o=0;switch(i.tag){case 13:var c=i.stateNode,h=i.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),j_(i,o)}function wA(i,r){return fh(i,r)}var Ec=null,Lr=null,Xd=!1,Sc=!1,Qd=!1,ks=0;function On(i){i!==Lr&&i.next===null&&(Lr===null?Ec=Lr=i:Lr=Lr.next=i),Sc=!0,Xd||(Xd=!0,CA(TA))}function ro(i,r){if(!Qd&&Sc){Qd=!0;do for(var o=!1,c=Ec;c!==null;){if(i!==0){var h=c.pendingLanes;if(h===0)var p=0;else{var _=c.suspendedLanes,x=c.pingedLanes;p=(1<<31-Bt(42|i)+1)-1,p&=h&~(_&~x),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(o=!0,z_(c,p))}else p=be,p=kl(c,c===ke?p:0),!(p&3)||xa(c,p)||(o=!0,z_(c,p));c=c.next}while(o);Qd=!1}}function TA(){Sc=Xd=!1;var i=0;ks!==0&&(MA()&&(i=ks),ks=0);for(var r=Cn(),o=null,c=Ec;c!==null;){var h=c.next,p=V_(c,r);p===0?(c.next=null,o===null?Ec=h:o.next=h,h===null&&(Lr=o)):(o=c,(i!==0||p&3)&&(Sc=!0)),c=h}ro(i)}function V_(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,h=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var _=31-Bt(p),x=1<<_,w=h[_];w===-1?(!(x&o)||x&c)&&(h[_]=Q1(x,r)):w<=r&&(i.expiredLanes|=x),p&=~x}if(r=ke,o=be,o=kl(i,i===r?o:0),c=i.callbackNode,o===0||i===r&&Ie===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&mh(c),i.callbackNode=null,i.callbackPriority=0;if(!(o&3)||xa(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&mh(c),Gg(o)){case 2:case 8:o=Vg;break;case 32:o=Nl;break;case 268435456:o=Bg;break;default:o=Nl}return c=B_.bind(null,i),o=fh(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&mh(c),i.callbackPriority=2,i.callbackNode=null,2}function B_(i,r){var o=i.callbackNode;if(Mr()&&i.callbackNode!==o)return null;var c=be;return c=kl(i,i===ke?c:0),c===0?null:(A_(i,c,r),V_(i,Cn()),i.callbackNode!=null&&i.callbackNode===o?B_.bind(null,i):null)}function z_(i,r){if(Mr())return null;A_(i,r,!0)}function CA(i){PA(function(){Be&6?fh(jg,i):i()})}function Zd(){return ks===0&&(ks=zg()),ks}function H_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ul(""+i)}function F_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function AA(i,r,o,c,h){if(r==="submit"&&o&&o.stateNode===h){var p=H_((h[It]||null).action),_=c.submitter;_&&(r=(r=_[It]||null)?H_(r.formAction):_.getAttribute("formAction"),r!==null&&(p=r,_=null));var x=new zl("action","action",null,c,h);i.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ks!==0){var w=_?F_(h,_):new FormData(h);od(o,{pending:!0,data:w,method:h.method,action:p},null,w)}}else typeof p=="function"&&(x.preventDefault(),w=_?F_(h,_):new FormData(h),od(o,{pending:!0,data:w,method:h.method,action:p},p,w))},currentTarget:h}]})}}for(var Jd=0;Jd<Ly.length;Jd++){var ef=Ly[Jd],RA=ef.toLowerCase(),NA=ef[0].toUpperCase()+ef.slice(1);fn(RA,"on"+NA)}fn(Dy,"onAnimationEnd"),fn(Oy,"onAnimationIteration"),fn(ky,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(YC,"onTransitionRun"),fn(KC,"onTransitionStart"),fn($C,"onTransitionCancel"),fn(Iy,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function q_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],h=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var _=c.length-1;0<=_;_--){var x=c[_],w=x.instance,O=x.currentTarget;if(x=x.listener,w!==p&&h.isPropagationStopped())break e;p=x,h.currentTarget=O;try{p(h)}catch(V){cc(V)}h.currentTarget=null,p=w}else for(_=0;_<c.length;_++){if(x=c[_],w=x.instance,O=x.currentTarget,x=x.listener,w!==p&&h.isPropagationStopped())break e;p=x,h.currentTarget=O;try{p(h)}catch(V){cc(V)}h.currentTarget=null,p=w}}}}function ve(i,r){var o=r[gh];o===void 0&&(o=r[gh]=new Set);var c=i+"__bubble";o.has(c)||(G_(r,i,2,!1),o.add(c))}function tf(i,r,o){var c=0;r&&(c|=4),G_(o,i,c,r)}var wc="_reactListening"+Math.random().toString(36).slice(2);function nf(i){if(!i[wc]){i[wc]=!0,$g.forEach(function(o){o!=="selectionchange"&&(DA.has(o)||tf(o,!1,i),tf(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[wc]||(r[wc]=!0,tf("selectionchange",!1,r))}}function G_(i,r,o,c){switch(m0(r)){case 2:var h=nR;break;case 8:h=iR;break;default:h=gf}o=h.bind(null,r,o,i),h=void 0,!wh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?i.addEventListener(r,o,{capture:!0,passive:h}):i.addEventListener(r,o,!0):h!==void 0?i.addEventListener(r,o,{passive:h}):i.addEventListener(r,o,!1)}function sf(i,r,o,c,h){var p=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var x=c.stateNode.containerInfo;if(x===h||x.nodeType===8&&x.parentNode===h)break;if(_===4)for(_=c.return;_!==null;){var w=_.tag;if((w===3||w===4)&&(w=_.stateNode.containerInfo,w===h||w.nodeType===8&&w.parentNode===h))return;_=_.return}for(;x!==null;){if(_=ds(x),_===null)return;if(w=_.tag,w===5||w===6||w===26||w===27){c=p=_;continue e}x=x.parentNode}}c=c.return}ay(function(){var O=p,V=Eh(o),z=[];e:{var P=My.get(i);if(P!==void 0){var j=zl,J=i;switch(i){case"keypress":if(Vl(o)===0)break e;case"keydown":case"keyup":j=SC;break;case"focusin":J="focus",j=Rh;break;case"focusout":J="blur",j=Rh;break;case"beforeblur":case"afterblur":j=Rh;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=cy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=hC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=CC;break;case Dy:case Oy:case ky:j=mC;break;case Iy:j=RC;break;case"scroll":case"scrollend":j=cC;break;case"wheel":j=DC;break;case"copy":case"cut":case"paste":j=gC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=hy;break;case"toggle":case"beforetoggle":j=kC}var ce=(r&4)!==0,Ge=!ce&&(i==="scroll"||i==="scrollend"),I=ce?P!==null?P+"Capture":null:P;ce=[];for(var D=O,M;D!==null;){var B=D;if(M=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||M===null||I===null||(B=Ta(D,I),B!=null&&ce.push(oo(D,B,M))),Ge)break;D=D.return}0<ce.length&&(P=new j(P,J,null,o,V),z.push({event:P,listeners:ce}))}}if(!(r&7)){e:{if(P=i==="mouseover"||i==="pointerover",j=i==="mouseout"||i==="pointerout",P&&o!==xh&&(J=o.relatedTarget||o.fromElement)&&(ds(J)||J[rr]))break e;if((j||P)&&(P=V.window===V?V:(P=V.ownerDocument)?P.defaultView||P.parentWindow:window,j?(J=o.relatedTarget||o.toElement,j=O,J=J?ds(J):null,J!==null&&(Ge=te(J),ce=J.tag,J!==Ge||ce!==5&&ce!==27&&ce!==6)&&(J=null)):(j=null,J=O),j!==J)){if(ce=cy,B="onMouseLeave",I="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(ce=hy,B="onPointerLeave",I="onPointerEnter",D="pointer"),Ge=j==null?P:wa(j),M=J==null?P:wa(J),P=new ce(B,D+"leave",j,o,V),P.target=Ge,P.relatedTarget=M,B=null,ds(V)===O&&(ce=new ce(I,D+"enter",J,o,V),ce.target=M,ce.relatedTarget=Ge,B=ce),Ge=B,j&&J)t:{for(ce=j,I=J,D=0,M=ce;M;M=Pr(M))D++;for(M=0,B=I;B;B=Pr(B))M++;for(;0<D-M;)ce=Pr(ce),D--;for(;0<M-D;)I=Pr(I),M--;for(;D--;){if(ce===I||I!==null&&ce===I.alternate)break t;ce=Pr(ce),I=Pr(I)}ce=null}else ce=null;j!==null&&Y_(z,P,j,ce,!1),J!==null&&Ge!==null&&Y_(z,Ge,J,ce,!0)}}e:{if(P=O?wa(O):window,j=P.nodeName&&P.nodeName.toLowerCase(),j==="select"||j==="input"&&P.type==="file")var X=_y;else if(yy(P))if(by)X=HC;else{X=BC;var fe=VC}else j=P.nodeName,!j||j.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?O&&bh(O.elementType)&&(X=_y):X=zC;if(X&&(X=X(i,O))){vy(z,X,o,V);break e}fe&&fe(i,P,O),i==="focusout"&&O&&P.type==="number"&&O.memoizedProps.value!=null&&_h(P,"number",P.value)}switch(fe=O?wa(O):window,i){case"focusin":(yy(fe)||fe.contentEditable==="true")&&(mr=fe,Mh=O,Ia=null);break;case"focusout":Ia=Mh=mr=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Ry(z,o,V);break;case"selectionchange":if(GC)break;case"keydown":case"keyup":Ry(z,o,V)}var ne;if(Dh)e:{switch(i){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else fr?py(i,o)&&(se="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(se="onCompositionStart");se&&(dy&&o.locale!=="ko"&&(fr||se!=="onCompositionStart"?se==="onCompositionEnd"&&fr&&(ne=oy()):(Si=V,Th="value"in Si?Si.value:Si.textContent,fr=!0)),fe=Tc(O,se),0<fe.length&&(se=new uy(se,i,null,o,V),z.push({event:se,listeners:fe}),ne?se.data=ne:(ne=gy(o),ne!==null&&(se.data=ne)))),(ne=MC?LC(i,o):PC(i,o))&&(se=Tc(O,"onBeforeInput"),0<se.length&&(fe=new uy("onBeforeInput","beforeinput",null,o,V),z.push({event:fe,listeners:se}),fe.data=ne)),AA(z,i,O,o,V)}q_(z,r)})}function oo(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Tc(i,r){for(var o=r+"Capture",c=[];i!==null;){var h=i,p=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Ta(i,o),h!=null&&c.unshift(oo(i,h,p)),h=Ta(i,r),h!=null&&c.push(oo(i,h,p))),i=i.return}return c}function Pr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Y_(i,r,o,c,h){for(var p=r._reactName,_=[];o!==null&&o!==c;){var x=o,w=x.alternate,O=x.stateNode;if(x=x.tag,w!==null&&w===c)break;x!==5&&x!==26&&x!==27||O===null||(w=O,h?(O=Ta(o,p),O!=null&&_.unshift(oo(o,O,w))):h||(O=Ta(o,p),O!=null&&_.push(oo(o,O,w)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var OA=/\r\n?/g,kA=/\u0000|\uFFFD/g;function K_(i){return(typeof i=="string"?i:""+i).replace(OA,`
`).replace(kA,"")}function $_(i,r){return r=K_(r),K_(i)===r}function Cc(){}function Re(i,r,o,c,h,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||ur(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&ur(i,""+c);break;case"className":Ml(i,"class",c);break;case"tabIndex":Ml(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(i,o,c);break;case"style":sy(i,c,p);break;case"data":if(r!=="object"){Ml(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ul(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Re(i,r,"name",h.name,h,null),Re(i,r,"formEncType",h.formEncType,h,null),Re(i,r,"formMethod",h.formMethod,h,null),Re(i,r,"formTarget",h.formTarget,h,null)):(Re(i,r,"encType",h.encType,h,null),Re(i,r,"method",h.method,h,null),Re(i,r,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ul(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Cc);break;case"onScroll":c!=null&&ve("scroll",i);break;case"onScrollEnd":c!=null&&ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ul(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ve("beforetoggle",i),ve("toggle",i),Il(i,"popover",c);break;case"xlinkActuate":Hn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Hn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Hn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Hn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Hn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Hn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Il(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=oC.get(o)||o,Il(i,o,c))}}function rf(i,r,o,c,h,p){switch(o){case"style":sy(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?ur(i,c):(typeof c=="number"||typeof c=="bigint")&&ur(i,""+c);break;case"onScroll":c!=null&&ve("scroll",i);break;case"onScrollEnd":c!=null&&ve("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wg.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),r=o.slice(2,h?o.length-7:void 0),p=i[It]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,h),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,h);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Il(i,o,c)}}}function yt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",i),ve("load",i);var c=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var _=o[p];if(_!=null)switch(p){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Re(i,r,p,_,o,null)}}h&&Re(i,r,"srcSet",o.srcSet,o,null),c&&Re(i,r,"src",o.src,o,null);return;case"input":ve("invalid",i);var x=p=_=h=null,w=null,O=null;for(c in o)if(o.hasOwnProperty(c)){var V=o[c];if(V!=null)switch(c){case"name":h=V;break;case"type":_=V;break;case"checked":w=V;break;case"defaultChecked":O=V;break;case"value":p=V;break;case"defaultValue":x=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,r));break;default:Re(i,r,c,V,o,null)}}ey(i,p,x,w,O,_,h,!1),Ll(i);return;case"select":ve("invalid",i),c=_=p=null;for(h in o)if(o.hasOwnProperty(h)&&(x=o[h],x!=null))switch(h){case"value":p=x;break;case"defaultValue":_=x;break;case"multiple":c=x;default:Re(i,r,h,x,o,null)}r=p,o=_,i.multiple=!!c,r!=null?cr(i,!!c,r,!1):o!=null&&cr(i,!!c,o,!0);return;case"textarea":ve("invalid",i),p=h=c=null;for(_ in o)if(o.hasOwnProperty(_)&&(x=o[_],x!=null))switch(_){case"value":c=x;break;case"defaultValue":h=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:Re(i,r,_,x,o,null)}ny(i,c,h,p),Ll(i);return;case"option":for(w in o)if(o.hasOwnProperty(w)&&(c=o[w],c!=null))switch(w){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Re(i,r,w,c,o,null)}return;case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":ve("load",i);break;case"video":case"audio":for(c=0;c<ao.length;c++)ve(ao[c],i);break;case"image":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"embed":case"source":case"link":ve("error",i),ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Re(i,r,O,c,o,null)}return;default:if(bh(r)){for(V in o)o.hasOwnProperty(V)&&(c=o[V],c!==void 0&&rf(i,r,V,c,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(c=o[x],c!=null&&Re(i,r,x,c,o,null))}function IA(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,_=null,x=null,w=null,O=null,V=null;for(j in o){var z=o[j];if(o.hasOwnProperty(j)&&z!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=z;default:c.hasOwnProperty(j)||Re(i,r,j,null,c,z)}}for(var P in c){var j=c[P];if(z=o[P],c.hasOwnProperty(P)&&(j!=null||z!=null))switch(P){case"type":p=j;break;case"name":h=j;break;case"checked":O=j;break;case"defaultChecked":V=j;break;case"value":_=j;break;case"defaultValue":x=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:j!==z&&Re(i,r,P,j,c,z)}}vh(i,_,x,w,O,V,p,h);return;case"select":j=_=x=P=null;for(p in o)if(w=o[p],o.hasOwnProperty(p)&&w!=null)switch(p){case"value":break;case"multiple":j=w;default:c.hasOwnProperty(p)||Re(i,r,p,null,c,w)}for(h in c)if(p=c[h],w=o[h],c.hasOwnProperty(h)&&(p!=null||w!=null))switch(h){case"value":P=p;break;case"defaultValue":x=p;break;case"multiple":_=p;default:p!==w&&Re(i,r,h,p,c,w)}r=x,o=_,c=j,P!=null?cr(i,!!o,P,!1):!!c!=!!o&&(r!=null?cr(i,!!o,r,!0):cr(i,!!o,o?[]:"",!1));return;case"textarea":j=P=null;for(x in o)if(h=o[x],o.hasOwnProperty(x)&&h!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Re(i,r,x,null,c,h)}for(_ in c)if(h=c[_],p=o[_],c.hasOwnProperty(_)&&(h!=null||p!=null))switch(_){case"value":P=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&Re(i,r,_,h,c,p)}ty(i,P,j);return;case"option":for(var J in o)if(P=o[J],o.hasOwnProperty(J)&&P!=null&&!c.hasOwnProperty(J))switch(J){case"selected":i.selected=!1;break;default:Re(i,r,J,null,c,P)}for(w in c)if(P=c[w],j=o[w],c.hasOwnProperty(w)&&P!==j&&(P!=null||j!=null))switch(w){case"selected":i.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Re(i,r,w,P,c,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in o)P=o[ce],o.hasOwnProperty(ce)&&P!=null&&!c.hasOwnProperty(ce)&&Re(i,r,ce,null,c,P);for(O in c)if(P=c[O],j=o[O],c.hasOwnProperty(O)&&P!==j&&(P!=null||j!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,r));break;default:Re(i,r,O,P,c,j)}return;default:if(bh(r)){for(var Ge in o)P=o[Ge],o.hasOwnProperty(Ge)&&P!==void 0&&!c.hasOwnProperty(Ge)&&rf(i,r,Ge,void 0,c,P);for(V in c)P=c[V],j=o[V],!c.hasOwnProperty(V)||P===j||P===void 0&&j===void 0||rf(i,r,V,P,c,j);return}}for(var I in o)P=o[I],o.hasOwnProperty(I)&&P!=null&&!c.hasOwnProperty(I)&&Re(i,r,I,null,c,P);for(z in c)P=c[z],j=o[z],!c.hasOwnProperty(z)||P===j||P==null&&j==null||Re(i,r,z,P,c,j)}var af=null,of=null;function Ac(i){return i.nodeType===9?i:i.ownerDocument}function W_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function lf(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cf=null;function MA(){var i=window.event;return i&&i.type==="popstate"?i===cf?!1:(cf=i,!0):(cf=null,!1)}var Q_=typeof setTimeout=="function"?setTimeout:void 0,LA=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,PA=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(i){return Z_.resolve(null).then(i).catch(UA)}:Q_;function UA(i){setTimeout(function(){throw i})}function uf(i,r){var o=r,c=0;do{var h=o.nextSibling;if(i.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(c===0){i.removeChild(h),go(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=h}while(o);go(r)}function hf(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":hf(o),yh(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function jA(i,r,o,c){for(;i.nodeType===1;){var h=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Sa])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==h.rel||i.getAttribute("href")!==(h.href==null?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=gn(i.nextSibling),i===null)break}return null}function VA(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=gn(i.nextSibling),i===null))return null;return i}function gn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function J_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function e0(i,r,o){switch(r=Ac(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var cn=new Map,t0=new Set;function Rc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ii=W.d;W.d={f:BA,r:zA,D:HA,C:FA,L:qA,m:GA,X:KA,S:YA,M:$A};function BA(){var i=ii.f(),r=bc();return i||r}function zA(i){var r=ar(i);r!==null&&r.tag===5&&r.type==="form"?Rv(r):ii.r(i)}var Ur=typeof document>"u"?null:document;function n0(i,r,o){var c=Ur;if(c&&typeof r=="string"&&r){var h=Zt(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),t0.has(h)||(t0.add(h),i={rel:i,crossOrigin:o,href:r},c.querySelector(h)===null&&(r=c.createElement("link"),yt(r,"link",i),ot(r),c.head.appendChild(r)))}}function HA(i){ii.D(i),n0("dns-prefetch",i,null)}function FA(i,r){ii.C(i,r),n0("preconnect",i,r)}function qA(i,r,o){ii.L(i,r,o);var c=Ur;if(c&&i&&r){var h='link[rel="preload"][as="'+Zt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Zt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Zt(o.imageSizes)+'"]')):h+='[href="'+Zt(i)+'"]';var p=h;switch(r){case"style":p=jr(i);break;case"script":p=Vr(i)}cn.has(p)||(i=Q({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),cn.set(p,i),c.querySelector(h)!==null||r==="style"&&c.querySelector(lo(p))||r==="script"&&c.querySelector(co(p))||(r=c.createElement("link"),yt(r,"link",i),ot(r),c.head.appendChild(r)))}}function GA(i,r){ii.m(i,r);var o=Ur;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Zt(c)+'"][href="'+Zt(i)+'"]',p=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Vr(i)}if(!cn.has(p)&&(i=Q({rel:"modulepreload",href:i},r),cn.set(p,i),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(co(p)))return}c=o.createElement("link"),yt(c,"link",i),ot(c),o.head.appendChild(c)}}}function YA(i,r,o){ii.S(i,r,o);var c=Ur;if(c&&i){var h=or(c).hoistableStyles,p=jr(i);r=r||"default";var _=h.get(p);if(!_){var x={loading:0,preload:null};if(_=c.querySelector(lo(p)))x.loading=5;else{i=Q({rel:"stylesheet",href:i,"data-precedence":r},o),(o=cn.get(p))&&df(i,o);var w=_=c.createElement("link");ot(w),yt(w,"link",i),w._p=new Promise(function(O,V){w.onload=O,w.onerror=V}),w.addEventListener("load",function(){x.loading|=1}),w.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Nc(_,r,c)}_={type:"stylesheet",instance:_,count:1,state:x},h.set(p,_)}}}function KA(i,r){ii.X(i,r);var o=Ur;if(o&&i){var c=or(o).hoistableScripts,h=Vr(i),p=c.get(h);p||(p=o.querySelector(co(h)),p||(i=Q({src:i,async:!0},r),(r=cn.get(h))&&ff(i,r),p=o.createElement("script"),ot(p),yt(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function $A(i,r){ii.M(i,r);var o=Ur;if(o&&i){var c=or(o).hoistableScripts,h=Vr(i),p=c.get(h);p||(p=o.querySelector(co(h)),p||(i=Q({src:i,async:!0,type:"module"},r),(r=cn.get(h))&&ff(i,r),p=o.createElement("script"),ot(p),yt(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function i0(i,r,o,c){var h=(h=bi.current)?Rc(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=jr(o.href),o=or(h).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=jr(o.href);var p=or(h).hoistableStyles,_=p.get(i);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,_),(p=h.querySelector(lo(i)))&&!p._p&&(_.instance=p,_.state.loading=5),cn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cn.set(i,o),p||WA(h,i,o,_.state))),r&&c===null)throw Error(s(528,""));return _}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Vr(o),o=or(h).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function jr(i){return'href="'+Zt(i)+'"'}function lo(i){return'link[rel="stylesheet"]['+i+"]"}function s0(i){return Q({},i,{"data-precedence":i.precedence,precedence:null})}function WA(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),yt(r,"link",o),ot(r),i.head.appendChild(r))}function Vr(i){return'[src="'+Zt(i)+'"]'}function co(i){return"script[async]"+i}function r0(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Zt(o.href)+'"]');if(c)return r.instance=c,ot(c),c;var h=Q({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),ot(c),yt(c,"style",h),Nc(c,o.precedence,i),r.instance=c;case"stylesheet":h=jr(o.href);var p=i.querySelector(lo(h));if(p)return r.state.loading|=4,r.instance=p,ot(p),p;c=s0(o),(h=cn.get(h))&&df(c,h),p=(i.ownerDocument||i).createElement("link"),ot(p);var _=p;return _._p=new Promise(function(x,w){_.onload=x,_.onerror=w}),yt(p,"link",c),r.state.loading|=4,Nc(p,o.precedence,i),r.instance=p;case"script":return p=Vr(o.src),(h=i.querySelector(co(p)))?(r.instance=h,ot(h),h):(c=o,(h=cn.get(p))&&(c=Q({},o),ff(c,h)),i=i.ownerDocument||i,h=i.createElement("script"),ot(h),yt(h,"link",c),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(c=r.instance,r.state.loading|=4,Nc(c,o.precedence,i));return r.instance}function Nc(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,p=h,_=0;_<c.length;_++){var x=c[_];if(x.dataset.precedence===r)p=x;else if(p!==h)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function df(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ff(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Dc=null;function a0(i,r,o){if(Dc===null){var c=new Map,h=Dc=new Map;h.set(o,c)}else h=Dc,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),h=0;h<o.length;h++){var p=o[h];if(!(p[Sa]||p[_t]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(r)||"";_=i+_;var x=c.get(_);x?x.push(p):c.set(_,[p])}}return c}function o0(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function XA(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function l0(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var uo=null;function QA(){}function ZA(i,r,o){if(uo===null)throw Error(s(475));var c=uo;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var h=jr(o.href),p=i.querySelector(lo(h));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Oc.bind(c),i.then(c,c)),r.state.loading|=4,r.instance=p,ot(p);return}p=i.ownerDocument||i,o=s0(o),(h=cn.get(h))&&df(o,h),p=p.createElement("link"),ot(p);var _=p;_._p=new Promise(function(x,w){_.onload=x,_.onerror=w}),yt(p,"link",o),r.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,i),(i=r.state.preload)&&!(r.state.loading&3)&&(c.count++,r=Oc.bind(c),i.addEventListener("load",r),i.addEventListener("error",r))}}function JA(){if(uo===null)throw Error(s(475));var i=uo;return i.stylesheets&&i.count===0&&mf(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&mf(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Oc(){if(this.count--,this.count===0){if(this.stylesheets)mf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var kc=null;function mf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,kc=new Map,r.forEach(eR,i),kc=null,Oc.call(i))}function eR(i,r){if(!(r.state.loading&4)){var o=kc.get(i);if(o)var c=o.get(null);else{o=new Map,kc.set(i,o);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var _=h[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),c=_)}c&&o.set(null,c)}h=r.instance,_=h.getAttribute("data-precedence"),p=o.get(_)||c,p===c&&o.set(null,h),o.set(_,h),this.count++,c=Oc.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),p?p.parentNode.insertBefore(h,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var ho={$$typeof:E,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function tR(i,r,o,c,h,p,_,x){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ph(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ph(0),this.hiddenUpdates=ph(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function c0(i,r,o,c,h,p,_,x,w,O,V,z){return i=new tR(i,r,o,_,x,w,O,z),r=1,p===!0&&(r|=24),p=on(3,null,null,r),i.current=p,p.stateNode=i,r=Gh(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},Td(p),i}function u0(i){return i?(i=yr,i):yr}function h0(i,r,o,c,h,p){h=u0(h),c.context===null?c.context=h:c.pendingContext=h,c=Oi(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=ki(i,c,r),o!==null&&(Rt(o,i,r),$a(o,i,r))}function d0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function pf(i,r){d0(i,r),(i=i.alternate)&&d0(i,r)}function f0(i){if(i.tag===13){var r=wi(i,67108864);r!==null&&Rt(r,i,67108864),pf(i,67108864)}}var Ic=!0;function nR(i,r,o,c){var h=q.T;q.T=null;var p=W.p;try{W.p=2,gf(i,r,o,c)}finally{W.p=p,q.T=h}}function iR(i,r,o,c){var h=q.T;q.T=null;var p=W.p;try{W.p=8,gf(i,r,o,c)}finally{W.p=p,q.T=h}}function gf(i,r,o,c){if(Ic){var h=yf(c);if(h===null)sf(i,r,c,Mc,o),p0(i,c);else if(rR(h,i,r,o,c))c.stopPropagation();else if(p0(i,c),r&4&&-1<sR.indexOf(i)){for(;h!==null;){var p=ar(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=hs(p.pendingLanes);if(_!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var w=1<<31-Bt(_);x.entanglements[1]|=w,_&=~w}On(p),!(Be&6)&&(yc=Cn()+500,ro(0))}}break;case 13:x=wi(p,2),x!==null&&Rt(x,p,2),bc(),pf(p,2)}if(p=yf(c),p===null&&sf(i,r,c,Mc,o),p===h)break;h=p}h!==null&&c.stopPropagation()}else sf(i,r,c,null,o)}}function yf(i){return i=Eh(i),vf(i)}var Mc=null;function vf(i){if(Mc=null,i=ds(i),i!==null){var r=te(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=Te(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Mc=i,null}function m0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(F1()){case jg:return 2;case Vg:return 8;case Nl:case q1:return 32;case Bg:return 268435456;default:return 32}default:return 32}}var _f=!1,Vi=null,Bi=null,zi=null,fo=new Map,mo=new Map,Hi=[],sR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p0(i,r){switch(i){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":fo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(r.pointerId)}}function po(i,r,o,c,h,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},r!==null&&(r=ar(r),r!==null&&f0(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function rR(i,r,o,c,h){switch(r){case"focusin":return Vi=po(Vi,i,r,o,c,h),!0;case"dragenter":return Bi=po(Bi,i,r,o,c,h),!0;case"mouseover":return zi=po(zi,i,r,o,c,h),!0;case"pointerover":var p=h.pointerId;return fo.set(p,po(fo.get(p)||null,i,r,o,c,h)),!0;case"gotpointercapture":return p=h.pointerId,mo.set(p,po(mo.get(p)||null,i,r,o,c,h)),!0}return!1}function g0(i){var r=ds(i.target);if(r!==null){var o=te(r);if(o!==null){if(r=o.tag,r===13){if(r=Te(o),r!==null){i.blockedOn=r,J1(i.priority,function(){if(o.tag===13){var c=Gt(),h=wi(o,c);h!==null&&Rt(h,o,c),pf(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Lc(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=yf(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);xh=c,o.target.dispatchEvent(c),xh=null}else return r=ar(o),r!==null&&f0(r),i.blockedOn=o,!1;r.shift()}return!0}function y0(i,r,o){Lc(i)&&o.delete(r)}function aR(){_f=!1,Vi!==null&&Lc(Vi)&&(Vi=null),Bi!==null&&Lc(Bi)&&(Bi=null),zi!==null&&Lc(zi)&&(zi=null),fo.forEach(y0),mo.forEach(y0)}function Pc(i,r){i.blockedOn===r&&(i.blockedOn=null,_f||(_f=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,aR)))}var Uc=null;function v0(i){Uc!==i&&(Uc=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Uc===i&&(Uc=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],h=i[r+2];if(typeof c!="function"){if(vf(c||o)===null)continue;break}var p=ar(o);p!==null&&(i.splice(r,3),r-=3,od(p,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function go(i){function r(w){return Pc(w,i)}Vi!==null&&Pc(Vi,i),Bi!==null&&Pc(Bi,i),zi!==null&&Pc(zi,i),fo.forEach(r),mo.forEach(r);for(var o=0;o<Hi.length;o++){var c=Hi[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Hi.length&&(o=Hi[0],o.blockedOn===null);)g0(o),o.blockedOn===null&&Hi.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],p=o[c+1],_=h[It]||null;if(typeof p=="function")_||v0(o);else if(_){var x=null;if(p&&p.hasAttribute("formAction")){if(h=p,_=p[It]||null)x=_.formAction;else if(vf(h)!==null)continue}else x=_.action;typeof x=="function"?o[c+1]=x:(o.splice(c,3),c-=3),v0(o)}}}function bf(i){this._internalRoot=i}jc.prototype.render=bf.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Gt();h0(o,c,i,r,null,null)},jc.prototype.unmount=bf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&Mr(),h0(i.current,2,null,i,null,null),bc(),r[rr]=null}};function jc(i){this._internalRoot=i}jc.prototype.unstable_scheduleHydration=function(i){if(i){var r=Yg();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Hi.length&&r!==0&&r<Hi[o].priority;o++);Hi.splice(o,0,i),o===0&&g0(i)}};var _0=e.version;if(_0!=="19.0.0")throw Error(s(527,_0,"19.0.0"));W.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=F(r),i=i!==null?ae(i):null,i=i===null?null:i.stateNode,i};var oR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:q,findFiberByHostInstance:ds,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{ba=Vc.inject(oR),Vt=Vc}catch{}}return vo.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",h=Pv,p=Uv,_=jv,x=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(x=r.unstable_transitionCallbacks)),r=c0(i,1,!1,null,null,o,c,h,p,_,x,null),i[rr]=r.current,nf(i.nodeType===8?i.parentNode:i),new bf(r)},vo.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,h="",p=Pv,_=Uv,x=jv,w=null,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(w=o.unstable_transitionCallbacks),o.formState!==void 0&&(O=o.formState)),r=c0(i,1,!0,r,o??null,c,h,p,_,x,w,O),r.context=u0(null),o=r.current,c=Gt(),h=Oi(c),h.callback=null,ki(o,h,c),r.current.lanes=c,Ea(r,c),On(r),i[rr]=r.current,nf(i),new jc(r)},vo.version="19.0.0",vo}var N0;function yR(){if(N0)return Sf.exports;N0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sf.exports=gR(),Sf.exports}var vR=yR(),_o={},D0;function _R(){if(D0)return _o;D0=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.parse=u,_o.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,E){const S=new l,C=v.length;if(C<2)return S;const R=(E==null?void 0:E.decode)||g;let N=0;do{const L=v.indexOf("=",N);if(L===-1)break;const k=v.indexOf(";",N),H=k===-1?C:k;if(L>H){N=v.lastIndexOf(";",L-1)+1;continue}const U=d(v,N,L),$=f(v,L,U),Z=v.slice(U,$);if(S[Z]===void 0){let Y=d(v,L+1,H),q=f(v,H,Y);const Q=R(v.slice(Y,q));S[Z]=Q}N=H+1}while(N<C);return S}function d(v,E,S){do{const C=v.charCodeAt(E);if(C!==32&&C!==9)return E}while(++E<S);return S}function f(v,E,S){for(;E>S;){const C=v.charCodeAt(--E);if(C!==32&&C!==9)return E+1}return S}function m(v,E,S){const C=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const R=C(E);if(!e.test(R))throw new TypeError(`argument val is invalid: ${E}`);let N=v+"="+R;if(!S)return N;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);N+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);N+="; Domain="+S.domain}if(S.path){if(!s.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);N+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);N+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(N+="; HttpOnly"),S.secure&&(N+="; Secure"),S.partitioned&&(N+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return N}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return a.call(v)==="[object Date]"}return _o}_R();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O0="popstate";function bR(t={}){function e(a,l){let{pathname:u="/",search:d="",hash:f=""}=Zs(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),sm("",{pathname:u,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let f=a.location.href,m=f.indexOf("#");d=m===-1?f:f.slice(0,m)}return d+"#"+(typeof l=="string"?l:Fo(l))}function s(a,l){Sn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return ER(e,n,s,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xR(){return Math.random().toString(36).substring(2,10)}function k0(t,e){return{usr:t.state,key:t.key,idx:e}}function sm(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zs(e):e,state:n,key:e&&e.key||s||xR()}}function Fo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function ER(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,d="POP",f=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function y(){d="POP";let R=g(),N=R==null?null:R-m;m=R,f&&f({action:d,location:C.location,delta:N})}function v(R,N){d="PUSH";let L=sm(C.location,R,N);n&&n(L,R),m=g()+1;let k=k0(L,m),H=C.createHref(L);try{u.pushState(k,"",H)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;a.location.assign(H)}l&&f&&f({action:d,location:C.location,delta:1})}function E(R,N){d="REPLACE";let L=sm(C.location,R,N);n&&n(L,R),m=g();let k=k0(L,m),H=C.createHref(L);u.replaceState(k,"",H),l&&f&&f({action:d,location:C.location,delta:0})}function S(R){let N=a.location.origin!=="null"?a.location.origin:a.location.href,L=typeof R=="string"?R:Fo(R);return L=L.replace(/ $/,"%20"),He(N,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,N)}let C={get action(){return d},get location(){return t(a,u)},listen(R){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(O0,y),f=R,()=>{a.removeEventListener(O0,y),f=null}},createHref(R){return e(a,R)},createURL:S,encodeLocation(R){let N=S(R);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:E,go(R){return u.go(R)}};return C}function mE(t,e,n="/"){return SR(t,e,n,!1)}function SR(t,e,n,s){let a=typeof e=="string"?Zs(e):e,l=ns(a.pathname||"/",n);if(l==null)return null;let u=pE(t);wR(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=LR(l);d=IR(u[f],m,s)}return d}function pE(t,e=[],n=[],s=""){let a=(l,u,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(He(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let m=oi([s,f.relativePath]),g=n.concat(f);l.children&&l.children.length>0&&(He(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),pE(l.children,e,g,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:OR(m,l.index),routesMeta:g})};return t.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,u);else for(let f of gE(l.path))a(l,u,f)}),e}function gE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=gE(s.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function wR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var TR=/^:[\w-]+$/,CR=3,AR=2,RR=1,NR=10,DR=-2,I0=t=>t==="*";function OR(t,e){let n=t.split("/"),s=n.length;return n.some(I0)&&(s+=DR),e&&(s+=AR),n.filter(a=>!I0(a)).reduce((a,l)=>a+(TR.test(l)?CR:l===""?RR:NR),s)}function kR(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function IR(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let d=0;d<s.length;++d){let f=s[d],m=d===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=ou({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),v=f.route;if(!y&&m&&n&&!s[s.length-1].route.index&&(y=ou({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:oi([l,y.pathname]),pathnameBase:VR(oi([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=oi([l,y.pathnameBase]))}return u}function ou(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=MR(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:y},v)=>{if(g==="*"){let S=d[v]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const E=d[v];return y&&!E?m[g]=void 0:m[g]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function MR(t,e=!1,n=!0){Sn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function LR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function PR(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Zs(t):t;return{pathname:n?n.startsWith("/")?n:UR(n,e):e,search:BR(s),hash:zR(a)}}function UR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Af(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yE(t){let e=jR(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function vE(t,e,n,s=!1){let a;typeof t=="string"?a=Zs(t):(a={...t},He(!a.pathname||!a.pathname.includes("?"),Af("?","pathname","search",a)),He(!a.pathname||!a.pathname.includes("#"),Af("#","pathname","hash",a)),He(!a.search||!a.search.includes("#"),Af("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let y=e.length-1;if(!s&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),y-=1;a.pathname=v.join("/")}d=y>=0?e[y]:"/"}let f=PR(a,d),m=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var oi=t=>t.join("/").replace(/\/\/+/g,"/"),VR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var _E=["POST","PUT","PATCH","DELETE"];new Set(_E);var FR=["GET",..._E];new Set(FR);var ua=T.createContext(null);ua.displayName="DataRouter";var zu=T.createContext(null);zu.displayName="DataRouterState";var bE=T.createContext({isTransitioning:!1});bE.displayName="ViewTransition";var qR=T.createContext(new Map);qR.displayName="Fetchers";var GR=T.createContext(null);GR.displayName="Await";var Vn=T.createContext(null);Vn.displayName="Navigation";var cl=T.createContext(null);cl.displayName="Location";var pi=T.createContext({outlet:null,matches:[],isDataRoute:!1});pi.displayName="Route";var Xm=T.createContext(null);Xm.displayName="RouteError";function YR(t,{relative:e}={}){He(ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=T.useContext(Vn),{hash:a,pathname:l,search:u}=hl(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:oi([n,l])),s.createHref({pathname:d,search:u,hash:a})}function ul(){return T.useContext(cl)!=null}function Bn(){return He(ul(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(cl).location}var xE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EE(t){T.useContext(Vn).static||T.useLayoutEffect(t)}function Qm(){let{isDataRoute:t}=T.useContext(pi);return t?rN():KR()}function KR(){He(ul(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(ua),{basename:e,navigator:n}=T.useContext(Vn),{matches:s}=T.useContext(pi),{pathname:a}=Bn(),l=JSON.stringify(yE(s)),u=T.useRef(!1);return EE(()=>{u.current=!0}),T.useCallback((f,m={})=>{if(Sn(u.current,xE),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=vE(f,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:oi([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}T.createContext(null);function hl(t,{relative:e}={}){let{matches:n}=T.useContext(pi),{pathname:s}=Bn(),a=JSON.stringify(yE(n));return T.useMemo(()=>vE(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function $R(t,e){return SE(t,e)}function SE(t,e,n,s){var L;He(ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=T.useContext(Vn),{matches:u}=T.useContext(pi),d=u[u.length-1],f=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let k=y&&y.path||"";wE(m,!y||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=Bn(),E;if(e){let k=typeof e=="string"?Zs(e):e;He(g==="/"||((L=k.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${k.pathname}" was given in the \`location\` prop.`),E=k}else E=v;let S=E.pathname||"/",C=S;if(g!=="/"){let k=g.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(k.length).join("/")}let R=!l&&n&&n.matches&&n.matches.length>0?n.matches:mE(t,{pathname:C});Sn(y||R!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Sn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=JR(R&&R.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:oi([g,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:oi([g,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),u,n,s);return e&&N?T.createElement(cl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},N):N}function WR(){let t=sN(),e=HR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:l},"ErrorBoundary")," or"," ",T.createElement("code",{style:l},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:a},n):null,u)}var XR=T.createElement(WR,null),QR=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?T.createElement(pi.Provider,{value:this.props.routeContext},T.createElement(Xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZR({routeContext:t,match:e,children:n}){let s=T.useContext(ua);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(pi.Provider,{value:t},n)}function JR(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let f=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);He(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:g,errors:y}=n,v=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||v){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,m,g)=>{let y,v=!1,E=null,S=null;n&&(y=l&&m.route.id?l[m.route.id]:void 0,E=m.route.errorElement||XR,u&&(d<0&&g===0?(wE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):d===g&&(v=!0,S=m.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,g+1)),R=()=>{let N;return y?N=E:v?N=S:m.route.Component?N=T.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=f,T.createElement(ZR,{match:m,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?T.createElement(QR,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):R()},null)}function Zm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eN(t){let e=T.useContext(ua);return He(e,Zm(t)),e}function tN(t){let e=T.useContext(zu);return He(e,Zm(t)),e}function nN(t){let e=T.useContext(pi);return He(e,Zm(t)),e}function Jm(t){let e=nN(t),n=e.matches[e.matches.length-1];return He(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function iN(){return Jm("useRouteId")}function sN(){var s;let t=T.useContext(Xm),e=tN("useRouteError"),n=Jm("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function rN(){let{router:t}=eN("useNavigate"),e=Jm("useNavigate"),n=T.useRef(!1);return EE(()=>{n.current=!0}),T.useCallback(async(a,l={})=>{Sn(n.current,xE),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var M0={};function wE(t,e,n){!e&&!M0[t]&&(M0[t]=!0,Sn(!1,n))}T.memo(aN);function aN({routes:t,future:e,state:n}){return SE(t,void 0,n,e)}function zr(t){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){He(!ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Zs(n));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:v="default"}=n,E=T.useMemo(()=>{let S=ns(f,u);return S==null?null:{location:{pathname:S,search:m,hash:g,state:y,key:v},navigationType:s}},[u,f,m,g,y,v,s]);return Sn(E!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:T.createElement(Vn.Provider,{value:d},T.createElement(cl.Provider,{children:e,value:E}))}function lN({children:t,location:e}){return $R(rm(t),e)}function rm(t,e=[]){let n=[];return T.Children.forEach(t,(s,a)=>{if(!T.isValidElement(s))return;let l=[...e,a];if(s.type===T.Fragment){n.push.apply(n,rm(s.props.children,l));return}He(s.type===zr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=rm(s.props.children,l)),n.push(u)}),n}var Xc="get",Qc="application/x-www-form-urlencoded";function Hu(t){return t!=null&&typeof t.tagName=="string"}function cN(t){return Hu(t)&&t.tagName.toLowerCase()==="button"}function uN(t){return Hu(t)&&t.tagName.toLowerCase()==="form"}function hN(t){return Hu(t)&&t.tagName.toLowerCase()==="input"}function dN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fN(t,e){return t.button===0&&(!e||e==="_self")&&!dN(t)}var Bc=null;function mN(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var pN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rf(t){return t!=null&&!pN.has(t)?(Sn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qc}"`),null):t}function gN(t,e){let n,s,a,l,u;if(uN(t)){let d=t.getAttribute("action");s=d?ns(d,e):null,n=t.getAttribute("method")||Xc,a=Rf(t.getAttribute("enctype"))||Qc,l=new FormData(t)}else if(cN(t)||hN(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(s=f?ns(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Xc,a=Rf(t.getAttribute("formenctype"))||Rf(d.getAttribute("enctype"))||Qc,l=new FormData(d,t),!mN()){let{name:m,type:g,value:y}=t;if(g==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,y)}}else{if(Hu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,s=null,a=Qc,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}function ep(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function yN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _N(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await yN(l,n);return u.links?u.links():[]}return[]}));return SN(s.flat(1).filter(vN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function L0(t,e,n,s,a,l){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>{var g;return n[m].pathname!==f.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,m)=>u(f,m)||d(f,m)):l==="data"?e.filter((f,m)=>{var y;let g=s.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function bN(t,e,{includeHydrateFallback:n}={}){return xN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function xN(t){return[...new Set(t)]}function EN(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function SN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(EN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function wN(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function TN(){let t=T.useContext(ua);return ep(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function CN(){let t=T.useContext(zu);return ep(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var tp=T.createContext(void 0);tp.displayName="FrameworkContext";function TE(){let t=T.useContext(tp);return ep(t,"You must render this element inside a <HydratedRouter> element"),t}function AN(t,e){let n=T.useContext(tp),[s,a]=T.useState(!1),[l,u]=T.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=e,v=T.useRef(null);T.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let C=N=>{N.forEach(L=>{u(L.isIntersecting)})},R=new IntersectionObserver(C,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[t]),T.useEffect(()=>{if(s){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[s]);let E=()=>{a(!0)},S=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:bo(d,E),onBlur:bo(f,S),onMouseEnter:bo(m,E),onMouseLeave:bo(g,S),onTouchStart:bo(y,E)}]:[!1,v,{}]}function bo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function RN({page:t,...e}){let{router:n}=TN(),s=T.useMemo(()=>mE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?T.createElement(DN,{page:t,matches:s,...e}):null}function NN(t){let{manifest:e,routeModules:n}=TE(),[s,a]=T.useState([]);return T.useEffect(()=>{let l=!1;return _N(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function DN({page:t,matches:e,...n}){let s=Bn(),{manifest:a,routeModules:l}=TE(),{loaderData:u,matches:d}=CN(),f=T.useMemo(()=>L0(t,e,d,a,s,"data"),[t,e,d,a,s]),m=T.useMemo(()=>L0(t,e,d,a,s,"assets"),[t,e,d,a,s]),g=T.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let E=new Set,S=!1;if(e.forEach(R=>{var L;let N=a.routes[R.route.id];!N||!N.hasLoader||(!f.some(k=>k.route.id===R.route.id)&&R.route.id in u&&((L=l[R.route.id])!=null&&L.shouldRevalidate)||N.hasClientLoader?S=!0:E.add(R.route.id))}),E.size===0)return[];let C=wN(t);return S&&E.size>0&&C.searchParams.set("_routes",e.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[C.pathname+C.search]},[u,s,a,f,e,t,l]),y=T.useMemo(()=>bN(m,a),[m,a]),v=NN(m);return T.createElement(T.Fragment,null,g.map(E=>T.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),y.map(E=>T.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),v.map(({key:E,link:S})=>T.createElement("link",{key:E,...S})))}function ON(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CE&&(window.__reactRouterVersion="7.2.0")}catch{}function kN({basename:t,children:e,window:n}){let s=T.useRef();s.current==null&&(s.current=bR({window:n,v5Compat:!0}));let a=s.current,[l,u]=T.useState({action:a.action,location:a.location}),d=T.useCallback(f=>{T.startTransition(()=>u(f))},[u]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.createElement(oN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var AE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RE=T.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:d,target:f,to:m,preventScrollReset:g,viewTransition:y,...v},E){let{basename:S}=T.useContext(Vn),C=typeof m=="string"&&AE.test(m),R,N=!1;if(typeof m=="string"&&C&&(R=m,CE))try{let q=new URL(window.location.href),Q=m.startsWith("//")?new URL(q.protocol+m):new URL(m),Ue=ns(Q.pathname,S);Q.origin===q.origin&&Ue!=null?m=Ue+Q.search+Q.hash:N=!0}catch{Sn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=YR(m,{relative:a}),[k,H,U]=AN(s,v),$=LN(m,{replace:u,state:d,target:f,preventScrollReset:g,relative:a,viewTransition:y});function Z(q){e&&e(q),q.defaultPrevented||$(q)}let Y=T.createElement("a",{...v,...U,href:R||L,onClick:N||l?e:Z,ref:ON(E,H),target:f,"data-discover":!C&&n==="render"?"true":void 0});return k&&!C?T.createElement(T.Fragment,null,Y,T.createElement(RN,{page:L})):Y});RE.displayName="Link";var NE=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:f,...m},g){let y=hl(u,{relative:m.relative}),v=Bn(),E=T.useContext(zu),{navigator:S,basename:C}=T.useContext(Vn),R=E!=null&&BN(y)&&d===!0,N=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,L=v.pathname,k=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(L=L.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&C&&(k=ns(k,C)||k);const H=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let U=L===N||!a&&L.startsWith(N)&&L.charAt(H)==="/",$=k!=null&&(k===N||!a&&k.startsWith(N)&&k.charAt(N.length)==="/"),Z={isActive:U,isPending:$,isTransitioning:R},Y=U?e:void 0,q;typeof s=="function"?q=s(Z):q=[s,U?"active":null,$?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let Q=typeof l=="function"?l(Z):l;return T.createElement(RE,{...m,"aria-current":Y,className:q,ref:g,style:Q,to:u,viewTransition:d},typeof f=="function"?f(Z):f)});NE.displayName="NavLink";var IN=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Xc,action:d,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:y,...v},E)=>{let S=jN(),C=VN(d,{relative:m}),R=u.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&AE.test(d),L=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let H=k.nativeEvent.submitter,U=(H==null?void 0:H.getAttribute("formmethod"))||u;S(H||k.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:y})};return T.createElement("form",{ref:E,method:R,action:C,onSubmit:s?f:L,...v,"data-discover":!N&&t==="render"?"true":void 0})});IN.displayName="Form";function MN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(t){let e=T.useContext(ua);return He(e,MN(t)),e}function LN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let d=Qm(),f=Bn(),m=hl(t,{relative:l});return T.useCallback(g=>{if(fN(g,e)){g.preventDefault();let y=n!==void 0?n:Fo(f)===Fo(m);d(t,{replace:y,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[f,d,m,n,s,e,t,a,l,u])}var PN=0,UN=()=>`__${String(++PN)}__`;function jN(){let{router:t}=DE("useSubmit"),{basename:e}=T.useContext(Vn),n=iN();return T.useCallback(async(s,a={})=>{let{action:l,method:u,encType:d,formData:f,body:m}=gN(s,e);if(a.navigate===!1){let g=a.fetcherKey||UN();await t.fetch(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function VN(t,{relative:e}={}){let{basename:n}=T.useContext(Vn),s=T.useContext(pi);He(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...hl(t||".",{relative:e})},u=Bn();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:oi([n,l.pathname])),Fo(l)}function BN(t,e={}){let n=T.useContext(bE);He(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DE("useViewTransitionState"),a=hl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=ns(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=ns(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ou(a.pathname,u)!=null||ou(a.pathname,l)!=null}new TextEncoder;const OE=T.createContext({});function zN(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const np=T.createContext(null),kE=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function HN(t=!0){const e=T.useContext(np);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=T.useId();T.useEffect(()=>{if(t)return a(l)},[t]);const u=T.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const ip=typeof window<"u",FN=ip?T.useLayoutEffect:T.useEffect,Kt=t=>t;let IE=Kt;function sp(t){let e;return()=>(e===void 0&&(e=t()),e)}const na=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},li=t=>t*1e3,ci=t=>t/1e3,qN={useManualTiming:!1},zc=["read","resolveKeyframes","update","preRender","render","postRender"],P0={value:null};function GN(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},f=0;function m(y){u.has(y)&&(g.schedule(y),t()),f++,y(d)}const g={schedule:(y,v=!1,E=!1)=>{const C=E&&a?n:s;return v&&u.add(y),C.has(y)||C.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),e&&P0.value&&P0.value.frameloop[e].push(f),f=0,n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const YN=40;function ME(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=zc.reduce((N,L)=>(N[L]=GN(l,e?L:void 0),N),{}),{read:d,resolveKeyframes:f,update:m,preRender:g,render:y,postRender:v}=u,E=()=>{const N=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(N-a.timestamp,YN),1),a.timestamp=N,a.isProcessing=!0,d.process(a),f.process(a),m.process(a),g.process(a),y.process(a),v.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(E))},S=()=>{n=!0,s=!0,a.isProcessing||t(E)};return{schedule:zc.reduce((N,L)=>{const k=u[L];return N[L]=(H,U=!1,$=!1)=>(n||S(),k.schedule(H,U,$)),N},{}),cancel:N=>{for(let L=0;L<zc.length;L++)u[zc[L]].cancel(N)},state:a,steps:u}}const{schedule:Le,cancel:is,state:vt,steps:Nf}=ME(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kt,!0),LE=T.createContext({strict:!1}),U0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ia={};for(const t in U0)ia[t]={isEnabled:e=>U0[t].some(n=>!!e[n])};function KN(t){for(const e in t)ia[e]={...ia[e],...t[e]}}const $N=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$N.has(t)}let PE=t=>!lu(t);function WN(t){t&&(PE=e=>e.startsWith("on")?!lu(e):t(e))}try{WN(require("@emotion/is-prop-valid").default)}catch{}function XN(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(PE(a)||n===!0&&lu(a)||!e&&!lu(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function QN(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Fu=T.createContext({});function qu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function qo(t){return typeof t=="string"||Array.isArray(t)}const rp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ap=["initial",...rp];function Gu(t){return qu(t.animate)||ap.some(e=>qo(t[e]))}function UE(t){return!!(Gu(t)||t.variants)}function ZN(t,e){if(Gu(t)){const{initial:n,animate:s}=t;return{initial:n===!1||qo(n)?n:void 0,animate:qo(s)?s:void 0}}return t.inherit!==!1?e:{}}function JN(t){const{initial:e,animate:n}=ZN(t,T.useContext(Fu));return T.useMemo(()=>({initial:e,animate:n}),[j0(e),j0(n)])}function j0(t){return Array.isArray(t)?t.join(" "):t}const eD=Symbol.for("motionComponentSymbol");function Fr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function tD(t,e,n){return T.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Fr(n)&&(n.current=s))},[e])}const op=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nD="framerAppearId",jE="data-"+op(nD),{schedule:lp}=ME(queueMicrotask,!1),VE=T.createContext({});function iD(t,e,n,s,a){var l,u;const{visualElement:d}=T.useContext(Fu),f=T.useContext(LE),m=T.useContext(np),g=T.useContext(kE).reducedMotion,y=T.useRef(null);s=s||f.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:d,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const v=y.current,E=T.useContext(VE);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&sD(y.current,n,a,E);const S=T.useRef(!1);T.useInsertionEffect(()=>{v&&S.current&&v.update(n,m)});const C=n[jE],R=T.useRef(!!C&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,C))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,C)));return FN(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),lp.render(v.render),R.current&&v.animationState&&v.animationState.animateChanges())}),T.useEffect(()=>{v&&(!R.current&&v.animationState&&v.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,C)}),R.current=!1))}),v}function sD(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:BE(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&Fr(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}function BE(t){if(t)return t.options.allowProjection!==!1?t.projection:BE(t.parent)}function rD({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){var l,u;t&&KN(t);function d(m,g){let y;const v={...T.useContext(kE),...m,layoutId:aD(m)},{isStatic:E}=v,S=JN(m),C=s(m,E);if(!E&&ip){oD();const R=lD(v);y=R.MeasureLayout,S.visualElement=iD(a,C,v,e,R.ProjectionNode)}return b.jsxs(Fu.Provider,{value:S,children:[y&&S.visualElement?b.jsx(y,{visualElement:S.visualElement,...v}):null,n(a,m,tD(C,S.visualElement,g),C,E,S.visualElement)]})}d.displayName=`motion.${typeof a=="string"?a:`create(${(u=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&u!==void 0?u:""})`}`;const f=T.forwardRef(d);return f[eD]=a,f}function aD({layoutId:t}){const e=T.useContext(OE).id;return e&&t!==void 0?e+"-"+t:t}function oD(t,e){T.useContext(LE).strict}function lD(t){const{drag:e,layout:n}=ia;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const zE=t=>e=>typeof e=="string"&&e.startsWith(t),cp=zE("--"),cD=zE("var(--"),up=t=>cD(t)?uD.test(t.split("/*")[0].trim()):!1,uD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Go={};function hD(t){for(const e in t)Go[e]=t[e],cp(e)&&(Go[e].isCSSVariable=!0)}const ha=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Js=new Set(ha);function HE(t,{layout:e,layoutId:n}){return Js.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Go[t]||t==="opacity")}const wt=t=>!!(t&&t.getVelocity),FE=(t,e)=>e&&typeof t=="number"?e.transform(t):t,hi=(t,e,n)=>n>e?e:n<t?t:n,da={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yo={...da,transform:t=>hi(0,1,t)},Hc={...da,default:1},dl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gi=dl("deg"),In=dl("%"),re=dl("px"),dD=dl("vh"),fD=dl("vw"),V0={...In,parse:t=>In.parse(t)/100,transform:t=>In.transform(t*100)},mD={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,backgroundPositionX:re,backgroundPositionY:re},pD={rotate:Gi,rotateX:Gi,rotateY:Gi,rotateZ:Gi,scale:Hc,scaleX:Hc,scaleY:Hc,scaleZ:Hc,skew:Gi,skewX:Gi,skewY:Gi,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:Yo,originX:V0,originY:V0,originZ:re},B0={...da,transform:Math.round},hp={...mD,...pD,zIndex:B0,size:re,fillOpacity:Yo,strokeOpacity:Yo,numOctaves:B0},gD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yD=ha.length;function vD(t,e,n){let s="",a=!0;for(let l=0;l<yD;l++){const u=ha[l],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=FE(d,hp[u]);if(!f){a=!1;const g=gD[u]||u;s+=`${g}(${m}) `}n&&(e[u]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function dp(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const f in e){const m=e[f];if(Js.has(f)){u=!0;continue}else if(cp(f)){a[f]=m;continue}else{const g=FE(m,hp[f]);f.startsWith("origin")?(d=!0,l[f]=g):s[f]=g}}if(e.transform||(u||n?s.transform=vD(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:g=0}=l;s.transformOrigin=`${f} ${m} ${g}`}}const fp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qE(t,e,n){for(const s in e)!wt(e[s])&&!HE(s,n)&&(t[s]=e[s])}function _D({transformTemplate:t},e){return T.useMemo(()=>{const n=fp();return dp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function bD(t,e){const n=t.style||{},s={};return qE(s,n,t),Object.assign(s,_D(t,e)),s}function xD(t,e){const n={},s=bD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const ED=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mp(t){return typeof t!="string"||t.includes("-")?!1:!!(ED.indexOf(t)>-1||/[A-Z]/u.test(t))}const SD={offset:"stroke-dashoffset",array:"stroke-dasharray"},wD={offset:"strokeDashoffset",array:"strokeDasharray"};function TD(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?SD:wD;t[l.offset]=re.transform(-s);const u=re.transform(e),d=re.transform(n);t[l.array]=`${u} ${d}`}function z0(t,e,n){return typeof t=="string"?t:re.transform(e+n*t)}function CD(t,e,n){const s=z0(e,t.x,t.width),a=z0(n,t.y,t.height);return`${s} ${a}`}function pp(t,{attrX:e,attrY:n,attrScale:s,originX:a,originY:l,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...m},g,y){if(dp(t,m,y),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:E,dimensions:S}=t;v.transform&&(S&&(E.transform=v.transform),delete v.transform),S&&(a!==void 0||l!==void 0||E.transform)&&(E.transformOrigin=CD(S,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),u!==void 0&&TD(v,u,d,f,!1)}const GE=()=>({...fp(),attrs:{}}),gp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function AD(t,e,n,s){const a=T.useMemo(()=>{const l=GE();return pp(l,e,gp(s),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};qE(l,t.style,t),a.style={...l,...a.style}}return a}function RD(t=!1){return(n,s,a,{latestValues:l},u)=>{const f=(mp(n)?AD:xD)(s,l,u,n),m=XN(s,typeof n=="string",t),g=n!==T.Fragment?{...m,...f,ref:a}:{},{children:y}=s,v=T.useMemo(()=>wt(y)?y.get():y,[y]);return T.createElement(n,{...g,children:v})}}function H0(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function yp(t,e,n,s){if(typeof e=="function"){const[a,l]=H0(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=H0(s);e=e(n!==void 0?n:t.custom,a,l)}return e}const am=t=>Array.isArray(t),ND=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),DD=t=>am(t)?t[t.length-1]||0:t;function Zc(t){const e=wt(t)?t.get():t;return ND(e)?e.toValue():e}function OD({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,a,l){const u={latestValues:kD(s,a,l,t),renderState:e()};return n&&(u.onMount=d=>n({props:s,current:d,...u}),u.onUpdate=d=>n(d)),u}const YE=t=>(e,n)=>{const s=T.useContext(Fu),a=T.useContext(np),l=()=>OD(t,e,s,a);return n?l():zN(l)};function kD(t,e,n,s){const a={},l=s(t,{});for(const v in l)a[v]=Zc(l[v]);let{initial:u,animate:d}=t;const f=Gu(t),m=UE(t);e&&m&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const y=g?d:u;if(y&&typeof y!="boolean"&&!qu(y)){const v=Array.isArray(y)?y:[y];for(let E=0;E<v.length;E++){const S=yp(t,v[E]);if(S){const{transitionEnd:C,transition:R,...N}=S;for(const L in N){let k=N[L];if(Array.isArray(k)){const H=g?k.length-1:0;k=k[H]}k!==null&&(a[L]=k)}for(const L in C)a[L]=C[L]}}}return a}function vp(t,e,n){var s;const{style:a}=t,l={};for(const u in a)(wt(a[u])||e.style&&wt(e.style[u])||HE(u,t)||((s=n==null?void 0:n.getValue(u))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(l[u]=a[u]);return l}const ID={useVisualState:YE({scrapeMotionValuesFromProps:vp,createRenderState:fp})};function KE(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function $E(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const l in n)t.style.setProperty(l,n[l])}const WE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XE(t,e,n,s){$E(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(WE.has(a)?a:op(a),e.attrs[a])}function QE(t,e,n){const s=vp(t,e,n);for(const a in t)if(wt(t[a])||wt(e[a])){const l=ha.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const F0=["x","y","width","height","cx","cy","r"],MD={useVisualState:YE({scrapeMotionValuesFromProps:QE,createRenderState:GE,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:a})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in a)if(Js.has(d)){l=!0;break}}if(!l)return;let u=!e;if(e)for(let d=0;d<F0.length;d++){const f=F0[d];t[f]!==e[f]&&(u=!0)}u&&Le.read(()=>{KE(n,s),Le.render(()=>{pp(s,a,gp(n.tagName),t.transformTemplate),XE(n,s)})})}})};function LD(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...mp(s)?MD:ID,preloadedFeatures:t,useRender:RD(a),createVisualElement:e,Component:s};return rD(u)}}function Ko(t,e,n){const s=t.getProps();return yp(s,e,n!==void 0?n:s.custom,t)}const PD=sp(()=>window.ScrollTimeline!==void 0);class UD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(a=>{if(PD()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{s.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class jD extends UD{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function _p(t,e){return t?t[e]||t.default||t:void 0}const om=2e4;function ZE(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<om;)e+=n,s=t.next(e);return e>=om?1/0:e}function bp(t){return typeof t=="function"}function q0(t,e){t.timeline=e,t.onfinish=null}const xp=t=>Array.isArray(t)&&typeof t[0]=="number",VD={linearEasing:void 0};function BD(t,e){const n=sp(t);return()=>{var s;return(s=VD[e])!==null&&s!==void 0?s:n()}}const cu=BD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),JE=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=t(na(0,a-1,l))+", ";return`linear(${s.substring(0,s.length-2)})`};function eS(t){return!!(typeof t=="function"&&cu()||!t||typeof t=="string"&&(t in lm||cu())||xp(t)||Array.isArray(t)&&t.every(eS))}const Ao=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,lm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ao([0,.65,.55,1]),circOut:Ao([.55,0,1,.45]),backIn:Ao([.31,.01,.66,-.59]),backOut:Ao([.33,1.53,.69,.99])};function tS(t,e){if(t)return typeof t=="function"&&cu()?JE(t,e):xp(t)?Ao(t):Array.isArray(t)?t.map(n=>tS(n,e)||lm.easeOut):lm[t]}const yn={x:!1,y:!1};function nS(){return yn.x||yn.y}function zD(t,e,n){var s;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const l=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function iS(t,e){const n=zD(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function G0(t){return!(t.pointerType==="touch"||nS())}function HD(t,e,n={}){const[s,a,l]=iS(t,n),u=d=>{if(!G0(d))return;const{target:f}=d,m=e(f,d);if(typeof m!="function"||!f)return;const g=y=>{G0(y)&&(m(y),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return s.forEach(d=>{d.addEventListener("pointerenter",u,a)}),l}function uu(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const sS=(t,e)=>e?t===e?!0:sS(t,e.parentElement):!1,Ep=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,FD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qD(t){return FD.has(t.tagName)||t.tabIndex!==-1}const Ro=new WeakSet;function Y0(t){return e=>{e.key==="Enter"&&t(e)}}function Df(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const GD=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Y0(()=>{if(Ro.has(n))return;Df(n,"down");const a=Y0(()=>{Df(n,"up")}),l=()=>Df(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function K0(t){return Ep(t)&&!nS()}function YD(t,e,n={}){const[s,a,l]=iS(t,n),u=d=>{const f=d.currentTarget;if(!f||!K0(d)||Ro.has(f))return;Ro.add(f),uu(d,"set");const m=e(f,d),g=(E,S)=>{f.removeEventListener("pointerup",y),f.removeEventListener("pointercancel",v),uu(E,"release"),!(!K0(E)||!Ro.has(f))&&(Ro.delete(f),typeof m=="function"&&m(E,{success:S}))},y=E=>{(E.isTrusted?KD(E,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(E,!1):g(E,!(f instanceof Element)||sS(f,E.target))},v=E=>{g(E,!1)};f.addEventListener("pointerup",y,a),f.addEventListener("pointercancel",v,a),f.addEventListener("lostpointercapture",v,a)};return s.forEach(d=>{d=n.useGlobalTarget?window:d;let f=!1;d instanceof HTMLElement&&(f=!0,!qD(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0)),d.addEventListener("pointerdown",u,a),f&&d.addEventListener("focus",m=>GD(m,a),a)}),l}function KD(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function $D(t){return t==="x"||t==="y"?yn[t]?null:(yn[t]=!0,()=>{yn[t]=!1}):yn.x||yn.y?null:(yn.x=yn.y=!0,()=>{yn.x=yn.y=!1})}const rS=new Set(["width","height","top","left","right","bottom",...ha]);let Jc;function WD(){Jc=void 0}const Mn={now:()=>(Jc===void 0&&Mn.set(vt.isProcessing||qN.useManualTiming?vt.timestamp:performance.now()),Jc),set:t=>{Jc=t,queueMicrotask(WD)}};function Sp(t,e){t.indexOf(e)===-1&&t.push(e)}function wp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Tp{constructor(){this.subscriptions=[]}add(e){return Sp(this.subscriptions,e),()=>wp(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function aS(t,e){return e?t*(1e3/e):0}const $0=30,XD=t=>!isNaN(parseFloat(t));class QD{constructor(e,n={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const l=Mn.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Tp);const s=this.events[e].add(n);return e==="change"?()=>{s(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$0);return aS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $o(t,e){return new QD(t,e)}function ZD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,$o(n))}function JD(t,e){const n=Ko(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const d=DD(l[u]);ZD(t,u,d)}}function eO(t){return!!(wt(t)&&t.add)}function cm(t,e){const n=t.getValue("willChange");if(eO(n))return n.add(e)}function oS(t){return t.props[jE]}const lS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,tO=1e-7,nO=12;function iO(t,e,n,s,a){let l,u,d=0;do u=e+(n-e)/2,l=lS(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>tO&&++d<nO);return u}function fl(t,e,n,s){if(t===e&&n===s)return Kt;const a=l=>iO(l,0,1,t,n);return l=>l===0||l===1?l:lS(a(l),e,s)}const cS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,uS=t=>e=>1-t(1-e),hS=fl(.33,1.53,.69,.99),Cp=uS(hS),dS=cS(Cp),fS=t=>(t*=2)<1?.5*Cp(t):.5*(2-Math.pow(2,-10*(t-1))),Ap=t=>1-Math.sin(Math.acos(t)),mS=uS(Ap),pS=cS(Ap),gS=t=>/^0[^.\s]+$/u.test(t);function sO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gS(t):!0}const Oo=t=>Math.round(t*1e5)/1e5,Rp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rO(t){return t==null}const aO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Np=(t,e)=>n=>!!(typeof n=="string"&&aO.test(n)&&n.startsWith(t)||e&&!rO(n)&&Object.prototype.hasOwnProperty.call(n,e)),yS=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(Rp);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},oO=t=>hi(0,255,t),Of={...da,transform:t=>Math.round(oO(t))},Vs={test:Np("rgb","red"),parse:yS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Of.transform(t)+", "+Of.transform(e)+", "+Of.transform(n)+", "+Oo(Yo.transform(s))+")"};function lO(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const um={test:Np("#"),parse:lO,transform:Vs.transform},qr={test:Np("hsl","hue"),parse:yS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+In.transform(Oo(e))+", "+In.transform(Oo(n))+", "+Oo(Yo.transform(s))+")"},Et={test:t=>Vs.test(t)||um.test(t)||qr.test(t),parse:t=>Vs.test(t)?Vs.parse(t):qr.test(t)?qr.parse(t):um.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vs.transform(t):qr.transform(t)},cO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uO(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Rp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(cO))===null||n===void 0?void 0:n.length)||0)>0}const vS="number",_S="color",hO="var",dO="var(",W0="${}",fO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wo(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(fO,f=>(Et.test(f)?(s.color.push(l),a.push(_S),n.push(Et.parse(f))):f.startsWith(dO)?(s.var.push(l),a.push(hO),n.push(f)):(s.number.push(l),a.push(vS),n.push(parseFloat(f))),++l,W0)).split(W0);return{values:n,split:d,indexes:s,types:a}}function bS(t){return Wo(t).values}function xS(t){const{split:e,types:n}=Wo(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===vS?l+=Oo(a[u]):d===_S?l+=Et.transform(a[u]):l+=a[u]}return l}}const mO=t=>typeof t=="number"?0:t;function pO(t){const e=bS(t);return xS(t)(e.map(mO))}const ss={test:uO,parse:bS,createTransformer:xS,getAnimatableNone:pO},gO=new Set(["brightness","contrast","saturate","opacity"]);function yO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Rp)||[];if(!s)return t;const a=n.replace(s,"");let l=gO.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const vO=/\b([a-z-]*)\(.*?\)/gu,hm={...ss,getAnimatableNone:t=>{const e=t.match(vO);return e?e.map(yO).join(" "):t}},_O={...hp,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:hm,WebkitFilter:hm},Dp=t=>_O[t];function ES(t,e){let n=Dp(t);return n!==hm&&(n=ss),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bO=new Set(["auto","none","0"]);function xO(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!bO.has(l)&&Wo(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=ES(n,a)}const X0=t=>t===da||t===re,Q0=(t,e)=>parseFloat(t.split(", ")[e]),Z0=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return Q0(a[1],e);{const l=s.match(/^matrix\((.+)\)$/u);return l?Q0(l[1],t):0}},EO=new Set(["x","y","z"]),SO=ha.filter(t=>!EO.has(t));function wO(t){const e=[];return SO.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Z0(4,13),y:Z0(5,14)};sa.translateX=sa.x;sa.translateY=sa.y;const Hs=new Set;let dm=!1,fm=!1;function SS(){if(fm){const t=Array.from(Hs).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=wO(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{var d;(d=s.getValue(l))===null||d===void 0||d.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}fm=!1,dm=!1,Hs.forEach(t=>t.complete()),Hs.clear()}function wS(){Hs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(fm=!0)})}function TO(){wS(),SS()}class Op{constructor(e,n,s,a,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Hs.add(this),dm||(dm=!0,Le.read(wS),Le.resolveKeyframes(SS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const u=a==null?void 0:a.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(s&&n){const f=s.readValue(n,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),a&&u===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Hs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Hs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const TS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),CO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AO(t){const e=CO.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function CS(t,e,n=1){const[s,a]=AO(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return TS(u)?parseFloat(u):u}return up(a)?CS(a,e,n+1):a}const AS=t=>e=>e.test(t),RO={test:t=>t==="auto",parse:t=>t},RS=[da,re,In,Gi,fD,dD,RO],J0=t=>RS.find(AS(t));class NS extends Op{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),up(m))){const g=CS(m,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!rS.has(s)||e.length!==2)return;const[a,l]=e,u=J0(a),d=J0(l);if(u!==d)if(X0(u)&&X0(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)sO(e[a])&&s.push(a);s.length&&xO(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const l=n.getValue(s);l&&l.jump(this.measuredOrigin,!1);const u=a.length-1,d=a[u];a[u]=sa[s](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{n.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const eb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ss.test(t)||t==="0")&&!t.startsWith("url("));function NO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function DO(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=eb(a,e),d=eb(l,e);return!u||!d?!1:NO(t)||(n==="spring"||bp(n))&&s}const OO=t=>t!==null;function Yu(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(OO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const kO=40;class DS{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mn.now(),this.options={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>kO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&TO(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Mn.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:l,delay:u,onComplete:d,onUpdate:f,isGenerator:m}=this.options;if(!m&&!DO(e,s,a,l))if(u)this.options.duration=0;else{f&&f(Yu(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ze=(t,e,n)=>t+(e-t)*n;function kf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function IO({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;a=kf(f,d,t+1/3),l=kf(f,d,t),u=kf(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function hu(t,e){return n=>n>0?e:t}const If=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},MO=[um,Vs,qr],LO=t=>MO.find(e=>e.test(t));function tb(t){const e=LO(t);if(!e)return!1;let n=e.parse(t);return e===qr&&(n=IO(n)),n}const nb=(t,e)=>{const n=tb(t),s=tb(e);if(!n||!s)return hu(t,e);const a={...n};return l=>(a.red=If(n.red,s.red,l),a.green=If(n.green,s.green,l),a.blue=If(n.blue,s.blue,l),a.alpha=ze(n.alpha,s.alpha,l),Vs.transform(a))},PO=(t,e)=>n=>e(t(n)),ml=(...t)=>t.reduce(PO),mm=new Set(["none","hidden"]);function UO(t,e){return mm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function jO(t,e){return n=>ze(t,e,n)}function kp(t){return typeof t=="number"?jO:typeof t=="string"?up(t)?hu:Et.test(t)?nb:zO:Array.isArray(t)?OS:typeof t=="object"?Et.test(t)?nb:VO:hu}function OS(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>kp(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function VO(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=kp(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function BO(t,e){var n;const s=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],d=t.indexes[u][a[u]],f=(n=t.values[d])!==null&&n!==void 0?n:0;s[l]=f,a[u]++}return s}const zO=(t,e)=>{const n=ss.createTransformer(e),s=Wo(t),a=Wo(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?mm.has(t)&&!a.values.length||mm.has(e)&&!s.values.length?UO(t,e):ml(OS(BO(s,a),a.values),n):hu(t,e)};function kS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ze(t,e,n):kp(t)(t,e)}const HO=5;function IS(t,e,n){const s=Math.max(e-HO,0);return aS(n-t(s),e-s)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ib=.001;function FO({duration:t=Ye.duration,bounce:e=Ye.bounce,velocity:n=Ye.velocity,mass:s=Ye.mass}){let a,l,u=1-e;u=hi(Ye.minDamping,Ye.maxDamping,u),t=hi(Ye.minDuration,Ye.maxDuration,ci(t)),u<1?(a=m=>{const g=m*u,y=g*t,v=g-n,E=pm(m,u),S=Math.exp(-y);return ib-v/E*S},l=m=>{const y=m*u*t,v=y*n+n,E=Math.pow(u,2)*Math.pow(m,2)*t,S=Math.exp(-y),C=pm(Math.pow(m,2),u);return(-a(m)+ib>0?-1:1)*((v-E)*S)/C}):(a=m=>{const g=Math.exp(-m*t),y=(m-n)*t+1;return-.001+g*y},l=m=>{const g=Math.exp(-m*t),y=(n-m)*(t*t);return g*y});const d=5/t,f=GO(a,l,d);if(t=li(t),isNaN(f))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:t};{const m=Math.pow(f,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:t}}}const qO=12;function GO(t,e,n){let s=n;for(let a=1;a<qO;a++)s=s-t(s)/e(s);return s}function pm(t,e){return t*Math.sqrt(1-e*e)}const YO=["duration","bounce"],KO=["stiffness","damping","mass"];function sb(t,e){return e.some(n=>t[n]!==void 0)}function $O(t){let e={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...t};if(!sb(t,KO)&&sb(t,YO))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*hi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ye.mass,stiffness:a,damping:l}}else{const n=FO(t);e={...e,...n,mass:Ye.mass},e.isResolvedFromDuration=!0}return e}function MS(t=Ye.visualDuration,e=Ye.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:m,mass:g,duration:y,velocity:v,isResolvedFromDuration:E}=$O({...n,velocity:-ci(n.velocity||0)}),S=v||0,C=m/(2*Math.sqrt(f*g)),R=u-l,N=ci(Math.sqrt(f/g)),L=Math.abs(R)<5;s||(s=L?Ye.restSpeed.granular:Ye.restSpeed.default),a||(a=L?Ye.restDelta.granular:Ye.restDelta.default);let k;if(C<1){const U=pm(N,C);k=$=>{const Z=Math.exp(-C*N*$);return u-Z*((S+C*N*R)/U*Math.sin(U*$)+R*Math.cos(U*$))}}else if(C===1)k=U=>u-Math.exp(-N*U)*(R+(S+N*R)*U);else{const U=N*Math.sqrt(C*C-1);k=$=>{const Z=Math.exp(-C*N*$),Y=Math.min(U*$,300);return u-Z*((S+C*N*R)*Math.sinh(Y)+U*R*Math.cosh(Y))/U}}const H={calculatedDuration:E&&y||null,next:U=>{const $=k(U);if(E)d.done=U>=y;else{let Z=0;C<1&&(Z=U===0?li(S):IS(k,U,$));const Y=Math.abs(Z)<=s,q=Math.abs(u-$)<=a;d.done=Y&&q}return d.value=d.done?u:$,d},toString:()=>{const U=Math.min(ZE(H),om),$=JE(Z=>H.next(U*Z).value,U,30);return U+"ms "+$}};return H}function rb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},E=Y=>d!==void 0&&Y<d||f!==void 0&&Y>f,S=Y=>d===void 0?f:f===void 0||Math.abs(d-Y)<Math.abs(f-Y)?d:f;let C=n*e;const R=y+C,N=u===void 0?R:u(R);N!==R&&(C=N-y);const L=Y=>-C*Math.exp(-Y/s),k=Y=>N+L(Y),H=Y=>{const q=L(Y),Q=k(Y);v.done=Math.abs(q)<=m,v.value=v.done?N:Q};let U,$;const Z=Y=>{E(v.value)&&(U=Y,$=MS({keyframes:[v.value,S(v.value)],velocity:IS(k,Y,v.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return Z(0),{calculatedDuration:null,next:Y=>{let q=!1;return!$&&U===void 0&&(q=!0,H(Y),Z(Y)),U!==void 0&&Y>=U?$.next(Y-U):(!q&&H(Y),v)}}}const WO=fl(.42,0,1,1),XO=fl(0,0,.58,1),LS=fl(.42,0,.58,1),QO=t=>Array.isArray(t)&&typeof t[0]!="number",ZO={linear:Kt,easeIn:WO,easeInOut:LS,easeOut:XO,circIn:Ap,circInOut:pS,circOut:mS,backIn:Cp,backInOut:dS,backOut:hS,anticipate:fS},ab=t=>{if(xp(t)){IE(t.length===4);const[e,n,s,a]=t;return fl(e,n,s,a)}else if(typeof t=="string")return ZO[t];return t};function JO(t,e,n){const s=[],a=n||kS,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Kt:e;d=ml(f,d)}s.push(d)}return s}function e2(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(IE(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=JO(e,s,a),f=d.length,m=g=>{if(u&&g<t[0])return e[0];let y=0;if(f>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=na(t[y],t[y+1],g);return d[y](v)};return n?g=>m(hi(t[0],t[l-1],g)):m}function t2(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=na(0,e,s);t.push(ze(n,1,a))}}function n2(t){const e=[0];return t2(e,t.length-1),e}function i2(t,e){return t.map(n=>n*e)}function s2(t,e){return t.map(()=>e||LS).splice(0,t.length-1)}function du({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=QO(s)?s.map(ab):ab(s),l={done:!1,value:e[0]},u=i2(n&&n.length===e.length?n:n2(e),t),d=e2(u,e,{ease:Array.isArray(a)?a:s2(e,a)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const r2=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Le.update(e,!0),stop:()=>is(e),now:()=>vt.isProcessing?vt.timestamp:Mn.now()}},a2={decay:rb,inertia:rb,tween:du,keyframes:du,spring:MS},o2=t=>t/100;class Ip extends DS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:s,element:a,keyframes:l}=this.options,u=(a==null?void 0:a.KeyframeResolver)||Op,d=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new u(l,d,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=this.options,d=bp(n)?n:a2[n]||du;let f,m;d!==du&&typeof e[0]!="number"&&(f=ml(o2,kS(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});l==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=ZE(g));const{calculatedDuration:y}=g,v=y+a,E=v*(s+1)-a;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:y,resolvedDuration:v,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:Y}=this.options;return{done:!0,value:Y[Y.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:m,totalDuration:g,resolvedDuration:y}=s;if(this.startTime===null)return l.next(0);const{delay:v,repeat:E,repeatType:S,repeatDelay:C,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-v*(this.speed>=0?1:-1),L=this.speed>=0?N<0:N>g;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let k=this.currentTime,H=l;if(E){const Y=Math.min(this.currentTime,g)/y;let q=Math.floor(Y),Q=Y%1;!Q&&Y>=1&&(Q=1),Q===1&&q--,q=Math.min(q,E+1),!!(q%2)&&(S==="reverse"?(Q=1-Q,C&&(Q-=C/y)):S==="mirror"&&(H=u)),k=hi(0,1,Q)*y}const U=L?{done:!1,value:f[0]}:H.next(k);d&&(U.value=d(U.value));let{done:$}=U;!L&&m!==null&&($=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return Z&&a!==void 0&&(U.value=Yu(f,this.options,a)),R&&R(U.value),Z&&this.finish(),U}get duration(){const{resolved:e}=this;return e?ci(e.calculatedDuration):0}get time(){return ci(this.currentTime)}set time(e){e=li(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ci(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=r2,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const l2=new Set(["opacity","clipPath","filter","transform"]);function c2(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const m={[e]:n};f&&(m.offset=f);const g=tS(d,a);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:s,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}const u2=sp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fu=10,h2=2e4;function d2(t){return bp(t.type)||t.type==="spring"||!eS(t.ease)}function f2(t,e){const n=new Ip({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const a=[];let l=0;for(;!s.done&&l<h2;)s=n.sample(l),a.push(s.value),l+=fu;return{times:void 0,keyframes:a,duration:l-fu,ease:"linear"}}const PS={anticipate:fS,backInOut:dS,circInOut:pS};function m2(t){return t in PS}class ob extends DS{constructor(e){super(e);const{name:n,motionValue:s,element:a,keyframes:l}=this.options;this.resolver=new NS(l,(u,d)=>this.onKeyframesResolved(u,d),n,s,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:a,ease:l,type:u,motionValue:d,name:f,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&cu()&&m2(l)&&(l=PS[l]),d2(this.options)){const{onComplete:y,onUpdate:v,motionValue:E,element:S,...C}=this.options,R=f2(e,C);e=R.keyframes,e.length===1&&(e[1]=e[0]),s=R.duration,a=R.times,l=R.ease,u="keyframes"}const g=c2(d.owner.current,f,e,{...this.options,duration:s,times:a,ease:l});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(q0(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;d.set(Yu(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:s,times:a,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ci(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ci(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=li(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Kt;const{animation:s}=n;q0(s,e)}return Kt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:a,type:l,ease:u,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:y,element:v,...E}=this.options,S=new Ip({...E,keyframes:s,duration:a,type:l,ease:u,times:d,isGenerator:!0}),C=li(this.time);m.setWithVelocity(S.sample(C-fu).value,S.sample(C).value,fu)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:a,repeatType:l,damping:u,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=n.owner.getProps();return u2()&&s&&l2.has(s)&&!f&&!m&&!a&&l!=="mirror"&&u!==0&&d!=="inertia"}}const p2={type:"spring",stiffness:500,damping:25,restSpeed:10},g2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),y2={type:"keyframes",duration:.8},v2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_2=(t,{keyframes:e})=>e.length>2?y2:Js.has(t)?t.startsWith("scale")?g2(e[1]):p2:v2;function b2({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const Mp=(t,e,n,s={},a,l)=>u=>{const d=_p(s,t)||{},f=d.delay||s.delay||0;let{elapsed:m=0}=s;m=m-li(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:v=>{e.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};b2(d)||(g={...g,..._2(t,g)}),g.duration&&(g.duration=li(g.duration)),g.repeatDelay&&(g.repeatDelay=li(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!l&&e.get()!==void 0){const v=Yu(g.keyframes,d);if(v!==void 0)return Le.update(()=>{g.onUpdate(v),g.onComplete()}),new jD([])}return!l&&ob.supports(g)?new ob(g):new Ip(g)};function x2({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function US(t,e,{delay:n=0,transitionOverride:s,type:a}={}){var l;let{transition:u=t.getDefaultTransition(),transitionEnd:d,...f}=e;s&&(u=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const v=t.getValue(y,(l=t.latestValues[y])!==null&&l!==void 0?l:null),E=f[y];if(E===void 0||g&&x2(g,y))continue;const S={delay:n,..._p(u||{},y)};let C=!1;if(window.MotionHandoffAnimation){const N=oS(t);if(N){const L=window.MotionHandoffAnimation(N,y,Le);L!==null&&(S.startTime=L,C=!0)}}cm(t,y),v.start(Mp(y,v,E,t.shouldReduceMotion&&rS.has(y)?{type:!1}:S,t,C));const R=v.animation;R&&m.push(R)}return d&&Promise.all(m).then(()=>{Le.update(()=>{d&&JD(t,d)})}),m}function gm(t,e,n={}){var s;const a=Ko(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(l=n.transitionOverride);const u=a?()=>Promise.all(US(t,a,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=l;return E2(t,e,g+m,y,v,n)}:()=>Promise.resolve(),{when:f}=l;if(f){const[m,g]=f==="beforeChildren"?[u,d]:[d,u];return m().then(()=>g())}else return Promise.all([u(),d(n.delay)])}function E2(t,e,n=0,s=0,a=1,l){const u=[],d=(t.variantChildren.size-1)*s,f=a===1?(m=0)=>m*s:(m=0)=>d-m*s;return Array.from(t.variantChildren).sort(S2).forEach((m,g)=>{m.notify("AnimationStart",e),u.push(gm(m,e,{...l,delay:n+f(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function S2(t,e){return t.sortNodePosition(e)}function w2(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>gm(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=gm(t,e,n);else{const a=typeof e=="function"?Ko(t,e,n.custom):e;s=Promise.all(US(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function jS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const T2=ap.length;function VS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?VS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<T2;n++){const s=ap[n],a=t.props[s];(qo(a)||a===!1)&&(e[s]=a)}return e}const C2=[...rp].reverse(),A2=rp.length;function R2(t){return e=>Promise.all(e.map(({animation:n,options:s})=>w2(t,n,s)))}function N2(t){let e=R2(t),n=lb(),s=!0;const a=f=>(m,g)=>{var y;const v=Ko(t,g,f==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(v){const{transition:E,transitionEnd:S,...C}=v;m={...m,...C,...S}}return m};function l(f){e=f(t)}function u(f){const{props:m}=t,g=VS(t.parent)||{},y=[],v=new Set;let E={},S=1/0;for(let R=0;R<A2;R++){const N=C2[R],L=n[N],k=m[N]!==void 0?m[N]:g[N],H=qo(k),U=N===f?L.isActive:null;U===!1&&(S=R);let $=k===g[N]&&k!==m[N]&&H;if($&&s&&t.manuallyAnimateOnMount&&($=!1),L.protectedKeys={...E},!L.isActive&&U===null||!k&&!L.prevProp||qu(k)||typeof k=="boolean")continue;const Z=D2(L.prevProp,k);let Y=Z||N===f&&L.isActive&&!$&&H||R>S&&H,q=!1;const Q=Array.isArray(k)?k:[k];let Ue=Q.reduce(a(N),{});U===!1&&(Ue={});const{prevResolvedValues:$t={}}=L,Wt={...$t,...Ue},Xt=ee=>{Y=!0,v.has(ee)&&(q=!0,v.delete(ee)),L.needsAnimating[ee]=!0;const te=t.getValue(ee);te&&(te.liveStyle=!1)};for(const ee in Wt){const te=Ue[ee],Te=$t[ee];if(E.hasOwnProperty(ee))continue;let A=!1;am(te)&&am(Te)?A=!jS(te,Te):A=te!==Te,A?te!=null?Xt(ee):v.add(ee):te!==void 0&&v.has(ee)?Xt(ee):L.protectedKeys[ee]=!0}L.prevProp=k,L.prevResolvedValues=Ue,L.isActive&&(E={...E,...Ue}),s&&t.blockInitialAnimation&&(Y=!1),Y&&(!($&&Z)||q)&&y.push(...Q.map(ee=>({animation:ee,options:{type:N}})))}if(v.size){const R={};if(typeof m.initial!="boolean"){const N=Ko(t,Array.isArray(m.initial)?m.initial[0]:m.initial);N&&N.transition&&(R.transition=N.transition)}v.forEach(N=>{const L=t.getBaseTarget(N),k=t.getValue(N);k&&(k.liveStyle=!0),R[N]=L??null}),y.push({animation:R})}let C=!!y.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(C=!1),s=!1,C?e(y):Promise.resolve()}function d(f,m){var g;if(n[f].isActive===m)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(v=>{var E;return(E=v.animationState)===null||E===void 0?void 0:E.setActive(f,m)}),n[f].isActive=m;const y=u(f);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=lb(),s=!0}}}function D2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!jS(e,t):!1}function Is(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lb(){return{animate:Is(!0),whileInView:Is(),whileHover:Is(),whileTap:Is(),whileDrag:Is(),whileFocus:Is(),exit:Is()}}class cs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class O2 extends cs{constructor(e){super(e),e.animationState||(e.animationState=N2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let k2=0;class I2 extends cs{constructor(){super(...arguments),this.id=k2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const M2={animation:{Feature:O2},exit:{Feature:I2}};function Xo(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function pl(t){return{point:{x:t.pageX,y:t.pageY}}}const L2=t=>e=>Ep(e)&&t(e,pl(e));function Gr(t,e,n,s){return Xo(t,e,L2(n),s)}function BS({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function P2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function U2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const zS=1e-4,j2=1-zS,V2=1+zS,HS=.01,B2=0-HS,z2=0+HS;function Dt(t){return t.max-t.min}function H2(t,e,n){return Math.abs(t-e)<=n}function cb(t,e,n,s=.5){t.origin=s,t.originPoint=ze(e.min,e.max,t.origin),t.scale=Dt(n)/Dt(e),t.translate=ze(n.min,n.max,t.origin)-t.originPoint,(t.scale>=j2&&t.scale<=V2||isNaN(t.scale))&&(t.scale=1),(t.translate>=B2&&t.translate<=z2||isNaN(t.translate))&&(t.translate=0)}function ko(t,e,n,s){cb(t.x,e.x,n.x,s?s.originX:void 0),cb(t.y,e.y,n.y,s?s.originY:void 0)}function ub(t,e,n){t.min=n.min+e.min,t.max=t.min+Dt(e)}function F2(t,e,n){ub(t.x,e.x,n.x),ub(t.y,e.y,n.y)}function hb(t,e,n){t.min=e.min-n.min,t.max=t.min+Dt(e)}function Io(t,e,n){hb(t.x,e.x,n.x),hb(t.y,e.y,n.y)}const db=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yr=()=>({x:db(),y:db()}),fb=()=>({min:0,max:0}),Qe=()=>({x:fb(),y:fb()});function hn(t){return[t("x"),t("y")]}function Mf(t){return t===void 0||t===1}function ym({scale:t,scaleX:e,scaleY:n}){return!Mf(t)||!Mf(e)||!Mf(n)}function Ls(t){return ym(t)||FS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function FS(t){return mb(t.x)||mb(t.y)}function mb(t){return t&&t!=="0%"}function mu(t,e,n){const s=t-n,a=e*s;return n+a}function pb(t,e,n,s,a){return a!==void 0&&(t=mu(t,a,s)),mu(t,n,s)+e}function vm(t,e=0,n=1,s,a){t.min=pb(t.min,e,n,s,a),t.max=pb(t.max,e,n,s,a)}function qS(t,{x:e,y:n}){vm(t.x,e.translate,e.scale,e.originPoint),vm(t.y,n.translate,n.scale,n.originPoint)}const gb=.999999999999,yb=1.0000000000001;function q2(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&$r(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,qS(t,u)),s&&Ls(l.latestValues)&&$r(t,l.latestValues))}e.x<yb&&e.x>gb&&(e.x=1),e.y<yb&&e.y>gb&&(e.y=1)}function Kr(t,e){t.min=t.min+e,t.max=t.max+e}function vb(t,e,n,s,a=.5){const l=ze(t.min,t.max,a);vm(t,e,n,l,s)}function $r(t,e){vb(t.x,e.x,e.scaleX,e.scale,e.originX),vb(t.y,e.y,e.scaleY,e.scale,e.originY)}function GS(t,e){return BS(U2(t.getBoundingClientRect(),e))}function G2(t,e,n){const s=GS(t,n),{scroll:a}=e;return a&&(Kr(s.x,a.offset.x),Kr(s.y,a.offset.y)),s}const _b=(t,e)=>Math.abs(t-e);function Y2(t,e){const n=_b(t.x,e.x),s=_b(t.y,e.y);return Math.sqrt(n**2+s**2)}class YS{constructor(e,n,{transformPagePoint:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Pf(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=Y2(g.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:E}=g,{timestamp:S}=vt;this.history.push({...E,timestamp:S});const{onStart:C,onMove:R}=this.handlers;y||(C&&C(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{if(g.target instanceof Element&&g.target.hasPointerCapture&&g.pointerId!==void 0)try{if(!g.target.hasPointerCapture(g.pointerId))return}catch{}this.lastMoveEvent=g,this.lastMoveEventInfo=Lf(y,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{uu(g,"release"),this.end();const{onEnd:v,onSessionEnd:E,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Pf(g.type==="pointercancel"||g.type==="lostpointercapture"?this.lastMoveEventInfo:Lf(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,C),E&&E(g,C)},!Ep(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s;const l=pl(e),u=Lf(l,this.transformPagePoint),{point:d}=u,{timestamp:f}=vt;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,Pf(u,this.history)),uu(e,"set"),this.removeListeners=ml(Gr(e.currentTarget,"pointermove",this.handlePointerMove),Gr(e.currentTarget,"pointerup",this.handlePointerUp),Gr(e.currentTarget,"pointercancel",this.handlePointerUp),Gr(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),is(this.updatePoint)}}function Lf(t,e){return e?{point:e(t.point)}:t}function bb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pf({point:t},e){return{point:t,delta:bb(t,KS(e)),offset:bb(t,K2(e)),velocity:$2(e,.1)}}function K2(t){return t[0]}function KS(t){return t[t.length-1]}function $2(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=KS(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>li(e)));)n--;if(!s)return{x:0,y:0};const l=ci(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function W2(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ze(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ze(n,t,s.max):Math.min(t,n)),t}function xb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function X2(t,{top:e,left:n,bottom:s,right:a}){return{x:xb(t.x,n,a),y:xb(t.y,e,s)}}function Eb(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Q2(t,e){return{x:Eb(t.x,e.x),y:Eb(t.y,e.y)}}function Z2(t,e){let n=.5;const s=Dt(t),a=Dt(e);return a>s?n=na(e.min,e.max-s,t.min):s>a&&(n=na(t.min,t.max-a,e.min)),hi(0,1,n)}function J2(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _m=.35;function ek(t=_m){return t===!1?t=0:t===!0&&(t=_m),{x:Sb(t,"left","right"),y:Sb(t,"top","bottom")}}function Sb(t,e,n){return{min:wb(t,e),max:wb(t,n)}}function wb(t,e){return typeof t=="number"?t:t[e]||0}const tk=new WeakMap;class nk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pl(g).point)},l=(g,y)=>{const{drag:v,dragPropagation:E,onDragStart:S}=this.getProps();if(v&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$D(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(R=>{let N=this.getAxisMotionValue(R).get()||0;if(In.test(N)){const{projection:L}=this.visualElement;if(L&&L.layout){const k=L.layout.layoutBox[R];k&&(N=Dt(k)*(parseFloat(N)/100))}}this.originPoint[R]=N}),S&&Le.postRender(()=>S(g,y)),cm(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},u=(g,y)=>{const{dragPropagation:v,dragDirectionLock:E,onDirectionLock:S,onDrag:C}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:R}=y;if(E&&this.currentDirection===null){this.currentDirection=ik(R),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,R),this.updateAxis("y",y.point,R),this.visualElement.render(),C&&C(g,y)},d=(g,y)=>this.stop(g,y),f=()=>hn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new YS(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Le.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Fc(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=W2(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Fr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=X2(a.layoutBox,n):this.constraints=!1,this.elastic=ek(s),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&hn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=J2(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Fr(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=G2(s,a.root,this.visualElement.getTransformPagePoint());let u=Q2(a.layout.layoutBox,l);if(n){const d=n(P2(u));this.hasMutatedConstraints=!!d,d&&(u=BS(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=hn(g=>{if(!Fc(g,n,this.currentDirection))return;let y=f&&f[g]||{};u&&(y={min:0,max:0});const v=a?200:1e6,E=a?40:1e7,S={type:"inertia",velocity:s?e[g]:0,bounceStiffness:v,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,S)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return cm(this.visualElement,e),s.start(Mp(e,s,0,n,this.visualElement,!1))}stopAnimation(){hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){hn(n=>{const{drag:s}=this.getProps();if(!Fc(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n];l.set(e[n]-ze(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Fr(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};hn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();a[u]=Z2({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),hn(u=>{if(!Fc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set(ze(f,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;tk.set(this.visualElement,this);const e=this.visualElement.current,n=Gr(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();Fr(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Le.read(s);const u=Xo(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(hn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=f[g].translate,y.set(y.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=_m,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Fc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ik(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sk extends cs{constructor(e){super(e),this.removeGroupControls=Kt,this.removeListeners=Kt,this.controls=new nk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tb=t=>(e,n)=>{t&&Le.postRender(()=>t(e,n))};class rk extends cs{constructor(){super(...arguments),this.removePointerDownListener=Kt}onPointerDown(e){this.session=new YS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Tb(e),onStart:Tb(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&Le.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Gr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const eu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=Cb(t,e.target.x),s=Cb(t,e.target.y);return`${n}% ${s}%`}},ak={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ss.parse(t);if(a.length>5)return s;const l=ss.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=f;const m=ze(d,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),l(a)}};class ok extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;hD(lk),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),eu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,u=s.projection;return u&&(u.isPresent=l,a||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Le.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),lp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $S(t){const[e,n]=HN(),s=T.useContext(OE);return b.jsx(ok,{...t,layoutGroup:s,switchLayoutGroup:T.useContext(VE),isPresent:e,safeToRemove:n})}const lk={borderRadius:{...xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xo,borderTopRightRadius:xo,borderBottomLeftRadius:xo,borderBottomRightRadius:xo,boxShadow:ak};function ck(t,e,n){const s=wt(t)?t:$o(t);return s.start(Mp("",s,e,n)),s.animation}function uk(t){return t instanceof SVGElement&&t.tagName!=="svg"}const hk=(t,e)=>t.depth-e.depth;class dk{constructor(){this.children=[],this.isDirty=!1}add(e){Sp(this.children,e),this.isDirty=!0}remove(e){wp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hk),this.isDirty=!1,this.children.forEach(e)}}function fk(t,e){const n=Mn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(is(s),t(l-e))};return Le.read(s,!0),()=>is(s)}const WS=["TopLeft","TopRight","BottomLeft","BottomRight"],mk=WS.length,Ab=t=>typeof t=="string"?parseFloat(t):t,Rb=t=>typeof t=="number"||re.test(t);function pk(t,e,n,s,a,l){a?(t.opacity=ze(0,n.opacity!==void 0?n.opacity:1,gk(s)),t.opacityExit=ze(e.opacity!==void 0?e.opacity:1,0,yk(s))):l&&(t.opacity=ze(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let u=0;u<mk;u++){const d=`border${WS[u]}Radius`;let f=Nb(e,d),m=Nb(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||Rb(f)===Rb(m)?(t[d]=Math.max(ze(Ab(f),Ab(m),s),0),(In.test(m)||In.test(f))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=ze(e.rotate||0,n.rotate||0,s))}function Nb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const gk=XS(0,.5,mS),yk=XS(.5,.95,Kt);function XS(t,e,n){return s=>s<t?0:s>e?1:n(na(t,e,s))}function Db(t,e){t.min=e.min,t.max=e.max}function un(t,e){Db(t.x,e.x),Db(t.y,e.y)}function Ob(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kb(t,e,n,s,a){return t-=e,t=mu(t,1/n,s),a!==void 0&&(t=mu(t,1/a,s)),t}function vk(t,e=0,n=1,s=.5,a,l=t,u=t){if(In.test(e)&&(e=parseFloat(e),e=ze(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=ze(l.min,l.max,s);t===l&&(d-=e),t.min=kb(t.min,e,n,d,a),t.max=kb(t.max,e,n,d,a)}function Ib(t,e,[n,s,a],l,u){vk(t,e[n],e[s],e[a],e.scale,l,u)}const _k=["x","scaleX","originX"],bk=["y","scaleY","originY"];function Mb(t,e,n,s){Ib(t.x,e,_k,n?n.x:void 0,s?s.x:void 0),Ib(t.y,e,bk,n?n.y:void 0,s?s.y:void 0)}function Lb(t){return t.translate===0&&t.scale===1}function QS(t){return Lb(t.x)&&Lb(t.y)}function Pb(t,e){return t.min===e.min&&t.max===e.max}function xk(t,e){return Pb(t.x,e.x)&&Pb(t.y,e.y)}function Ub(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ZS(t,e){return Ub(t.x,e.x)&&Ub(t.y,e.y)}function jb(t){return Dt(t.x)/Dt(t.y)}function Vb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Ek{constructor(){this.members=[]}add(e){Sp(this.members,e),e.scheduleRender()}remove(e){if(wp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sk(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:v,skewX:E,skewY:S}=n;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),y&&(s+=`rotateX(${y}deg) `),v&&(s+=`rotateY(${v}deg) `),E&&(s+=`skewX(${E}deg) `),S&&(s+=`skewY(${S}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(s+=`scale(${d}, ${f})`),s||"none"}const Uf=["","X","Y","Z"],wk={visibility:"hidden"},Bb=1e3;let Tk=0;function jf(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function JS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=oS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Le,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&JS(s)}function ew({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e==null?void 0:e()){this.id=Tk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Rk),this.nodes.forEach(Ik),this.nodes.forEach(Mk),this.nodes.forEach(Nk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new dk)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Tp),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=uk(u),this.instance=u;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),t){let y;const v=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=fk(v,250),eu.hasAnimatedSinceResize&&(eu.hasAnimatedSinceResize=!1,this.nodes.forEach(Hb))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||Vk,{onLayoutAnimationStart:R,onLayoutAnimationComplete:N}=g.getProps(),L=!this.targetLayout||!ZS(this.targetLayout,S),k=!v&&E;if(this.options.layoutRoot||this.resumeFrom||k||v&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,k);const H={..._p(C,"layout"),onPlay:R,onComplete:N};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else v||Hb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,is(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lk),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zb);return}this.isUpdating||this.nodes.forEach(Ok),this.isUpdating=!1,this.nodes.forEach(kk),this.nodes.forEach(Ck),this.nodes.forEach(Ak),this.clearAllSnapshots();const d=Mn.now();vt.delta=hi(0,1e3/60,d-vt.timestamp),vt.timestamp=d,vt.isProcessing=!0,Nf.update.process(vt),Nf.preRender.process(vt),Nf.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Dk),this.sharedNodes.forEach(Pk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dt(this.snapshot.measuredBox.x)&&!Dt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!QS(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&(d||Ls(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),Bk(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return Qe();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(zk))){const{scroll:g}=this.root;g&&(Kr(f.x,g.offset.x),Kr(f.y,g.offset.y))}return f}removeElementScroll(u){var d;const f=Qe();if(un(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&un(f,u),Kr(f.x,y.offset.x),Kr(f.y,y.offset.y))}return f}applyTransform(u,d=!1){const f=Qe();un(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&$r(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ls(g.latestValues)&&$r(f,g.latestValues)}return Ls(this.latestValues)&&$r(f,this.latestValues),f}removeTransform(u){const d=Qe();un(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Ls(m.latestValues))continue;ym(m.latestValues)&&m.updateSnapshot();const g=Qe(),y=m.measurePageBox();un(g,y),Mb(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Ls(this.latestValues)&&Mb(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Io(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),F2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):un(this.target,this.layout.layoutBox),qS(this.target,this.targetDelta)):un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Io(this.relativeTargetOrigin,this.target,E.target),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ym(this.parent.latestValues)||FS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;un(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;q2(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Qe());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ob(this.prevProjectionDelta.x,this.projectionDelta.x),Ob(this.prevProjectionDelta.y,this.projectionDelta.y)),ko(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!Vb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Vb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yr(),this.projectionDelta=Yr(),this.projectionDeltaWithTransform=Yr()}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},y=Yr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=Qe(),E=f?f.source:void 0,S=this.layout?this.layout.source:void 0,C=E!==S,R=this.getStack(),N=!R||R.members.length<=1,L=!!(C&&!N&&this.options.crossfade===!0&&!this.path.some(jk));this.animationProgress=0;let k;this.mixTargetDelta=H=>{const U=H/1e3;Fb(y.x,u.x,U),Fb(y.y,u.y,U),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Io(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Uk(this.relativeTarget,this.relativeTargetOrigin,v,U),k&&xk(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Qe()),un(k,this.relativeTarget)),C&&(this.animationValues=g,pk(g,m,this.latestValues,U,L,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(is(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{eu.hasAnimatedSinceResize=!0,this.currentAnimation=ck(0,Bb,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:g}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&tw(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Qe();const y=Dt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+y;const v=Dt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+v}un(d,f),$r(d,g),ko(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Ek),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&jf("z",u,m,this.animationValues);for(let g=0;g<Uf.length;g++)jf(`rotate${Uf[g]}`,u,m,this.animationValues),jf(`skew${Uf[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return wk;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Zc(u==null?void 0:u.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Zc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ls(this.latestValues)&&(C.transform=g?g({},""):"none",this.hasProjected=!1),C}const v=y.animationValues||y.latestValues;this.applyTransformsToTarget(),m.transform=Sk(this.projectionDeltaWithTransform,this.treeScale,v),g&&(m.transform=g(v,m.transform));const{x:E,y:S}=this.projectionDelta;m.transformOrigin=`${E.origin*100}% ${S.origin*100}% 0`,y.animationValues?m.opacity=y===this?(f=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:m.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const C in Go){if(v[C]===void 0)continue;const{correct:R,applyTo:N,isCSSVariable:L}=Go[C],k=m.transform==="none"?v[C]:R(v[C],y);if(N){const H=N.length;for(let U=0;U<H;U++)m[N[U]]=k}else L?this.options.visualElement.renderState.vars[C]=k:m[C]=k}return this.options.layoutId&&(m.pointerEvents=y===this?Zc(u==null?void 0:u.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(zb),this.root.sharedNodes.clear()}}}function Ck(t){t.updateLayout()}function Ak(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,u=n.source!==t.layout.source;l==="size"?hn(y=>{const v=u?n.measuredBox[y]:n.layoutBox[y],E=Dt(v);v.min=s[y].min,v.max=v.min+E}):tw(l,n.layoutBox,s)&&hn(y=>{const v=u?n.measuredBox[y]:n.layoutBox[y],E=Dt(s[y]);v.max=v.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const d=Yr();ko(d,s,n.layoutBox);const f=Yr();u?ko(f,t.applyTransform(a,!0),n.measuredBox):ko(f,s,n.layoutBox);const m=!QS(d);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const S=Qe();Io(S,n.layoutBox,v.layoutBox);const C=Qe();Io(C,s,E.layoutBox),ZS(S,C)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Rk(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Nk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Dk(t){t.clearSnapshot()}function zb(t){t.clearMeasurements()}function Ok(t){t.isLayoutDirty=!1}function kk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ik(t){t.resolveTargetDelta()}function Mk(t){t.calcProjection()}function Lk(t){t.resetSkewAndRotation()}function Pk(t){t.removeLeadSnapshot()}function Fb(t,e,n){t.translate=ze(e.translate,0,n),t.scale=ze(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function qb(t,e,n,s){t.min=ze(e.min,n.min,s),t.max=ze(e.max,n.max,s)}function Uk(t,e,n,s){qb(t.x,e.x,n.x,s),qb(t.y,e.y,n.y,s)}function jk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Vk={duration:.45,ease:[.4,0,.1,1]},Gb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Yb=Gb("applewebkit/")&&!Gb("chrome/")?Math.round:Kt;function Kb(t){t.min=Yb(t.min),t.max=Yb(t.max)}function Bk(t){Kb(t.x),Kb(t.y)}function tw(t,e,n){return t==="position"||t==="preserve-aspect"&&!H2(jb(e),jb(n),.2)}function zk(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Hk=ew({attachResizeListener:(t,e)=>Xo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vf={current:void 0},nw=ew({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vf.current){const t=new Hk({});t.mount(window),t.setOptions({layoutScroll:!0}),Vf.current=t}return Vf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Fk={pan:{Feature:rk},drag:{Feature:sk,ProjectionNode:nw,MeasureLayout:$S}};function $b(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Le.postRender(()=>l(e,pl(e)))}class qk extends cs{mount(){const{current:e}=this.node;e&&(this.unmount=HD(e,(n,s)=>($b(this.node,s,"Start"),a=>$b(this.node,a,"End"))))}unmount(){}}class Gk extends cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ml(Xo(this.node.current,"focus",()=>this.onFocus()),Xo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Wb(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Le.postRender(()=>l(e,pl(e)))}class Yk extends cs{mount(){const{current:e}=this.node;e&&(this.unmount=YD(e,(n,s)=>(Wb(this.node,s,"Start"),(a,{success:l})=>Wb(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bm=new WeakMap,Bf=new WeakMap,Kk=t=>{const e=bm.get(t.target);e&&e(t)},$k=t=>{t.forEach(Kk)};function Wk({root:t,...e}){const n=t||document;Bf.has(n)||Bf.set(n,{});const s=Bf.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver($k,{root:t,...e})),s[a]}function Xk(t,e,n){const s=Wk(e);return bm.set(t,n),s.observe(t),()=>{bm.delete(t),s.unobserve(t)}}const Qk={some:0,all:1};class Zk extends cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Qk[a]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=m?g:y;v&&v(f)};return Xk(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Jk(e,n))&&this.startObserver()}unmount(){}}function Jk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const eI={inView:{Feature:Zk},tap:{Feature:Yk},focus:{Feature:Gk},hover:{Feature:qk}},tI={layout:{ProjectionNode:nw,MeasureLayout:$S}},xm={current:null},iw={current:!1};function nI(){if(iw.current=!0,!!ip)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xm.current=t.matches;t.addListener(e),e()}else xm.current=!1}const iI=[...RS,Et,ss],sI=t=>iI.find(AS(t)),rI=new WeakMap;function aI(t,e,n){for(const s in e){const a=e[s],l=n[s];if(wt(a))t.addValue(s,a);else if(wt(l))t.addValue(s,$o(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,$o(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Xb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oI{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Op,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Mn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Le.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:g}=u;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Gu(n),this.isVariantNode=UE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in v){const S=v[E];f[E]!==void 0&&wt(S)&&S.set(f[E],!1)}}mount(e){this.current=e,rI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),iw.current||nI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),is(this.notifyUpdate),is(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Js.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Le.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ia){const n=ia[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Xb.length;s++){const a=Xb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=aI(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=$o(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(TS(a)||gS(a))?a=parseFloat(a):!sI(a)&&ss.test(n)&&(a=ES(e,n)),this.setBaseTarget(e,wt(a)?a.get():a)),wt(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const u=yp(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(a=u[e])}if(s&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!wt(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Tp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class sw extends oI{constructor(){super(...arguments),this.KeyframeResolver=NS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function lI(t){return window.getComputedStyle(t)}class cI extends sw{constructor(){super(...arguments),this.type="html",this.renderInstance=$E}readValueFromInstance(e,n){if(Js.has(n)){const s=Dp(n);return s&&s.default||0}else{const s=lI(e),a=(cp(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return GS(e,n)}build(e,n,s){dp(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return vp(e,n,s)}}class uI extends sw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&KE(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Js.has(n)){const s=Dp(n);return s&&s.default||0}return n=WE.has(n)?n:op(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return QE(e,n,s)}onBindTransform(){this.current&&!this.renderState.dimensions&&Le.postRender(this.updateDimensions)}build(e,n,s){pp(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,a){XE(e,n,s,a)}mount(e){this.isSVGTag=gp(e.tagName),super.mount(e)}}const hI=(t,e)=>mp(t)?new uI(e):new cI(e,{allowProjection:t!==T.Fragment}),dI=LD({...M2,...eI,...Fk,...tI},hI),xe=QN(dI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rw=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},f)=>T.createElement("svg",{ref:f,...mI,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:rw("lucide",a),...d},[...u.map(([m,g])=>T.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(t,e)=>{const n=T.forwardRef(({className:s,...a},l)=>T.createElement(pI,{ref:l,iconNode:e,className:rw(`lucide-${fI(t)}`,s),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],yI=mt("ArchiveRestore",gI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Qb=mt("Archive",vI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bI=mt("ArrowLeft",_I);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],aw=mt("ArrowRight",xI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],SI=mt("ChevronLeft",EI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ps=mt("ChevronRight",wI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],CI=mt("Heart",TI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],pu=mt("Image",AI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],NI=mt("Instagram",RI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Fs=mt("Loader",DI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],kI=mt("Mail",OI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MI=mt("MapPin",II);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],PI=mt("Phone",LI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ow=mt("Plus",UI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],VI=mt("Star",jI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],zI=mt("Trash2",BI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],FI=mt("Upload",HI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lp=mt("X",qI);function gu(t,e=800){const n=document.getElementById(t);if(!n)return;const s=window.scrollY,l=n.getBoundingClientRect().top+s-s;let u=null,d=null,f=!1;function m(){f=!0,d&&cancelAnimationFrame(d),window.removeEventListener("wheel",g,{passive:!0}),window.removeEventListener("touchstart",g,{passive:!0}),window.removeEventListener("keydown",g,{passive:!0})}function g(v){v.type==="keydown"&&!["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"," "].includes(v.key)||m()}window.addEventListener("wheel",g,{passive:!0}),window.addEventListener("touchstart",g,{passive:!0}),window.addEventListener("keydown",g,{passive:!0});function y(v){if(f)return;u||(u=v);const E=v-u,S=Math.min(E/e,1),C=1-Math.pow(1-S,5);window.scrollTo(0,s+l*C),E<e?d=requestAnimationFrame(y):m()}d=requestAnimationFrame(y)}const GI=()=>{const[t,e]=T.useState({name:"",email:"",message:""}),[n,s]=T.useState(!1),[a,l]=T.useState(""),u=f=>{e({...t,[f.target.name]:f.target.value})},d=async()=>{if(!t.name||!t.email||!t.message){l("Please fill in all fields");return}s(!0),l("");try{if((await fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:"service_et71par",template_id:"template_9jjgnog",user_id:"mFxKhq0zMQ6F6Ivj5",template_params:{name:t.name,from_name:t.name,from_email:t.email,email:t.email,message:t.message}})})).ok)l("Message sent successfully!"),e({name:"",email:"",message:""});else throw new Error("Failed to send message")}catch(f){l("To enable email sending, please set up EmailJS or a backend service. For now, use WhatsApp below."),console.error("Error:",f)}finally{s(!1)}};return b.jsx("section",{id:"contact",className:"py-24 bg-gray-50 text-gray-900",children:b.jsx("div",{className:"max-w-7xl mx-auto px-6",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-4xl md:text-4xl font-extralight mb-12 mt-10 text-gray-900 font-bodoni-moda",children:["LET'S CREATE",b.jsx("span",{className:"block text-[#CFB53B]",children:"SOMETHING BEAUTIFUL"})]}),b.jsx("p",{className:"text-gray-600 font-light mb-12 text-md leading-relaxed font-sans text-lg",children:"Ready to elevate your style? Book a consultation and let's bring your nail vision to life."}),b.jsx("div",{className:"space-y-6 mb-12 mt-10",children:[{icon:b.jsx(PI,{className:"w-5 h-5"}),label:"Phone",value:"+27 66 104 3677",href:"tel:+27661043677"},{icon:b.jsx(kI,{className:"w-5 h-5"}),label:"Email",value:"danielaalves3677@gmail.com",href:"mailto:danielaalves3677@gmail.com"},{icon:b.jsx(MI,{className:"w-5 h-5"}),label:"Location",value:"Vanderbijlpark, SE3, South Africa",href:"https://www.google.com/maps/search/?api=1&query=Vanderbijlpark+SE3+%2C+South+Africa"},{icon:b.jsx(NI,{className:"w-5 h-5"}),label:"Instagram",value:"@nails_by_danielaalves",href:"https://instagram.com/nails_by_danielaalves"}].map((f,m)=>b.jsx("a",{href:f.href,target:f.href.startsWith("http")?"_blank":void 0,rel:f.href.startsWith("http")?"noopener noreferrer":void 0,className:"flex items-center space-x-4 hover:underline text-gray-700 hover:text-gray-900",children:b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider font-sans",children:f.label}),b.jsx("div",{className:"text-gray-800 font-sans",children:f.value})]})},m))})]}),b.jsxs("div",{id:"book-form",className:"bg-white border border-gray-200 shadow-sm p-8",children:[b.jsx("h3",{className:"text-2xl font-light mb-8 text-gray-900",children:"BOOK CONSULTATION"}),a&&b.jsx("div",{className:`p-4 mb-6 text-center rounded ${a.includes("successfully")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:a}),b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{children:b.jsx("input",{type:"text",name:"name",value:t.name,onChange:u,placeholder:"Your Name",className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors"})}),b.jsx("div",{children:b.jsx("input",{type:"email",name:"email",value:t.email,onChange:u,placeholder:"Email Address",className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors"})}),b.jsx("div",{children:b.jsx("textarea",{name:"message",value:t.message,onChange:u,placeholder:"Tell me about your vision...",rows:4,className:"w-full bg-white border border-gray-300 p-4 text-gray-900 placeholder-gray-500 focus:border-gray-500 focus:outline-none transition-colors resize-none"})}),b.jsx("button",{onClick:d,disabled:n,className:"w-full bg-black text-white p-4 font-light hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Sending...":"Send Email"})]}),b.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:b.jsx("a",{href:"https://wa.me/27661043677",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-gray-100 text-gray-900 p-4 font-light hover:bg-gray-200 transition-colors text-center border border-gray-300",children:"Or Send via WhatsApp"})})]})]})})})},lw=[{question:"How long do gel nails last?",answer:"Gel nails typically last 2-4 weeks with proper care. The longevity depends on your lifestyle, nail growth rate, and aftercare routine. Most clients book touch-ups every 3 weeks to maintain that fresh, salon-perfect look."},{question:"What's the difference between gel and regular polish?",answer:"Gel polish is cured under UV/LED light, making it chip-resistant and long-lasting for weeks. Regular polish air-dries and typically lasts 3-7 days. Gel provides a glossy, durable finish that maintains its shine throughout wear."},{question:"How should I prepare for my nail appointment?",answer:"Remove any existing polish, keep your cuticles moisturized, and avoid cutting your nails too short beforehand. If you have design inspiration, bring photos! Also, let me know about any allergies or sensitivities during booking."},{question:"Can you work on damaged or weak nails?",answer:"Absolutely! I specialize in nail rehabilitation and strengthening treatments. We can build up weak spots, repair breaks, and use strengthening base coats to improve your natural nail health while creating beautiful manicures."},{question:"How do I make my manicure last longer?",answer:"Wear gloves when cleaning, use cuticle oil daily, avoid using nails as tools, and book regular touch-ups. I'll provide specific aftercare instructions and recommend products to extend your manicure's lifespan."}],Ms={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.22,1,.36,1]}}},qc={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.05}}},YI={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.4,ease:[.22,1,.36,1]}}};function KI(){const[t,e]=T.useState(null),n=Qm(),s=a=>{e(l=>l===a?null:a)};return b.jsxs("div",{className:"w-full bg-white",children:[b.jsxs("section",{className:"relative h-screen w-full flex items-center justify-center bg-white overflow-hidden",children:[b.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.22,1,.36,1]},className:"relative z-10 text-center px-6 sm:px-6 max-w-5xl w-full md:mt-0",children:[b.jsx(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"inline-flex items-center mb-4 md:mb-6 px-3 py-1.5 md:px-4 md:py-2 bg-white bg-opacity-80 rounded-full md:rounded-none",children:b.jsx("p",{className:"text-xs text-gray-600 font-medium uppercase tracking-widest",children:"Certified Nail Technician"})}),b.jsxs(xe.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.3},className:"font-bodoni-moda text-5xl md:text-6xl lg:text-8xl font-light text-gray-900 mb-4 md:mb-8 tracking-tight leading-tight md:leading-none",children:[b.jsx("span",{className:"block",children:"PRECISION"}),b.jsxs(xe.span,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},className:"block mt-1 md:mt-3",children:["& ",b.jsx("span",{style:{color:"#CFB53B"},children:"ELEGANCE"})]})]}),b.jsx(xe.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"font-sans text-base md:text-lg text-gray-600 mb-8 md:mb-12 max-w-lg md:max-w-2xl mx-auto leading-relaxed font-light px-2 md:px-0",children:"Transforming your nails into works of art with meticulous attention to detail."}),b.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"flex flex-col md:flex-row gap-3 md:gap-6 mt-6 md:mt-14 justify-center items-center px-4 md:px-0",children:[b.jsxs(xe.button,{whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:17},onClick:()=>gu("contact",1500),className:"bg-black text-white px-10 md:px-14 py-3.5 md:py-4 text-sm font-medium uppercase tracking-wider hover:bg-gray-800 transition-colors duration-200 flex items-center justify-center w-full md:w-auto rounded-sm md:rounded-none",children:[b.jsx("span",{className:"relative z-10",children:"Book Now"}),b.jsx(aw,{className:"ml-3 w-4 h-4"})]}),b.jsx(xe.button,{whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:17},onClick:()=>n("/designs"),className:"text-gray-700 hover:text-gray-900 transition-colors duration-200 text-sm font-medium uppercase tracking-wider px-10 md:px-14 py-3.5 md:py-4 border border-gray-200 hover:border-gray-400 flex items-center justify-center bg-white w-full md:w-auto rounded-sm md:rounded-none",children:b.jsx("span",{className:"relative z-10",children:"View Gallery"})})]}),b.jsx(xe.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.9},className:"block md:hidden mt-8 w-12 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent mx-auto"})]}),b.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.8},className:"hidden md:block absolute bottom-8 left-1/2 transform -translate-x-1/2",children:b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("span",{className:"text-xs text-gray-500 mb-3 uppercase tracking-widest",children:"Scroll Down"}),b.jsx(xe.div,{animate:{y:[0,8,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"w-px h-12 bg-gradient-to-b from-gray-400 to-transparent"})]})}),b.jsx(xe.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.9},className:"hidden lg:block absolute top-24 left-8 w-8 h-8 border-l border-t border-gray-200"}),b.jsx(xe.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.95},className:"hidden lg:block absolute top-24 right-8 w-8 h-8 border-r border-t border-gray-200"}),b.jsx(xe.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.3,delay:1},className:"hidden lg:block absolute bottom-8 left-8 w-8 h-8 border-l border-b border-gray-200"}),b.jsx(xe.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.3,delay:1.05},className:"hidden lg:block absolute bottom-8 right-8 w-8 h-8 border-r border-b border-gray-200"})]}),b.jsx("section",{className:"py-24 sm:py-32 bg-white w-full",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs(xe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:Ms,className:"text-center mb-20 sm:mb-24",children:[b.jsx("h2",{className:"text-4xl sm:text-5xl lg:text-6xl font-light text-black mb-8 tracking-tight",children:"Professional Services"}),b.jsx("p",{className:"text-gray-600 font-light max-w-2xl mx-auto text-base sm:text-lg leading-relaxed",children:"Expert nail care and artistry with premium products and meticulous attention to detail."})]}),b.jsx(xe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:qc,className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[{title:"Gel & Acrylic Overlays",description:"Professional overlays on your natural nails for strength and lasting beauty.",price:"FROM R160",discount:"20% OFF",categoryIndex:0},{title:"Extensions & Sculptures",description:"Expert extension services to create perfect length and elegant shape.",price:"FROM R210",discount:"25% OFF",popular:!0,categoryIndex:1},{title:"Nail Art & Services",description:"Custom nail art, professional fills, repairs and maintenance services.",price:"FROM R5",discount:"67% OFF",categoryIndex:3}].map((a,l)=>{const u=()=>{n(`/services?category=${a.categoryIndex}`)};return b.jsxs(xe.div,{variants:YI,transition:{duration:.2,ease:"easeOut"},onClick:u,className:"group bg-white p-8 sm:p-12 cursor-pointer transition-all duration-300 relative border border-gray-100 hover:border-gray-50000",children:[a.popular&&b.jsxs("div",{className:"absolute -top-4 left-0 right-0 z-10 flex justify-center",children:[b.jsx("div",{className:"bg-black text-white px-4 sm:px-6 py-2 text-xs uppercase tracking-widest font-medium whitespace-nowrap",children:"Most Popular"}),b.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 sm:border-l-6 sm:border-r-6 sm:border-t-6 border-l-transparent border-r-transparent border-t-black"})]}),b.jsxs("div",{className:"h-full flex flex-col",children:[b.jsx("div",{className:"mb-2",children:b.jsx("span",{className:"text-sm sm:text-base text-gray-400 uppercase tracking-widest",children:String(l+1).padStart(2,"0")})}),b.jsx("h3",{className:"text-lg sm:text-xl font-light text-black mb-4 sm:mb-6 leading-tight",children:a.title}),b.jsx("p",{className:"text-gray-500 leading-relaxed mb-auto text-sm sm:text-base",children:a.description}),b.jsx("div",{className:"mt-8 sm:mt-12 pt-6 sm:pt-8 border-t border-gray-100",children:b.jsxs("div",{className:"flex items-end justify-between",children:[b.jsx("div",{className:"text-lg sm:text-xl font-light text-black",children:a.price}),b.jsx("div",{className:"text-xs sm:text-sm font-medium text-black",children:a.discount})]})})]})]},l)})}),b.jsx(xe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Ms,className:"text-center mt-16 sm:mt-20",children:b.jsx(xe.button,{whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:17},onClick:()=>n("/services"),className:"text-black border border-black px-12 sm:px-16 py-4 font-light text-sm uppercase tracking-widest hover:bg-black hover:text-white transition-colors duration-200 bg-white",children:"View All Services"})})]})}),b.jsx("section",{className:"py-20 sm:py-24 bg-gradient-to-br from-gray-50 to-white w-full",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsx(xe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:Ms,className:"text-center mb-16 sm:mb-20",children:b.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-light text-gray-900 mb-6",children:"Client Stories"})}),b.jsx(xe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:qc,className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[{name:"Ruben",text:"Daniela's artistry in nail design is truly inspiring. Every detail reflects her passion and innovative approach, leaving me feeling confident and uniquely styled."},{name:"Sophia",text:"I was amazed by the intricate designs and attention to detail. Daniela transformed my nails into a work of art that I proudly showcase every day."},{name:"James",text:"From start to finish, my experience was top-notch. Daniela's creativity and professionalism made me feel like a star."}].map((a,l)=>b.jsxs(xe.div,{variants:qc,transition:{duration:.2,ease:"easeOut"},className:"bg-white p-6 sm:p-8 border border-gray-100",children:[b.jsx(xe.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.3},className:"flex mb-4",children:[...Array(5)].map((u,d)=>b.jsx(VI,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},d))}),b.jsxs("p",{className:"text-gray-600 font-light text-sm leading-relaxed italic mb-6",children:['"',a.text,'"']}),b.jsxs("div",{className:"text-gray-900 font-light text-sm",children:[" ",a.name]})]},l))})]})}),b.jsx("section",{className:"py-20 sm:py-24 bg-white w-full",children:b.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsx(xe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:Ms,className:"text-center mb-16 sm:mb-20",children:b.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-light text-gray-900 mb-6",children:"Frequently Asked"})}),b.jsx(xe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:qc,className:"space-y-2",children:lw.map((a,l)=>{const u=t===l;return b.jsxs(xe.div,{variants:Ms,className:"bg-white border border-gray-100 overflow-hidden",children:[b.jsxs(xe.button,{whileHover:{backgroundColor:"rgba(249, 250, 251, 1)"},transition:{duration:.15},onClick:()=>s(l),className:"w-full flex justify-between items-center p-6 sm:p-8 text-left transition-colors duration-200",children:[b.jsx("span",{className:"text-gray-900 font-light text-base sm:text-lg pr-4",children:a.question}),b.jsxs(xe.div,{animate:{rotate:u?45:0},transition:{duration:.15,ease:[.22,1,.36,1]},className:"w-6 h-6 flex items-center justify-center flex-shrink-0",children:[b.jsx("div",{className:"w-4 h-px bg-gray-400"}),b.jsx("div",{className:"w-px h-4 bg-gray-400 absolute"})]})]}),b.jsx(xe.div,{initial:!1,animate:{height:u?"auto":0,opacity:u?1:0},transition:{duration:.2,ease:[.22,1,.36,1]},className:"overflow-hidden",children:b.jsx("div",{className:"px-6 sm:px-8 pb-6 sm:pb-8",children:b.jsx("p",{className:"text-gray-600 font-light leading-relaxed text-sm sm:text-base",children:a.answer})})})]},l)})})]})}),b.jsx(xe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Ms,id:"contact",children:b.jsx(GI,{})}),b.jsx(xe.footer,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Ms,className:"py-12 bg-black text-gray-400 w-full",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[b.jsx(xe.div,{transition:{type:"spring",stiffness:400,damping:17},className:"text-xl sm:text-2xl text-white font-light cursor-pointer font-dancing-script",onClick:()=>gu("hero",1500),children:"Daniela Alves"}),b.jsxs("div",{className:"text-xs sm:text-sm font-light text-center",children:[" ",new Date().getFullYear()," Daniela Alves. All rights reserved."]})]})})})]})}function $I(){const t=Qm(),e=Bn(),[n,s]=T.useState(!1),[a,l]=T.useState(!0),[u,d]=T.useState(0);T.useEffect(()=>{const v=document.createElement("style");return v.textContent=`
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
    `,document.head.appendChild(v),()=>document.head.removeChild(v)},[]),T.useEffect(()=>{const v=()=>{const E=window.scrollY;E<10?l(!0):E>u&&E>0?l(!1):E<u&&l(!0),d(E)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[u]),T.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]);const f=()=>{s(!n)},m=v=>{typeof v=="function"&&v(),s(!1)},g=(v,E=2500)=>{e.pathname==="/"?gu(v,E):(t("/"),setTimeout(()=>{gu(v,E)},300))},y=()=>{t("/designs")};return b.jsxs(b.Fragment,{children:[b.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-lg border-b border-stone-200 transition-transform duration-300 ease-in-out ${a?"translate-y-0":"-translate-y-full"}`,children:b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[b.jsx(NE,{to:"/",className:"text-2xl font-dancing-script text-gray-900 font-bold mt-2",children:"Daniela Alves"}),b.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[b.jsx("a",{href:"#",className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Home"}),b.jsx("button",{onClick:()=>g("services"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Services"}),b.jsx("button",{onClick:y,className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Gallery"}),b.jsx("button",{onClick:()=>g("testimonials"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Client Stories"}),b.jsx("button",{onClick:()=>g("faq"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"FAQ"}),b.jsx("button",{onClick:()=>g("book-form"),className:"text-stone-600 hover:text-stone-900 transition-colors text-sm font-light uppercase",children:"Contact"}),b.jsx("a",{href:"https://wa.me/27661043677?text=Hi%20Daniela!%20I'd%20like%20to%20book%20an%20appointment.%20My%20name%20is%20____%20and%20I'm%20interested%20in%20____.",target:"_blank",rel:"noopener noreferrer",className:"bg-stone-900 text-white px-6 py-2 text-sm font-light hover:bg-stone-800 transition-colors uppercase",children:"Book Now"})]}),b.jsxs("button",{className:"md:hidden relative w-6 h-6 flex flex-col justify-center items-center z-50",onClick:f,"aria-label":"Toggle menu",children:[b.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out absolute ${n?"rotate-45":"translate-y-[-4px]"}`}),b.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out ${n?"opacity-0":"opacity-100"}`}),b.jsx("span",{className:`block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out absolute ${n?"-rotate-45":"translate-y-[4px]"}`})]})]})}),b.jsxs("div",{className:`fixed inset-0 z-40 md:hidden transition-all duration-300 ease-in-out top-[73px] ${n?"opacity-100 visible":"opacity-0 invisible"}`,children:[b.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:()=>s(!1)}),b.jsx("div",{className:`absolute top-0 right-0 h-full w-80 max-w-[85vw] bg-white shadow-2xl transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"translate-x-full"}`,children:b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsx("div",{className:"flex-1 py-6",children:b.jsxs("nav",{className:"space-y-1",children:[b.jsxs("a",{href:"/",onClick:()=>m(),className:"flex items-center px-6 py-3 text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Home"}),b.jsx(Ps,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(()=>g("services")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Services"}),b.jsx(Ps,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(y),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Gallery"}),b.jsx(Ps,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(()=>g("testimonials")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Client Stories"}),b.jsx(Ps,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(()=>g("faq")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"FAQ"}),b.jsx(Ps,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>m(()=>g("book-form")),className:"flex items-center w-full px-6 py-3 text-left text-stone-700 hover:text-stone-900 hover:bg-stone-50 transition-colors group",children:[b.jsx("span",{className:"font-medium uppercase",children:"Contact"}),b.jsx(Ps,{size:16,className:"ml-auto text-stone-400 group-hover:text-stone-600 transition-colors"})]})]})}),b.jsx("div",{className:"p-6 border-t border-stone-100",children:b.jsx("a",{href:"https://wa.me/27661043677?text=Hi%20Daniela!%20I'd%20like%20to%20book%20an%20appointment.%20My%20name%20is%20____%20and%20I'm%20interested%20in%20____.",onClick:()=>s(!1),target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-stone-900 text-white px-6 py-3 text-center font-medium hover:bg-stone-800 transition-colors uppercase",children:"Book Now"})})]})})]})]})}const WI=()=>{};var Zb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw fa(e)},fa=function(t){return new Error("Firebase Database ("+cw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},XI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],f=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Pp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,f=a+2<t.length,m=f?t[a+2]:0,g=l>>2,y=(l&3)<<4|d>>4;let v=(d&15)<<2|m>>6,E=m&63;f||(E=64,u||(v=64)),s.push(n[g],n[y],n[v],n[E])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||m==null||y==null)throw new QI;const v=l<<2|d>>4;if(s.push(v),m!==64){const E=d<<4&240|m>>2;if(s.push(E),y!==64){const S=m<<6&192|y;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hw=function(t){const e=uw(t);return Pp.encodeByteArray(e,!0)},yu=function(t){return hw(t).replace(/\./g,"")},vu=function(t){try{return Pp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t){return dw(void 0,t)}function dw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!JI(n)||(t[n]=dw(t[n],e[n]));return t}function JI(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=()=>eM().__FIREBASE_DEFAULTS__,nM=()=>{if(typeof process>"u"||typeof Zb>"u")return;const t=Zb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vu(t[1]);return e&&JSON.parse(e)},Up=()=>{try{return WI()||tM()||nM()||iM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fw=t=>{var e,n;return(n=(e=Up())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mw=t=>{const e=fw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},pw=()=>{var t;return(t=Up())===null||t===void 0?void 0:t.config},gw=t=>{var e;return(e=Up())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t){return t.endsWith(".cloudworkstations.dev")}async function jp(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yu(JSON.stringify(n)),yu(JSON.stringify(u)),""].join(".")}const Mo={};function sM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mo))Mo[e]?t.emulator.push(e):t.prod.push(e);return t}function rM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Jb=!1;function Vp(t,e){if(typeof window>"u"||typeof document>"u"||!er(window.location.host)||Mo[t]===e||Mo[t]||Jb)return;Mo[t]=e;function n(v){return`__firebase__banner__${v}`}const s="__firebase__banner",l=sM().prod.length>0;function u(){const v=document.getElementById(s);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Jb=!0,u()},v}function g(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=rM(s),E=n("text"),S=document.getElementById(E)||document.createElement("span"),C=n("learnmore"),R=document.getElementById(C)||document.createElement("a"),N=n("preprendIcon"),L=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const k=v.element;d(k),g(R,C);const H=m();f(L,N),k.append(L,S,R,H),document.body.appendChild(k)}l?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function aM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lM(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cM(){return cw.NODE_ADMIN===!0}function uM(){try{return typeof indexedDB=="object"}catch{return!1}}function hM(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="FirebaseError";class gi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=dM,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?fM(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new gi(a,d,s)}}function fM(t,e){return t.replace(mM,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const mM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){return JSON.parse(t)}function rt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=function(t){let e={},n={},s={},a="";try{const l=t.split(".");e=Qo(vu(l[0])||""),n=Qo(vu(l[1])||""),a=l[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:a}},pM=function(t){const e=_w(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},gM=function(t){const e=_w(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ra(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Em(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _u(t,e,n){const s={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=e.call(n,t[a],a,t));return s}function Gs(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(ex(l)&&ex(u)){if(!Gs(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function ex(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function No(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Do(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)s[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const v=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(v<<1|v>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],d=this.chain_[3],f=this.chain_[4],m,g;for(let y=0;y<80;y++){y<40?y<20?(m=d^l&(u^d),g=1518500249):(m=l^u^d,g=1859775393):y<60?(m=l&u|d&(l|u),g=2400959708):(m=l^u^d,g=3395469782);const v=(a<<5|a>>>27)+m+f+g+s[y]&4294967295;f=d,d=u,u=(l<<30|l>>>2)&4294967295,l=a,a=v}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let a=0;const l=this.buf_;let u=this.inbuf_;for(;a<n;){if(u===0)for(;a<=s;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<n;)if(l[u]=e.charCodeAt(a),++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}else for(;a<n;)if(l[u]=e[a],++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)e[s]=this.chain_[a]>>l&255,++s;return e}}function vM(t,e){const n=new _M(t,e);return n.subscribe.bind(n)}class _M{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bM(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=zf),a.error===void 0&&(a.error=zf),a.complete===void 0&&(a.complete=zf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zf(){}function zp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);if(a>=55296&&a<=56319){const l=a-55296;s++,G(s<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(s)-56320;a=65536+(l<<10)+u}a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):a<65536?(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},$u=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class rs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ku;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wM(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SM(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SM(t){return t===Us?void 0:t}function wM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const CM={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},AM=Ne.INFO,RM={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},NM=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=RM[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=AM,this._logHandler=NM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const DM=(t,e)=>e.some(n=>t instanceof n);let tx,nx;function OM(){return tx||(tx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kM(){return nx||(nx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bw=new WeakMap,Sm=new WeakMap,xw=new WeakMap,Hf=new WeakMap,Fp=new WeakMap;function IM(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Qi(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&bw.set(n,t)}).catch(()=>{}),Fp.set(e,t),e}function MM(t){if(Sm.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Sm.set(t,e)}let wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LM(t){wm=t(wm)}function PM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ff(this),e,...n);return xw.set(s,e.sort?e.sort():[e]),Qi(s)}:kM().includes(t)?function(...e){return t.apply(Ff(this),e),Qi(bw.get(this))}:function(...e){return Qi(t.apply(Ff(this),e))}}function UM(t){return typeof t=="function"?PM(t):(t instanceof IDBTransaction&&MM(t),DM(t,OM())?new Proxy(t,wm):t)}function Qi(t){if(t instanceof IDBRequest)return IM(t);if(Hf.has(t))return Hf.get(t);const e=UM(t);return e!==t&&(Hf.set(t,e),Fp.set(e,t)),e}const Ff=t=>Fp.get(t);function jM(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=Qi(u);return s&&u.addEventListener("upgradeneeded",f=>{s(Qi(u.result),f.oldVersion,f.newVersion,Qi(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const VM=["get","getKey","getAll","getAllKeys","count"],BM=["put","add","delete","clear"],qf=new Map;function ix(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qf.get(e))return qf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=BM.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||VM.includes(n)))return;const l=async function(u,...d){const f=this.transaction(u,a?"readwrite":"readonly");let m=f.store;return s&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),a&&f.done]))[0]};return qf.set(e,l),l}LM(t=>({...t,get:(e,n,s)=>ix(e,n)||t.get(e,n,s),has:(e,n)=>!!ix(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HM(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function HM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",sx="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Hp("@firebase/app"),FM="@firebase/app-compat",qM="@firebase/analytics-compat",GM="@firebase/analytics",YM="@firebase/app-check-compat",KM="@firebase/app-check",$M="@firebase/auth",WM="@firebase/auth-compat",XM="@firebase/database",QM="@firebase/data-connect",ZM="@firebase/database-compat",JM="@firebase/functions",eL="@firebase/functions-compat",tL="@firebase/installations",nL="@firebase/installations-compat",iL="@firebase/messaging",sL="@firebase/messaging-compat",rL="@firebase/performance",aL="@firebase/performance-compat",oL="@firebase/remote-config",lL="@firebase/remote-config-compat",cL="@firebase/storage",uL="@firebase/storage-compat",hL="@firebase/firestore",dL="@firebase/ai",fL="@firebase/firestore-compat",mL="firebase",pL="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="[DEFAULT]",gL={[Tm]:"fire-core",[FM]:"fire-core-compat",[GM]:"fire-analytics",[qM]:"fire-analytics-compat",[KM]:"fire-app-check",[YM]:"fire-app-check-compat",[$M]:"fire-auth",[WM]:"fire-auth-compat",[XM]:"fire-rtdb",[QM]:"fire-data-connect",[ZM]:"fire-rtdb-compat",[JM]:"fire-fn",[eL]:"fire-fn-compat",[tL]:"fire-iid",[nL]:"fire-iid-compat",[iL]:"fire-fcm",[sL]:"fire-fcm-compat",[rL]:"fire-perf",[aL]:"fire-perf-compat",[oL]:"fire-rc",[lL]:"fire-rc-compat",[cL]:"fire-gcs",[uL]:"fire-gcs-compat",[hL]:"fire-fst",[fL]:"fire-fst-compat",[dL]:"fire-vertex","fire-js":"fire-js",[mL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new Map,yL=new Map,Am=new Map;function rx(t,e){try{t.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ys(t){const e=t.name;if(Am.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,t);for(const n of bu.values())rx(n,t);for(const n of yL.values())rx(n,t);return!0}function Wu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new gl("app","Firebase",vL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=pL;function qp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Cm,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw Zi.create("bad-app-name",{appName:String(a)});if(n||(n=pw()),!n)throw Zi.create("no-options");const l=bu.get(a);if(l){if(Gs(n,l.options)&&Gs(s,l.config))return l;throw Zi.create("duplicate-app",{appName:a})}const u=new TM(a);for(const f of Am.values())u.addComponent(f);const d=new _L(n,s,u);return bu.set(a,d),d}function Gp(t=Cm){const e=bu.get(t);if(!e&&t===Cm&&pw())return qp();if(!e)throw Zi.create("no-app",{appName:t});return e}function Ln(t,e,n){var s;let a=(s=gL[t])!==null&&s!==void 0?s:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(d.join(" "));return}Ys(new rs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="firebase-heartbeat-database",xL=1,Zo="firebase-heartbeat-store";let Gf=null;function Ew(){return Gf||(Gf=jM(bL,xL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zi.create("idb-open",{originalErrorMessage:t.message})})),Gf}async function EL(t){try{const n=(await Ew()).transaction(Zo),s=await n.objectStore(Zo).get(Sw(t));return await n.done,s}catch(e){if(e instanceof gi)di.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(n.message)}}}async function ax(t,e){try{const s=(await Ew()).transaction(Zo,"readwrite");await s.objectStore(Zo).put(e,Sw(t)),await s.done}catch(n){if(n instanceof gi)di.warn(n.message);else{const s=Zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(s.message)}}}function Sw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=1024,wL=30;class TL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AL(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ox();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>wL){const u=RL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){di.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ox(),{heartbeatsToSend:s,unsentEntries:a}=CL(this._heartbeatsCache.heartbeats),l=yu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return di.warn(n),""}}}function ox(){return new Date().toISOString().substring(0,10)}function CL(t,e=SL){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),lx(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),lx(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class AL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uM()?hM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return ax(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return ax(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function lx(t){return yu(JSON.stringify({version:2,heartbeats:t})).length}function RL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){Ys(new rs("platform-logger",e=>new zM(e),"PRIVATE")),Ys(new rs("heartbeat",e=>new TL(e),"PRIVATE")),Ln(Tm,sx,t),Ln(Tm,sx,"esm2017"),Ln("fire-js","")}NL("");var DL="firebase",OL="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(DL,OL,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="firebasestorage.googleapis.com",Tw="storageBucket",kL=2*60*1e3,IL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends gi{constructor(e,n,s=0){super(Yf(e),`Firebase Storage: ${n} (${Yf(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,We.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $e;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($e||($e={}));function Yf(t){return"storage/"+t}function Yp(){const t="An unknown error occurred, please check the error payload for server response.";return new We($e.UNKNOWN,t)}function ML(t){return new We($e.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function LL(t){return new We($e.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function PL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new We($e.UNAUTHENTICATED,t)}function UL(){return new We($e.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jL(t){return new We($e.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function VL(){return new We($e.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BL(){return new We($e.CANCELED,"User canceled the upload/download.")}function zL(t){return new We($e.INVALID_URL,"Invalid URL '"+t+"'.")}function HL(t){return new We($e.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function FL(){return new We($e.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Tw+"' property when initializing the app?")}function qL(){return new We($e.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function GL(){return new We($e.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YL(t){return new We($e.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rm(t){return new We($e.INVALID_ARGUMENT,t)}function Cw(){return new We($e.APP_DELETED,"The Firebase app was deleted.")}function KL(t){return new We($e.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lo(t,e){return new We($e.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Eo(t){throw new We($e.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Yt.makeFromUrl(e,n)}catch{return new Yt(e,"")}if(s.path==="")return s;throw HL(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+a+u,"i"),f={bucket:1,path:3};function m(H){H.path_=decodeURIComponent(H.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp(`^https?://${y}/${g}/b/${a}/o${v}`,"i"),S={bucket:1,path:3},C=n===ww?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",N=new RegExp(`^https?://${C}/${a}/${R}`,"i"),k=[{regex:d,indices:f,postModify:l},{regex:E,indices:S,postModify:m},{regex:N,indices:{bucket:1,path:2},postModify:m}];for(let H=0;H<k.length;H++){const U=k[H],$=U.regex.exec(e);if($){const Z=$[U.indices.bucket];let Y=$[U.indices.path];Y||(Y=""),s=new Yt(Z,Y),U.postModify(s);break}}if(s==null)throw zL(e);return s}}class $L{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t,e,n){let s=1,a=null,l=null,u=!1,d=0;function f(){return d===2}let m=!1;function g(...R){m||(m=!0,e.apply(null,R))}function y(R){a=setTimeout(()=>{a=null,t(E,f())},R)}function v(){l&&clearTimeout(l)}function E(R,...N){if(m){v();return}if(R){v(),g.call(null,R,...N);return}if(f()||u){v(),g.call(null,R,...N);return}s<64&&(s*=2);let k;d===1?(d=2,k=0):k=(s+Math.random())*1e3,y(k)}let S=!1;function C(R){S||(S=!0,v(),!m&&(a!==null?(R||(d=2),clearTimeout(a),y(0)):R||(d=1)))}return y(0),l=setTimeout(()=>{u=!0,C(!0)},n),C}function XL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){return t!==void 0}function ZL(t){return typeof t=="object"&&!Array.isArray(t)}function Kp(t){return typeof t=="string"||t instanceof String}function cx(t){return $p()&&t instanceof Blob}function $p(){return typeof Blob<"u"}function ux(t,e,n,s){if(s<e)throw Rm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Rm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function Aw(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var qs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qs||(qs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n,s,a,l,u,d,f,m,g,y,v=!0,E=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=y,this.retry=v,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,C)=>{this.resolve_=S,this.reject_=C,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Gc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const d=l.getErrorCode()===qs.NO_ERROR,f=l.getStatus();if(!d||JL(f,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===qs.ABORT;s(!1,new Gc(!1,null,g));return}const m=this.successCodes_.indexOf(f)!==-1;s(!0,new Gc(m,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());QL(f)?l(f):l()}catch(f){u(f)}else if(d!==null){const f=Yp();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(a.canceled){const f=this.appDelete_?Cw():BL();u(f)}else{const f=VL();u(f)}};this.canceled_?n(!1,new Gc(!1,null,!0)):this.backoffId_=WL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&XL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function tP(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nP(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function iP(t,e){e&&(t["X-Firebase-GMPID"]=e)}function sP(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function rP(t,e,n,s,a,l,u=!0,d=!1){const f=Aw(t.urlParams),m=t.url+f,g=Object.assign({},t.headers);return iP(g,e),tP(g,n),nP(g,l),sP(g,s),new eP(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function oP(...t){const e=aP();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if($p())return new Blob(t);throw new We($e.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function lP(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){if(typeof atob>"u")throw YL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kf{constructor(e,n){this.data=e,this.contentType=n||null}}function uP(t,e){switch(t){case kn.RAW:return new Kf(Rw(e));case kn.BASE64:case kn.BASE64URL:return new Kf(Nw(t,e));case kn.DATA_URL:return new Kf(dP(e),fP(e))}throw Yp()}function Rw(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=t.charCodeAt(++n);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function hP(t){let e;try{e=decodeURIComponent(t)}catch{throw Lo(kn.DATA_URL,"Malformed data URL.")}return Rw(e)}function Nw(t,e){switch(t){case kn.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Lo(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case kn.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Lo(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cP(e)}catch(a){throw a.message.includes("polyfill")?a:Lo(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class Dw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Lo(kn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=mP(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function dP(t){const e=new Dw(t);return e.base64?Nw(kn.BASE64,e.rest):hP(e.rest)}function fP(t){return new Dw(t).contentType}function mP(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n){let s=0,a="";cx(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(cx(this.data_)){const s=this.data_,a=lP(s,e,n);return a===null?null:new Yi(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Yi(s,!0)}}static getBlob(...e){if($p()){const n=e.map(s=>s instanceof Yi?s.data_:s);return new Yi(oP.apply(null,n))}else{const n=e.map(u=>Kp(u)?uP(kn.RAW,u).data:u.data_);let s=0;n.forEach(u=>{s+=u.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(u=>{for(let d=0;d<u.length;d++)a[l++]=u[d]}),new Yi(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t){let e;try{e=JSON.parse(t)}catch{return null}return ZL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gP(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function kw(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t,e){return e}class Nt{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||yP}}let Yc=null;function vP(t){return!Kp(t)||t.length<2?t:kw(t)}function Iw(){if(Yc)return Yc;const t=[];t.push(new Nt("bucket")),t.push(new Nt("generation")),t.push(new Nt("metageneration")),t.push(new Nt("name","fullPath",!0));function e(l,u){return vP(u)}const n=new Nt("name");n.xform=e,t.push(n);function s(l,u){return u!==void 0?Number(u):u}const a=new Nt("size");return a.xform=s,t.push(a),t.push(new Nt("timeCreated")),t.push(new Nt("updated")),t.push(new Nt("md5Hash",null,!0)),t.push(new Nt("cacheControl",null,!0)),t.push(new Nt("contentDisposition",null,!0)),t.push(new Nt("contentEncoding",null,!0)),t.push(new Nt("contentLanguage",null,!0)),t.push(new Nt("contentType",null,!0)),t.push(new Nt("metadata","customMetadata",!0)),Yc=t,Yc}function _P(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new Yt(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function bP(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const u=n[l];s[u.local]=u.xform(s,e[u.server])}return _P(s,t),s}function Mw(t,e,n){const s=Ow(e);return s===null?null:bP(t,s,n)}function xP(t,e,n,s){const a=Ow(e);if(a===null||!Kp(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(m=>{const g=t.bucket,y=t.fullPath,v="/b/"+u(g)+"/o/"+u(y),E=Xu(v,n,s),S=Aw({alt:"media",token:m});return E+S})[0]}function EP(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class Wp{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t){if(!t)throw Yp()}function SP(t,e){function n(s,a){const l=Mw(t,a,e);return Lw(l!==null),l}return n}function wP(t,e){function n(s,a){const l=Mw(t,a,e);return Lw(l!==null),xP(l,a,t.host,t._protocol)}return n}function Pw(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=UL():a=PL():n.getStatus()===402?a=LL(t.bucket):n.getStatus()===403?a=jL(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function Uw(t){const e=Pw(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=ML(t.path)),l.serverResponse=a.serverResponse,l}return n}function TP(t,e,n){const s=e.fullServerUrl(),a=Xu(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,d=new Wp(a,l,wP(t,n),u);return d.errorHandler=Uw(e),d}function CP(t,e){const n=e.fullServerUrl(),s=Xu(n,t.host,t._protocol),a="DELETE",l=t.maxOperationRetryTime;function u(f,m){}const d=new Wp(s,a,u,l);return d.successCodes=[200,204],d.errorHandler=Uw(e),d}function AP(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function RP(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=AP(null,e)),s}function NP(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let k="";for(let H=0;H<2;H++)k=k+Math.random().toString().slice(2);return k}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const m=RP(e,s,a),g=EP(m,n),y="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,v=`\r
--`+f+"--",E=Yi.getBlob(y,s,v);if(E===null)throw qL();const S={name:m.fullPath},C=Xu(l,t.host,t._protocol),R="POST",N=t.maxUploadRetryTime,L=new Wp(C,R,SP(t,n),N);return L.urlParams=S,L.headers=u,L.body=E.uploadData(),L.errorHandler=Pw(e),L}class DP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw Eo("cannot .send() more than once");if(er(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Eo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Eo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Eo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Eo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class OP extends DP{initXhr(){this.xhr_.responseType="text"}}function Xp(){return new OP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this._service=e,n instanceof Yt?this._location=n:this._location=Yt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ks(e,n)}get root(){const e=new Yt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kw(this._location.path)}get storage(){return this._service}get parent(){const e=pP(this._location.path);if(e===null)return null;const n=new Yt(this._location.bucket,e);return new Ks(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw KL(e)}}function kP(t,e,n){t._throwIfRoot("uploadBytes");const s=NP(t.storage,t._location,Iw(),new Yi(e,!0),n);return t.storage.makeRequestWithTokens(s,Xp).then(a=>({metadata:a,ref:t}))}function IP(t){t._throwIfRoot("getDownloadURL");const e=TP(t.storage,t._location,Iw());return t.storage.makeRequestWithTokens(e,Xp).then(n=>{if(n===null)throw GL();return n})}function MP(t){t._throwIfRoot("deleteObject");const e=CP(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Xp)}function LP(t,e){const n=gP(t._location.path,e),s=new Yt(t._location.bucket,n);return new Ks(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){return/^[A-Za-z]+:\/\//.test(t)}function UP(t,e){return new Ks(t,e)}function jw(t,e){if(t instanceof Qp){const n=t;if(n._bucket==null)throw FL();const s=new Ks(n,n._bucket);return e!=null?jw(s,e):s}else return e!==void 0?LP(t,e):t}function jP(t,e){if(e&&PP(e)){if(t instanceof Qp)return UP(t,e);throw Rm("To use ref(service, url), the first argument must be a Storage instance.")}else return jw(t,e)}function hx(t,e){const n=e==null?void 0:e[Tw];return n==null?null:Yt.makeFromBucketSpec(n,t)}function VP(t,e,n,s={}){t.host=`${e}:${n}`;const a=er(e);a&&(jp(`https://${t.host}`),Vp("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:yw(l,t.app.options.projectId))}class Qp{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=ww,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kL,this._maxUploadRetryTime=IL,this._requests=new Set,a!=null?this._bucket=Yt.makeFromBucketSpec(a,this._host):this._bucket=hx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yt.makeFromBucketSpec(this._url,e):this._bucket=hx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ux("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ux("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ks(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new $L(Cw());{const u=rP(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const dx="@firebase/storage",fx="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="storage";function BP(t,e,n){return t=Ze(t),kP(t,e,n)}function Bw(t){return t=Ze(t),IP(t)}function zP(t){return t=Ze(t),MP(t)}function xu(t,e){return t=Ze(t),jP(t,e)}function zw(t=Gp(),e){t=Ze(t);const s=Wu(t,Vw).getImmediate({identifier:e}),a=mw("storage");return a&&HP(s,...a),s}function HP(t,e,n,s={}){VP(t,e,n,s)}function FP(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Qp(n,s,a,e,tr)}function qP(){Ys(new rs(Vw,FP,"PUBLIC").setMultipleInstances(!0)),Ln(dx,fx,""),Ln(dx,fx,"esm2017")}qP();var mx={};const px="@firebase/database",gx="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hw="";function GP(t){Hw=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Qo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return yi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new YP(e)}}catch{}return new KP},Bs=Fw("localStorage"),$P=Fw("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new Hp("@firebase/database"),WP=function(){let t=1;return function(){return t++}}(),qw=function(t){const e=xM(t),n=new yM;n.update(e);const s=n.digest();return Pp.encodeByteArray(s)},yl=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=yl.apply(null,s):typeof s=="object"?e+=rt(s):e+=s,e+=" "}return e};let Po=null,yx=!0;const XP=function(t,e){G(!0,"Can't turn on custom loggers persistently."),Qr.logLevel=Ne.VERBOSE,Po=Qr.log.bind(Qr)},St=function(...t){if(yx===!0&&(yx=!1,Po===null&&$P.get("logging_enabled")===!0&&XP()),Po){const e=yl.apply(null,t);Po(e)}},vl=function(t){return function(...e){St(t,...e)}},Nm=function(...t){const e="FIREBASE INTERNAL ERROR: "+yl(...t);Qr.error(e)},fi=function(...t){const e=`FIREBASE FATAL ERROR: ${yl(...t)}`;throw Qr.error(e),new Error(e)},Ut=function(...t){const e="FIREBASE WARNING: "+yl(...t);Qr.warn(e)},QP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ZP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},aa="[MIN_NAME]",$s="[MAX_NAME]",pa=function(t,e){if(t===e)return 0;if(t===aa||e===$s)return-1;if(e===aa||t===$s)return 1;{const n=vx(t),s=vx(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},JP=function(t,e){return t===e?0:t<e?-1:1},So=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rt(e))},Zp=function(t){if(typeof t!="object"||t===null)return rt(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=rt(e[s]),n+=":",n+=Zp(t[e[s]]);return n+="}",n},Yw=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let a=0;a<n;a+=e)a+e>n?s.push(t.substring(a,n)):s.push(t.substring(a,a+e));return s};function jt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Kw=function(t){G(!Gw(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let a,l,u,d,f;t===0?(l=0,u=0,a=1/t===-1/0?1:0):(a=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(d=Math.min(Math.floor(Math.log(t)/Math.LN2),s),l=d+s,u=Math.round(t*Math.pow(2,n-d)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-s-n))));const m=[];for(f=n;f;f-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(f=e;f;f-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(a?1:0),m.reverse();const g=m.join("");let y="";for(f=0;f<64;f+=8){let v=parseInt(g.substr(f,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},e6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},t6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function n6(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const i6=new RegExp("^-?(0*)\\d{1,10}$"),s6=-2147483648,r6=2147483647,vx=function(t){if(i6.test(t)){const e=Number(t);if(e>=s6&&e<=r6)return e}return null},ga=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ut("Exception was thrown by user callback.",n),e},Math.floor(0))}},a6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,dn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Ut(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(St("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ut(e)}}class tu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}tu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="5",$w="v",Ww="s",Xw="r",Qw="f",Zw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jw="ls",eT="p",Dm="ac",tT="websocket",nT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,s,a,l=!1,u="",d=!1,f=!1,m=null){this.secure=n,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=f,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Bs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function c6(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function sT(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let s;if(e===tT)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===nT)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);c6(t)&&(n.ns=t.namespace);const a=[];return jt(n,(l,u)=>{a.push(l+"="+u)}),s+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.counters_={}}incrementCounter(e,n=1){yi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ZI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f={},Wf={};function eg(t){const e=t.toString();return $f[e]||($f[e]=new u6),$f[e]}function h6(t,e){const n=t.toString();return Wf[n]||(Wf[n]=e()),Wf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&ga(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="start",f6="close",m6="pLPCommand",p6="pRTLPCB",rT="id",aT="pw",oT="ser",g6="cb",y6="seg",v6="ts",_6="d",b6="dframe",lT=1870,cT=30,x6=lT-cT,E6=25e3,S6=3e4;class Wr{constructor(e,n,s,a,l,u,d){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=a,this.authToken=l,this.transportSessionId=u,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vl(e),this.stats_=eg(n),this.urlFn=f=>(this.appCheckToken&&(f[Dm]=this.appCheckToken),sT(n,nT,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new d6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(S6)),ZP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tg((...l)=>{const[u,d,f,m,g]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===_x)this.id=d,this.password=f;else if(u===f6)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,d]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,d)},()=>{this.onClosed_()},this.urlFn);const s={};s[_x]="t",s[oT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[g6]=this.scriptTagHolder.uniqueCallbackIdentifier),s[$w]=Jp,this.transportSessionId&&(s[Ww]=this.transportSessionId),this.lastSessionId&&(s[Jw]=this.lastSessionId),this.applicationId&&(s[eT]=this.applicationId),this.appCheckToken&&(s[Dm]=this.appCheckToken),typeof location<"u"&&location.hostname&&Zw.test(location.hostname)&&(s[Xw]=Qw);const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wr.forceAllow_=!0}static forceDisallow(){Wr.forceDisallow_=!0}static isAvailable(){return Wr.forceAllow_?!0:!Wr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!e6()&&!t6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=hw(n),a=Yw(s,x6);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[b6]="t",s[rT]=e,s[aT]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class tg{constructor(e,n,s,a){this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=WP(),window[m6+this.uniqueCallbackIdentifier]=e,window[p6+this.uniqueCallbackIdentifier]=n,this.myIFrame=tg.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(d){St("frame writing exception"),d.stack&&St(d.stack),St(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||St("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[rT]=this.myID,e[aT]=this.myPW,e[oT]=this.currentSerial;let n=this.urlFn(e),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+cT+s.length<=lT;){const u=this.pendingSegs.shift();s=s+"&"+y6+a+"="+u.seg+"&"+v6+a+"="+u.ts+"&"+_6+a+"="+u.d,a++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(s,Math.floor(E6)),l=()=>{clearTimeout(a),s()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||a==="loaded"||a==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{St("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=16384,T6=45e3;let Eu=null;typeof MozWebSocket<"u"?Eu=MozWebSocket:typeof WebSocket<"u"&&(Eu=WebSocket);class vn{constructor(e,n,s,a,l,u,d){this.connId=e,this.applicationId=s,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vl(this.connId),this.stats_=eg(n),this.connURL=vn.connectionURL_(n,u,d,a,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,a,l){const u={};return u[$w]=Jp,typeof location<"u"&&location.hostname&&Zw.test(location.hostname)&&(u[Xw]=Qw),n&&(u[Ww]=n),s&&(u[Jw]=s),a&&(u[Dm]=a),l&&(u[eT]=l),sT(e,tT,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bs.set("previous_websocket_failure",!0);try{let s;cM(),this.mySock=new Eu(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){vn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Eu!==null&&!vn.forceDisallow_}static previouslyFailed(){return Bs.isInMemoryStorage||Bs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Bs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Qo(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Yw(n,w6);s.length>1&&this.sendString_(String(s.length));for(let a=0;a<s.length;a++)this.sendString_(s[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(T6))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}vn.responsesRequiredToBeHealthy=2;vn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static get ALL_TRANSPORTS(){return[Wr,vn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=vn&&vn.isAvailable();let s=n&&!vn.previouslyFailed();if(e.webSocketOnly&&(n||Ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[vn];else{const a=this.transports_=[];for(const l of Jo.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);Jo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Jo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=6e4,A6=5e3,R6=10*1024,N6=100*1024,Xf="t",bx="d",D6="s",xx="r",O6="e",Ex="o",Sx="a",wx="n",Tx="p",k6="h";class I6{constructor(e,n,s,a,l,u,d,f,m,g){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=u,this.onReady_=d,this.onDisconnect_=f,this.onKill_=m,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vl("c:"+this.id+":"),this.transportManager_=new Jo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=Uo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>N6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>R6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Xf in e){const n=e[Xf];n===Sx?this.upgradeIfSecondaryHealthy_():n===xx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ex&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=So("t",e),s=So("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Tx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Sx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:wx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=So("t",e),s=So("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=So(Xf,e);if(bx in e){const s=e[bx];if(n===k6){const a=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===wx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===D6?this.onConnectionShutdown_(s):n===xx?this.onReset_(s):n===O6?Nm("Server Error: "+s):n===Ex?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Jp!==s&&Ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Uo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(C6))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(A6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Tx,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{put(e,n,s,a){}merge(e,n,s,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const a=this.getInitialEvent(e);a&&n.apply(s,a)}off(e,n,s){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===n&&(!s||s===a[l].context)){a.splice(l,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends hT{static getInstance(){return new Su}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Bp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=32,Ax=768;class Oe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function we(){return new Oe("")}function me(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function as(t){return t.pieces_.length-t.pieceNum_}function Me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Oe(t.pieces_,e)}function dT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function M6(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function fT(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Oe(e,0)}function at(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Oe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&n.push(s[a])}return new Oe(n,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function Ot(t,e){const n=me(t),s=me(e);if(n===null)return e;if(n===s)return Ot(Me(t),Me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ng(t,e){if(as(t)!==as(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function _n(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(as(t)>as(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class L6{constructor(e,n){this.errorPrefix_=n,this.parts_=fT(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=$u(this.parts_[s]);pT(this)}}function P6(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=$u(e),pT(t)}function U6(t){const e=t.parts_.pop();t.byteLength_-=$u(e),t.parts_.length>0&&(t.byteLength_-=1)}function pT(t){if(t.byteLength_>Ax)throw new Error(t.errorPrefix_+"has a key path longer than "+Ax+" bytes ("+t.byteLength_+").");if(t.parts_.length>Cx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Cx+") or object contains a cycle "+js(t))}function js(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends hT{static getInstance(){return new ig}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=1e3,j6=60*5*1e3,Rx=30*1e3,V6=1.3,B6=3e4,z6="server_kill",Nx=3;class ui extends uT{constructor(e,n,s,a,l,u,d,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=d,this.authOverride_=f,this.id=ui.nextPersistentConnectionId_++,this.log_=vl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wo,this.maxReconnectDelay_=j6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ig.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Su.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const a=++this.requestNumber_,l={r:a,a:e,b:n};this.log_(rt(l)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),s&&(this.requestCBHash_[a]=s)}get(e){this.initConnection_();const n=new Ku,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const d=u.d;u.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,s,a){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const d={onComplete:a,hashFn:n,query:e,tag:s};this.listens.get(u).set(l,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+s+" for "+a);const l={p:s},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,d=>{const f=d.d,m=d.s;ui.warnOnListenWarnings_(f,n),(this.listens.get(s)&&this.listens.get(s).get(a))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(s,a),e.onComplete&&e.onComplete(m,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&yi(e,"w")){const s=ra(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||gM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Rx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=pM(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,a=>{const l=a.s,u=a.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+a),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,a)&&this.connected_&&this.sendUnlisten_(s,a,e._queryObject,n)}sendUnlisten_(e,n,s,a){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";a&&(l.q=s,l.t=a),this.sendRequest(u,l)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,a){const l={p:n,d:s};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{a&&setTimeout(()=>{a(u.s,u.d)},Math.floor(0))})}put(e,n,s,a){this.putInternal("p",e,n,s,a)}merge(e,n,s,a){this.putInternal("m",e,n,s,a)}putInternal(e,n,s,a,l){this.initConnection_();const u={p:n,d:s};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:a}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const l=s.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Nm("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=wo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>B6&&(this.reconnectDelay_=wo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*V6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+ui.nextConnectionId_++,l=this.lastSessionId;let u=!1,d=null;const f=function(){d?d.close():(u=!0,s())},m=function(y){G(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(y)};this.realtime_={close:f,sendRequest:m};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?St("getToken() completed but was canceled"):(St("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,d=new I6(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,E=>{Ut(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(z6)},l))}catch(y){this.log_("Failed to get token: "+y),u||(this.repoInfo_.nodeAdmin&&Ut(y),f())}}}interrupt(e){St("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){St("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Em(this.interruptReasons_)&&(this.reconnectDelay_=wo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(l=>Zp(l)).join("$"):s="default";const a=this.removeListen_(e,s);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,n){const s=new Oe(e).toString();let a;if(this.listens.has(s)){const l=this.listens.get(s);a=l.get(n),l.delete(n),l.size===0&&this.listens.delete(s)}else a=void 0;return a}onAuthRevoked_(e,n){St("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Nx&&(this.reconnectDelay_=Rx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){St("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Nx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Hw.replace(/\./g,"-")]=1,Bp()?e["framework.cordova"]=1:vw()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Su.getInstance().currentlyOnline();return Em(this.interruptReasons_)&&e}}ui.nextPersistentConnectionId_=0;ui.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new pe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new pe(aa,e),a=new pe(aa,n);return this.compare(s,a)!==0}minPost(){return pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc;class gT extends Qu{static get __EMPTY_NODE(){return Kc}static set __EMPTY_NODE(e){Kc=e}compare(e,n){return pa(e.name,n.name)}isDefinedOn(e){throw fa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return pe.MIN}maxPost(){return new pe($s,Kc)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new pe(e,Kc)}toString(){return".key"}}const Zr=new gT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,s,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?s(e.key,n):1,a&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class dt{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??dt.RED,this.left=a??Pt.EMPTY_NODE,this.right=l??Pt.EMPTY_NODE}copy(e,n,s,a,l){return new dt(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,a;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Pt.EMPTY_NODE;a=s.right.min_(),s=s.copy(a.key,a.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}dt.RED=!0;dt.BLACK=!1;class H6{copy(e,n,s,a,l){return this}insert(e,n,s){return new dt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Pt{constructor(e,n=Pt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Pt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,dt.BLACK,null,null))}remove(e){return new Pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,a=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(a=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new $c(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new $c(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new $c(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new $c(this.root_,null,this.comparator_,!0,e)}}Pt.EMPTY_NODE=new H6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t,e){return pa(t.name,e.name)}function sg(t,e){return pa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Om;function q6(t){Om=t}const yT=function(t){return typeof t=="number"?"number:"+Kw(t):"string:"+t},vT=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&yi(e,".sv"),"Priority must be a string or number.")}else G(t===Om||t.isEmpty(),"priority of unexpected type.");G(t===Om||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dx;class ht{static set __childrenNodeConstructor(e){Dx=e}static get __childrenNodeConstructor(){return Dx}constructor(e,n=ht.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),vT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ht(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:me(e)===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ht.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=me(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(G(s!==".priority"||as(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,ht.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Kw(this.value_):e+=this.value_,this.lazyHash_=qw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ht.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ht.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,a=ht.VALUE_TYPE_ORDER.indexOf(n),l=ht.VALUE_TYPE_ORDER.indexOf(s);return G(a>=0,"Unknown leaf type: "+n),G(l>=0,"Unknown leaf type: "+s),a===l?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ht.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _T,bT;function G6(t){_T=t}function Y6(t){bT=t}class K6 extends Qu{compare(e,n){const s=e.node.getPriority(),a=n.node.getPriority(),l=s.compareTo(a);return l===0?pa(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return pe.MIN}maxPost(){return new pe($s,new ht("[PRIORITY-POST]",bT))}makePost(e,n){const s=_T(e);return new pe(n,new ht("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ke=new K6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=Math.log(2);class W6{constructor(e){const n=l=>parseInt(Math.log(l)/$6,10),s=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const a=s(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wu=function(t,e,n,s){t.sort(e);const a=function(f,m){const g=m-f;let y,v;if(g===0)return null;if(g===1)return y=t[f],v=n?n(y):y,new dt(v,y.node,dt.BLACK,null,null);{const E=parseInt(g/2,10)+f,S=a(f,E),C=a(E+1,m);return y=t[E],v=n?n(y):y,new dt(v,y.node,dt.BLACK,S,C)}},l=function(f){let m=null,g=null,y=t.length;const v=function(S,C){const R=y-S,N=y;y-=S;const L=a(R+1,N),k=t[R],H=n?n(k):k;E(new dt(H,k.node,C,null,L))},E=function(S){m?(m.left=S,m=S):(g=S,m=S)};for(let S=0;S<f.count;++S){const C=f.nextBitIsOne(),R=Math.pow(2,f.count-(S+1));C?v(R,dt.BLACK):(v(R,dt.BLACK),v(R,dt.RED))}return g},u=new W6(t.length),d=l(u);return new Pt(s||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf;const Br={};class si{static get Default(){return G(Br&&Ke,"ChildrenNode.ts has not been loaded"),Qf=Qf||new si({".priority":Br},{".priority":Ke}),Qf}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ra(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Pt?n:null}hasIndex(e){return yi(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Zr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const l=n.getIterator(pe.Wrap);let u=l.getNext();for(;u;)a=a||e.isDefinedOn(u.node),s.push(u),u=l.getNext();let d;a?d=wu(s,e.getCompare()):d=Br;const f=e.toString(),m=Object.assign({},this.indexSet_);m[f]=e;const g=Object.assign({},this.indexes_);return g[f]=d,new si(g,m)}addToIndexes(e,n){const s=_u(this.indexes_,(a,l)=>{const u=ra(this.indexSet_,l);if(G(u,"Missing index implementation for "+l),a===Br)if(u.isDefinedOn(e.node)){const d=[],f=n.getIterator(pe.Wrap);let m=f.getNext();for(;m;)m.name!==e.name&&d.push(m),m=f.getNext();return d.push(e),wu(d,u.getCompare())}else return Br;else{const d=n.get(e.name);let f=a;return d&&(f=f.remove(new pe(e.name,d))),f.insert(e,e.node)}});return new si(s,this.indexSet_)}removeFromIndexes(e,n){const s=_u(this.indexes_,a=>{if(a===Br)return a;{const l=n.get(e.name);return l?a.remove(new pe(e.name,l)):a}});return new si(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To;class le{static get EMPTY_NODE(){return To||(To=new le(new Pt(sg),null,si.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&vT(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||To}updatePriority(e){return this.children_.isEmpty()?this:new le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?To:n}}getChild(e){const n=me(e);return n===null?this:this.getImmediateChild(n).getChild(Me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new pe(e,n);let a,l;n.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(s,this.children_)):(a=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(s,this.children_));const u=a.isEmpty()?To:this.priorityNode_;return new le(a,u,l)}}updateChild(e,n){const s=me(e);if(s===null)return n;{G(me(e)!==".priority"||as(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(s).updateChild(Me(e),n);return this.updateImmediateChild(s,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,a=0,l=!0;if(this.forEachChild(Ke,(u,d)=>{n[u]=d.val(e),s++,l&&le.INTEGER_REGEXP_.test(u)?a=Math.max(a,Number(u)):l=!1}),!e&&l&&a<2*s){const u=[];for(const d in n)u[d]=n[d];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+yT(this.getPriority().val())+":"),this.forEachChild(Ke,(n,s)=>{const a=s.hash();a!==""&&(e+=":"+n+":"+a)}),this.lazyHash_=e===""?"":qw(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const a=this.resolveIndex_(s);if(a){const l=a.getPredecessorKey(new pe(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new pe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new pe(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,pe.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,pe.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_l?-1:0}withIndex(e){if(e===Zr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Zr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Ke),a=n.getIterator(Ke);let l=s.getNext(),u=a.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=s.getNext(),u=a.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===Zr?null:this.indexMap_.get(e.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class X6 extends le{constructor(){super(new Pt(sg),le.EMPTY_NODE,si.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const _l=new X6;Object.defineProperties(pe,{MIN:{value:new pe(aa,le.EMPTY_NODE)},MAX:{value:new pe($s,_l)}});gT.__EMPTY_NODE=le.EMPTY_NODE;ht.__childrenNodeConstructor=le;q6(_l);Y6(_l);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=!0;function ft(t,e=null){if(t===null)return le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ht(n,ft(e))}if(!(t instanceof Array)&&Q6){const n=[];let s=!1;if(jt(t,(u,d)=>{if(u.substring(0,1)!=="."){const f=ft(d);f.isEmpty()||(s=s||!f.getPriority().isEmpty(),n.push(new pe(u,f)))}}),n.length===0)return le.EMPTY_NODE;const l=wu(n,F6,u=>u.name,sg);if(s){const u=wu(n,Ke.getCompare());return new le(l,ft(e),new si({".priority":u},{".priority":Ke}))}else return new le(l,ft(e),si.Default)}else{let n=le.EMPTY_NODE;return jt(t,(s,a)=>{if(yi(t,s)&&s.substring(0,1)!=="."){const l=ft(a);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(s,l))}}),n.updatePriority(ft(e))}}G6(ft);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6 extends Qu{constructor(e){super(),this.indexPath_=e,G(!ye(e)&&me(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),a=this.extractChild(n.node),l=s.compareTo(a);return l===0?pa(e.name,n.name):l}makePost(e,n){const s=ft(e),a=le.EMPTY_NODE.updateChild(this.indexPath_,s);return new pe(n,a)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,_l);return new pe($s,e)}toString(){return fT(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6 extends Qu{compare(e,n){const s=e.node.compareTo(n.node);return s===0?pa(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return pe.MIN}maxPost(){return pe.MAX}makePost(e,n){const s=ft(e);return new pe(n,s)}toString(){return".value"}}const e3=new J6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t){return{type:"value",snapshotNode:t}}function oa(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function el(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function tl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function t3(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this.index_=e}updateChild(e,n,s,a,l,u){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(a).equals(s.getChild(a))&&d.isEmpty()===s.isEmpty()||(u!=null&&(s.isEmpty()?e.hasChild(n)?u.trackChildChange(el(n,d)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?u.trackChildChange(oa(n,s)):u.trackChildChange(tl(n,s,d))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ke,(a,l)=>{n.hasChild(a)||s.trackChildChange(el(a,l))}),n.isLeafNode()||n.forEachChild(Ke,(a,l)=>{if(e.hasChild(a)){const u=e.getImmediateChild(a);u.equals(l)||s.trackChildChange(tl(a,l,u))}else s.trackChildChange(oa(a,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?le.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.indexedFilter_=new rg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=nl.getStartPost_(e),this.endPost_=nl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,a,l,u){return this.matches(new pe(n,s))||(s=le.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,a,l,u)}updateFullNode(e,n,s){n.isLeafNode()&&(n=le.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(le.EMPTY_NODE);const l=this;return n.forEachChild(Ke,(u,d)=>{l.matches(new pe(u,d))||(a=a.updateImmediateChild(u,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new nl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,a,l,u){return this.rangedFilter_.matches(new pe(n,s))||(s=le.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,a,l,u):this.fullLimitUpdateChild_(e,n,s,l,u)}updateFullNode(e,n,s){let a;if(n.isLeafNode()||n.isEmpty())a=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=le.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const d=l.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))a=a.updateImmediateChild(d.name,d.node),u++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(le.EMPTY_NODE);let l;this.reverse_?l=a.getReverseIterator(this.index_):l=a.getIterator(this.index_);let u=0;for(;l.hasNext();){const d=l.getNext();u<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?u++:a=a.updateImmediateChild(d.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,a,l){let u;if(this.reverse_){const y=this.index_.getCompare();u=(v,E)=>y(E,v)}else u=this.index_.getCompare();const d=e;G(d.numChildren()===this.limit_,"");const f=new pe(n,s),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),g=this.rangedFilter_.matches(f);if(d.hasChild(n)){const y=d.getImmediateChild(n);let v=a.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===n||d.hasChild(v.name));)v=a.getChildAfterChild(this.index_,v,this.reverse_);const E=v==null?1:u(v,f);if(g&&!s.isEmpty()&&E>=0)return l!=null&&l.trackChildChange(tl(n,s,y)),d.updateImmediateChild(n,s);{l!=null&&l.trackChildChange(el(n,y));const C=d.updateImmediateChild(n,le.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(l!=null&&l.trackChildChange(oa(v.name,v.node)),C.updateImmediateChild(v.name,v.node)):C}}else return s.isEmpty()?e:g&&u(m,f)>=0?(l!=null&&(l.trackChildChange(el(m.name,m.node)),l.trackChildChange(oa(n,s))),d.updateImmediateChild(n,s).updateImmediateChild(m.name,le.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:aa}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$s}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ke}copy(){const e=new ag;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function i3(t){return t.loadsAllData()?new rg(t.getIndex()):t.hasLimit()?new n3(t):new nl(t)}function Ox(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ke?n="$priority":t.index_===e3?n="$value":t.index_===Zr?n="$key":(G(t.index_ instanceof Z6,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=rt(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=rt(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+rt(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=rt(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+rt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function kx(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ke&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends uT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,a){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=vl("p:rest:"),this.listens_={}}listen(e,n,s,a){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=Tu.getListenId_(e,s),d={};this.listens_[u]=d;const f=Ox(e._queryParams);this.restRequest_(l+".json",f,(m,g)=>{let y=g;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(l,y,!1,s),ra(this.listens_,u)===d){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",a(v,null)}})}unlisten(e,n){const s=Tu.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Ox(e._queryParams),s=e._path.toString(),a=new Ku;return this.restRequest_(s+".json",n,(l,u)=>{let d=u;l===404&&(d=null,l=null),l===null?(this.onDataUpdate_(s,d,!1,null),a.resolve(d)):a.reject(new Error(d))}),a.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(n.auth=a.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ma(n);this.log_("Sending REST request for "+u);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(s&&d.readyState===4){this.log_("REST Response for "+u+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=Qo(d.responseText)}catch{Ut("Failed to parse JSON response for "+u+": "+d.responseText)}s(null,f)}else d.status!==401&&d.status!==404&&Ut("Got unsuccessful REST response for "+u+" Status: "+d.status),s(d.status);s=null}},d.open("GET",u,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(){return{value:null,children:new Map}}function ET(t,e,n){if(ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=me(e);t.children.has(s)||t.children.set(s,Cu());const a=t.children.get(s);e=Me(e),ET(a,e,n)}}function km(t,e,n){t.value!==null?n(e,t.value):r3(t,(s,a)=>{const l=new Oe(e.toString()+"/"+s);km(a,l,n)})}function r3(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&jt(this.last_,(s,a)=>{n[s]=n[s]-a}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=10*1e3,o3=30*1e3,l3=5*60*1e3;class c3{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new a3(e);const s=Ix+(o3-Ix)*Math.random();Uo(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;jt(e,(a,l)=>{l>0&&yi(this.statsToReport_,a)&&(n[a]=l,s=!0)}),s&&this.server_.reportStats(n),Uo(this.reportStats_.bind(this),Math.floor(Math.random()*2*l3))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(bn||(bn={}));function ST(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function og(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=bn.ACK_USER_WRITE,this.source=ST()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Oe(e));return new Au(we(),n,this.revert)}}else return G(me(this.path)===e,"operationForChild called for unrelated child."),new Au(Me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.source=e,this.path=n,this.type=bn.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new il(this.source,we()):new il(this.source,Me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=bn.OVERWRITE}operationForChild(e){return ye(this.path)?new Ws(this.source,we(),this.snap.getImmediateChild(e)):new Ws(this.source,Me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=bn.MERGE}operationForChild(e){if(ye(this.path)){const n=this.children.subtree(new Oe(e));return n.isEmpty()?null:n.value?new Ws(this.source,we(),n.value):new sl(this.source,we(),n)}else return G(me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sl(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=me(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function h3(t,e,n,s){const a=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(t3(u.childName,u.snapshotNode))}),Co(t,a,"child_removed",e,s,n),Co(t,a,"child_added",e,s,n),Co(t,a,"child_moved",l,s,n),Co(t,a,"child_changed",e,s,n),Co(t,a,"value",e,s,n),a}function Co(t,e,n,s,a,l){const u=s.filter(d=>d.type===n);u.sort((d,f)=>f3(t,d,f)),u.forEach(d=>{const f=d3(t,d,l);a.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(f,t.query_))})})}function d3(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function f3(t,e,n){if(e.childName==null||n.childName==null)throw fa("Should only compare child_ events.");const s=new pe(e.childName,e.snapshotNode),a=new pe(n.childName,n.snapshotNode);return t.index_.compare(s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t,e){return{eventCache:t,serverCache:e}}function jo(t,e,n,s){return Zu(new os(e,n,s),t.serverCache)}function wT(t,e,n,s){return Zu(t.eventCache,new os(e,n,s))}function Ru(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Xs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf;const m3=()=>(Zf||(Zf=new Pt(JP)),Zf);class Pe{static fromObject(e){let n=new Pe(null);return jt(e,(s,a)=>{n=n.set(new Oe(s),a)}),n}constructor(e,n=m3()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:we(),value:this.value};if(ye(e))return null;{const s=me(e),a=this.children.get(s);if(a!==null){const l=a.findRootMostMatchingPathAndValue(Me(e),n);return l!=null?{path:at(new Oe(s),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const n=me(e),s=this.children.get(n);return s!==null?s.subtree(Me(e)):new Pe(null)}}set(e,n){if(ye(e))return new Pe(n,this.children);{const s=me(e),l=(this.children.get(s)||new Pe(null)).set(Me(e),n),u=this.children.insert(s,l);return new Pe(this.value,u)}}remove(e){if(ye(e))return this.children.isEmpty()?new Pe(null):new Pe(null,this.children);{const n=me(e),s=this.children.get(n);if(s){const a=s.remove(Me(e));let l;return a.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,a),this.value===null&&l.isEmpty()?new Pe(null):new Pe(this.value,l)}else return this}}get(e){if(ye(e))return this.value;{const n=me(e),s=this.children.get(n);return s?s.get(Me(e)):null}}setTree(e,n){if(ye(e))return n;{const s=me(e),l=(this.children.get(s)||new Pe(null)).setTree(Me(e),n);let u;return l.isEmpty()?u=this.children.remove(s):u=this.children.insert(s,l),new Pe(this.value,u)}}fold(e){return this.fold_(we(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((a,l)=>{s[a]=l.fold_(at(e,a),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,we(),n)}findOnPath_(e,n,s){const a=this.value?s(n,this.value):!1;if(a)return a;if(ye(e))return null;{const l=me(e),u=this.children.get(l);return u?u.findOnPath_(Me(e),at(n,l),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,we(),n)}foreachOnPath_(e,n,s){if(ye(e))return this;{this.value&&s(n,this.value);const a=me(e),l=this.children.get(a);return l?l.foreachOnPath_(Me(e),at(n,a),s):new Pe(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,n){this.children.inorderTraversal((s,a)=>{a.foreach_(at(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.writeTree_=e}static empty(){return new En(new Pe(null))}}function Vo(t,e,n){if(ye(e))return new En(new Pe(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const a=s.path;let l=s.value;const u=Ot(a,e);return l=l.updateChild(u,n),new En(t.writeTree_.set(a,l))}else{const a=new Pe(n),l=t.writeTree_.setTree(e,a);return new En(l)}}}function Mx(t,e,n){let s=t;return jt(n,(a,l)=>{s=Vo(s,at(e,a),l)}),s}function Lx(t,e){if(ye(e))return En.empty();{const n=t.writeTree_.setTree(e,new Pe(null));return new En(n)}}function Im(t,e){return nr(t,e)!=null}function nr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ot(n.path,e)):null}function Px(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ke,(s,a)=>{e.push(new pe(s,a))}):t.writeTree_.children.inorderTraversal((s,a)=>{a.value!=null&&e.push(new pe(s,a.value))}),e}function Ji(t,e){if(ye(e))return t;{const n=nr(t,e);return n!=null?new En(new Pe(n)):new En(t.writeTree_.subtree(e))}}function Mm(t){return t.writeTree_.isEmpty()}function la(t,e){return TT(we(),t.writeTree_,e)}function TT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((a,l)=>{a===".priority"?(G(l.value!==null,"Priority writes must always be leaf nodes"),s=l.value):n=TT(at(t,a),l,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(at(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t,e){return NT(e,t)}function p3(t,e,n,s,a){G(s>t.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:a}),a&&(t.visibleWrites=Vo(t.visibleWrites,e,n)),t.lastWriteId=s}function g3(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function y3(t,e){const n=t.allWrites.findIndex(d=>d.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let a=s.visible,l=!1,u=t.allWrites.length-1;for(;a&&u>=0;){const d=t.allWrites[u];d.visible&&(u>=n&&v3(d,s.path)?a=!1:_n(s.path,d.path)&&(l=!0)),u--}if(a){if(l)return _3(t),!0;if(s.snap)t.visibleWrites=Lx(t.visibleWrites,s.path);else{const d=s.children;jt(d,f=>{t.visibleWrites=Lx(t.visibleWrites,at(s.path,f))})}return!0}else return!1}function v3(t,e){if(t.snap)return _n(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&_n(at(t.path,n),e))return!0;return!1}function _3(t){t.visibleWrites=CT(t.allWrites,b3,we()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function b3(t){return t.visible}function CT(t,e,n){let s=En.empty();for(let a=0;a<t.length;++a){const l=t[a];if(e(l)){const u=l.path;let d;if(l.snap)_n(n,u)?(d=Ot(n,u),s=Vo(s,d,l.snap)):_n(u,n)&&(d=Ot(u,n),s=Vo(s,we(),l.snap.getChild(d)));else if(l.children){if(_n(n,u))d=Ot(n,u),s=Mx(s,d,l.children);else if(_n(u,n))if(d=Ot(u,n),ye(d))s=Mx(s,we(),l.children);else{const f=ra(l.children,me(d));if(f){const m=f.getChild(Me(d));s=Vo(s,we(),m)}}}else throw fa("WriteRecord should have .snap or .children")}}return s}function AT(t,e,n,s,a){if(!s&&!a){const l=nr(t.visibleWrites,e);if(l!=null)return l;{const u=Ji(t.visibleWrites,e);if(Mm(u))return n;if(n==null&&!Im(u,we()))return null;{const d=n||le.EMPTY_NODE;return la(u,d)}}}else{const l=Ji(t.visibleWrites,e);if(!a&&Mm(l))return n;if(!a&&n==null&&!Im(l,we()))return null;{const u=function(m){return(m.visible||a)&&(!s||!~s.indexOf(m.writeId))&&(_n(m.path,e)||_n(e,m.path))},d=CT(t.allWrites,u,e),f=n||le.EMPTY_NODE;return la(d,f)}}}function x3(t,e,n){let s=le.EMPTY_NODE;const a=nr(t.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(Ke,(l,u)=>{s=s.updateImmediateChild(l,u)}),s;if(n){const l=Ji(t.visibleWrites,e);return n.forEachChild(Ke,(u,d)=>{const f=la(Ji(l,new Oe(u)),d);s=s.updateImmediateChild(u,f)}),Px(l).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}else{const l=Ji(t.visibleWrites,e);return Px(l).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}}function E3(t,e,n,s,a){G(s||a,"Either existingEventSnap or existingServerSnap must exist");const l=at(e,n);if(Im(t.visibleWrites,l))return null;{const u=Ji(t.visibleWrites,l);return Mm(u)?a.getChild(n):la(u,a.getChild(n))}}function S3(t,e,n,s){const a=at(e,n),l=nr(t.visibleWrites,a);if(l!=null)return l;if(s.isCompleteForChild(n)){const u=Ji(t.visibleWrites,a);return la(u,s.getNode().getImmediateChild(n))}else return null}function w3(t,e){return nr(t.visibleWrites,e)}function T3(t,e,n,s,a,l,u){let d;const f=Ji(t.visibleWrites,e),m=nr(f,we());if(m!=null)d=m;else if(n!=null)d=la(f,n);else return[];if(d=d.withIndex(u),!d.isEmpty()&&!d.isLeafNode()){const g=[],y=u.getCompare(),v=l?d.getReverseIteratorFrom(s,u):d.getIteratorFrom(s,u);let E=v.getNext();for(;E&&g.length<a;)y(E,s)!==0&&g.push(E),E=v.getNext();return g}else return[]}function C3(){return{visibleWrites:En.empty(),allWrites:[],lastWriteId:-1}}function Nu(t,e,n,s){return AT(t.writeTree,t.treePath,e,n,s)}function cg(t,e){return x3(t.writeTree,t.treePath,e)}function Ux(t,e,n,s){return E3(t.writeTree,t.treePath,e,n,s)}function Du(t,e){return w3(t.writeTree,at(t.treePath,e))}function A3(t,e,n,s,a,l){return T3(t.writeTree,t.treePath,e,n,s,a,l)}function ug(t,e,n){return S3(t.writeTree,t.treePath,e,n)}function RT(t,e){return NT(at(t.treePath,e),t.writeTree)}function NT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(s!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const l=a.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(s,tl(s,e.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(s,el(s,a.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(s,oa(s,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(s,tl(s,e.snapshotNode,a.oldSnap));else throw fa("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const DT=new N3;class hg{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new os(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ug(this.writes_,e,s)}}getChildAfterChild(e,n,s){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xs(this.viewCache_),l=A3(this.writes_,a,n,1,s,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){return{filter:t}}function O3(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function k3(t,e,n,s,a){const l=new R3;let u,d;if(n.type===bn.OVERWRITE){const m=n;m.source.fromUser?u=Lm(t,e,m.path,m.snap,s,a,l):(G(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!ye(m.path),u=Ou(t,e,m.path,m.snap,s,a,d,l))}else if(n.type===bn.MERGE){const m=n;m.source.fromUser?u=M3(t,e,m.path,m.children,s,a,l):(G(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),u=Pm(t,e,m.path,m.children,s,a,d,l))}else if(n.type===bn.ACK_USER_WRITE){const m=n;m.revert?u=U3(t,e,m.path,s,a,l):u=L3(t,e,m.path,m.affectedTree,s,a,l)}else if(n.type===bn.LISTEN_COMPLETE)u=P3(t,e,n.path,s,l);else throw fa("Unknown operation type: "+n.type);const f=l.getChanges();return I3(e,u,f),{viewCache:u,changes:f}}function I3(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),l=Ru(t);(n.length>0||!t.eventCache.isFullyInitialized()||a&&!s.getNode().equals(l)||!s.getNode().getPriority().equals(l.getPriority()))&&n.push(xT(Ru(e)))}}function OT(t,e,n,s,a,l){const u=e.eventCache;if(Du(s,n)!=null)return e;{let d,f;if(ye(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Xs(e),g=m instanceof le?m:le.EMPTY_NODE,y=cg(s,g);d=t.filter.updateFullNode(e.eventCache.getNode(),y,l)}else{const m=Nu(s,Xs(e));d=t.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=me(n);if(m===".priority"){G(as(n)===1,"Can't have a priority with additional path components");const g=u.getNode();f=e.serverCache.getNode();const y=Ux(s,n,g,f);y!=null?d=t.filter.updatePriority(g,y):d=u.getNode()}else{const g=Me(n);let y;if(u.isCompleteForChild(m)){f=e.serverCache.getNode();const v=Ux(s,n,u.getNode(),f);v!=null?y=u.getNode().getImmediateChild(m).updateChild(g,v):y=u.getNode().getImmediateChild(m)}else y=ug(s,m,e.serverCache);y!=null?d=t.filter.updateChild(u.getNode(),m,y,g,a,l):d=u.getNode()}}return jo(e,d,u.isFullyInitialized()||ye(n),t.filter.filtersNodes())}}function Ou(t,e,n,s,a,l,u,d){const f=e.serverCache;let m;const g=u?t.filter:t.filter.getIndexedFilter();if(ye(n))m=g.updateFullNode(f.getNode(),s,null);else if(g.filtersNodes()&&!f.isFiltered()){const E=f.getNode().updateChild(n,s);m=g.updateFullNode(f.getNode(),E,null)}else{const E=me(n);if(!f.isCompleteForPath(n)&&as(n)>1)return e;const S=Me(n),R=f.getNode().getImmediateChild(E).updateChild(S,s);E===".priority"?m=g.updatePriority(f.getNode(),R):m=g.updateChild(f.getNode(),E,R,S,DT,null)}const y=wT(e,m,f.isFullyInitialized()||ye(n),g.filtersNodes()),v=new hg(a,y,l);return OT(t,y,n,a,v,d)}function Lm(t,e,n,s,a,l,u){const d=e.eventCache;let f,m;const g=new hg(a,e,l);if(ye(n))m=t.filter.updateFullNode(e.eventCache.getNode(),s,u),f=jo(e,m,!0,t.filter.filtersNodes());else{const y=me(n);if(y===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),s),f=jo(e,m,d.isFullyInitialized(),d.isFiltered());else{const v=Me(n),E=d.getNode().getImmediateChild(y);let S;if(ye(v))S=s;else{const C=g.getCompleteChild(y);C!=null?dT(v)===".priority"&&C.getChild(mT(v)).isEmpty()?S=C:S=C.updateChild(v,s):S=le.EMPTY_NODE}if(E.equals(S))f=e;else{const C=t.filter.updateChild(d.getNode(),y,S,v,g,u);f=jo(e,C,d.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function jx(t,e){return t.eventCache.isCompleteForChild(e)}function M3(t,e,n,s,a,l,u){let d=e;return s.foreach((f,m)=>{const g=at(n,f);jx(e,me(g))&&(d=Lm(t,d,g,m,a,l,u))}),s.foreach((f,m)=>{const g=at(n,f);jx(e,me(g))||(d=Lm(t,d,g,m,a,l,u))}),d}function Vx(t,e,n){return n.foreach((s,a)=>{e=e.updateChild(s,a)}),e}function Pm(t,e,n,s,a,l,u,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,m;ye(n)?m=s:m=new Pe(null).setTree(n,s);const g=e.serverCache.getNode();return m.children.inorderTraversal((y,v)=>{if(g.hasChild(y)){const E=e.serverCache.getNode().getImmediateChild(y),S=Vx(t,E,v);f=Ou(t,f,new Oe(y),S,a,l,u,d)}}),m.children.inorderTraversal((y,v)=>{const E=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!g.hasChild(y)&&!E){const S=e.serverCache.getNode().getImmediateChild(y),C=Vx(t,S,v);f=Ou(t,f,new Oe(y),C,a,l,u,d)}}),f}function L3(t,e,n,s,a,l,u){if(Du(a,n)!=null)return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(s.value!=null){if(ye(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return Ou(t,e,n,f.getNode().getChild(n),a,l,d,u);if(ye(n)){let m=new Pe(null);return f.getNode().forEachChild(Zr,(g,y)=>{m=m.set(new Oe(g),y)}),Pm(t,e,n,m,a,l,d,u)}else return e}else{let m=new Pe(null);return s.foreach((g,y)=>{const v=at(n,g);f.isCompleteForPath(v)&&(m=m.set(g,f.getNode().getChild(v)))}),Pm(t,e,n,m,a,l,d,u)}}function P3(t,e,n,s,a){const l=e.serverCache,u=wT(e,l.getNode(),l.isFullyInitialized()||ye(n),l.isFiltered());return OT(t,u,n,s,DT,a)}function U3(t,e,n,s,a,l){let u;if(Du(s,n)!=null)return e;{const d=new hg(s,e,a),f=e.eventCache.getNode();let m;if(ye(n)||me(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Nu(s,Xs(e));else{const y=e.serverCache.getNode();G(y instanceof le,"serverChildren would be complete if leaf node"),g=cg(s,y)}g=g,m=t.filter.updateFullNode(f,g,l)}else{const g=me(n);let y=ug(s,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=f.getImmediateChild(g)),y!=null?m=t.filter.updateChild(f,g,y,Me(n),d,l):e.eventCache.getNode().hasChild(g)?m=t.filter.updateChild(f,g,le.EMPTY_NODE,Me(n),d,l):m=f,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Nu(s,Xs(e)),u.isLeafNode()&&(m=t.filter.updateFullNode(m,u,l)))}return u=e.serverCache.isFullyInitialized()||Du(s,we())!=null,jo(e,m,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new rg(s.getIndex()),l=i3(s);this.processor_=D3(l);const u=n.serverCache,d=n.eventCache,f=a.updateFullNode(le.EMPTY_NODE,u.getNode(),null),m=l.updateFullNode(le.EMPTY_NODE,d.getNode(),null),g=new os(f,u.isFullyInitialized(),a.filtersNodes()),y=new os(m,d.isFullyInitialized(),l.filtersNodes());this.viewCache_=Zu(y,g),this.eventGenerator_=new u3(this.query_)}get query(){return this.query_}}function V3(t){return t.viewCache_.serverCache.getNode()}function B3(t){return Ru(t.viewCache_)}function z3(t,e){const n=Xs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ye(e)&&!n.getImmediateChild(me(e)).isEmpty())?n.getChild(e):null}function Bx(t){return t.eventRegistrations_.length===0}function H3(t,e){t.eventRegistrations_.push(e)}function zx(t,e,n){const s=[];if(n){G(e==null,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,a);u&&s.push(u)})}if(e){let a=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))a.push(u);else if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=a}else t.eventRegistrations_=[];return s}function Hx(t,e,n,s){e.type===bn.MERGE&&e.source.queryId!==null&&(G(Xs(t.viewCache_),"We should always have a full cache before handling merges"),G(Ru(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,l=k3(t.processor_,a,e,n,s);return O3(t.processor_,l.viewCache),G(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,kT(t,l.changes,l.viewCache.eventCache.getNode(),null)}function F3(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ke,(l,u)=>{s.push(oa(l,u))}),n.isFullyInitialized()&&s.push(xT(n.getNode())),kT(t,s,n.getNode(),e)}function kT(t,e,n,s){const a=s?[s]:t.eventRegistrations_;return h3(t.eventGenerator_,e,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku;class IT{constructor(){this.views=new Map}}function q3(t){G(!ku,"__referenceConstructor has already been defined"),ku=t}function G3(){return G(ku,"Reference.ts has not been loaded"),ku}function Y3(t){return t.views.size===0}function dg(t,e,n,s){const a=e.source.queryId;if(a!==null){const l=t.views.get(a);return G(l!=null,"SyncTree gave us an op for an invalid query."),Hx(l,e,n,s)}else{let l=[];for(const u of t.views.values())l=l.concat(Hx(u,e,n,s));return l}}function MT(t,e,n,s,a){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let d=Nu(n,a?s:null),f=!1;d?f=!0:s instanceof le?(d=cg(n,s),f=!1):(d=le.EMPTY_NODE,f=!1);const m=Zu(new os(d,f,!1),new os(s,a,!1));return new j3(e,m)}return u}function K3(t,e,n,s,a,l){const u=MT(t,e,s,a,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),H3(u,n),F3(u,n)}function $3(t,e,n,s){const a=e._queryIdentifier,l=[];let u=[];const d=ls(t);if(a==="default")for(const[f,m]of t.views.entries())u=u.concat(zx(m,n,s)),Bx(m)&&(t.views.delete(f),m.query._queryParams.loadsAllData()||l.push(m.query));else{const f=t.views.get(a);f&&(u=u.concat(zx(f,n,s)),Bx(f)&&(t.views.delete(a),f.query._queryParams.loadsAllData()||l.push(f.query)))}return d&&!ls(t)&&l.push(new(G3())(e._repo,e._path)),{removed:l,events:u}}function LT(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function es(t,e){let n=null;for(const s of t.views.values())n=n||z3(s,e);return n}function PT(t,e){if(e._queryParams.loadsAllData())return eh(t);{const s=e._queryIdentifier;return t.views.get(s)}}function UT(t,e){return PT(t,e)!=null}function ls(t){return eh(t)!=null}function eh(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu;function W3(t){G(!Iu,"__referenceConstructor has already been defined"),Iu=t}function X3(){return G(Iu,"Reference.ts has not been loaded"),Iu}let Q3=1;class Fx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pe(null),this.pendingWriteTree_=C3(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jT(t,e,n,s,a){return p3(t.pendingWriteTree_,e,n,s,a),a?xl(t,new Ws(ST(),e,n)):[]}function zs(t,e,n=!1){const s=g3(t.pendingWriteTree_,e);if(y3(t.pendingWriteTree_,e)){let l=new Pe(null);return s.snap!=null?l=l.set(we(),!0):jt(s.children,u=>{l=l.set(new Oe(u),!0)}),xl(t,new Au(s.path,l,n))}else return[]}function bl(t,e,n){return xl(t,new Ws(og(),e,n))}function Z3(t,e,n){const s=Pe.fromObject(n);return xl(t,new sl(og(),e,s))}function J3(t,e){return xl(t,new il(og(),e))}function eU(t,e,n){const s=mg(t,n);if(s){const a=pg(s),l=a.path,u=a.queryId,d=Ot(l,e),f=new il(lg(u),d);return gg(t,l,f)}else return[]}function Mu(t,e,n,s,a=!1){const l=e._path,u=t.syncPointTree_.get(l);let d=[];if(u&&(e._queryIdentifier==="default"||UT(u,e))){const f=$3(u,e,n,s);Y3(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const m=f.removed;if(d=f.events,!a){const g=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(l,(v,E)=>ls(E));if(g&&!y){const v=t.syncPointTree_.subtree(l);if(!v.isEmpty()){const E=iU(v);for(let S=0;S<E.length;++S){const C=E[S],R=C.query,N=HT(t,C);t.listenProvider_.startListening(Bo(R),rl(t,R),N.hashFn,N.onComplete)}}}!y&&m.length>0&&!s&&(g?t.listenProvider_.stopListening(Bo(e),null):m.forEach(v=>{const E=t.queryToTagMap.get(th(v));t.listenProvider_.stopListening(Bo(v),E)}))}sU(t,m)}return d}function VT(t,e,n,s){const a=mg(t,s);if(a!=null){const l=pg(a),u=l.path,d=l.queryId,f=Ot(u,e),m=new Ws(lg(d),f,n);return gg(t,u,m)}else return[]}function tU(t,e,n,s){const a=mg(t,s);if(a){const l=pg(a),u=l.path,d=l.queryId,f=Ot(u,e),m=Pe.fromObject(n),g=new sl(lg(d),f,m);return gg(t,u,g)}else return[]}function Um(t,e,n,s=!1){const a=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(a,(v,E)=>{const S=Ot(v,a);l=l||es(E,S),u=u||ls(E)});let d=t.syncPointTree_.get(a);d?(u=u||ls(d),l=l||es(d,we())):(d=new IT,t.syncPointTree_=t.syncPointTree_.set(a,d));let f;l!=null?f=!0:(f=!1,l=le.EMPTY_NODE,t.syncPointTree_.subtree(a).foreachChild((E,S)=>{const C=es(S,we());C&&(l=l.updateImmediateChild(E,C))}));const m=UT(d,e);if(!m&&!e._queryParams.loadsAllData()){const v=th(e);G(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const E=rU();t.queryToTagMap.set(v,E),t.tagToQueryMap.set(E,v)}const g=Ju(t.pendingWriteTree_,a);let y=K3(d,e,n,g,l,f);if(!m&&!u&&!s){const v=PT(d,e);y=y.concat(aU(t,e,v))}return y}function fg(t,e,n){const a=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,d)=>{const f=Ot(u,e),m=es(d,f);if(m)return m});return AT(a,e,l,n,!0)}function nU(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(m,g)=>{const y=Ot(m,n);s=s||es(g,y)});let a=t.syncPointTree_.get(n);a?s=s||es(a,we()):(a=new IT,t.syncPointTree_=t.syncPointTree_.set(n,a));const l=s!=null,u=l?new os(s,!0,!1):null,d=Ju(t.pendingWriteTree_,e._path),f=MT(a,e,d,l?u.getNode():le.EMPTY_NODE,l);return B3(f)}function xl(t,e){return BT(e,t.syncPointTree_,null,Ju(t.pendingWriteTree_,we()))}function BT(t,e,n,s){if(ye(t.path))return zT(t,e,n,s);{const a=e.get(we());n==null&&a!=null&&(n=es(a,we()));let l=[];const u=me(t.path),d=t.operationForChild(u),f=e.children.get(u);if(f&&d){const m=n?n.getImmediateChild(u):null,g=RT(s,u);l=l.concat(BT(d,f,m,g))}return a&&(l=l.concat(dg(a,t,s,n))),l}}function zT(t,e,n,s){const a=e.get(we());n==null&&a!=null&&(n=es(a,we()));let l=[];return e.children.inorderTraversal((u,d)=>{const f=n?n.getImmediateChild(u):null,m=RT(s,u),g=t.operationForChild(u);g&&(l=l.concat(zT(g,d,f,m)))}),a&&(l=l.concat(dg(a,t,s,n))),l}function HT(t,e){const n=e.query,s=rl(t,n);return{hashFn:()=>(V3(e)||le.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return s?eU(t,n._path,s):J3(t,n._path);{const l=n6(a,n);return Mu(t,n,null,l)}}}}function rl(t,e){const n=th(e);return t.queryToTagMap.get(n)}function th(t){return t._path.toString()+"$"+t._queryIdentifier}function mg(t,e){return t.tagToQueryMap.get(e)}function pg(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Oe(t.substr(0,e))}}function gg(t,e,n){const s=t.syncPointTree_.get(e);G(s,"Missing sync point for query tag that we're tracking");const a=Ju(t.pendingWriteTree_,e);return dg(s,n,a,null)}function iU(t){return t.fold((e,n,s)=>{if(n&&ls(n))return[eh(n)];{let a=[];return n&&(a=LT(n)),jt(s,(l,u)=>{a=a.concat(u)}),a}})}function Bo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(X3())(t._repo,t._path):t}function sU(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const a=th(s),l=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(l)}}}function rU(){return Q3++}function aU(t,e,n){const s=e._path,a=rl(t,e),l=HT(t,n),u=t.listenProvider_.startListening(Bo(e),a,l.hashFn,l.onComplete),d=t.syncPointTree_.subtree(s);if(a)G(!ls(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((m,g,y)=>{if(!ye(m)&&g&&ls(g))return[eh(g).query];{let v=[];return g&&(v=v.concat(LT(g).map(E=>E.query))),jt(y,(E,S)=>{v=v.concat(S)}),v}});for(let m=0;m<f.length;++m){const g=f[m];t.listenProvider_.stopListening(Bo(g),rl(t,g))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new yg(n)}node(){return this.node_}}class vg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=at(this.path_,e);return new vg(this.syncTree_,n)}node(){return fg(this.syncTree_,this.path_)}}const oU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qx=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return lU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return cU(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},lU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},cU=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&G(!1,"Unexpected increment value: "+s);const a=e.node();if(G(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const u=a.getValue();return typeof u!="number"?s:u+s},uU=function(t,e,n,s){return _g(e,new vg(n,t),s)},FT=function(t,e,n){return _g(t,new yg(e),n)};function _g(t,e,n){const s=t.getPriority().val(),a=qx(s,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,d=qx(u.getValue(),e,n);return d!==u.getValue()||a!==u.getPriority().val()?new ht(d,ft(a)):t}else{const u=t;return l=u,a!==u.getPriority().val()&&(l=l.updatePriority(new ht(a))),u.forEachChild(Ke,(d,f)=>{const m=_g(f,e.getImmediateChild(d),n);m!==f&&(l=l.updateImmediateChild(d,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function xg(t,e){let n=e instanceof Oe?e:new Oe(e),s=t,a=me(n);for(;a!==null;){const l=ra(s.node.children,a)||{children:{},childCount:0};s=new bg(a,s,l),n=Me(n),a=me(n)}return s}function ya(t){return t.node.value}function qT(t,e){t.node.value=e,jm(t)}function GT(t){return t.node.childCount>0}function hU(t){return ya(t)===void 0&&!GT(t)}function nh(t,e){jt(t.node.children,(n,s)=>{e(new bg(n,t,s))})}function YT(t,e,n,s){n&&e(t),nh(t,a=>{YT(a,e,!0)})}function dU(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function El(t){return new Oe(t.parent===null?t.name:El(t.parent)+"/"+t.name)}function jm(t){t.parent!==null&&fU(t.parent,t.name,t)}function fU(t,e,n){const s=hU(n),a=yi(t.node.children,e);s&&a?(delete t.node.children[e],t.node.childCount--,jm(t)):!s&&!a&&(t.node.children[e]=n.node,t.node.childCount++,jm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=/[\[\].#$\/\u0000-\u001F\u007F]/,pU=/[\[\].#$\u0000-\u001F\u007F]/,Jf=10*1024*1024,KT=function(t){return typeof t=="string"&&t.length!==0&&!mU.test(t)},$T=function(t){return typeof t=="string"&&t.length!==0&&!pU.test(t)},gU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),$T(t)},yU=function(t,e,n,s){Eg(zp(t,"value"),e,n)},Eg=function(t,e,n){const s=n instanceof Oe?new L6(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+js(s));if(typeof e=="function")throw new Error(t+"contains a function "+js(s)+" with contents = "+e.toString());if(Gw(e))throw new Error(t+"contains "+e.toString()+" "+js(s));if(typeof e=="string"&&e.length>Jf/3&&$u(e)>Jf)throw new Error(t+"contains a string greater than "+Jf+" utf8 bytes "+js(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,l=!1;if(jt(e,(u,d)=>{if(u===".value")a=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!KT(u)))throw new Error(t+" contains an invalid key ("+u+") "+js(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);P6(s,u),Eg(t,d,s),U6(s)}),a&&l)throw new Error(t+' contains ".value" child '+js(s)+" in addition to actual children.")}},WT=function(t,e,n,s){if(!$T(n))throw new Error(zp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},vU=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),WT(t,e,n)},XT=function(t,e){if(me(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},_U=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!KT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!gU(n))throw new Error(zp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sg(t,e){let n=null;for(let s=0;s<e.length;s++){const a=e[s],l=a.getPath();n!==null&&!ng(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(a)}n&&t.eventLists_.push(n)}function QT(t,e,n){Sg(t,n),ZT(t,s=>ng(s,e))}function jn(t,e,n){Sg(t,n),ZT(t,s=>_n(s,e)||_n(e,s))}function ZT(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const a=t.eventLists_[s];if(a){const l=a.path;e(l)?(xU(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function xU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Po&&St("event: "+n.toString()),ga(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="repo_interrupt",SU=25;class wU{constructor(e,n,s,a){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cu(),this.transactionQueueTree_=new bg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function TU(t,e,n){if(t.stats_=eg(t.repoInfo_),t.forceRestClient_||a6())t.server_=new Tu(t.repoInfo_,(s,a,l,u)=>{Gx(t,s,a,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Yx(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new ui(t.repoInfo_,e,(s,a,l,u)=>{Gx(t,s,a,l,u)},s=>{Yx(t,s)},s=>{AU(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=h6(t.repoInfo_,()=>new c3(t.stats_,t.server_)),t.infoData_=new s3,t.infoSyncTree_=new Fx({startListening:(s,a,l,u)=>{let d=[];const f=t.infoData_.getNode(s._path);return f.isEmpty()||(d=bl(t.infoSyncTree_,s._path,f),setTimeout(()=>{u("ok")},0)),d},stopListening:()=>{}}),Tg(t,"connected",!1),t.serverSyncTree_=new Fx({startListening:(s,a,l,u)=>(t.server_.listen(s,l,a,(d,f)=>{const m=u(d,f);jn(t.eventQueue_,s._path,m)}),[]),stopListening:(s,a)=>{t.server_.unlisten(s,a)}})}function CU(t){const n=t.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function wg(t){return oU({timestamp:CU(t)})}function Gx(t,e,n,s,a){t.dataUpdateCount++;const l=new Oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(a)if(s){const f=_u(n,m=>ft(m));u=tU(t.serverSyncTree_,l,f,a)}else{const f=ft(n);u=VT(t.serverSyncTree_,l,f,a)}else if(s){const f=_u(n,m=>ft(m));u=Z3(t.serverSyncTree_,l,f)}else{const f=ft(n);u=bl(t.serverSyncTree_,l,f)}let d=l;u.length>0&&(d=sh(t,l)),jn(t.eventQueue_,d,u)}function Yx(t,e){Tg(t,"connected",e),e===!1&&DU(t)}function AU(t,e){jt(e,(n,s)=>{Tg(t,n,s)})}function Tg(t,e,n){const s=new Oe("/.info/"+e),a=ft(n);t.infoData_.updateSnapshot(s,a);const l=bl(t.infoSyncTree_,s,a);jn(t.eventQueue_,s,l)}function JT(t){return t.nextWriteId_++}function RU(t,e,n){const s=nU(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(a=>{const l=ft(a).withIndex(e._queryParams.getIndex());Um(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=bl(t.serverSyncTree_,e._path,l);else{const d=rl(t.serverSyncTree_,e);u=VT(t.serverSyncTree_,e._path,l,d)}return jn(t.eventQueue_,e._path,u),Mu(t.serverSyncTree_,e,n,null,!0),l},a=>(ih(t,"get for query "+rt(e)+" failed: "+a),Promise.reject(new Error(a))))}function NU(t,e,n,s,a){ih(t,"set",{path:e.toString(),value:n,priority:s});const l=wg(t),u=ft(n,s),d=fg(t.serverSyncTree_,e),f=FT(u,d,l),m=JT(t),g=jT(t.serverSyncTree_,e,f,m,!0);Sg(t.eventQueue_,g),t.server_.put(e.toString(),u.val(!0),(v,E)=>{const S=v==="ok";S||Ut("set at "+e+" failed: "+v);const C=zs(t.serverSyncTree_,m,!S);jn(t.eventQueue_,e,C),MU(t,a,v,E)});const y=s1(t,e);sh(t,y),jn(t.eventQueue_,y,[])}function DU(t){ih(t,"onDisconnectEvents");const e=wg(t),n=Cu();km(t.onDisconnect_,we(),(a,l)=>{const u=uU(a,l,t.serverSyncTree_,e);ET(n,a,u)});let s=[];km(n,we(),(a,l)=>{s=s.concat(bl(t.serverSyncTree_,a,l));const u=s1(t,a);sh(t,u)}),t.onDisconnect_=Cu(),jn(t.eventQueue_,we(),s)}function OU(t,e,n){let s;me(e._path)===".info"?s=Um(t.infoSyncTree_,e,n):s=Um(t.serverSyncTree_,e,n),QT(t.eventQueue_,e._path,s)}function kU(t,e,n){let s;me(e._path)===".info"?s=Mu(t.infoSyncTree_,e,n):s=Mu(t.serverSyncTree_,e,n),QT(t.eventQueue_,e._path,s)}function IU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(EU)}function ih(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),St(n,...e)}function MU(t,e,n,s){e&&ga(()=>{if(n==="ok")e(null);else{const a=(n||"error").toUpperCase();let l=a;s&&(l+=": "+s);const u=new Error(l);u.code=a,e(u)}})}function e1(t,e,n){return fg(t.serverSyncTree_,e,n)||le.EMPTY_NODE}function Cg(t,e=t.transactionQueueTree_){if(e||rh(t,e),ya(e)){const n=n1(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&LU(t,El(e),n)}else GT(e)&&nh(e,n=>{Cg(t,n)})}function LU(t,e,n){const s=n.map(m=>m.currentWriteId),a=e1(t,e,s);let l=a;const u=a.hash();for(let m=0;m<n.length;m++){const g=n[m];G(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Ot(e,g.path);l=l.updateChild(y,g.currentOutputSnapshotRaw)}const d=l.val(!0),f=e;t.server_.put(f.toString(),d,m=>{ih(t,"transaction put response",{path:f.toString(),status:m});let g=[];if(m==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(zs(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();rh(t,xg(t.transactionQueueTree_,e)),Cg(t,t.transactionQueueTree_),jn(t.eventQueue_,e,g);for(let v=0;v<y.length;v++)ga(y[v])}else{if(m==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{Ut("transaction at "+f.toString()+" failed: "+m);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=m}sh(t,e)}},u)}function sh(t,e){const n=t1(t,e),s=El(n),a=n1(t,n);return PU(t,a,s),s}function PU(t,e,n){if(e.length===0)return;const s=[];let a=[];const u=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],m=Ot(n,f.path);let g=!1,y;if(G(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,y=f.abortReason,a=a.concat(zs(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=SU)g=!0,y="maxretry",a=a.concat(zs(t.serverSyncTree_,f.currentWriteId,!0));else{const v=e1(t,f.path,u);f.currentInputSnapshot=v;const E=e[d].update(v.val());if(E!==void 0){Eg("transaction failed: Data returned ",E,f.path);let S=ft(E);typeof E=="object"&&E!=null&&yi(E,".priority")||(S=S.updatePriority(v.getPriority()));const R=f.currentWriteId,N=wg(t),L=FT(S,v,N);f.currentOutputSnapshotRaw=S,f.currentOutputSnapshotResolved=L,f.currentWriteId=JT(t),u.splice(u.indexOf(R),1),a=a.concat(jT(t.serverSyncTree_,f.path,L,f.currentWriteId,f.applyLocally)),a=a.concat(zs(t.serverSyncTree_,R,!0))}else g=!0,y="nodata",a=a.concat(zs(t.serverSyncTree_,f.currentWriteId,!0))}jn(t.eventQueue_,n,a),a=[],g&&(e[d].status=2,function(v){setTimeout(v,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(y==="nodata"?s.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):s.push(()=>e[d].onComplete(new Error(y),!1,null))))}rh(t,t.transactionQueueTree_);for(let d=0;d<s.length;d++)ga(s[d]);Cg(t,t.transactionQueueTree_)}function t1(t,e){let n,s=t.transactionQueueTree_;for(n=me(e);n!==null&&ya(s)===void 0;)s=xg(s,n),e=Me(e),n=me(e);return s}function n1(t,e){const n=[];return i1(t,e,n),n.sort((s,a)=>s.order-a.order),n}function i1(t,e,n){const s=ya(e);if(s)for(let a=0;a<s.length;a++)n.push(s[a]);nh(e,a=>{i1(t,a,n)})}function rh(t,e){const n=ya(e);if(n){let s=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[s]=n[a],s++);n.length=s,qT(e,n.length>0?n:void 0)}nh(e,s=>{rh(t,s)})}function s1(t,e){const n=El(t1(t,e)),s=xg(t.transactionQueueTree_,e);return dU(s,a=>{em(t,a)}),em(t,s),YT(s,a=>{em(t,a)}),n}function em(t,e){const n=ya(e);if(n){const s=[];let a=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(G(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(G(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),a=a.concat(zs(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&s.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?qT(e,void 0):n.length=l+1,jn(t.eventQueue_,El(e),a);for(let u=0;u<s.length;u++)ga(s[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let a=n[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function jU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ut(`Invalid query segment '${n}' in query '${t}'`)}return e}const Kx=function(t,e){const n=VU(t),s=n.namespace;n.domain==="firebase.com"&&fi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&fi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||QP();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new iT(n.host,n.secure,s,a,e,"",s!==n.subdomain),path:new Oe(n.pathString)}},VU=function(t){let e="",n="",s="",a="",l="",u=!0,d="https",f=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(d=t.substring(0,m-1),t=t.substring(m+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(a=UU(t.substring(g,y)));const v=jU(t.substring(Math.min(t.length,y)));m=e.indexOf(":"),m>=0?(u=d==="https"||d==="wss",f=parseInt(e.substring(m+1),10)):m=e.length;const E=e.slice(0,m);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const S=e.indexOf(".");s=e.substring(0,S).toLowerCase(),n=e.substring(S+1),l=s}"ns"in v&&(l=v.ns)}return{host:e,port:f,domain:n,subdomain:s,secure:u,scheme:d,pathString:a,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,n,s,a){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class zU{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,s,a){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=a}get key(){return ye(this._path)?null:dT(this._path)}get ref(){return new vi(this._repo,this._path)}get _queryIdentifier(){const e=kx(this._queryParams),n=Zp(e);return n==="{}"?"default":n}get _queryObject(){return kx(this._queryParams)}isEqual(e){if(e=Ze(e),!(e instanceof Ag))return!1;const n=this._repo===e._repo,s=ng(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return n&&s&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+M6(this._path)}}class vi extends Ag{constructor(e,n){super(e,n,new ag,!1)}get parent(){const e=mT(this._path);return e===null?null:new vi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class al{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Oe(e),s=Vm(this.ref,e);return new al(this._node.getChild(n),s,Ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,a)=>e(new al(a,Vm(this.ref,s),Ke)))}hasChild(e){const n=new Oe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function zo(t,e){return t=Ze(t),t._checkNotDeleted("ref"),e!==void 0?Vm(t._root,e):t._root}function Vm(t,e){return t=Ze(t),me(t._path)===null?vU("child","path",e):WT("child","path",e),new vi(t._repo,at(t._path,e))}function HU(t){return XT("remove",t._path),a1(t,null)}function a1(t,e){t=Ze(t),XT("set",t._path),yU("set",e,t._path);const n=new Ku;return NU(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function FU(t){t=Ze(t);const e=new r1(()=>{}),n=new ah(e);return RU(t._repo,t,n).then(s=>new al(s,new vi(t._repo,t._path),t._queryParams.getIndex()))}class ah{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new BU("value",this,new al(e.snapshotNode,new vi(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new zU(this,e,n):null}matches(e){return e instanceof ah?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function qU(t,e,n,s,a){const l=new r1(n,void 0),u=new ah(l);return OU(t._repo,t,u),()=>kU(t._repo,t,u)}function $x(t,e,n,s){return qU(t,"value",e)}q3(vi);W3(vi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU="FIREBASE_DATABASE_EMULATOR_HOST",Bm={};let YU=!1;function KU(t,e,n,s){const a=e.lastIndexOf(":"),l=e.substring(0,a),u=er(l);t.repoInfo_=new iT(e,u,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function $U(t,e,n,s,a){let l=s||t.options.databaseURL;l===void 0&&(t.options.projectId||fi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),St("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=Kx(l,a),d=u.repoInfo,f;typeof process<"u"&&mx&&(f=mx[GU]),f?(l=`http://${f}?ns=${d.namespace}`,u=Kx(l,a),d=u.repoInfo):u.repoInfo.secure;const m=new l6(t.name,t.options,e);_U("Invalid Firebase Database URL",u),ye(u.path)||fi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=XU(d,t,m,new o6(t,n));return new QU(g,t)}function WU(t,e){const n=Bm[e];(!n||n[t.key]!==t)&&fi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),IU(t),delete n[t.key]}function XU(t,e,n,s){let a=Bm[e.name];a||(a={},Bm[e.name]=a);let l=a[t.toURLString()];return l&&fi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new wU(t,YU,n,s),a[t.toURLString()]=l,l}class QU{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(TU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vi(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(WU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fi("Cannot call "+e+" on a deleted database.")}}function o1(t=Gp(),e){const n=Wu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=mw("database");s&&ZU(n,...s)}return n}function ZU(t,e,n,s={}){t=Ze(t),t._checkNotDeleted("useEmulator");const a=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(a===t._repoInternal.repoInfo_.host&&Gs(s,l.repoInfo_.emulatorOptions))return;fi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&fi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new tu(tu.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:yw(s.mockUserToken,t.app.options.projectId);u=new tu(d)}er(e)&&(jp(e),Vp("Database",!0)),KU(l,a,s,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t){GP(tr),Ys(new rs("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return $U(s,a,l,n)},"PUBLIC").setMultipleInstances(!0)),Ln(px,gx,t),Ln(px,gx,"esm2017")}ui.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ui.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};JU();const ej={apiKey:"AIzaSyAafDSvuHq7bb9F3-SdVpwM2NTNNtymT_o",authDomain:"nailsbydani-6082b.firebaseapp.com",databaseURL:"https://nailsbydani-6082b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nailsbydani-6082b",storageBucket:"nailsbydani-6082b.firebasestorage.app",messagingSenderId:"438345951991",appId:"1:438345951991:web:335b18a1bca6fa1a75c1f2",measurementId:"G-6R161TJXN6"};let tm,zm,Hm;try{tm=qp(ej),zm=zw(tm),Hm=o1(tm)}catch(t){console.error("Firebase initialization error:",t)}const tj=({design:t,index:e,imageURL:n,openLightbox:s,inView:a})=>{const[l,u]=T.useState(!1),[d,f]=T.useState(!1),m=()=>u(!0),g=()=>{f(!0),u(!0)};return b.jsx("div",{className:"group cursor-pointer relative overflow-hidden bg-white border border-gray-100 transition-all duration-300 break-inside-avoid mb-6","data-index":e,style:{animationName:a?"slideInUp":"none",animationDuration:"0.8s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",animationFillMode:"forwards",animationDelay:`${e*50}ms`,opacity:a?1:0,transform:a?"translateY(0)":"translateY(30px)"},children:b.jsxs("div",{className:"relative overflow-hidden h-full",children:[!l&&b.jsx("div",{className:"w-full h-72 bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:b.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-black rounded-full animate-spin"})}),n?b.jsx("img",{src:n,alt:t.title,className:`w-full h-full object-cover transition-all duration-500 group-hover:scale-110 ${l?"opacity-100":"opacity-0 absolute inset-0"}`,loading:"lazy",onLoad:m,onError:g,onClick:()=>s(t)}):b.jsx("div",{className:"w-full h-72 bg-gray-50 flex items-center justify-center",children:b.jsx("span",{className:"text-gray-400 text-sm",children:"Loading..."})}),d&&b.jsx("div",{className:"w-full h-72 bg-gray-50 flex items-center justify-center",children:b.jsxs("div",{className:"text-gray-400 text-center",children:[b.jsx("div",{className:"text-lg mb-1",children:""}),b.jsxs("div",{className:"text-xs",children:["Design #",t.id]})]})})]})})};function nj(){const[t,e]=T.useState(null),[n,s]=T.useState(20),[a,l]=T.useState({}),[u,d]=T.useState(!0),[f,m]=T.useState([]),[g,y]=T.useState(new Set),v=f.slice(0,n);T.useEffect(()=>{const N=new IntersectionObserver(k=>{k.forEach(H=>{if(H.isIntersecting){const U=parseInt(H.target.dataset.index);y($=>new Set([...$,U]))}})},{threshold:.1,rootMargin:"50px"});return document.querySelectorAll("[data-index]").forEach(k=>N.observe(k)),()=>N.disconnect()},[v]),T.useEffect(()=>{(async()=>{if(!Hm||!zm){d(!1);return}try{const k=(await FU(zo(Hm,"designs"))).val();if(!k){console.warn("No designs found in database."),d(!1);return}const U=Object.entries(k).map(([Z,Y])=>({id:Y.id||Z,title:Y.title||`Design ${Z}`,fileName:Y.fileName,archived:Y.archived||!1})).filter(Z=>Z.fileName);U.sort((Z,Y)=>Z.id-Y.id),m(U);const $=U.map(async Z=>{try{const Y=xu(zm,`Designs/${Z.fileName}`),q=await Bw(Y);l(Q=>({...Q,[Z.id]:q}))}catch(Y){console.warn(`Failed to get image for design ${Z.id}:`,Y)}});await Promise.all($),d(!1)}catch(L){console.error("Error fetching designs from Realtime Database:",L),d(!1)}})()},[]);const E=(N,L)=>{L&&L.stopPropagation(),e(N)},S=()=>e(null),C=N=>{const L=f.findIndex(H=>H.id===t.id);let k;N==="next"?k=(L+1)%f.length:k=L-1<0?f.length-1:L-1,e(f[k])},R=()=>s(N=>N+20);return b.jsxs("div",{className:"min-h-screen bg-white pt-[60px]",children:[b.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-b from-gray-50 to-white",children:[b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-100 via-white to-white"}),b.jsx("div",{className:"relative text-center mt-20",children:b.jsx("div",{className:"max-w-4xl mx-auto px-6",children:b.jsx("h2",{className:"text-4xl md:text-5xl font-extralight text-stone-900 mb-3",children:"Portfolio Designs"})})})]}),b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[u?b.jsx("div",{className:"columns-2 sm:columns-3 lg:columns-4 xl:columns-5 gap-6",children:Array.from({length:20}).map((N,L)=>b.jsx("div",{className:"break-inside-avoid mb-6",children:b.jsx("div",{className:"bg-white border border-gray-100 overflow-hidden",children:b.jsx("div",{className:"w-full h-72 bg-gradient-to-br from-gray-100 to-gray-200 animate-pulse"})})},L))}):b.jsx("div",{className:"columns-2 sm:columns-3 lg:columns-4 xl:columns-5 gap-6",children:v.map((N,L)=>b.jsx(tj,{design:N,index:L,imageURL:a[N.id],openLightbox:E,inView:g.has(L)},N.id))}),!u&&n<f.length&&b.jsx("div",{className:"text-center mt-16",children:b.jsxs("button",{onClick:R,className:"group relative px-12 py-4 border-2 border-black text-black hover:text-white transition-all duration-500 text-sm uppercase tracking-widest font-medium overflow-hidden",children:[b.jsx("span",{className:"absolute inset-0 bg-black transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500"}),b.jsxs("span",{className:"relative z-10",children:["Load More (",f.length-n," remaining)"]})]})})]}),t&&b.jsxs("div",{onClick:S,className:"fixed inset-0 bg-white/70 backdrop-blur-sm z-50 flex items-center justify-center",children:[b.jsx("button",{onClick:S,className:"absolute top-8 right-8 w-12 h-12 rounded-full bg-gray-100 hover:bg-black hover:text-white transition-all duration-300 flex items-center justify-center z-20",children:b.jsx(Lp,{size:20})}),b.jsx("button",{onClick:()=>C("prev"),className:"absolute left-8 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-gray-100/25 hover:bg-black/25 hover:text-white transition-all duration-300 flex items-center justify-center z-20",children:b.jsx(SI,{size:20})}),b.jsx("button",{onClick:()=>C("next"),className:"absolute right-8 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-gray-100/25 hover:bg-black/25 hover:text-white transition-all duration-300 flex items-center justify-center z-20",children:b.jsx(Ps,{size:20})}),b.jsxs("div",{className:"mx-auto px-20 text-center",children:[b.jsx("img",{src:a[t.id],alt:t.title,className:"w-full h-auto max-h-[50vh] object-contain mb-8 shadow-2xl"}),b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{className:"text-xs uppercase tracking-widest text-black",children:["Design Collection  ",new Date().getFullYear()]})})]})]}),b.jsx("style",{jsx:!0,children:`
        @keyframes slideInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})}function ij(){const[t,e]=T.useState(null),n=s=>{e(a=>a===s?null:s)};return b.jsx("div",{children:b.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-16","data-aos":"fade-up",children:[b.jsx("h2",{className:"text-3xl font-bodoni-moda text-center text-gray-900 mb-12",children:"Frequently Asked Questions"}),b.jsx("div",{className:"space-y-4",children:lw.map((s,a)=>{const l=t===a;return b.jsxs("div",{className:"w-full bg-white border border-gray-200 overflow-hidden transition-all duration-200 ease-in-out",children:[b.jsxs("button",{onClick:()=>n(a),className:"w-full flex justify-between items-center p-8 transition-colors duration-200",children:[b.jsx("span",{className:"font-bodoni-moda text-xl text-gray-900 text-left",children:s.question}),b.jsx(ow,{size:24,className:`text-black transition-transform duration-200 ease-in-out flex-shrink-0 ml-4 ${l?"rotate-45":""}`})]}),b.jsx("div",{className:`transition-all duration-300 ease-in-out ${l?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"}`,style:{maxHeight:l?"fit-content":"0px",overflow:l?"visible":"hidden"},children:b.jsx("div",{className:"px-8 pb-8",children:b.jsx("p",{className:"text-gray-600/70 font-montserrat leading-relaxed text-sm",children:s.answer})})})]},a)})})]})})}function Rg(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function l1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sj=l1,c1=new gl("auth","Firebase",l1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new Hp("@firebase/auth");function rj(t,...e){Lu.logLevel<=Ne.WARN&&Lu.warn(`Auth (${tr}): ${t}`,...e)}function nu(t,...e){Lu.logLevel<=Ne.ERROR&&Lu.error(`Auth (${tr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,...e){throw Ng(t,...e)}function Pn(t,...e){return Ng(t,...e)}function u1(t,e,n){const s=Object.assign(Object.assign({},sj()),{[e]:n});return new gl("auth","Firebase",s).create(e,{appName:t.name})}function ts(t){return u1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ng(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return c1.create(t,...e)}function oe(t,e,...n){if(!t)throw Ng(e,...n)}function ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nu(e),new Error(e)}function mi(t,e){t||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aj(){return Wx()==="http:"||Wx()==="https:"}function Wx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aj()||oM()||"connection"in navigator)?navigator.onLine:!0}function lj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=Bp()||vw()}get(){return oj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t,e){mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hj=new Sl(3e4,6e4);function us(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _i(t,e,n,s,a={}){return d1(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const d=ma(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},l);return aM()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&er(t.emulatorConfig.host)&&(m.credentials="include"),h1.fetch()(await f1(t,t.config.apiHost,n,d),m)})}async function d1(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},cj),e);try{const a=new fj(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Wc(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Wc(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw Wc(t,"user-disabled",u);const g=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw u1(t,g,m);wn(t,g)}}catch(a){if(a instanceof gi)throw a;wn(t,"network-request-failed",{message:String(a)})}}async function oh(t,e,n,s,a={}){const l=await _i(t,e,n,s,a);return"mfaPendingCredential"in l&&wn(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function f1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?Dg(t.config,a):`${t.config.apiScheme}://${a}`;return uj.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function dj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pn(this.auth,"network-request-failed")),hj.get())})}}function Wc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Pn(t,e,s);return a.customData._tokenResponse=n,a}function Xx(t){return t!==void 0&&t.enterprise!==void 0}class mj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pj(t,e){return _i(t,"GET","/v2/recaptchaConfig",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t,e){return _i(t,"POST","/v1/accounts:delete",e)}async function Pu(t,e){return _i(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yj(t,e=!1){const n=Ze(t),s=await n.getIdToken(e),a=Og(s);oe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Ho(nm(a.auth_time)),issuedAtTime:Ho(nm(a.iat)),expirationTime:Ho(nm(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function nm(t){return Number(t)*1e3}function Og(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return nu("JWT malformed, contained fewer than 3 sections"),null;try{const a=vu(n);return a?JSON.parse(a):(nu("Failed to decode base64 JWT payload"),null)}catch(a){return nu("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Qx(t){const e=Og(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gi&&vj(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function vj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ho(this.lastLoginAt),this.creationTime=Ho(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t){var e;const n=t.auth,s=await t.getIdToken(),a=await ol(t,Pu(n,{idToken:s}));oe(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?m1(l.providerUserInfo):[],d=xj(t.providerData,u),f=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),g=f?m:!1,y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new qm(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function bj(t){const e=Ze(t);await Uu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xj(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function m1(t){return t.map(e=>{var{providerId:n}=e,s=Rg(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(t,e){const n=await d1(t,{},async()=>{const s=ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await f1(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",h1.fetch()(u,{method:"POST",headers:d,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Sj(t,e){return _i(t,"POST","/v2/accounts:revokeToken",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=Qx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await Ej(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Jr;return s&&(oe(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(oe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(oe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jr,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xn{constructor(e){var{uid:n,auth:s,stsTokenManager:a}=e,l=Rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _j(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new qm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await ol(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yj(this,e)}reload(){return bj(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Uu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(ts(this.auth));const e=await this.getIdToken();return await ol(this,gj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,a,l,u,d,f,m,g;const y=(s=n.displayName)!==null&&s!==void 0?s:void 0,v=(a=n.email)!==null&&a!==void 0?a:void 0,E=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,C=(d=n.tenantId)!==null&&d!==void 0?d:void 0,R=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,N=(m=n.createdAt)!==null&&m!==void 0?m:void 0,L=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:k,emailVerified:H,isAnonymous:U,providerData:$,stsTokenManager:Z}=n;oe(k&&Z,e,"internal-error");const Y=Jr.fromJSON(this.name,Z);oe(typeof k=="string",e,"internal-error"),qi(y,e.name),qi(v,e.name),oe(typeof H=="boolean",e,"internal-error"),oe(typeof U=="boolean",e,"internal-error"),qi(E,e.name),qi(S,e.name),qi(C,e.name),qi(R,e.name),qi(N,e.name),qi(L,e.name);const q=new xn({uid:k,auth:e,email:v,emailVerified:H,displayName:y,isAnonymous:U,photoURL:S,phoneNumber:E,tenantId:C,stsTokenManager:Y,createdAt:N,lastLoginAt:L});return $&&Array.isArray($)&&(q.providerData=$.map(Q=>Object.assign({},Q))),R&&(q._redirectEventId=R),q}static async _fromIdTokenResponse(e,n,s=!1){const a=new Jr;a.updateFromServerResponse(n);const l=new xn({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Uu(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];oe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?m1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Jr;d.updateFromIdToken(s);const f=new xn({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new qm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new Map;function ai(t){mi(t instanceof Function,"Expected a class definition");let e=Zx.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}p1.type="NONE";const Gm=p1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(t,e,n){return`firebase:${t}:${e}:${n}`}class ea{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=iu(this.userKey,a.apiKey,l),this.fullPersistenceKey=iu("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Pu(this.auth,{idToken:e}).catch(()=>{});return n?xn._fromGetAccountInfoResponse(this.auth,n,e):null}return xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ea(ai(Gm),e,s);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||ai(Gm);const u=iu(s,e.config.apiKey,e.name);let d=null;for(const m of n)try{const g=await m._get(u);if(g){let y;if(typeof g=="string"){const v=await Pu(e,{idToken:g}).catch(()=>{});if(!v)break;y=await xn._fromGetAccountInfoResponse(e,v,g)}else y=xn._fromJSON(e,g);m!==l&&(d=y),l=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new ea(l,e,s):(l=f[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new ea(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(x1(e))return"Blackberry";if(E1(e))return"Webos";if(y1(e))return"Safari";if((e.includes("chrome/")||v1(e))&&!e.includes("edge/"))return"Chrome";if(b1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function g1(t=kt()){return/firefox\//i.test(t)}function y1(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v1(t=kt()){return/crios\//i.test(t)}function _1(t=kt()){return/iemobile/i.test(t)}function b1(t=kt()){return/android/i.test(t)}function x1(t=kt()){return/blackberry/i.test(t)}function E1(t=kt()){return/webos/i.test(t)}function kg(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wj(t=kt()){var e;return kg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Tj(){return lM()&&document.documentMode===10}function S1(t=kt()){return kg(t)||b1(t)||E1(t)||x1(t)||/windows phone/i.test(t)||_1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t,e=[]){let n;switch(t){case"Browser":n=Jx(kt());break;case"Worker":n=`${Jx(kt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,d)=>{try{const f=e(l);u(f)}catch(f){d(f)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(t,e={}){return _i(t,"GET","/v2/passwordPolicy",us(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=6;class Nj{constructor(e){var n,s,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:Rj,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,a,l,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(s=f.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eE(this),this.idTokenSubscription=new eE(this),this.beforeStateQueue=new Cj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pu(this,{idToken:e}),s=await xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(dn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(a=f.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(ts(this));const n=e?Ze(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Aj(this),n=new Nj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Sj(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ai(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,s,a);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ir(t){return Ze(t)}class eE{constructor(e){this.auth=e,this.observer=null,this.addObserver=vM(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Oj(t){lh=t}function T1(t){return lh.loadJS(t)}function kj(){return lh.recaptchaEnterpriseScript}function Ij(){return lh.gapiScript}function Mj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Lj{constructor(){this.enterprise=new Pj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Pj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Uj="recaptcha-enterprise",C1="NO_RECAPTCHA";class jj{constructor(e){this.type=Uj,this.auth=ir(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{pj(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new mj(f);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function a(l,u,d){const f=window.grecaptcha;Xx(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(C1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Lj().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(d=>{if(!n&&Xx(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=kj();f.length!==0&&(f+=d),T1(f).then(()=>{a(d,l,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function tE(t,e,n,s=!1,a=!1){const l=new jj(t);let u;if(a)u=C1;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ym(t,e,n,s,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await tE(t,e,n,n==="getOobCode");return s(t,u)}else return s(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await tE(t,e,n,n==="getOobCode");return s(t,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t,e){const n=Wu(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Gs(l,e??{}))return a;wn(a,"already-initialized")}return n.initialize({options:e})}function Bj(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function zj(t,e,n){const s=ir(t);oe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=A1(e),{host:u,port:d}=Hj(e),f=d===null?"":`:${d}`,m={url:`${l}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){oe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),oe(Gs(m,s.config.emulator)&&Gs(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,er(u)?(jp(`${l}//${u}${f}`),Vp("Auth",!0)):Fj()}function A1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hj(t){const e=A1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:nE(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:nE(u)}}}function nE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Fj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,n){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function qj(t,e){return _i(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t,e){return oh(t,"POST","/v1/accounts:signInWithPassword",us(t,e))}async function Yj(t,e){return _i(t,"POST","/v1/accounts:sendOobCode",us(t,e))}async function Kj(t,e){return Yj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(t,e){return oh(t,"POST","/v1/accounts:signInWithEmailLink",us(t,e))}async function Wj(t,e){return oh(t,"POST","/v1/accounts:signInWithEmailLink",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Ig{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new ll(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ll(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,n,"signInWithPassword",Gj);case"emailLink":return $j(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,s,"signUpPassword",qj);case"emailLink":return Wj(e,{idToken:n,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t,e){return oh(t,"POST","/v1/accounts:signInWithIdp",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="http://localhost";class Qs extends Ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=n,l=Rg(n,["providerId","signInMethod"]);if(!s||!a)return null;const u=new Qs(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ta(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ta(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ta(e,n)}buildRequest(){const e={requestUri:Xj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ma(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zj(t){const e=No(Do(t)).link,n=e?No(Do(e)).deep_link_id:null,s=No(Do(t)).deep_link_id;return(s?No(Do(s)).link:null)||s||n||e||t}class Mg{constructor(e){var n,s,a,l,u,d;const f=No(Do(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(s=f.oobCode)!==null&&s!==void 0?s:null,y=Qj((a=f.mode)!==null&&a!==void 0?a:null);oe(m&&g&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=g,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=Zj(e);try{return new Mg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.providerId=va.PROVIDER_ID}static credential(e,n){return ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Mg.parseLink(n);return oe(s,"argument-error"),ll._fromEmailAndCode(e,s.code,s.tenantId)}}va.PROVIDER_ID="password";va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends R1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends wl{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return $i.credential(n,s)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends wl{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends wl{constructor(){super("twitter.com")}static credential(e,n){return Qs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Xi.credential(n,s)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await xn._fromIdTokenResponse(e,s,a),u=iE(s);return new ca({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=iE(s);return new ca({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function iE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends gi{constructor(e,n,s,a){var l;super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,ju.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new ju(e,n,s,a)}}function N1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ju._fromErrorAndOperation(t,l,e,s):l})}async function Jj(t,e,n=!1){const s=await ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ca._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(t,e,n=!1){const{auth:s}=t;if(dn(s.app))return Promise.reject(ts(s));const a="reauthenticate";try{const l=await ol(t,N1(s,a,e,t),n);oe(l.idToken,s,"internal-error");const u=Og(l.idToken);oe(u,s,"internal-error");const{sub:d}=u;return oe(t.uid===d,s,"user-mismatch"),ca._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&wn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(t,e,n=!1){if(dn(t.app))return Promise.reject(ts(t));const s="signIn",a=await N1(t,s,e),l=await ca._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function t4(t,e){return D1(ir(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t){const e=ir(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function i4(t,e,n){const s=ir(t);await Ym(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Kj)}function s4(t,e,n){return dn(t.app)?Promise.reject(ts(t)):t4(Ze(t),va.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&n4(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t,e){return Ze(t).setPersistence(e)}function a4(t,e,n,s){return Ze(t).onIdTokenChanged(e,n,s)}function o4(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function l4(t,e,n,s){return Ze(t).onAuthStateChanged(e,n,s)}function sE(t){return Ze(t).signOut()}const Vu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vu,"1"),this.storage.removeItem(Vu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=1e3,u4=10;class k1 extends O1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);Tj()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,u4):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},c4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}k1.type="LOCAL";const h4=k1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1 extends O1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}I1.type="SESSION";const M1=I1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new ch(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(u).map(async m=>m(n.origin,l)),f=await d4(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,f)=>{const m=Lg("",20);a.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(y){const v=y;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(v.data.response);break;default:clearTimeout(g),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function m4(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function p4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function y4(){return L1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="firebaseLocalStorageDb",v4=1,Bu="firebaseLocalStorage",U1="fbase_key";class Tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uh(t,e){return t.transaction([Bu],e?"readwrite":"readonly").objectStore(Bu)}function _4(){const t=indexedDB.deleteDatabase(P1);return new Tl(t).toPromise()}function Km(){const t=indexedDB.open(P1,v4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Bu,{keyPath:U1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Bu)?e(s):(s.close(),await _4(),e(await Km()))})})}async function rE(t,e,n){const s=uh(t,!0).put({[U1]:e,value:n});return new Tl(s).toPromise()}async function b4(t,e){const n=uh(t,!1).get(e),s=await new Tl(n).toPromise();return s===void 0?null:s.value}function aE(t,e){const n=uh(t,!0).delete(e);return new Tl(n).toPromise()}const x4=800,E4=3;class j1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>E4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(y4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await p4(),!this.activeServiceWorker)return;this.sender=new f4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await rE(e,Vu,"1"),await aE(e,Vu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>rE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>b4(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=uh(a,!1).getAll();return new Tl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j1.type="LOCAL";const S4=j1;new Sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t,e){return e?ai(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends Ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function T4(t){return D1(t.auth,new Pg(t),t.bypassAuthState)}function C4(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),e4(n,new Pg(t),t.bypassAuthState)}async function A4(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),Jj(n,new Pg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T4;case"linkViaPopup":case"linkViaRedirect":return A4;case"reauthViaPopup":case"reauthViaRedirect":return C4;default:wn(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new Sl(2e3,1e4);class Xr extends V1{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Xr.currentPopupAction&&Xr.currentPopupAction.cancel(),Xr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=Lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,R4.get())};e()}}Xr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="pendingRedirect",su=new Map;class D4 extends V1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=su.get(this.auth._key());if(!e){try{const s=await O4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}su.set(this.auth._key(),e)}return this.bypassAuthState||su.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O4(t,e){const n=M4(e),s=I4(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function k4(t,e){su.set(t._key(),e)}function I4(t){return ai(t._redirectPersistence)}function M4(t){return iu(N4,t.config.apiKey,t.name)}async function L4(t,e,n=!1){if(dn(t.app))return Promise.reject(ts(t));const s=ir(t),a=w4(s,e),u=await new D4(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=10*60*1e3;class U4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!B1(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=P4&&this.cachedEventUids.clear(),this.cachedEventUids.has(oE(e))}saveEventToCache(e){this.cachedEventUids.add(oE(e)),this.lastProcessedEventTime=Date.now()}}function oE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function B1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(t,e={}){return _i(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z4=/^https?/;async function H4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await V4(t);for(const n of e)try{if(F4(n))return}catch{}wn(t,"unauthorized-domain")}function F4(t){const e=Fm(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!z4.test(n))return!1;if(B4.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=new Sl(3e4,6e4);function lE(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function G4(t){return new Promise((e,n)=>{var s,a,l;function u(){lE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lE(),n(Pn(t,"network-request-failed"))},timeout:q4.get()})}if(!((a=(s=Un().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Un().gapi)===null||l===void 0)&&l.load)u();else{const d=Mj("iframefcb");return Un()[d]=()=>{gapi.load?u():n(Pn(t,"network-request-failed"))},T1(`${Ij()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw ru=null,e})}let ru=null;function Y4(t){return ru=ru||G4(t),ru}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=new Sl(5e3,15e3),$4="__/auth/iframe",W4="emulator/auth/iframe",X4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z4(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dg(e,W4):`https://${t.config.authDomain}/${$4}`,s={apiKey:e.apiKey,appName:t.name,v:tr},a=Q4.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${ma(s).slice(1)}`}async function J4(t){const e=await Y4(t),n=Un().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:Z4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X4,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Pn(t,"network-request-failed"),d=Un().setTimeout(()=>{l(u)},K4.get());function f(){Un().clearTimeout(d),a(s)}s.ping(f).then(f,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t5=500,n5=600,i5="_blank",s5="http://localhost";class cE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r5(t,e,n,s=t5,a=n5){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const f=Object.assign(Object.assign({},e5),{width:s.toString(),height:a.toString(),top:l,left:u}),m=kt().toLowerCase();n&&(d=v1(m)?i5:n),g1(m)&&(e=e||s5,f.scrollbars="yes");const g=Object.entries(f).reduce((v,[E,S])=>`${v}${E}=${S},`,"");if(wj(m)&&d!=="_self")return a5(e||"",d),new cE(null);const y=window.open(e||"",d,g);oe(y,t,"popup-blocked");try{y.focus()}catch{}return new cE(y)}function a5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="__/auth/handler",l5="emulator/auth/handler",c5=encodeURIComponent("fac");async function uE(t,e,n,s,a,l){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:tr,eventId:a};if(e instanceof R1){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Em(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(e instanceof wl){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await t._getAppCheckToken(),m=f?`#${c5}=${encodeURIComponent(f)}`:"";return`${u5(t)}?${ma(d).slice(1)}${m}`}function u5({config:t}){return t.emulator?Dg(t,l5):`https://${t.authDomain}/${o5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="webStorageSupport";class h5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M1,this._completeRedirectFn=L4,this._overrideRedirectResult=k4}async _openPopup(e,n,s,a){var l;mi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await uE(e,n,s,Fm(),a);return r5(e,u,Lg())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await uE(e,n,s,Fm(),a);return m4(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(mi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await J4(e),s=new U4(e);return n.register("authEvent",a=>(oe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(im,{type:im},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[im];u!==void 0&&n(!!u),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=H4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return S1()||y1()||kg()}}const d5=h5;var hE="@firebase/auth",dE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p5(t){Ys(new rs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;oe(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w1(t)},m=new Dj(s,a,l,f);return Bj(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ys(new rs("auth-internal",e=>{const n=ir(e.getProvider("auth").getImmediate());return(s=>new f5(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(hE,dE,m5(t)),Ln(hE,dE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=5*60,y5=gw("authIdTokenMaxAge")||g5;let fE=null;const v5=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>y5)return;const a=n==null?void 0:n.token;fE!==a&&(fE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function _5(t=Gp()){const e=Wu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Vj(t,{popupRedirectResolver:d5,persistence:[S4,h4,M1]}),s=gw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=v5(l.toString());o4(n,u,()=>u(n.currentUser)),a4(n,d=>u(d))}}const a=fw("auth");return a&&zj(n,`http://${a}`),n}function b5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Oj({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Pn("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",b5().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p5("Browser");const x5={apiKey:"AIzaSyAafDSvuHq7bb9F3-SdVpwM2NTNNtymT_o",authDomain:"nailsbydani-6082b.firebaseapp.com",databaseURL:"https://nailsbydani-6082b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nailsbydani-6082b",storageBucket:"nailsbydani-6082b.firebasestorage.app",messagingSenderId:"438345951991",appId:"1:438345951991:web:335b18a1bca6fa1a75c1f2",measurementId:"G-6R161TJXN6"},Ug=qp(x5),Hr=_5(Ug),au=o1(Ug),$m=zw(Ug),E5=({onBack:t})=>{const[e,n]=T.useState(""),[s,a]=T.useState(!1),[l,u]=T.useState(""),[d,f]=T.useState(""),m=async g=>{g.preventDefault(),a(!0),f(""),u("");try{await i4(Hr,e),u("Password reset email sent! Check your inbox and spam folder.")}catch(y){switch(console.error("Password reset error:",y),y.code){case"auth/user-not-found":f("No account found with this email address.");break;case"auth/invalid-email":f("Please enter a valid email address.");break;case"auth/too-many-requests":f("Too many reset requests. Please try again later.");break;default:f("Failed to send reset email. Please try again.")}}finally{a(!1)}};return b.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:b.jsx("div",{className:"w-full max-w-md",children:b.jsxs("div",{className:"bg-white border border-gray-100 p-8 shadow-sm",children:[b.jsxs("button",{onClick:t,className:"flex items-center text-gray-400 hover:text-gray-600 transition-colors mb-8",children:[b.jsx(bI,{size:16,className:"mr-2"}),b.jsx("span",{className:"text-sm",children:"Back"})]}),b.jsxs("div",{className:"mb-8",children:[b.jsx("h1",{className:"text-2xl font-light text-gray-900 mb-2",children:"Reset Password"}),b.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Enter your email address and we'll send you a link to reset your password."})]}),b.jsxs("form",{onSubmit:m,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Email Address"}),b.jsx("input",{type:"email",value:e,onChange:g=>n(g.target.value),placeholder:"Enter your email",className:"w-full px-4 py-3 border border-gray-200 focus:outline-none focus:border-gray-900 transition-colors text-sm",required:!0,disabled:s,autoComplete:"username"})]}),d&&b.jsx("div",{className:"p-4 bg-red-50 border border-red-100 text-red-600 text-sm",children:d}),l&&b.jsx("div",{className:"p-4 bg-green-50 border border-green-100 text-green-600 text-sm",children:l}),b.jsx("button",{type:"submit",className:"w-full bg-gray-900 text-white py-3 px-4 hover:bg-black transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",disabled:s,children:s?b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx(Fs,{size:16,className:"animate-spin mr-2"}),"Sending..."]}):"Send Reset Email"})]}),l&&b.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100",children:b.jsx("button",{onClick:t,className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Return to sign in"})})]})})})},S5=({children:t})=>{const[e,n]=T.useState(""),[s,a]=T.useState(""),[l,u]=T.useState(""),[d,f]=T.useState(!1),[m,g]=T.useState(!0),[y,v]=T.useState(!1);T.useEffect(()=>{sE(Hr).catch(U=>{console.error("Error signing out on mount:",U)})},[]);const E=T.useRef(null);T.useEffect(()=>{const U=l4(Hr,$=>{f(!!$),g(!1)});return()=>U()},[]),T.useEffect(()=>{if(!d){R(),k();return}return C(),L(),()=>{R(),k()}},[d]);const S=5*60*1e3,C=()=>{R(),E.current=window.setTimeout(()=>{sE(Hr).catch(U=>{console.error("Auto-logout error:",U)})},S)},R=()=>{E.current!==null&&(clearTimeout(E.current),E.current=null)},N=["mousemove","mousedown","keydown","touchstart","scroll"],L=()=>{N.forEach(U=>{window.addEventListener(U,C)})},k=()=>{N.forEach(U=>{window.removeEventListener(U,C)})},H=async U=>{U.preventDefault(),u("");try{await r4(Hr,Gm),await s4(Hr,e,s)}catch($){console.error("Firebase signIn error:",$),u("Invalid email or password")}};return m?b.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx(Fs,{className:"h-6 w-6 animate-spin mx-auto mb-4 text-gray-400"}),b.jsx("p",{className:"text-gray-500 text-sm",children:"Loading..."})]})}):d?b.jsx(b.Fragment,{children:t}):y?b.jsx(E5,{onBack:()=>v(!1)}):b.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:b.jsx("div",{className:"w-full max-w-md",children:b.jsxs("div",{className:"bg-white border border-gray-100 p-8 shadow-sm",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("h1",{className:"text-2xl font-light text-gray-900 mb-2",children:"Admin Access"}),b.jsx("p",{className:"text-gray-500 text-sm",children:"Sign in to manage your designs"})]}),b.jsxs("form",{onSubmit:H,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Email Address"}),b.jsx("input",{type:"email",value:e,onChange:U=>n(U.target.value),placeholder:"Enter your email",className:"w-full px-4 py-3 border border-gray-200 focus:outline-none focus:border-gray-900 transition-colors text-sm",required:!0,autoComplete:"username"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Password"}),b.jsx("input",{type:"password",value:s,onChange:U=>a(U.target.value),placeholder:"Enter your password",className:"w-full px-4 py-3 border border-gray-200 focus:outline-none focus:border-gray-900 transition-colors text-sm",required:!0,autoComplete:"current-password"})]}),l&&b.jsx("div",{className:"p-4 bg-red-50 border border-red-100 text-red-600 text-sm",children:l}),b.jsx("button",{type:"submit",className:"w-full bg-gray-900 text-white py-3 px-4 hover:bg-black transition-colors duration-200 text-sm font-medium",children:"Sign In"})]}),b.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100",children:b.jsx("button",{onClick:()=>v(!0),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Forgot your password?"})})]})})})},w5=({onUploadSuccess:t,showModal:e,setShowModal:n})=>{const[s,a]=T.useState(!1),[l,u]=T.useState(null),[d,f]=T.useState(""),[m,g]=T.useState(null);T.useEffect(()=>{e||(u(null),f(""),m&&(URL.revokeObjectURL(m),g(null)))},[e,m]);const y=C=>{const R=C.target.files[0];if(R){u(R);const N=URL.createObjectURL(R);if(g(N),!d){const L=R.name.split(".")[0];f(L)}}},v=()=>Date.now().toString(),E=async C=>{if(C.preventDefault(),!l){alert("Please select a file");return}a(!0);try{const R=v(),N=`${R}.jpg`,L=xu($m,`Designs/${N}`);await BP(L,l);const k={id:R,name:d.trim()||l.name.split(".")[0],fileName:N,createdAt:Date.now(),archived:!1},H=zo(au,`designs/${R}`);await a1(H,k),u(null),f(""),g(null),n(!1),t(R)}catch(R){console.error("Upload failed:",R),alert("Upload failed. Please try again.")}finally{a(!1)}},S=()=>{u(null),f(""),g(null),n(!1),m&&URL.revokeObjectURL(m)};return e?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-6",children:b.jsxs("div",{className:"bg-white w-full max-w-lg shadow-xl",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[b.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Upload New Design"}),b.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600 transition-colors",children:b.jsx(Lp,{size:20})})]}),b.jsxs("form",{onSubmit:E,className:"p-6",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Design Name (Optional)"}),b.jsx("input",{type:"text",value:d,onChange:C=>f(C.target.value),placeholder:"Enter design name",className:"w-full px-4 py-3 border border-gray-200 focus:outline-none focus:border-gray-900 transition-colors text-sm",disabled:s}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to use filename"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Image File"}),b.jsxs("div",{className:"border-2 border-dashed border-gray-200 p-6 text-center hover:border-gray-300 transition-colors",children:[b.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:y,className:"hidden",id:"file-upload",required:!0,disabled:s}),b.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center",children:[b.jsx(pu,{className:"h-8 w-8 text-gray-400 mb-2"}),b.jsx("span",{className:"text-sm text-gray-600",children:l?l.name:"Choose file or drag here"}),b.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"JPG, JPEG, PNG up to 10MB"})]})]})]}),m&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Preview"}),b.jsx("div",{className:"border border-gray-200 overflow-hidden",children:b.jsx("img",{src:m,alt:"Upload preview",className:"w-full h-48 object-cover"})})]})]}),b.jsxs("div",{className:"flex space-x-3 mt-8 pt-6 border-t border-gray-100",children:[b.jsx("button",{type:"button",onClick:S,className:"flex-1 px-4 py-3 text-gray-700 border border-gray-200 hover:bg-gray-50 transition-colors text-sm font-medium",disabled:s,children:"Cancel"}),b.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gray-900 text-white hover:bg-black disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",disabled:s||!l,children:s?b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx(Fs,{size:16,className:"animate-spin mr-2"}),"Uploading..."]}):b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx(FI,{size:16,className:"mr-2"}),"Upload Design"]})})]})]})]})}):null},T5=({design:t,imageURL:e,likesCount:n,onDelete:s,onArchive:a})=>{const[l,u]=T.useState(!1),[d,f]=T.useState(!1),[m,g]=T.useState(!1),[y,v]=T.useState(!1),E=async()=>{f(!0);try{await s(t.id),u(!1)}catch(C){console.error("Delete failed:",C)}finally{f(!1)}},S=async()=>{g(!0);try{await a(t.id,!t.archived),u(!1)}catch(C){console.error("Archive failed:",C)}finally{g(!1)}};return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:`group cursor-pointer transition-all duration-200 hover:scale-105 ${t.archived?"opacity-60":""}`,onClick:()=>u(!0),children:b.jsxs("div",{className:"w-full pb-[100%] bg-gray-100 relative overflow-hidden rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200",children:[e?b.jsx("img",{src:e,alt:t.name||`Design ${t.id}`,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-300 ${y?"opacity-100":"opacity-0"}`,onLoad:()=>v(!0)}):b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsx(pu,{className:"h-8 w-8 text-gray-300"})}),!y&&e&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsx(Fs,{className:"h-6 w-6 animate-spin text-gray-400"})}),t.archived&&b.jsxs("div",{className:"absolute top-3 right-3 bg-black bg-opacity-60 text-white px-2 py-1 rounded text-xs font-medium",children:[b.jsx(Qb,{size:12,className:"inline mr-1"}),"Archived"]}),b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-200 rounded-xl"})]})}),l&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 md:p-6",style:{WebkitOverflowScrolling:"touch"},children:b.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[95vh] md:max-h-[90vh] overflow-hidden rounded-lg shadow-2xl flex flex-col md:flex-row",children:[b.jsxs("div",{className:"flex-1 bg-white relative min-h-[40vh] md:min-h-0 flex items-center justify-center p-4 md:p-6",children:[b.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 z-10 p-2 bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full transition-all duration-150 shadow-sm",children:b.jsx(Lp,{size:16,className:"text-gray-600"})}),e?b.jsx("img",{src:e,alt:t.name||`Design ${t.id}`,className:"w-40 mx-auto sm:w-1/5 object-contain"}):b.jsx("div",{className:"w-full h-full flex items-center justify-center",children:b.jsx(pu,{className:"h-16 w-16 text-gray-300"})})]}),b.jsx("div",{className:"w-full md:w-80 bg-white flex flex-col max-h-[55vh] md:max-h-full",children:b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 touch-auto",style:{WebkitOverflowScrolling:"touch"},children:[b.jsxs("div",{className:"mb-6 md:mb-8",children:[b.jsx("h2",{className:"text-xl md:text-2xl font-light text-gray-900 mb-2",children:t.name||`Design ${t.id}`}),b.jsxs("div",{className:"flex items-center text-gray-500",children:[b.jsx(CI,{className:"h-4 w-4 mr-2"}),b.jsxs("span",{className:"text-base md:text-lg font-light",children:[(n||0).toLocaleString()," likes"]})]})]}),b.jsxs("div",{className:"space-y-4 md:space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Design Name"}),b.jsx("p",{className:"text-gray-600",children:t.name||"Untitled"})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Design ID"}),b.jsx("p",{className:"text-gray-600 font-mono text-sm",children:t.id})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Created"}),b.jsx("p",{className:"text-gray-600",children:t.createdAt?new Date(t.createdAt).toLocaleDateString():"Unknown"})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Engagement"}),b.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Total Likes"}),b.jsx("span",{className:"font-medium text-gray-900",children:(n||0).toLocaleString()})]})})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Status"}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${t.archived?"bg-gray-400":"bg-green-400"}`}),b.jsx("span",{className:"text-sm text-gray-600",children:t.archived?"Archived":"Published"})]})]}),b.jsxs("div",{className:"border-t border-gray-100 p-6 md:p-8 bg-white space-y-3",children:[b.jsx("button",{onClick:S,disabled:m,className:`w-full py-3 px-4 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 text-sm font-medium rounded-lg ${t.archived?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:m?b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx(Fs,{size:16,className:"animate-spin mr-2"}),t.archived?"Unarchiving...":"Archiving..."]}):b.jsx("span",{className:"flex items-center justify-center",children:t.archived?b.jsxs(b.Fragment,{children:[b.jsx(yI,{size:16,className:"mr-2"}),"Unarchive"]}):b.jsxs(b.Fragment,{children:[b.jsx(Qb,{size:16,className:"mr-2"}),"Archive"]})})}),b.jsx("button",{onClick:E,disabled:d,className:"w-full bg-gray-900 text-white py-3 px-4 hover:bg-black disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 text-sm font-medium rounded-lg",children:d?b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx(Fs,{size:16,className:"animate-spin mr-2"}),"Deleting..."]}):b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx(zI,{size:16,className:"mr-2"}),"Delete"]})})]})]})]})})]})})]})},C5=()=>{const[t,e]=T.useState([]),[n,s]=T.useState({}),[a,l]=T.useState({}),[u,d]=T.useState(!0),[f,m]=T.useState(null),[g,y]=T.useState(!1),[v,E]=T.useState(!1),S=async()=>{try{const k=zo(au,"designs");$x(k,async U=>{const $=U.val()||{},Z=Object.values($),Y={};await Promise.all(Z.map(async q=>{if(q.fileName)try{const Q=xu($m,`Designs/${q.fileName}`),Ue=await Bw(Q);Y[q.id]=Ue}catch(Q){console.log(`Error getting URL for ${q.fileName}:`,Q)}})),e(Z),s(Y),d(!1)});const H=zo(au,"likes");$x(H,U=>{const $=U.val()||{};l($)})}catch(k){console.error("Error fetching designs:",k),d(!1)}};T.useEffect(()=>{S()},[]);const C=(k,H="success")=>{m({message:k,type:H}),setTimeout(()=>m(null),4e3)},R=()=>{C("Design uploaded successfully")},N=async k=>{try{const H=xu($m,`Designs/${k}.jpg`);await zP(H);const U=zo(au,`likes/${k}`);await HU(U),s($=>{const Z={...$};return delete Z[k],Z}),l($=>{const Z={...$};return delete Z[k],Z}),C(`Design ${k} deleted successfully`)}catch(H){throw console.error("Error deleting design:",H),C(`Failed to delete design ${k}`,"error"),H}};Object.values(a).reduce((k,H)=>k+H,0);const L=Object.keys(n).length;return u?b.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx(Fs,{className:"h-6 w-6 animate-spin mx-auto mb-4 text-gray-400"}),b.jsx("p",{className:"text-gray-500 text-sm",children:"Loading designs..."})]})}):b.jsxs("div",{className:"min-h-screen bg-gray-50 mt-[73px]",children:[f&&b.jsx("div",{className:"fixed top-6 right-6 z-50",children:b.jsx("div",{className:`p-4 border shadow-lg text-sm font-medium ${f.type==="error"?"bg-red-50 border-red-100 text-red-700":"bg-green-50 border-green-100 text-green-700"}`,children:f.message})}),b.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:L===0?b.jsxs("div",{className:"text-center py-16",children:[b.jsx(pu,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),b.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"NO DESIGNS YET"}),b.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by uploading your first design"})]}):b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6",children:[t.map(k=>b.jsx(T5,{design:k,imageURL:n[k.id],likesCount:a[k.id],onDelete:N},k.id)),b.jsxs("div",{onClick:()=>y(!0),className:"flex items-center justify-center border-2 border-dashed border-gray-300 rounded-md cursor-pointer hover:border-gray-600",children:[b.jsx(ow,{size:16,className:"mr-2"}),"Upload Design"]})]})}),b.jsx(w5,{onUploadSuccess:R,showModal:g,setShowModal:y})]})};function A5(){return b.jsx(S5,{children:b.jsx(C5,{})})}const R5=()=>{const[t,e]=T.useState(new Set),n=Bn(),s=(l,u,d="")=>{const f="27661043677",m=`Hey Daniela!

I'm interested in booking the ${l} service for ${u}${d?` ${d}`:""}

Could we please schedule an appointment? Let me know your available times.

Thank you!`,g=encodeURIComponent(m);return`https://wa.me/${f}?text=${g}`};T.useEffect(()=>{const l=new IntersectionObserver(d=>{d.forEach(f=>{if(f.isIntersecting){const m=f.target.getAttribute("data-item-id");m&&e(g=>new Set([...g,m]))}})},{threshold:.2,rootMargin:"50px"}),u=setTimeout(()=>{document.querySelectorAll("[data-item-id]").forEach(f=>l.observe(f))},100);return()=>{clearTimeout(u),l.disconnect()}},[]),T.useEffect(()=>{const u=new URLSearchParams(n.search).get("category");if(u!==null){const d=parseInt(u),f=()=>{const m=document.getElementById(`category-${d}`);return m?(m.style.opacity="1",m.style.transform="translateX(0)",m.scrollIntoView({behavior:"smooth",block:"center"}),!0):!1};setTimeout(()=>f(),100),setTimeout(()=>f(),300)}},[n]);const a=[{categoryName:"Gel & Acrylic Overlays",services:[{price:"R160",name:"Gel Overlay",description:"Professional gel overlay on your natural nails for strength and durability. Includes base coat, gel application, cuticle care, shaping, and high-gloss top coat finish."},{price:"R180",name:"Acrylic Overlay",description:"Strong acrylic overlay system providing excellent durability and smooth finish. Includes nail preparation, acrylic application, shaping, buffing, and cuticle care."}]},{categoryName:"Extensions & Sculptures",services:[{price:"R210",name:"Gel Extensions - Short",description:"Professional gel extensions for added length and strength. Perfect for everyday wear with a natural look. Includes nail preparation, extension application, shaping, and finishing."},{price:"R230",name:"Gel Extensions - Medium",description:"Medium length extensions providing the perfect balance between practicality and elegance."},{price:"R250",name:"Gel Extensions - Long",description:"Dramatic long extensions for those who want to make a statement with their nails."},{price:"R230",name:"Acrylic Sculptures - Short",description:"Hand-sculpted acrylic nails with superior strength and durability in a short, practical length."},{price:"R250",name:"Acrylic Sculptures - Medium",description:"Medium length acrylic sculptures offering the perfect combination of style and functionality."},{price:"R270",name:"Acrylic Sculptures - Long",description:"Long acrylic sculptures for maximum impact and glamour. Perfect for special occasions or everyday elegance."}]},{categoryName:"Maintenance & Repairs",services:[{price:"R120",name:"Gel Fill",description:"Maintain your gel nails with professional fill service. Keeps your nails looking fresh and extends their lifespan. Includes growth area fill, reshaping, and cuticle care."},{price:"R120",name:"Acrylic Fill",description:"Professional acrylic fill service to maintain the strength and appearance of your acrylic nails."},{price:"R20",name:"Broken Nail Repair",description:"Quick and effective repair for broken or damaged nails. Restore your nail to its original beauty."},{price:"R50",name:"Soak Off Service",description:"Safe and gentle removal of gel or acrylic nails without damage to your natural nails. Includes professional removal process and nail conditioning treatment."}]},{categoryName:"Add-Ons",services:[{price:"R5",priceNote:"per nail",name:"Nail Art",description:"Custom nail art designs to express your personal style. From simple accents to intricate patterns. Can be added to any nail service for personalized flair.",note:"*Our most popular add-on"}]}];return b.jsxs("div",{className:"min-h-screen bg-white",children:[b.jsx("div",{className:"text-center py-32 mt-20 transition-all duration-1000 opacity-100 translate-y-0",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-light text-stone-900 mb-8",children:"Nail Services"}),b.jsx("p",{className:"text-stone-600 font-light leading-relaxed font-sans",children:"Professional nail preparation, cuticle care, shaping, filing, buffing, and application with premium products. Each service includes meticulous attention to detail and personalized care for optimal results."}),b.jsx("p",{className:"text-stone-600 font-light text-sm mt-4 italic",children:"[ Additional services and nail art available upon request. ]"})]})}),b.jsxs("div",{className:"max-w-6xl mx-auto px-6 pb-24",children:[a.map((l,u)=>b.jsx("div",{className:"mb-20",children:b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start",children:[b.jsx("div",{id:`category-${u}`,"data-item-id":`category-${u}`,className:`category-${u} transition-all duration-600 ease-out ${t.has(`category-${u}`)?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}`,children:b.jsx("h2",{className:"text-4xl font-light text-stone-900",children:l.categoryName})}),b.jsx("div",{className:"space-y-8",children:l.services.map((d,f)=>{const m=`service-${u}-${f}`;return b.jsxs("a",{"data-item-id":m,href:s(d.name,d.price,d.priceNote),target:"_blank",rel:"noopener noreferrer",className:`block p-6 border border-transparent hover:border-stone-300 transition-all duration-300 ease-out cursor-pointer ${t.has(m)?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,style:{transitionDelay:t.has(m)?"0ms":`${f*100}ms`},children:[b.jsxs("div",{className:"mb-2",children:[b.jsx("span",{className:"text-sm text-stone-600 font-montserrat",children:d.price}),d.priceNote&&b.jsx("span",{className:"text-sm text-stone-600 ml-2",children:d.priceNote})]}),b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("h3",{className:"text-lg text-stone-900 uppercase tracking-wide",children:d.name}),b.jsx(aw,{size:18,className:"text-stone-400"})]}),b.jsx("p",{className:"text-stone-600 font-light leading-relaxed mb-4 font-montserrat text-sm",children:d.description}),d.note&&b.jsx("p",{className:"text-stone-600 font-light text-sm italic",children:d.note})]},f)})})]})},u)),b.jsx("div",{"data-item-id":"contact-section",className:`border-t border-stone-200 pt-12 transition-all duration-700 ease-out ${t.has("contact-section")?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"text-2xl font-light text-stone-900 mb-4",children:"Have Questions About Our Services?"}),b.jsx("p",{className:"text-stone-600 font-light mb-8",children:"Contact me for consultations, custom requests, or any questions about treatments."}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[b.jsx("a",{href:s("General Consultation","Free",""),target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-stone-900 text-white px-8 py-3 hover:bg-stone-800 transition-colors duration-300 font-light w-full sm:w-auto text-center",children:"Chat on WhatsApp"}),b.jsx("a",{href:"tel:0661043677",className:"inline-block bg-stone-100 text-stone-900 px-8 py-3 hover:bg-stone-200 transition-colors duration-300 font-light w-full sm:w-auto text-center",children:"Call +27 66 104 3677"})]}),b.jsx("p",{className:"text-stone-500 text-sm",children:"Professional nail services  Expert care  Premium products"})]})]})})]})]})};function N5(){const t=Bn();return T.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]),b.jsxs(b.Fragment,{children:[b.jsx($I,{}),b.jsxs(lN,{children:[b.jsx(zr,{path:"/",element:b.jsx(KI,{})}),b.jsx(zr,{path:"/designs",element:b.jsx(nj,{})}),b.jsx(zr,{path:"/faq",element:b.jsx(ij,{})}),b.jsx(zr,{path:"/admin",element:b.jsx(A5,{})}),b.jsx(zr,{path:"/services",element:b.jsx(R5,{})})]})]})}vR.createRoot(document.getElementById("root")).render(b.jsx(T.StrictMode,{children:b.jsx(kN,{children:b.jsx(N5,{})})}));
